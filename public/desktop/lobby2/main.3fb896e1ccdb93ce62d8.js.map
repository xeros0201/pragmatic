{"version":3,"file":"main.3fb896e1ccdb93ce62d8.js","mappings":"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L,EAAAA,EAAkBwd,QAIjCnnE,EAAgC,CAC3C,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,QACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,UACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,UACA,UACA,MACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,KACA,KACA,QACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,WACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,UACA,UACA,K,2ECnJK,MAAMonE,EAAqCvyE,IAA6C,IAA5C,KAAEwyE,EAAI,YAAEC,EAAW,KAAEC,EAAI,WAAEC,GAAY3yE,EACxF,GAAKwyE,EAIL,OACE7wD,EAAAA,EAAAA,GAAA,OAAK1tC,UChB2B,QDgBSzD,UACvCmxC,EAAAA,EAAAA,GAAA,MAAI1tC,UCjB+C,QDiBlBzD,SAC9BqD,MAAM+pB,KAAK,CAAE3yB,OAAQ0nG,IAAc,CAACvmG,EAAG2B,IAAMA,IAAGmB,KAAKy3D,IAElDhlB,EAAAA,EAAAA,GAAA,MAAAnxC,UACEmxC,EAAAA,EAAAA,GAAA,UACE/yC,KAAK,SACLqF,UACEgoC,UAEC0qB,IAAO8rC,EC1B8G,QD0BpE,IAClD,KACC9rC,EAAK,IAAM8rC,GAAe9rC,EAAK,IAAM8rC,EC5B4G,QD4BnE,IAEjFhP,UAAW,EACXrkC,QAASA,IAAMs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","sources":["webpack://@pp/lobby/webpack/runtime/create fake namespace object","webpack://@pp/lobby/webpack/runtime/load script","webpack://@pp/lobby/../node_modules/preact/hooks/dist/hooks.module.js","webpack://@pp/lobby/../node_modules/preact/compat/dist/compat.module.js","webpack://@pp/lobby/../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","webpack://@pp/lobby/../node_modules/@reduxjs/toolkit/node_modules/immer/dist/immer.mjs","webpack://@pp/lobby/../node_modules/redux/dist/redux.mjs","webpack://@pp/lobby/../node_modules/@reduxjs/toolkit/node_modules/redux-thunk/dist/redux-thunk.mjs","webpack://@pp/lobby/../node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs","webpack://@pp/lobby/../libraries/core/src/store/middleware/betToastMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/chipSelectionMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/chipsMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/utils/getCurrencyInfo.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/localisationMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/playerConfigMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/settingSyncMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/subtitlesSyncMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/visibilityMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/bets/middleware.ts","webpack://@pp/lobby/../libraries/core/src/store/CoreStore.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/config/selectors.ts","webpack://@pp/lobby/../libraries/core/src/styles/hooks/useModifiers.ts","webpack://@pp/lobby/../libraries/core/src/api/Fetcher.ts","webpack://@pp/lobby/../libraries/core/src/formatters/StringFormatter.ts","webpack://@pp/lobby/../libraries/core/src/components/text/PluralRuleSelector.ts","webpack://@pp/lobby/../libraries/core/src/components/text/L12nText.tsx","webpack://@pp/lobby/../libraries/core/src/logger/Logger.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/settings/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/game/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchPlayerConfigAction.ts","webpack://@pp/lobby/../libraries/core/src/controllers/audioController/hooks.ts","webpack://@pp/lobby/../libraries/core/src/components/icons/iconNames.ts","webpack://@pp/lobby/../libraries/core/src/components/icons/icon.tsx","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchUserInfoAction.ts","webpack://@pp/lobby/../libraries/core/src/utils/chat.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchCasinoConfigAction.ts","webpack://@pp/lobby/../libraries/core/src/logger/BitMask.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/header/selectors.ts","webpack://@pp/lobby/../libraries/core/src/api/errors/NetworkError.ts","webpack://@pp/lobby/../libraries/core/src/api/errors/types.ts","webpack://@pp/lobby/../libraries/core/src/api/errors/UnauthorizedError.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchTableConfigAction.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/translations/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/useTranslation.tsx","webpack://@pp/lobby/../libraries/core/src/formatters/CurrencyFormatter.ts","webpack://@pp/lobby/../libraries/core/src/api/converters/snakeToCamel.ts","webpack://@pp/lobby/../libraries/core/src/config/UserSession.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chat/slice.ts","webpack://@pp/lobby/../libraries/core/src/utils/number.ts","webpack://@pp/lobby/../libraries/core/src/components/controls/button/Button.module.css?7e82","webpack://@pp/lobby/../libraries/core/src/components/controls/button/Button.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/header/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/history/hooks/useHistoryContext.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/settings/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/controls/iconButton/IconButton.module.css?6d4f","webpack://@pp/lobby/../libraries/core/src/components/controls/iconButton/IconButton.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/bets/selectors.ts","webpack://@pp/lobby/../libraries/core/src/styles/hooks/media.ts","webpack://@pp/lobby/../libraries/core/src/components/loader/loader.module.css?f0f7","webpack://@pp/lobby/../libraries/core/src/components/loader/Loader.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/game/types.ts","webpack://@pp/lobby/../libraries/core/src/storage/session/SessionStorage.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chat/selectors.ts","webpack://@pp/lobby/../libraries/core/src/components/errorBoundary/ErrorBoundary.tsx","webpack://@pp/lobby/../libraries/core/src/utils/bets.ts","webpack://@pp/lobby/../libraries/core/src/api/errors/ForbiddenError.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/subtitles/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/icons/IconSvg.tsx","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchPlayerConfigSyncAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchAssignedTablesAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchEnvAction.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chat/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/subtitles/types.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchVersionsAction.ts","webpack://@pp/lobby/../node_modules/@reduxjs/toolkit/node_modules/reselect/dist/reselect.mjs","webpack://@pp/lobby/../libraries/core/src/store/slices/popup/slice.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/game/slice.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/types/promotions.ts","webpack://@pp/lobby/../libraries/core/src/config/GameConfigProvider.tsx","webpack://@pp/lobby/../libraries/core/src/hooks/useMedia.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/config/slice.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/initialization/slice.ts","webpack://@pp/lobby/../libraries/core/src/utils/language.ts","webpack://@pp/lobby/../libraries/core/src/storage/session/CoreSessionStorage.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/promotions/slice.ts","webpack://@pp/lobby/../libraries/core/src/store/compositeSelectors/useHideCurrency.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/help/selectors.ts","webpack://@pp/lobby/../libraries/core/src/controllers/chatCommunication/ChatCommunicationControllerConnector.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/nickname/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/game/card/types.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchLiveSupportMessagesAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchRtpAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchStatsConfigAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchStatsSettingsAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchTableLevelMessagesAction.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/settings/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/autoplay/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/help/slice.ts","webpack://@pp/lobby/../node_modules/react-redux/dist/react-redux.mjs","webpack://@pp/lobby/../libraries/core/src/components/popup/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/bets/slice.ts","webpack://@pp/lobby/../libraries/core/src/controllers/crossOriginCommunication/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/header/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/toast/slice.ts","webpack://@pp/lobby/../libraries/core/src/controllers/crossOriginCommunication/CrossOriginCommunicationController.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/autoplay/slice.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/types/campaign.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chips/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/currency/Currency.tsx","webpack://@pp/lobby/../libraries/core/src/utils/formatters.ts","webpack://@pp/lobby/../libraries/core/src/components/overscrollable/overscrollable.module.css?2159","webpack://@pp/lobby/../libraries/core/src/components/overscrollable/index.tsx","webpack://@pp/lobby/../libraries/core/src/utils/getStaticBaseUrl.ts","webpack://@pp/lobby/../libraries/core/src/components/curtain/Curtain.ts","webpack://@pp/lobby/../libraries/core/src/config/CoreConstants.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/subtitles/selectors.ts","webpack://@pp/lobby/../libraries/core/src/utils/env.ts","webpack://@pp/lobby/../libraries/core/src/components/subtitles/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/nickname/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chips/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/promotionsV2/utils.ts","webpack://@pp/lobby/../libraries/core/src/components/inputs/baseInput/BaseInput.module.css?3b83","webpack://@pp/lobby/../libraries/core/src/components/inputs/baseInput/BaseInput.tsx","webpack://@pp/lobby/../libraries/core/src/utils/buildHash.ts","webpack://@pp/lobby/../libraries/core/src/utils/translations.ts","webpack://@pp/lobby/../libraries/core/src/utils/BeforeUnloadManager.ts","webpack://@pp/lobby/../libraries/core/src/manifest/index.ts","webpack://@pp/lobby/../libraries/core/src/api/resolveEndpoint.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchHelpAction.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/performance/slice.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotions/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/utils/chips.ts","webpack://@pp/lobby/../libraries/core/src/components/featureConfig/FeatureConfigFlags.tsx","webpack://@pp/lobby/../libraries/core/src/components/help/utils/HelpText.tsx","webpack://@pp/lobby/../libraries/core/src/components/promotionsV2/helper/utils.ts","webpack://@pp/lobby/../node_modules/preact/dist/preact.module.js","webpack://@pp/lobby/../libraries/core/src/components/tooltip/Tooltip.module.css?5daa","webpack://@pp/lobby/../libraries/core/src/components/tooltip/Tooltip.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/card/cardMiniType/CardMiniType.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/card/cardMiniType/CardMiniType.module.css?2fd8","webpack://@pp/lobby/../libraries/core/src/components/game/card/cardType/CardType.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/card/cardType/CardType.module.css?12ab","webpack://@pp/lobby/../libraries/core/src/components/game/card/Card.module.css?5038","webpack://@pp/lobby/../libraries/core/src/components/game/card/Card.tsx","webpack://@pp/lobby/../libraries/core/src/store/slices/promotionsV2/slice.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/autoplay/selectors.ts","webpack://@pp/lobby/../libraries/core/src/components/game/card/utils.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/chips/selectors.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/deviceInfoTypes.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/deviceInfo.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/utils/getPlatform.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/utils/generateCustomFlags.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/utils/getDevice.ts","webpack://@pp/lobby/../libraries/core/src/deviceInfo/utils/getBrowser.ts","webpack://@pp/lobby/../libraries/core/src/hooks/useCashierCallbackConnected.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/bonusPromotions/types/constants.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/initialization/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/promotions/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/popup/selectors.ts","webpack://@pp/lobby/../libraries/core/src/utils/browsers.ts","webpack://@pp/lobby/../libraries/core/src/store/compositeSelectors/useSessionBalanceConfig.ts","webpack://@pp/lobby/../libraries/core/src/components/context/index.ts","webpack://@pp/lobby/../libraries/core/src/store/compositeSelectors/helpers/computeBalance.ts","webpack://@pp/lobby/../libraries/core/src/store/compositeSelectors/useCompositeBalance.ts","webpack://@pp/lobby/../libraries/core/src/logger/constants.ts","webpack://@pp/lobby/../libraries/core/src/components/featureConfig/helper/getFeatureURL.ts","webpack://@pp/lobby/../libraries/core/src/components/featureConfig/types.ts","webpack://@pp/lobby/../libraries/core/src/components/featureConfig/FeatureConfigProvider.tsx","webpack://@pp/lobby/../libraries/core/src/components/icons/iconRoot.tsx","webpack://@pp/lobby/../libraries/core/src/components/subtitles/constants.ts","webpack://@pp/lobby/../libraries/core/src/components/swiper/dots/Dots.tsx","webpack://@pp/lobby/../libraries/core/src/components/swiper/dots/Dots.module.css?8322","webpack://@pp/lobby/../libraries/core/src/components/swiper/Swiper.module.css?9cff","webpack://@pp/lobby/../libraries/core/src/components/swiper/Swiper.tsx","webpack://@pp/lobby/../libraries/core/src/logger/CoreDebugConsole.ts","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/usePromotionFetcher.ts","webpack://@pp/lobby/../libraries/core/src/utils/Version.ts","webpack://@pp/lobby/../libraries/core/src/storage/local/LocalStorage.ts","webpack://@pp/lobby/../libraries/core/src/api/converters/parseXml.ts","webpack://@pp/lobby/../libraries/core/src/controllers/audioController/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/promotionsV2/types.ts","webpack://@pp/lobby/../libraries/core/src/components/controls/rangeInput/RangeInput.module.css?44bb","webpack://@pp/lobby/../libraries/core/src/components/controls/rangeInput/RangeInput.tsx","webpack://@pp/lobby/../libraries/core/src/hooks/useCurrencyFormatterConnected.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/drawPoker/utils.ts","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/useCasinoConfigFetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/useEnvFetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/usePlayerConfigFetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/useUserInfoFetcher.ts","webpack://@pp/lobby/../libraries/core/src/components/tabs/Tabs.module.css?6aac","webpack://@pp/lobby/../libraries/core/src/components/tabs/Tabs.tsx","webpack://@pp/lobby/../libraries/core/src/logger/config.ts","webpack://@pp/lobby/../libraries/core/src/api/errors/ParsingError.ts","webpack://@pp/lobby/../libraries/core/src/logger/CoreTelemetryController.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/userInfo/endpoints.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/userInfo/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/userInfo/types.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/tableConfig/utils.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/tableConfig/parser.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/tableConfig/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/controllers/betOverrider/BetOverrider.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/crossOriginCommunicationMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/controllers/crossOriginCommunication/utils.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/casinoConfig/utils.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/casinoConfig/parsers.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/casinoConfig/endpoints.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/casinoConfig/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/casinoConfig/types.ts","webpack://@pp/lobby/../libraries/core/src/store/middleware/fetchErrorMiddleware.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/assignedTables/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/env/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/liveSupportMessages/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/playerConfig/parsers.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/playerConfig/endpoints.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/playerConfig/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/playerConfig/types.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/playerConfigSync/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/rtp/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/stats/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/settings/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/tableLevelMessages/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/versions/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/config/types.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/help/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/minilobby/slice.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchNickNameAction.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchPromotionAction.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/promotions/types.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/types/promotionsApi.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotions/types.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/tableConfig/types.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/popup/types.ts","webpack://@pp/lobby/../libraries/core/src/components/chat/hooks/useTranslateMessageContent.tsx","webpack://@pp/lobby/../libraries/core/src/controllers/chatCommunication/chatCommunicationController.ts","webpack://@pp/lobby/../libraries/core/src/controllers/restartController/restartController.ts","webpack://@pp/lobby/../libraries/core/src/components/chat/chat/messages/messageBubble/MessageBubble.module.css?6649","webpack://@pp/lobby/../libraries/core/src/components/chat/chat/messages/messageBubble/MessageBubble.tsx","webpack://@pp/lobby/../libraries/core/src/components/help/helpContext/mapStateToHelpContextProps.ts","webpack://@pp/lobby/../libraries/core/src/components/help/helpContext/HelpContextProviderConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/help/helpContext/HelpContext.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/components/blackjack/BlackJackResultMessage.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/boomorbust/components/BobLevel/BobLevel.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/boomorbust/components/BG3BetInfo/BG3BetInfo.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/moneytime/types.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/moneytime/MoneyTimeTableResult.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/snakesandladders2/types.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/snakesandladders2/components/BonusBetInfo.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/snakesandladders2/SnakesAndLadders2TableResult.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/context/HistoryContext.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/hooks/useHistoryHideCurrency.ts","webpack://@pp/lobby/../libraries/core/src/components/settings/nickName/NickNameEdit.module.css?1a5e","webpack://@pp/lobby/../libraries/core/src/components/settings/nickName/NickNameEditFormConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/formGrid/FormGrid.module.css?8708","webpack://@pp/lobby/../libraries/core/src/components/formGrid/FormGrid.tsx","webpack://@pp/lobby/../libraries/core/src/components/settings/nickName/NickNameFooterMessageConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/settings/nickName/NickNameFooterMessage.module.css?84a8","webpack://@pp/lobby/../libraries/core/src/components/icons/icon.module.css?e179","webpack://@pp/lobby/../libraries/core/src/components/currency/CurrencyConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/components/historyCurrency/HistoryCurrency.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/components/historyCurrency/historyCurrency.module.css?64f6","webpack://@pp/lobby/../libraries/core/src/store/slices/promotionsV2/selectors.ts","webpack://@pp/lobby/../libraries/core/src/store/slices/bonusPromotions/slice.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/moneytime/config/Bets.ts","webpack://@pp/lobby/../libraries/core/src/components/nav/navPages/NavPagesConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/promotionsV2/types.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/moneytime/components/multiplier/Multiplier.module.css?5b18","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/moneytime/components/multiplier/Multiplier.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/treasureIsland/types.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/snakesandladders2/iconsMap.ts","webpack://@pp/lobby/../libraries/core/src/components/promotionsV2/helper/hooks/usePromoTrophyConnected.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/treasureIsland2/constants.ts","webpack://@pp/lobby/../libraries/core/src/components/subtitles/hooks/useSubtitlesViewport.ts","webpack://@pp/lobby/../libraries/core/src/utils/uuid.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/bonusPromotions/parsers.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/bonusPromotions/fetchers.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchBonusPromotionAction.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/constants.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/helper.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/parsers.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/promotionsV2/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchPromotionsActionV2.ts","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/megasicbac/MegaSicBacHistoryResult.module.css?2950","webpack://@pp/lobby/../libraries/core/src/components/history/single/gameInfo/results/megasicbac/MegaSicBacHistoryResult.tsx","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/drawPoker/DPCardResults.module.css?03e5","webpack://@pp/lobby/../libraries/core/src/components/history/single/betInfo/results/drawPoker/DPCardResults.tsx","webpack://@pp/lobby/../libraries/core/src/store/apiHooks/useAssignedTablesFetcher.ts","webpack://@pp/lobby/../libraries/core/src/components/subtitles/Subtitles.module.css?9132","webpack://@pp/lobby/../node_modules/use-sync-external-store/with-selector.js","webpack://@pp/lobby/../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.production.min.js","webpack://@pp/lobby/../libraries/core/src/logger/GtagLogger.ts","webpack://@pp/lobby/../libraries/core/src/store/apiActions/fetchHistoryAction.ts","webpack://@pp/lobby/../libraries/core/src/api/fetchers/nickName/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/utils/debounce.ts","webpack://@pp/lobby/../libraries/core/src/utils/throttle.ts","webpack://@pp/lobby/webpack/bootstrap","webpack://@pp/lobby/webpack/runtime/amd options","webpack://@pp/lobby/webpack/runtime/define property getters","webpack://@pp/lobby/webpack/runtime/ensure chunk","webpack://@pp/lobby/webpack/runtime/get javascript chunk filename","webpack://@pp/lobby/webpack/runtime/get mini-css chunk filename","webpack://@pp/lobby/webpack/runtime/global","webpack://@pp/lobby/webpack/runtime/hasOwnProperty shorthand","webpack://@pp/lobby/webpack/runtime/make namespace object","webpack://@pp/lobby/webpack/runtime/publicPath","webpack://@pp/lobby/webpack/runtime/css loading","webpack://@pp/lobby/webpack/runtime/jsonp chunk loading","webpack://@pp/lobby/../node_modules/preact/compat/client.mjs","webpack://@pp/lobby/../node_modules/@remix-run/router/dist/router.js","webpack://@pp/lobby/../node_modules/react-router/dist/index.js","webpack://@pp/lobby/../node_modules/react-router-dom/dist/index.js","webpack://@pp/lobby/../libraries/core/src/components/popup/content/popupContent.module.css?aa17","webpack://@pp/lobby/../libraries/core/src/components/popup/content/BlockingModalContent.tsx","webpack://@pp/lobby/../libraries/core/src/components/errorBoundary/FinalErrorBoundary.tsx","webpack://@pp/lobby/../libraries/core/src/utils/window.ts","webpack://@pp/lobby/../libraries/core/src/components/popup/content/GenericErrorContentConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/errorBoundary/LayoutErrorBoundaryConnected.tsx","webpack://@pp/lobby/../libraries/core/src/utils/polyfills/audioContext.ts","webpack://@pp/lobby/../libraries/core/src/controllers/audioController/AudioControllerConnected.ts","webpack://@pp/lobby/../libraries/core/src/sounds/index.ts","webpack://@pp/lobby/../libraries/core/src/components/tooltip/withTooltip.tsx","webpack://@pp/lobby/../libraries/core/src/components/controls/iconButton/IconButtonWithTooltip.tsx","webpack://@pp/lobby/../libraries/core/src/components/controls/badge/Badge.module.css?3ba9","webpack://@pp/lobby/../libraries/core/src/components/controls/badge/Badge.tsx","webpack://@pp/lobby/../libraries/core/src/components/currency/index.ts","webpack://@pp/lobby/../libraries/core/src/controllers/gameCommunication/senders/GameCommunicationBaseSender.ts","webpack://@pp/lobby/../libraries/core/src/controllers/gameCommunication/senders/GameCommunicationBetSender.ts","webpack://@pp/lobby/../libraries/core/src/components/dragAndDrop/useDragAndDropInit.ts","webpack://@pp/lobby/../libraries/core/src/components/dragAndDrop/useDragAndDropTargetConnected.ts","webpack://@pp/lobby/../libraries/core/src/formatters/ChipValueFormatter/ChipValueFormatter.ts","webpack://@pp/lobby/../libraries/core/src/components/game/chip/variants/lib.ts","webpack://@pp/lobby/../libraries/core/src/components/game/chip/variants/3d/ChipDepth.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/chip/variants/3d/Chip3d.tsx","webpack://@pp/lobby/../libraries/core/src/components/drawer/DrawerRoot.module.css?c7ba","webpack://@pp/lobby/../libraries/core/src/components/drawer/DrawerRoot.tsx","webpack://@pp/lobby/../libraries/core/src/components/legacyMode/LegacyContextProvider.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/borderGradient/BorderGradient.module.css?1816","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/borderGradient/BorderGradient.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/borderGradient/utils.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/oldVersion/gameButton.module.css?e222","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/oldVersion/gameButton.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/gameButton.module.css?0760","webpack://@pp/lobby/../libraries/core/src/components/game/gameButton/gameButton.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameRangeInput/gameRangeInput.module.css?de81","webpack://@pp/lobby/../libraries/core/src/components/game/gameRangeInput/index.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/autoPlay/AutoplayLimitsConnected.module.css?8167","webpack://@pp/lobby/../libraries/core/src/components/game/autoPlay/AutoplayLimitsConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/tooltip/TooltipRoot.tsx","webpack://@pp/lobby/../libraries/core/src/components/tooltip/TooltipRoot.module.css?d4ea","webpack://@pp/lobby/../libraries/core/src/components/game/gameControls/undoControl/UndoControlConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameControls/reBetControl/ReBetControlConnected.tsx","webpack://@pp/lobby/../libraries/core/src/logger/BetStatusWatcher.ts","webpack://@pp/lobby/../libraries/core/src/controllers/gameCommunication/processors/CoreBetValidationErrorGameCommunicationProcessor.ts","webpack://@pp/lobby/../libraries/core/src/components/game/gameControls/autoplayControl/utils/validateAndSaveBets.ts","webpack://@pp/lobby/../libraries/core/src/components/game/trafficLight/TrafficLight.module.css?0da7","webpack://@pp/lobby/../libraries/core/src/components/game/trafficLight/TrafficLight.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/trafficLight/types.tsx","webpack://@pp/lobby/../libraries/core/src/messages/index.ts","webpack://@pp/lobby/../libraries/core/src/messages/types.ts","webpack://@pp/lobby/../libraries/core/src/messages/messages/updateBalance/updateBalanceMessage.ts","webpack://@pp/lobby/../libraries/core/src/messages/CoreLobbyMessageControllerV2.ts","webpack://@pp/lobby/../libraries/core/src/components/icons/animated/animatedIconRoot.tsx","webpack://@pp/lobby/../libraries/core/src/components/icons/animated/animatedIconRoot.module.css?993f","webpack://@pp/lobby/../libraries/core/src/components/icons/animated/playingNow/PlayingNowIcon.module.css?f119","webpack://@pp/lobby/../libraries/core/src/components/icons/animated/playingNow/PlayingNowIcon.tsx","webpack://@pp/lobby/../libraries/core/src/utils/webgl.ts","webpack://@pp/lobby/../libraries/core/src/components/backToGame/BackToGame.module.css?92bf","webpack://@pp/lobby/../libraries/core/src/components/backToGame/BackToGame.tsx","webpack://@pp/lobby/../libraries/core/src/components/backToGame/mirrorVideo.ts","webpack://@pp/lobby/../libraries/core/src/components/stream/ambientLight/initVBO.ts","webpack://@pp/lobby/../libraries/core/src/components/backToGame/BackToGameHolder.tsx","webpack://@pp/lobby/../libraries/core/src/components/backToGame/BackToGameHolder.module.css?1732","webpack://@pp/lobby/../libraries/core/src/components/hideDialogs/HideDialogsConnected.tsx","webpack://@pp/lobby/../libraries/core/src/messages/CoreLobbyMessageController.ts","webpack://@pp/lobby/../libraries/core/src/components/history/HistoryModalConnected.tsx","webpack://@pp/lobby/../libraries/core/src/hooks/useRdirectToLobbyCallbackConnected.ts","webpack://@pp/lobby/../libraries/core/src/hooks/useLobbyURLConnected.ts","webpack://@pp/lobby/../libraries/core/src/hooks/helpers/getLobbyUrl.ts","webpack://@pp/lobby/../libraries/core/src/components/popup/Popup.module.css?334d","webpack://@pp/lobby/../libraries/core/src/components/popup/Popup.new.module.css?4c6d","webpack://@pp/lobby/../libraries/core/src/components/popup/Popup.tsx","webpack://@pp/lobby/../libraries/core/src/components/nav/navControls/fullScreenControl/FullScreenControlConnected.tsx","webpack://@pp/lobby/../libraries/core/src/utils/url.ts","webpack://@pp/lobby/../libraries/core/src/utils/redirect.ts","webpack://@pp/lobby/../libraries/core/src/lazyLibraries/LottieController.ts","webpack://@pp/lobby/../libraries/core/src/config/CoreResources.ts","webpack://@pp/lobby/../libraries/core/src/logger/RoundIntegrityWatcher.ts","webpack://@pp/lobby/../libraries/core/src/controllers/performanceController/PerformanceController.ts","webpack://@pp/lobby/../libraries/core/src/messages/MessageReceiver.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/AutoplayModifiedConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/AutoplayStoppedConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/BetNotAllowedConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/BetNotOnTimeConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/ConnectionLostConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/DontLeaveRoundInProgressConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/ErrorConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/ExitConfirmationConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/GenericErrorNoRefreshConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/InactivityConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/InsufficientFundsConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/LoggedOutConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/NicknameEnterConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/PlayerLimitConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/PrivateTableByInvitationConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/PrivateTableOccupiedConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/Reconnecting.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/ServerMessageConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/descriptionList/DescriptionList.tsx","webpack://@pp/lobby/../libraries/core/src/components/descriptionList/DescriptionList.module.css?7061","webpack://@pp/lobby/../libraries/core/src/components/inputs/currencyInput/index.tsx","webpack://@pp/lobby/../libraries/core/src/components/inputs/currencyInput/currencyInputConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/SessionBalanceConnected.tsx","webpack://@pp/lobby/../libraries/core/src/api/fetchers/sessionBalance/fetcher.ts","webpack://@pp/lobby/../libraries/core/src/components/popup/content/SessionBalanceErrorConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/SessionExpiredConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/TableClosedConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/VideoIsDisabledConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/VideoStreamQualityConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/content/VipTableLowBalanceConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/popup/PopupConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/game/gameControls/autoplayControl/utils/placeAutoplayBet.ts","webpack://@pp/lobby/../libraries/core/src/components/gameRoot/useCurtain.ts","webpack://@pp/lobby/../libraries/core/src/components/gameRoot/GameRoot.tsx","webpack://@pp/lobby/../libraries/core/src/components/help/storybook/HelpFullTemplate.tsx","webpack://@pp/lobby/../libraries/core/src/components/images/LazyLocalizedImageConnected.tsx","webpack://@pp/lobby/../libraries/core/src/components/languageFlag/LanguageFlags.tsx","webpack://@pp/lobby/../libraries/core/src/components/stream/ambientLight/initWebGL.ts","webpack://@pp/lobby/../libraries/core/src/components/stream/useAutomaticallyPosterCreate/ScreenshotCapture.ts","webpack://@pp/lobby/./src/config/LobbyConfiguration.ts","webpack://@pp/lobby/./src/utils/sanitizeGameSymbol.ts","webpack://@pp/lobby/./src/config/slot/types.ts","webpack://@pp/lobby/./src/config/slot/SlotLobbyConfiguration.ts","webpack://@pp/lobby/./src/hooks/useLobbyBreakpoints.tsx","webpack://@pp/lobby/./src/messages/commonMessages.ts","webpack://@pp/lobby/./src/messages/LobbyMessageController.ts","webpack://@pp/lobby/./src/messages/LobbyMessageControllerV2.ts","webpack://@pp/lobby/./src/messages/SlotMessageController.ts","webpack://@pp/lobby/./src/controllers/DGA/NavigationAbortController.ts","webpack://@pp/lobby/./src/store/slices/lobby/slice.ts","webpack://@pp/lobby/./src/api/fetchers/curatedTables.ts","webpack://@pp/lobby/./src/store/apiActions/fetchCuratedTablesAction.ts","webpack://@pp/lobby/./src/utils/getITableFromRawTable.ts","webpack://@pp/lobby/./src/api/fetchers/multiTableTranslationMap.ts","webpack://@pp/lobby/./src/api/fetchers/tables.ts","webpack://@pp/lobby/./src/store/apiActions/fetchTablesAction.ts","webpack://@pp/lobby/./src/constants/navigation.ts","webpack://@pp/lobby/./src/api/fetchers/slots/type.ts","webpack://@pp/lobby/./src/api/fetchers/slots/parser.ts","webpack://@pp/lobby/./src/api/fetchers/slots/games.ts","webpack://@pp/lobby/./src/store/apiActions/slots/fetchSlotGames.ts","webpack://@pp/lobby/./src/constants/filters.ts","webpack://@pp/lobby/./src/constants/promotions.ts","webpack://@pp/lobby/./src/utils/index.ts","webpack://@pp/lobby/./src/utils/filtersFunc.ts","webpack://@pp/lobby/./src/store/apiActions/fetchBonusCampaignAction.ts","webpack://@pp/lobby/./src/api/fetchers/bonusPromo.ts","webpack://@pp/lobby/./src/api/fetchers/promo.ts","webpack://@pp/lobby/./src/store/apiActions/fetchPromotionAction.ts","webpack://@pp/lobby/./src/store/slices/category/slice.ts","webpack://@pp/lobby/./src/store/slices/filters/slice.ts","webpack://@pp/lobby/./src/store/middleware/changeTabMiddleware.ts","webpack://@pp/lobby/./src/utils/remoteAssetsPath.ts","webpack://@pp/lobby/./src/api/fetchers/remoteConfigs.ts","webpack://@pp/lobby/./src/store/apiActions/fetchRemoteConfigsAction.ts","webpack://@pp/lobby/./src/store/slices/forYou/slice.ts","webpack://@pp/lobby/./src/store/middleware/saveFavouriteMiddleware.ts","webpack://@pp/lobby/./src/store/middleware/saveFilterMiddleware.ts","webpack://@pp/lobby/./src/store/LobbyPredicator.ts","webpack://@pp/lobby/./src/store/Predicator.ts","webpack://@pp/lobby/./src/store/apiActions/fetchSlotsAction.ts","webpack://@pp/lobby/./src/api/fetchers/slots.ts","webpack://@pp/lobby/./src/store/slices/lobbyInit/slice.ts","webpack://@pp/lobby/./src/store/middleware/setFiltersMiddleware.ts","webpack://@pp/lobby/../node_modules/fuse.js/dist/fuse.mjs","webpack://@pp/lobby/./src/utils/SearchProcessor.ts","webpack://@pp/lobby/./src/store/slices/dga/slice.ts","webpack://@pp/lobby/./src/store/slices/category/middleware.ts","webpack://@pp/lobby/./src/store/slices/dga/middleware.ts","webpack://@pp/lobby/./src/store/slices/games/slice.ts","webpack://@pp/lobby/./src/store/slices/filters/middleware.ts","webpack://@pp/lobby/./src/store/slices/forYou/middleware.ts","webpack://@pp/lobby/./src/store/slices/games/utils.ts","webpack://@pp/lobby/./src/store/slices/games/gamesMiddleware.ts","webpack://@pp/lobby/./src/components/nav/categories.tsx","webpack://@pp/lobby/./src/utils/isSlotsLobbySupported.ts","webpack://@pp/lobby/./src/api/fetchers/slotsOpenUrl.ts","webpack://@pp/lobby/./src/store/apiActions/fetchSlotsOpenUrlAction.ts","webpack://@pp/lobby/./src/store/slices/nav/slice.ts","webpack://@pp/lobby/./src/api/fetchers/slots/settings.ts","webpack://@pp/lobby/./src/store/apiActions/slots/fetchSlotSettings.ts","webpack://@pp/lobby/./src/store/slices/notifications/slice.ts","webpack://@pp/lobby/./src/store/slices/notifications/middleware.ts","webpack://@pp/lobby/./src/store/slices/notifications/utils.ts","webpack://@pp/lobby/./src/store/slices/promotions/slice.ts","webpack://@pp/lobby/./src/store/slices/slots/middleware.ts","webpack://@pp/lobby/./src/store/apiActions/slots/fetchSlotBaance.ts","webpack://@pp/lobby/./src/api/fetchers/slots/balance.ts","webpack://@pp/lobby/./src/store/apiActions/slots/fetchSlotUserSettings.ts","webpack://@pp/lobby/./src/api/fetchers/slots/userSettings.ts","webpack://@pp/lobby/./src/store/slices/slots/types.ts","webpack://@pp/lobby/./src/store/slices/slots/slice.ts","webpack://@pp/lobby/./src/store/slices/tables/slice.ts","webpack://@pp/lobby/./src/store/slices/vendorConfig/slice.ts","webpack://@pp/lobby/./src/store/LobbyStore.tsx","webpack://@pp/lobby/./src/store/slices/lobby/selectors.ts","webpack://@pp/lobby/./src/hooks/useIsCurrentGame.ts","webpack://@pp/lobby/./src/messages/LobbyMessageCommonController.ts","webpack://@pp/lobby/./src/store/customCoreSelectors.ts","webpack://@pp/lobby/./src/store/slices/nav/selectors.ts","webpack://@pp/lobby/./src/store/compositeSelectors/useActiveGameId.ts","webpack://@pp/lobby/./src/store/slices/tables/selectors.ts","webpack://@pp/lobby/./src/redirection/navigationLogger.ts","webpack://@pp/lobby/./src/redirection/useGameRedirectConnected.ts","webpack://@pp/lobby/./src/store/slices/vendorConfig/selectors.ts","webpack://@pp/lobby/./src/redirection/useSlotsRedirectFunction.ts","webpack://@pp/lobby/./src/redirection/utils/prepareSessionStorage.ts","webpack://@pp/lobby/./src/redirection/useLobbyRedirectCallbackConnected.ts","webpack://@pp/lobby/./src/redirection/utils/getTableBaseURL.ts","webpack://@pp/lobby/./src/redirection/utils/getUnmetMinBalance.ts","webpack://@pp/lobby/./src/redirection/utils/getGameURLSearchParams.ts","webpack://@pp/lobby/./src/store/slices/filters/selectors.ts","webpack://@pp/lobby/./src/store/slices/games/selectors.ts","webpack://@pp/lobby/./src/components/picture/Picture.tsx","webpack://@pp/lobby/./src/components/gameImage/GameImage.tsx","webpack://@pp/lobby/./src/components/BackToGame/BackToGameSlotConnected.tsx","webpack://@pp/lobby/./src/components/BackToGame/BackToGameSlot.module.css?ec4c","webpack://@pp/lobby/./src/hooks/useOpenMenu.ts","webpack://@pp/lobby/./src/logger/LoggerState.ts","webpack://@pp/lobby/./src/store/slices/slots/selectors.ts","webpack://@pp/lobby/./src/components/filterTag/FilterTag.module.css?7151","webpack://@pp/lobby/./src/components/filterTag/FilterTag.tsx","webpack://@pp/lobby/./src/components/horizontalContentScroll/swiperButton/SwiperButton.module.css?10fa","webpack://@pp/lobby/./src/components/horizontalContentScroll/swiperButton/SwiperButton.tsx","webpack://@pp/lobby/./src/components/horizontalContentScroll/HorizontalContentScroll.module.css?0fd9","webpack://@pp/lobby/./src/components/horizontalContentScroll/HorizontalContentScroll.tsx","webpack://@pp/lobby/./src/components/buttonFilterBar/ButtonFilterBar.module.css?0516","webpack://@pp/lobby/./src/components/buttonFilterBar/ButtonFilterBar.tsx","webpack://@pp/lobby/./src/components/inputSearch/inputSearch.module.css?2268","webpack://@pp/lobby/./src/components/inputSearch/inputSearch.tsx","webpack://@pp/lobby/./src/pages/slots/slotsFilterBar/SlotsFilterBar.module.css?9eab","webpack://@pp/lobby/./src/pages/slots/slotsFilterBar/SlotsFilterBar.tsx","webpack://@pp/lobby/./src/pages/slots/slotsFilterBar/SlotsFilterBarConnected.tsx","webpack://@pp/lobby/./src/components/nav/useCategoryId.ts","webpack://@pp/lobby/./src/components/filterBar/closeButton/FilterBarCloseButton.tsx","webpack://@pp/lobby/./src/components/filterBar/closeButton/FilterBarCloseButton.module.css?68e2","webpack://@pp/lobby/./src/components/button/Button.module.css?be01","webpack://@pp/lobby/./src/components/button/Button.tsx","webpack://@pp/lobby/./src/components/filterDrawer/FilterDrawer.tsx","webpack://@pp/lobby/./src/components/filterDrawer/FilterDrawer.module.css?085d","webpack://@pp/lobby/./src/hooks/useClickOutside.ts","webpack://@pp/lobby/./src/components/filterPopover/FilterPopover.module.css?696b","webpack://@pp/lobby/./src/components/filterPopover/FilterPopover.tsx","webpack://@pp/lobby/./src/components/lobbyIcons/LobbyIcon.tsx","webpack://@pp/lobby/./src/components/lobbyIcons/LobbyIconNames.ts","webpack://@pp/lobby/./src/components/filterBar/FilterBar.module.css?a384","webpack://@pp/lobby/./src/components/filterBar/FilterBar.tsx","webpack://@pp/lobby/./src/hooks/useDebounce.ts","webpack://@pp/lobby/./src/components/filterBar/FilterBarConnected.tsx","webpack://@pp/lobby/./src/components/playerCount/PlayerCountConnected.tsx","webpack://@pp/lobby/./src/store/slices/dga/selectors.ts","webpack://@pp/lobby/./src/components/playerCount/PlayerCount.module.css?fd08","webpack://@pp/lobby/./src/components/footer/Footer.module.css?d4ad","webpack://@pp/lobby/./src/components/footer/Footer.tsx","webpack://@pp/lobby/./src/components/footer/FooterConnected.tsx","webpack://@pp/lobby/./src/components/footer/FooterConnected.module.css?67e5","webpack://@pp/lobby/./src/hooks/useLobbyExitCallbackConnected.ts","webpack://@pp/lobby/./src/navigation/useHomePathConnected.ts","webpack://@pp/lobby/./src/navigation/useDedicatedCategoryRouteConnected.ts","webpack://@pp/lobby/./src/constants/global.ts","webpack://@pp/lobby/./src/components/lobbyLink/LobbyLink.tsx","webpack://@pp/lobby/./src/components/tabs/Tab.module.css?684a","webpack://@pp/lobby/./src/components/tabs/Tab.tsx","webpack://@pp/lobby/./src/components/skeleton/Skeleton.module.css?b10c","webpack://@pp/lobby/./src/components/skeleton/Skeleton.tsx","webpack://@pp/lobby/./src/components/nav/categoryIcons.tsx","webpack://@pp/lobby/./src/components/nav/useNavCategoryListConnected.tsx","webpack://@pp/lobby/./src/store/slices/notifications/selectors.ts","webpack://@pp/lobby/./src/components/nav/useCategoryClickConnected.ts","webpack://@pp/lobby/./src/components/nav/NavCategoriesConected.tsx","webpack://@pp/lobby/./src/components/navMenuBalance/NavMenuBalance.tsx","webpack://@pp/lobby/./src/components/navMenuBalance/NavMenuBalance.module.css?64d3","webpack://@pp/lobby/./src/components/navMenuBalance/NavMenuBalanceConnected.tsx","webpack://@pp/lobby/./src/components/cashierTab/CashierTab.tsx","webpack://@pp/lobby/./src/components/exitTab/ExitTab.tsx","webpack://@pp/lobby/./src/components/navMenuFoter/NavMenuFooter.module.css?00ef","webpack://@pp/lobby/./src/components/navMenuFoter/NavMenuFooter.tsx","webpack://@pp/lobby/./src/components/navMenu/NavMenu.module.css?9701","webpack://@pp/lobby/./src/components/navMenu/NavMenu.tsx","webpack://@pp/lobby/./src/components/navMenu/NavMenuConnected.tsx","webpack://@pp/lobby/./src/hooks/useOpenFooterMenu.ts","webpack://@pp/lobby/./src/components/navMenu/NavMenuConnected.module.css?0f63","webpack://@pp/lobby/./src/components/navSlider/NavSlider.module.css?5124","webpack://@pp/lobby/./src/components/navSlider/NavSlider.tsx","webpack://@pp/lobby/./src/components/navSlider/NavSliderConnected.tsx","webpack://@pp/lobby/./src/components/nav/NavConnected.tsx","webpack://@pp/lobby/./src/components/tile/tileResizeObserverContext/TileResizeObserverContext.tsx","webpack://@pp/lobby/./src/components/layout/Layouter.ts","webpack://@pp/lobby/./src/components/layout/LayoutNav.module.css?6f5f","webpack://@pp/lobby/./src/components/layout/LayoutNav.tsx","webpack://@pp/lobby/./src/components/layout/LayoutNavPlaceholder.tsx","webpack://@pp/lobby/./src/components/layout/LayoutNavPlaceholder.module.css?b6e0","webpack://@pp/lobby/./src/components/layout/Layout.module.css?e3a6","webpack://@pp/lobby/./src/components/layout/Layout.tsx","webpack://@pp/lobby/./src/components/layout/LayoutConnected.tsx","webpack://@pp/lobby/./src/store/slices/promotions/selectors.ts","webpack://@pp/lobby/./src/navigation/useCategorySlugResolverConnected.ts","webpack://@pp/lobby/./src/components/lobbyDirectRedirect/LobbyDirectRedirect.tsx","webpack://@pp/lobby/./src/components/lobbyIcons/LobbyIconRoot.tsx","webpack://@pp/lobby/./src/config/LobbyFiltersConfig.ts","webpack://@pp/lobby/./src/store/apiHooks/useSlotsFetcher.ts","webpack://@pp/lobby/./src/config/lobbyLoadingMask.ts","webpack://@pp/lobby/./src/config/translationConfig.ts","webpack://@pp/lobby/./src/store/slices/lobbyInit/selectors.ts","webpack://@pp/lobby/./src/components/lobbyInitializer/liveCasino/LiveCasinoInitializer.tsx","webpack://@pp/lobby/./src/components/lobbyInitializer/liveCasino/useLiveCasinoSoundSetup.ts","webpack://@pp/lobby/./src/store/apiHooks/useTablesCuratedFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/useTablesFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/usePromotionFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/useBonusCampaignFetcher.ts","webpack://@pp/lobby/./src/store/slices/category/selectors.ts","webpack://@pp/lobby/./src/components/lobbyInitializer/slots/SlotsInitializer.tsx","webpack://@pp/lobby/./src/components/lobbyInitializer/slots/useSlotSoundSetup.ts","webpack://@pp/lobby/./src/store/apiHooks/slots/useSlotGamesFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/slots/useSlotSettingsFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/slots/useSlotUserSettingsFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/slots/useSlotBalanceFetcher.ts","webpack://@pp/lobby/./src/components/lobbyInitializer/LobbyInitializer.tsx","webpack://@pp/lobby/./src/hooks/useUrlFilters.ts","webpack://@pp/lobby/./src/store/apiHooks/useHeroBannersConfigFetcher.ts","webpack://@pp/lobby/./src/store/apiHooks/useTileExceptionConfigFetcher.ts","webpack://@pp/lobby/./src/components/openingOverlay/OpeningOverlay.tsx","webpack://@pp/lobby/./src/components/openingOverlay/OpeningOverlay.module.css?978c","webpack://@pp/lobby/./src/components/openingOverlay/OpeningOverlayConnected.tsx","webpack://@pp/lobby/./src/components/popups/types.ts","webpack://@pp/lobby/./src/components/popups/PrivateTableKickedOutConnected.tsx","webpack://@pp/lobby/./src/components/popups/LobbyPopupConnected.tsx","webpack://@pp/lobby/./src/controllers/DGA/GoodRoadsBuffer.ts","webpack://@pp/lobby/./src/controllers/DGA/wsDgaControllerConnector.tsx","webpack://@pp/lobby/./src/controllers/DGA/wsDGAcontroller.ts","webpack://@pp/lobby/./src/controllers/DGA/constants.ts","webpack://@pp/lobby/./src/messages/LobbyMessageReceiver.tsx","webpack://@pp/lobby/./src/config/promoTextLanguages.ts","webpack://@pp/lobby/./src/components/promotion/banners/PromotionBanners.module.css?218e","webpack://@pp/lobby/./src/components/promotion/banners/InfoMode.tsx","webpack://@pp/lobby/./src/components/promotion/banners/PromotionBanner.tsx","webpack://@pp/lobby/./src/components/promotion/banners/PromotionBannersConnected.tsx","webpack://@pp/lobby/./src/components/slider/sliderArrows/SliderArrows.module.css?83c3","webpack://@pp/lobby/./src/components/slider/sliderArrows/SliderArrows.tsx","webpack://@pp/lobby/./src/components/slider/sliderDots/SliderDots.tsx","webpack://@pp/lobby/./src/components/slider/sliderDots/SliderDots.module.css?30b5","webpack://@pp/lobby/./src/components/slider/sliderUtils.ts","webpack://@pp/lobby/./src/components/slider/Slider.module.css?4593","webpack://@pp/lobby/./src/components/slider/Slider.tsx","webpack://@pp/lobby/./src/components/promotion/banners/slot/PromotionBanners.module.css?7dc0","webpack://@pp/lobby/./src/components/promotion/banners/slot/InfoMode.tsx","webpack://@pp/lobby/./src/components/promotion/banners/slot/PromotionBanner.tsx","webpack://@pp/lobby/./src/components/promotion/banners/slot/SlotPromotionBannerConnected.tsx","webpack://@pp/lobby/./src/store/slices/forYou/selectors.ts","webpack://@pp/lobby/./src/components/promotion/slotsPromoTag/SlotsPromoTag.module.css?2fc7","webpack://@pp/lobby/./src/components/promotion/slotsPromoTag/SlotsPromoTag.tsx","webpack://@pp/lobby/./src/components/promotion/slotsPromoTag/SlotsPromoTagConnected.tsx","webpack://@pp/lobby/./src/components/promotion/tag/PromoTagUtils.ts","webpack://@pp/lobby/./src/components/promotion/tag/PromoTag.module.css?c490","webpack://@pp/lobby/./src/components/promotion/tag/PromoTag.tsx","webpack://@pp/lobby/./src/components/promotion/tag/PromoTagConnected.tsx","webpack://@pp/lobby/./src/components/tile/PlayingNowIcon.module.css?91d9","webpack://@pp/lobby/./src/components/tile/PlayingNowIcon.tsx","webpack://@pp/lobby/./src/components/tile/isPlayingLabel/IsPlayingLabel.tsx","webpack://@pp/lobby/./src/components/tile/isPlayingLabel/IsPlayingLabel.module.css?2fc1","webpack://@pp/lobby/./src/components/favouriteIcon/FavouriteIcon.tsx","webpack://@pp/lobby/./src/components/favouriteIcon/FavouriteIcon.module.css?e362","webpack://@pp/lobby/./src/components/tile/tileContainer/TileContainer.module.css?8ecc","webpack://@pp/lobby/./src/components/tile/tileContainer/TileContainer.tsx","webpack://@pp/lobby/./src/components/tile/tileCurtain/TileCurtain.module.css?21b5","webpack://@pp/lobby/./src/components/tile/tileCurtain/TileCurtain.tsx","webpack://@pp/lobby/./src/components/tile/tileFooterContainer/TileFooterContainer.tsx","webpack://@pp/lobby/./src/components/tile/tileFooterContainer/TileFooterContainer.module.css","webpack://@pp/lobby/./src/components/tile/tileFooter/TileFooter.module.css?d4c9","webpack://@pp/lobby/./src/components/tile/tileFooter/TileFooter.tsx","webpack://@pp/lobby/./src/components/tile/tileImage/TileImage.module.css?a775","webpack://@pp/lobby/./src/components/tile/tileImage/TileImage.tsx","webpack://@pp/lobby/./src/components/tile/tileRecentResults/TileRecentResults.module.css?1d01","webpack://@pp/lobby/./src/components/tile/tileRecentResults/TileRecentResults.tsx","webpack://@pp/lobby/./src/components/tile/tileSkeleton.tsx","webpack://@pp/lobby/./src/components/tile/tileSkeleton.module.css?a9a6","webpack://@pp/lobby/./src/components/tile/TileTag.module.css?ae45","webpack://@pp/lobby/./src/components/tile/TileTag.tsx","webpack://@pp/lobby/./src/components/tile/Tile.tsx","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/container/Container.module.css?6821","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/container/Container.tsx","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/tile/Tile.module.css?6c9c","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/tile/Tile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/andarbahar/ResultTile.module.css?513d","webpack://@pp/lobby/../libraries/shared/src/games/andarbahar/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/andarbahar/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/andarbahar/Results.module.css?92b2","webpack://@pp/lobby/../libraries/shared/src/games/bigbasscrash/ResultTile.module.css?8ec2","webpack://@pp/lobby/../libraries/shared/src/utils/index.ts","webpack://@pp/lobby/../libraries/shared/src/games/bigbasscrash/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/bigbasscrash/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/bigbasscrash/Results.module.css?afd4","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/tileGroup/TileGroup.module.css?0145","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/tileGroup/TileGroup.tsx","webpack://@pp/lobby/../libraries/shared/src/games/boomcity/ResultTile.module.css?81da","webpack://@pp/lobby/../libraries/shared/src/games/boomcity/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/boomcity/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/boomcity/Results.module.css?8cc7","webpack://@pp/lobby/../libraries/shared/src/games/baccarat/types.ts","webpack://@pp/lobby/../libraries/shared/src/games/dragonTiger/RecentResult.tsx","webpack://@pp/lobby/../libraries/shared/src/games/dragonTiger/types.ts","webpack://@pp/lobby/../libraries/shared/src/components/shuffle/Shuffle.tsx","webpack://@pp/lobby/../libraries/shared/src/components/shuffle/Shuffle.module.css?5301","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/baccaratTable/RecentResultTable.tsx","webpack://@pp/lobby/../libraries/shared/src/components/recentResults/baccaratTable/RecentResultTable.module.css?dcf4","webpack://@pp/lobby/../libraries/shared/src/games/dragonTiger/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/dragonTiger/Results.module.css?f52e","webpack://@pp/lobby/../libraries/shared/src/games/highflyer/ResultTile.module.css?6739","webpack://@pp/lobby/../libraries/shared/src/games/highflyer/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/highflyer/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/highflyer/Results.module.css?db62","webpack://@pp/lobby/../libraries/shared/src/games/megasicbac/types.ts","webpack://@pp/lobby/../libraries/shared/src/games/megasicbac/RecentResult.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megasicbac/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megasicbac/Results.module.css?bf97","webpack://@pp/lobby/../libraries/shared/src/games/megawheel/ResultTile.module.css?4d6c","webpack://@pp/lobby/../libraries/shared/src/games/megawheel/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megawheel/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megawheel/Results.module.css?c63f","webpack://@pp/lobby/../libraries/shared/src/games/moneytime/ResultTile.module.css?5d2d","webpack://@pp/lobby/../libraries/shared/src/games/moneytime/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/moneytime/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/moneytime/Results.module.css?7449","webpack://@pp/lobby/../libraries/shared/src/games/sicbo/ResultTile.module.css?f3f3","webpack://@pp/lobby/../libraries/shared/src/games/sicbo/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/sicbo/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/sicbo/Results.module.css?3412","webpack://@pp/lobby/../libraries/shared/src/games/snakesandladders/ResultTile.module.css?67a1","webpack://@pp/lobby/../libraries/shared/src/games/snakesandladders/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/snakesandladders/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/snakesandladders/Results.module.css?255e","webpack://@pp/lobby/../libraries/shared/src/games/spaceman/ResultTile.module.css?cfe9","webpack://@pp/lobby/../libraries/shared/src/games/spaceman/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/spaceman/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/spaceman/Results.module.css?15a9","webpack://@pp/lobby/../libraries/shared/src/games/sweetbonanza/ResultTile.module.css?98aa","webpack://@pp/lobby/../libraries/shared/src/games/sweetbonanza/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/sweetbonanza/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/sweetbonanza/Results.module.css?f59b","webpack://@pp/lobby/../libraries/shared/src/games/topCard/types.ts","webpack://@pp/lobby/../libraries/shared/src/games/topCard/ResultTile.module.css?ec7d","webpack://@pp/lobby/../libraries/shared/src/games/topCard/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/topCard/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/types.ts","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/ResultTile.module.css?c284","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/TreasureIslandGemResult.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/TreasureIslandResultsTileContent.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureisland/Results.module.css?f3f5","webpack://@pp/lobby/../libraries/shared/src/games/treasureislandv2/ResultTile.module.css?df11","webpack://@pp/lobby/../libraries/shared/src/games/treasureislandv2/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureislandv2/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/treasureislandv2/Results.module.css?ec8c","webpack://@pp/lobby/./src/components/tile/tileScaledResults/TileScaledResults.tsx","webpack://@pp/lobby/./src/components/tile/tileScaledResults/TileScaledResults.module.css?9abd","webpack://@pp/lobby/../libraries/shared/src/games/baccarat/RecentResult.tsx","webpack://@pp/lobby/../libraries/shared/src/games/baccarat/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/baccarat/Results.module.css?b59f","webpack://@pp/lobby/./src/components/tile/TileStatus.module.css?dcb2","webpack://@pp/lobby/./src/components/tile/TileStatus.tsx","webpack://@pp/lobby/./src/components/tile/tileRecentResults/tileUtils.tsx","webpack://@pp/lobby/./src/components/tile/tileRecentResults/BaccaratGameResults.tsx","webpack://@pp/lobby/./src/components/seatPicker/SeatPicker.tsx","webpack://@pp/lobby/./src/components/seatPicker/SeatPicker.module.css?3f89","webpack://@pp/lobby/./src/components/tile/tileRecentResults/BlackjackGameResult.tsx","webpack://@pp/lobby/../libraries/shared/src/games/fortuneroulette/ResultTile.module.css?785a","webpack://@pp/lobby/../libraries/shared/src/games/fortuneroulette/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/fortuneroulette/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/fortuneroulette/Results.module.css?9b5e","webpack://@pp/lobby/../libraries/shared/src/games/megaroulette/ResultTile.module.css?ee78","webpack://@pp/lobby/../libraries/shared/src/games/megaroulette/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megaroulette/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/megaroulette/Results.module.css?9686","webpack://@pp/lobby/../libraries/shared/src/games/poweruproulette/ResultTile.module.css?b17d","webpack://@pp/lobby/../libraries/shared/src/games/poweruproulette/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/poweruproulette/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/poweruproulette/Results.module.css?0718","webpack://@pp/lobby/../libraries/shared/src/games/roulette/ResultTile.module.css?d8d6","webpack://@pp/lobby/../libraries/shared/src/games/roulette/ResultTile.tsx","webpack://@pp/lobby/../libraries/shared/src/games/roulette/Results.tsx","webpack://@pp/lobby/../libraries/shared/src/games/roulette/Results.module.css?44d9","webpack://@pp/lobby/./src/components/tile/tileRecentResults/RouletteGameResult.tsx","webpack://@pp/lobby/./src/components/tile/tileRecentResults/RecentResultConnected.tsx","webpack://@pp/lobby/./src/components/tile/TileContentConnected.tsx","webpack://@pp/lobby/./src/hooks/useHandleFavourite.ts","webpack://@pp/lobby/./src/components/tile/tileIntersectionObserver/TileIntersectionObserver.ts","webpack://@pp/lobby/./src/components/tile/TileBoundary.module.css?c8c7","webpack://@pp/lobby/./src/components/tile/TileBoundary.tsx","webpack://@pp/lobby/./src/components/tile/TileGroup.tsx","webpack://@pp/lobby/./src/components/tileGridContainer/TileGridContainer.module.css?6c40","webpack://@pp/lobby/./src/components/tileGridContainer/TileGridContainer.tsx","webpack://@pp/lobby/./src/components/noResultsTile/NoResultsTile.tsx","webpack://@pp/lobby/./src/components/noResultsTile/NoResultsTile.module.css?2a50","webpack://@pp/lobby/./src/components/TileGrid/NoResultsConnected.tsx","webpack://@pp/lobby/./src/components/TileGrid/promoTileGridConnected/PromoTileGridConnected.tsx","webpack://@pp/lobby/./src/components/blackjackPromotions/promoTile/PromoTile.module.css?1aaf","webpack://@pp/lobby/./src/components/blackjackPromotions/promoTile/PromoTile.tsx","webpack://@pp/lobby/./src/components/blackjackPromotions/timer/timerUtils.ts","webpack://@pp/lobby/./src/components/blackjackPromotions/timer/Timer.module.css?dab4","webpack://@pp/lobby/./src/components/blackjackPromotions/timer/TimerSection.tsx","webpack://@pp/lobby/./src/components/blackjackPromotions/timer/TimerConnected.tsx","webpack://@pp/lobby/./src/components/blackjackPromotions/BJPromotions.module.css?3705","webpack://@pp/lobby/./src/components/blackjackPromotions/BJPromotions.tsx","webpack://@pp/lobby/./src/components/blackjackPromotions/BJPromoBannerConnected.tsx","webpack://@pp/lobby/./src/components/TileGrid/tabTileGridConnected/TabTileGridConnected.tsx","webpack://@pp/lobby/./src/components/TileGrid/TileGridConnected.tsx","webpack://@pp/lobby/./src/components/heroAccordion/HeroAccordion.tsx","webpack://@pp/lobby/./src/components/heroAccordion/HeroAccordion.module.css?02fb","webpack://@pp/lobby/./src/components/heroSlide/HeroSlide.tsx","webpack://@pp/lobby/./src/components/heroSlide/HeroSlide.module.css?9120","webpack://@pp/lobby/./src/components/heroSlide/HeroSlideConnected.tsx","webpack://@pp/lobby/./src/redirection/useHeroNavigation.ts","webpack://@pp/lobby/./src/components/heroSlider/HeroSlider.tsx","webpack://@pp/lobby/./src/components/heroSlider/HeroSlider.module.css?09be","webpack://@pp/lobby/./src/components/heroSectionConnected/HeroSectionConnected.tsx","webpack://@pp/lobby/./src/components/tilesSwiper/TilesSwiper.tsx","webpack://@pp/lobby/./src/components/tilesSwiper/TilesSwiper.module.css?df7b","webpack://@pp/lobby/./src/components/tileSwiperItem/TileSwiperItem.tsx","webpack://@pp/lobby/./src/components/tileSwiperItem/TileSwiperItem.module.css?3e3a","webpack://@pp/lobby/./src/pages/forYou/forYouSectionTitle/ForYouSectionTitle.tsx","webpack://@pp/lobby/./src/pages/forYou/forYouSectionTitle/ForYouSectionTitle.module.css?bcee","webpack://@pp/lobby/./src/pages/forYou/favouriteConnected/FavouriteConnected.tsx","webpack://@pp/lobby/./src/pages/forYou/ForYouPage.tsx","webpack://@pp/lobby/./src/pages/forYou/ForYouPage.module.css?c0a2","webpack://@pp/lobby/./src/pages/forYou/ForYouSectionConnected.tsx","webpack://@pp/lobby/./src/pages/forYou/ForYouSkeleton.module.css?07f8","webpack://@pp/lobby/./src/pages/forYou/ForYouSkeleton.tsx","webpack://@pp/lobby/./src/pages/forYou/ForYouPageConnected.tsx","webpack://@pp/lobby/./src/pages/notFound/NotFoundPage.tsx","webpack://@pp/lobby/./src/pages/notFound/NotFoundPage.module.css?4623","webpack://@pp/lobby/./src/pages/slots/slotsPage.tsx","webpack://@pp/lobby/./src/pages/slots/SlotsPage.module.css?de96","webpack://@pp/lobby/./src/pages/slots/tilesSlots/TilesSlots.module.css?8f0b","webpack://@pp/lobby/./src/pages/slots/tilesSlots/TileSlotSkeleton.tsx","webpack://@pp/lobby/./src/pages/slots/tilesSlots/TilesSlotsConnected.tsx","webpack://@pp/lobby/./src/pages/slots/slotsPageConnected.tsx","webpack://@pp/lobby/./src/pages/category/CategoryConnected.tsx","webpack://@pp/lobby/./src/pages/category/CategoryPage.module.css?8e28","webpack://@pp/lobby/./src/Lobby.tsx","webpack://@pp/lobby/./src/index.tsx"],"sourcesContent":["var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"@pp/lobby:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function d(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function h(n){return o=1,p(D,n)}function p(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=d(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i))}function _(n,u){var i=d(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function T(n,r){var u=d(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,p as useReducer,A as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as f,cloneElement as l}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useCallback as a,useContext as s,useDebugValue as h,useEffect as v,useId as d,useImperativeHandle as p,useLayoutEffect as m,useMemo as y,useReducer as _,useRef as b,useState as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){this.props=n,this.context=t}function C(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:g(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return g(this.props,n)||g(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function w(n){function t(t){if(!(\"ref\"in t))return n(t,null);var e=t.ref;delete t.ref;var r=n(t,e);return t.ref=e,r}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},I={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},N=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);N(n,t,e,r)};var M=e.unmount;function T(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=function(n,t){for(var e in t)n[e]=t[e];return n}({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return T(n,t,e)})),n}function A(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return A(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function L(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function O(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function F(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),M&&M(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=L(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=A(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=T(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var U=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function V(n){return this.getChildContext=function(){return n.context},n.children}function W(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(V,{context:e.context},n.__v),e.l)}function P(n,e){var r=t(W,{__v:n,i:e});return r.containerInfo=e,r}(F.prototype=new n).__a=function(n){var t=this,e=L(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),U(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){U(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,H=/[A-Z0-9]/g,Z=\"undefined\"!=typeof document,Y=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function $(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={enumerable:!1,configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Z&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var f=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===f&&\"no\"===c?c=!1:\"o\"===f[0]&&\"n\"===f[1]?\"ondoubleclick\"===f?i=\"ondblclick\":\"onchange\"!==f||\"input\"!==e&&\"textarea\"!==e||Y(t.type)?\"onfocus\"===f?i=\"onfocusin\":\"onblur\"===f?i=\"onfocusout\":B.test(i)&&(i=f):f=i=\"oninput\":o&&z.test(i)?i=i.replace(H,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===f&&u[i=f]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",nn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=j,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn=e.diffed;e.diffed=function(n){rn&&rn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),X=null};var un={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value},useCallback:a,useContext:s,useDebugValue:h,useDeferredValue:_n,useEffect:v,useId:d,useImperativeHandle:p,useInsertionEffect:Sn,useLayoutEffect:m,useMemo:y,useReducer:_,useRef:b,useState:S,useSyncExternalStore:En,useTransition:bn}}},on=\"18.3.1\";function cn(n){return t.bind(null,n)}function fn(n){return!!n&&n.$$typeof===j}function ln(n){return fn(n)&&n.type===u}function an(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function sn(n){return fn(n)?l.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=m,gn=fn;function En(n,t){var e=t(),r=S({h:{__:e,v:t}}),u=r[0].h,o=r[1];return m(function(){u.__=e,u.v=t,Cn(u)&&o({h:u})},[n,e,t]),v(function(){return Cn(u)&&o({h:u}),n(function(){Cn(u)&&o({h:u})})},[n]),e}function Cn(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}var xn={useState:S,useId:d,useReducer:_,useEffect:v,useLayoutEffect:m,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:En,startTransition:yn,useRef:b,useImperativeHandle:p,useMemo:y,useCallback:a,useContext:s,useDebugValue:h,version:\"18.3.1\",Children:I,render:$,hydrate:q,unmountComponentAtNode:hn,createPortal:P,createElement:t,createContext:c,createFactory:cn,cloneElement:sn,createRef:f,Fragment:u,isValidElement:fn,isElement:gn,isFragment:ln,isMemo:an,findDOMNode:vn,Component:n,PureComponent:E,memo:C,forwardRef:w,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:D,SuspenseList:F,lazy:O,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un};export{I as Children,E as PureComponent,mn as StrictMode,D as Suspense,F as SuspenseList,un as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,cn as createFactory,P as createPortal,xn as default,vn as findDOMNode,pn as flushSync,w as forwardRef,q as hydrate,gn as isElement,ln as isFragment,an as isMemo,fn as isValidElement,O as lazy,C as memo,$ as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,En as useSyncExternalStore,bn as useTransition,on as version};\n//# sourceMappingURL=compat.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,l=t;\"ref\"in t&&(a=t.ref,delete t.ref);var p={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===l[c]&&(l[c]=a[c]);return r.vnode&&r.vnode(p),p}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},l=/[A-Z]/g;function p(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var p=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(l,\"-$&\").toLowerCase()),_=\";\";\"number\"!=typeof a||p.startsWith(\"--\")||o.test(p)||(_=\"px;\"),i=i+p+\":\"+a+_}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function _(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=_(r[e]);return r}}return n(\"\"+r)}export{u as jsx,p as jsxAttr,u as jsxDEV,_ as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Reflect.ownKeys(obj).forEach((key) => {\n      iter(key, obj[key], obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  const isPlain = isPlainObject(base);\n  if (strict === true || strict === \"class_only\" && !isPlain) {\n    const descriptors = Object.getOwnPropertyDescriptors(base);\n    delete descriptors[DRAFT_STATE];\n    let keys = Reflect.ownKeys(descriptors);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const desc = descriptors[key];\n      if (desc.writable === false) {\n        desc.writable = true;\n        desc.configurable = true;\n      }\n      if (desc.get || desc.set)\n        descriptors[key] = {\n          configurable: true,\n          writable: true,\n          // could live with !!desc.set as well here...\n          enumerable: desc.enumerable,\n          value: base[key]\n        };\n    }\n    return Object.create(getPrototypeOf(base), descriptors);\n  } else {\n    const proto = getPrototypeOf(base);\n    if (proto !== null && isPlain) {\n      return { ...base };\n    }\n    const obj = Object.create(proto);\n    return Object.assign(obj, base);\n  }\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    Object.entries(obj).forEach(([key, value]) => freeze(value, true));\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path)\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if ((!parentState || !parentState.scope_.parent_) && typeof prop !== \"symbol\" && Object.prototype.propertyIsEnumerable.call(targetObject, prop))\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","// src/utils/formatProdErrorMessage.ts\nfunction formatProdErrorMessage(code) {\n  return `Minified Redux error #${code}; visit https://redux.js.org/Errors?code=${code} for the full message or use the non-minified dev environment for full errors. `;\n}\n\n// src/utils/symbol-observable.ts\nvar $$observable = /* @__PURE__ */ (() => typeof Symbol === \"function\" && Symbol.observable || \"@@observable\")();\nvar symbol_observable_default = $$observable;\n\n// src/utils/actionTypes.ts\nvar randomString = () => Math.random().toString(36).substring(7).split(\"\").join(\".\");\nvar ActionTypes = {\n  INIT: `@@redux/INIT${/* @__PURE__ */ randomString()}`,\n  REPLACE: `@@redux/REPLACE${/* @__PURE__ */ randomString()}`,\n  PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${randomString()}`\n};\nvar actionTypes_default = ActionTypes;\n\n// src/utils/isPlainObject.ts\nfunction isPlainObject(obj) {\n  if (typeof obj !== \"object\" || obj === null)\n    return false;\n  let proto = obj;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(obj) === proto || Object.getPrototypeOf(obj) === null;\n}\n\n// src/utils/kindOf.ts\nfunction miniKindOf(val) {\n  if (val === void 0)\n    return \"undefined\";\n  if (val === null)\n    return \"null\";\n  const type = typeof val;\n  switch (type) {\n    case \"boolean\":\n    case \"string\":\n    case \"number\":\n    case \"symbol\":\n    case \"function\": {\n      return type;\n    }\n  }\n  if (Array.isArray(val))\n    return \"array\";\n  if (isDate(val))\n    return \"date\";\n  if (isError(val))\n    return \"error\";\n  const constructorName = ctorName(val);\n  switch (constructorName) {\n    case \"Symbol\":\n    case \"Promise\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n    case \"Map\":\n    case \"Set\":\n      return constructorName;\n  }\n  return Object.prototype.toString.call(val).slice(8, -1).toLowerCase().replace(/\\s/g, \"\");\n}\nfunction ctorName(val) {\n  return typeof val.constructor === \"function\" ? val.constructor.name : null;\n}\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === \"string\" && val.constructor && typeof val.constructor.stackTraceLimit === \"number\";\n}\nfunction isDate(val) {\n  if (val instanceof Date)\n    return true;\n  return typeof val.toDateString === \"function\" && typeof val.getDate === \"function\" && typeof val.setDate === \"function\";\n}\nfunction kindOf(val) {\n  let typeOfVal = typeof val;\n  if (process.env.NODE_ENV !== \"production\") {\n    typeOfVal = miniKindOf(val);\n  }\n  return typeOfVal;\n}\n\n// src/createStore.ts\nfunction createStore(reducer, preloadedState, enhancer) {\n  if (typeof reducer !== \"function\") {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : `Expected the root reducer to be a function. Instead, received: '${kindOf(reducer)}'`);\n  }\n  if (typeof preloadedState === \"function\" && typeof enhancer === \"function\" || typeof enhancer === \"function\" && typeof arguments[3] === \"function\") {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : \"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.\");\n  }\n  if (typeof preloadedState === \"function\" && typeof enhancer === \"undefined\") {\n    enhancer = preloadedState;\n    preloadedState = void 0;\n  }\n  if (typeof enhancer !== \"undefined\") {\n    if (typeof enhancer !== \"function\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : `Expected the enhancer to be a function. Instead, received: '${kindOf(enhancer)}'`);\n    }\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n  let currentReducer = reducer;\n  let currentState = preloadedState;\n  let currentListeners = /* @__PURE__ */ new Map();\n  let nextListeners = currentListeners;\n  let listenerIdCounter = 0;\n  let isDispatching = false;\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = /* @__PURE__ */ new Map();\n      currentListeners.forEach((listener, key) => {\n        nextListeners.set(key, listener);\n      });\n    }\n  }\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : \"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.\");\n    }\n    return currentState;\n  }\n  function subscribe(listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : `Expected the listener to be a function. Instead, received: '${kindOf(listener)}'`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : \"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.\");\n    }\n    let isSubscribed = true;\n    ensureCanMutateNextListeners();\n    const listenerId = listenerIdCounter++;\n    nextListeners.set(listenerId, listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : \"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.\");\n      }\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      nextListeners.delete(listenerId);\n      currentListeners = null;\n    };\n  }\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : `Actions must be plain objects. Instead, the actual type was: '${kindOf(action)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);\n    }\n    if (typeof action.type === \"undefined\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n    if (typeof action.type !== \"string\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(17) : `Action \"type\" property must be a string. Instead, the actual type was: '${kindOf(action.type)}'. Value was: '${action.type}' (stringified)`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : \"Reducers may not dispatch actions.\");\n    }\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n    const listeners = currentListeners = nextListeners;\n    listeners.forEach((listener) => {\n      listener();\n    });\n    return action;\n  }\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== \"function\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : `Expected the nextReducer to be a function. Instead, received: '${kindOf(nextReducer)}`);\n    }\n    currentReducer = nextReducer;\n    dispatch({\n      type: actionTypes_default.REPLACE\n    });\n  }\n  function observable() {\n    const outerSubscribe = subscribe;\n    return {\n      /**\n       * The minimal observable subscription method.\n       * @param observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe(observer) {\n        if (typeof observer !== \"object\" || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : `Expected the observer to be an object. Instead, received: '${kindOf(observer)}'`);\n        }\n        function observeState() {\n          const observerAsObserver = observer;\n          if (observerAsObserver.next) {\n            observerAsObserver.next(getState());\n          }\n        }\n        observeState();\n        const unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe\n        };\n      },\n      [symbol_observable_default]() {\n        return this;\n      }\n    };\n  }\n  dispatch({\n    type: actionTypes_default.INIT\n  });\n  const store = {\n    dispatch,\n    subscribe,\n    getState,\n    replaceReducer,\n    [symbol_observable_default]: observable\n  };\n  return store;\n}\nfunction legacy_createStore(reducer, preloadedState, enhancer) {\n  return createStore(reducer, preloadedState, enhancer);\n}\n\n// src/utils/warning.ts\nfunction warning(message) {\n  if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n    console.error(message);\n  }\n  try {\n    throw new Error(message);\n  } catch (e) {\n  }\n}\n\n// src/combineReducers.ts\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  const reducerKeys = Object.keys(reducers);\n  const argumentName = action && action.type === actionTypes_default.INIT ? \"preloadedState argument passed to createStore\" : \"previous state received by the reducer\";\n  if (reducerKeys.length === 0) {\n    return \"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.\";\n  }\n  if (!isPlainObject(inputState)) {\n    return `The ${argumentName} has unexpected type of \"${kindOf(inputState)}\". Expected argument to be an object with the following keys: \"${reducerKeys.join('\", \"')}\"`;\n  }\n  const unexpectedKeys = Object.keys(inputState).filter((key) => !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]);\n  unexpectedKeys.forEach((key) => {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === actionTypes_default.REPLACE)\n    return;\n  if (unexpectedKeys.length > 0) {\n    return `Unexpected ${unexpectedKeys.length > 1 ? \"keys\" : \"key\"} \"${unexpectedKeys.join('\", \"')}\" found in ${argumentName}. Expected to find one of the known reducer keys instead: \"${reducerKeys.join('\", \"')}\". Unexpected keys will be ignored.`;\n  }\n}\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach((key) => {\n    const reducer = reducers[key];\n    const initialState = reducer(void 0, {\n      type: actionTypes_default.INIT\n    });\n    if (typeof initialState === \"undefined\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : `The slice reducer for key \"${key}\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);\n    }\n    if (typeof reducer(void 0, {\n      type: actionTypes_default.PROBE_UNKNOWN_ACTION()\n    }) === \"undefined\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : `The slice reducer for key \"${key}\" returned undefined when probed with a random type. Don't try to handle '${actionTypes_default.INIT}' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`);\n    }\n  });\n}\nfunction combineReducers(reducers) {\n  const reducerKeys = Object.keys(reducers);\n  const finalReducers = {};\n  for (let i = 0; i < reducerKeys.length; i++) {\n    const key = reducerKeys[i];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof reducers[key] === \"undefined\") {\n        warning(`No reducer provided for key \"${key}\"`);\n      }\n    }\n    if (typeof reducers[key] === \"function\") {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  const finalReducerKeys = Object.keys(finalReducers);\n  let unexpectedKeyCache;\n  if (process.env.NODE_ENV !== \"production\") {\n    unexpectedKeyCache = {};\n  }\n  let shapeAssertionError;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n  return function combination(state = {}, action) {\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n    let hasChanged = false;\n    const nextState = {};\n    for (let i = 0; i < finalReducerKeys.length; i++) {\n      const key = finalReducerKeys[i];\n      const reducer = finalReducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === \"undefined\") {\n        const actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : `When called with an action of type ${actionType ? `\"${String(actionType)}\"` : \"(unknown type)\"}, the slice reducer for key \"${key}\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`);\n      }\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\n// src/bindActionCreators.ts\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function(...args) {\n    return dispatch(actionCreator.apply(this, args));\n  };\n}\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === \"function\") {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n  if (typeof actionCreators !== \"object\" || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : `bindActionCreators expected an object or a function, but instead received: '${kindOf(actionCreators)}'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?`);\n  }\n  const boundActionCreators = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === \"function\") {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n// src/compose.ts\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\n// src/applyMiddleware.ts\nfunction applyMiddleware(...middlewares) {\n  return (createStore2) => (reducer, preloadedState) => {\n    const store = createStore2(reducer, preloadedState);\n    let dispatch = () => {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : \"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.\");\n    };\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action, ...args) => dispatch(action, ...args)\n    };\n    const chain = middlewares.map((middleware) => middleware(middlewareAPI));\n    dispatch = compose(...chain)(store.dispatch);\n    return {\n      ...store,\n      dispatch\n    };\n  };\n}\n\n// src/utils/isAction.ts\nfunction isAction(action) {\n  return isPlainObject(action) && \"type\" in action && typeof action.type === \"string\";\n}\nexport {\n  actionTypes_default as __DO_NOT_USE__ActionTypes,\n  applyMiddleware,\n  bindActionCreators,\n  combineReducers,\n  compose,\n  createStore,\n  isAction,\n  isPlainObject,\n  legacy_createStore\n};\n//# sourceMappingURL=redux.mjs.map","// src/index.ts\nfunction createThunkMiddleware(extraArgument) {\n  const middleware = ({ dispatch, getState }) => (next) => (action) => {\n    if (typeof action === \"function\") {\n      return action(dispatch, getState, extraArgument);\n    }\n    return next(action);\n  };\n  return middleware;\n}\nvar thunk = createThunkMiddleware();\nvar withExtraArgument = createThunkMiddleware;\nexport {\n  thunk,\n  withExtraArgument\n};\n","// src/index.ts\nexport * from \"redux\";\nimport { produce, current as current3, freeze, original as original2, isDraft as isDraft5 } from \"immer\";\nimport { createSelector, createSelectorCreator as createSelectorCreator2, lruMemoize, weakMapMemoize as weakMapMemoize2 } from \"reselect\";\n\n// src/createDraftSafeSelector.ts\nimport { current, isDraft } from \"immer\";\nimport { createSelectorCreator, weakMapMemoize } from \"reselect\";\nvar createDraftSafeSelectorCreator = (...args) => {\n  const createSelector2 = createSelectorCreator(...args);\n  const createDraftSafeSelector2 = Object.assign((...args2) => {\n    const selector = createSelector2(...args2);\n    const wrappedSelector = (value, ...rest) => selector(isDraft(value) ? current(value) : value, ...rest);\n    Object.assign(wrappedSelector, selector);\n    return wrappedSelector;\n  }, {\n    withTypes: () => createDraftSafeSelector2\n  });\n  return createDraftSafeSelector2;\n};\nvar createDraftSafeSelector = /* @__PURE__ */ createDraftSafeSelectorCreator(weakMapMemoize);\n\n// src/configureStore.ts\nimport { applyMiddleware, createStore, compose as compose2, combineReducers, isPlainObject as isPlainObject2 } from \"redux\";\n\n// src/devtoolsExtension.ts\nimport { compose } from \"redux\";\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function() {\n  if (arguments.length === 0) return void 0;\n  if (typeof arguments[0] === \"object\") return compose;\n  return compose.apply(null, arguments);\n};\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function() {\n  return function(noop3) {\n    return noop3;\n  };\n};\n\n// src/getDefaultMiddleware.ts\nimport { thunk as thunkMiddleware, withExtraArgument } from \"redux-thunk\";\n\n// src/createAction.ts\nimport { isAction } from \"redux\";\n\n// src/tsHelpers.ts\nvar hasMatchFunction = (v) => {\n  return v && typeof v.match === \"function\";\n};\n\n// src/createAction.ts\nfunction createAction(type, prepareAction) {\n  function actionCreator(...args) {\n    if (prepareAction) {\n      let prepared = prepareAction(...args);\n      if (!prepared) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : \"prepareAction did not return an object\");\n      }\n      return {\n        type,\n        payload: prepared.payload,\n        ...\"meta\" in prepared && {\n          meta: prepared.meta\n        },\n        ...\"error\" in prepared && {\n          error: prepared.error\n        }\n      };\n    }\n    return {\n      type,\n      payload: args[0]\n    };\n  }\n  actionCreator.toString = () => `${type}`;\n  actionCreator.type = type;\n  actionCreator.match = (action) => isAction(action) && action.type === type;\n  return actionCreator;\n}\nfunction isActionCreator(action) {\n  return typeof action === \"function\" && \"type\" in action && // hasMatchFunction only wants Matchers but I don't see the point in rewriting it\n  hasMatchFunction(action);\n}\nfunction isFSA(action) {\n  return isAction(action) && Object.keys(action).every(isValidKey);\n}\nfunction isValidKey(key) {\n  return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\n}\n\n// src/actionCreatorInvariantMiddleware.ts\nfunction getMessage(type) {\n  const splitType = type ? `${type}`.split(\"/\") : [];\n  const actionName = splitType[splitType.length - 1] || \"actionCreator\";\n  return `Detected an action creator with type \"${type || \"unknown\"}\" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. \\`dispatch(${actionName}())\\` instead of \\`dispatch(${actionName})\\`. This is necessary even if the action has no payload.`;\n}\nfunction createActionCreatorInvariantMiddleware(options = {}) {\n  if (process.env.NODE_ENV === \"production\") {\n    return () => (next) => (action) => next(action);\n  }\n  const {\n    isActionCreator: isActionCreator2 = isActionCreator\n  } = options;\n  return () => (next) => (action) => {\n    if (isActionCreator2(action)) {\n      console.warn(getMessage(action.type));\n    }\n    return next(action);\n  };\n}\n\n// src/utils.ts\nimport { produce as createNextState, isDraftable } from \"immer\";\nfunction getTimeMeasureUtils(maxDelay, fnName) {\n  let elapsed = 0;\n  return {\n    measureTime(fn) {\n      const started = Date.now();\n      try {\n        return fn();\n      } finally {\n        const finished = Date.now();\n        elapsed += finished - started;\n      }\n    },\n    warnIfExceeded() {\n      if (elapsed > maxDelay) {\n        console.warn(`${fnName} took ${elapsed}ms, which is more than the warning threshold of ${maxDelay}ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.`);\n      }\n    }\n  };\n}\nfunction find(iterable, comparator) {\n  for (const entry of iterable) {\n    if (comparator(entry)) {\n      return entry;\n    }\n  }\n  return void 0;\n}\nvar Tuple = class _Tuple extends Array {\n  constructor(...items) {\n    super(...items);\n    Object.setPrototypeOf(this, _Tuple.prototype);\n  }\n  static get [Symbol.species]() {\n    return _Tuple;\n  }\n  concat(...arr) {\n    return super.concat.apply(this, arr);\n  }\n  prepend(...arr) {\n    if (arr.length === 1 && Array.isArray(arr[0])) {\n      return new _Tuple(...arr[0].concat(this));\n    }\n    return new _Tuple(...arr.concat(this));\n  }\n};\nfunction freezeDraftable(val) {\n  return isDraftable(val) ? createNextState(val, () => {\n  }) : val;\n}\nfunction emplace(map, key, handler) {\n  if (map.has(key)) {\n    let value = map.get(key);\n    if (handler.update) {\n      value = handler.update(value, key, map);\n      map.set(key, value);\n    }\n    return value;\n  }\n  if (!handler.insert) throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"No insert provided for key not already in map\");\n  const inserted = handler.insert(key, map);\n  map.set(key, inserted);\n  return inserted;\n}\n\n// src/immutableStateInvariantMiddleware.ts\nfunction isImmutableDefault(value) {\n  return typeof value !== \"object\" || value == null || Object.isFrozen(value);\n}\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\n  const trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\n  return {\n    detectMutations() {\n      return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\n    }\n  };\n}\nfunction trackProperties(isImmutable, ignorePaths = [], obj, path = \"\", checkedObjects = /* @__PURE__ */ new Set()) {\n  const tracked = {\n    value: obj\n  };\n  if (!isImmutable(obj) && !checkedObjects.has(obj)) {\n    checkedObjects.add(obj);\n    tracked.children = {};\n    for (const key in obj) {\n      const childPath = path ? path + \".\" + key : key;\n      if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\n        continue;\n      }\n      tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\n    }\n  }\n  return tracked;\n}\nfunction detectMutations(isImmutable, ignoredPaths = [], trackedProperty, obj, sameParentRef = false, path = \"\") {\n  const prevObj = trackedProperty ? trackedProperty.value : void 0;\n  const sameRef = prevObj === obj;\n  if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\n    return {\n      wasMutated: true,\n      path\n    };\n  }\n  if (isImmutable(prevObj) || isImmutable(obj)) {\n    return {\n      wasMutated: false\n    };\n  }\n  const keysToDetect = {};\n  for (let key in trackedProperty.children) {\n    keysToDetect[key] = true;\n  }\n  for (let key in obj) {\n    keysToDetect[key] = true;\n  }\n  const hasIgnoredPaths = ignoredPaths.length > 0;\n  for (let key in keysToDetect) {\n    const nestedPath = path ? path + \".\" + key : key;\n    if (hasIgnoredPaths) {\n      const hasMatches = ignoredPaths.some((ignored) => {\n        if (ignored instanceof RegExp) {\n          return ignored.test(nestedPath);\n        }\n        return nestedPath === ignored;\n      });\n      if (hasMatches) {\n        continue;\n      }\n    }\n    const result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\n    if (result.wasMutated) {\n      return result;\n    }\n  }\n  return {\n    wasMutated: false\n  };\n}\nfunction createImmutableStateInvariantMiddleware(options = {}) {\n  if (process.env.NODE_ENV === \"production\") {\n    return () => (next) => (action) => next(action);\n  } else {\n    let stringify2 = function(obj, serializer, indent, decycler) {\n      return JSON.stringify(obj, getSerialize2(serializer, decycler), indent);\n    }, getSerialize2 = function(serializer, decycler) {\n      let stack = [], keys = [];\n      if (!decycler) decycler = function(_, value) {\n        if (stack[0] === value) return \"[Circular ~]\";\n        return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n      };\n      return function(key, value) {\n        if (stack.length > 0) {\n          var thisPos = stack.indexOf(this);\n          ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n          ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n          if (~stack.indexOf(value)) value = decycler.call(this, key, value);\n        } else stack.push(value);\n        return serializer == null ? value : serializer.call(this, key, value);\n      };\n    };\n    var stringify = stringify2, getSerialize = getSerialize2;\n    let {\n      isImmutable = isImmutableDefault,\n      ignoredPaths,\n      warnAfter = 32\n    } = options;\n    const track = trackForMutations.bind(null, isImmutable, ignoredPaths);\n    return ({\n      getState\n    }) => {\n      let state = getState();\n      let tracker = track(state);\n      let result;\n      return (next) => (action) => {\n        const measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\n        measureUtils.measureTime(() => {\n          state = getState();\n          result = tracker.detectMutations();\n          tracker = track(state);\n          if (result.wasMutated) {\n            throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(19) : `A state mutation was detected between dispatches, in the path '${result.path || \"\"}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);\n          }\n        });\n        const dispatchedAction = next(action);\n        measureUtils.measureTime(() => {\n          state = getState();\n          result = tracker.detectMutations();\n          tracker = track(state);\n          if (result.wasMutated) {\n            throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(20) : `A state mutation was detected inside a dispatch, in the path: ${result.path || \"\"}. Take a look at the reducer(s) handling the action ${stringify2(action)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);\n          }\n        });\n        measureUtils.warnIfExceeded();\n        return dispatchedAction;\n      };\n    };\n  }\n}\n\n// src/serializableStateInvariantMiddleware.ts\nimport { isAction as isAction2, isPlainObject } from \"redux\";\nfunction isPlain(val) {\n  const type = typeof val;\n  return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\n}\nfunction findNonSerializableValue(value, path = \"\", isSerializable = isPlain, getEntries, ignoredPaths = [], cache) {\n  let foundNestedSerializable;\n  if (!isSerializable(value)) {\n    return {\n      keyPath: path || \"<root>\",\n      value\n    };\n  }\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  if (cache?.has(value)) return false;\n  const entries = getEntries != null ? getEntries(value) : Object.entries(value);\n  const hasIgnoredPaths = ignoredPaths.length > 0;\n  for (const [key, nestedValue] of entries) {\n    const nestedPath = path ? path + \".\" + key : key;\n    if (hasIgnoredPaths) {\n      const hasMatches = ignoredPaths.some((ignored) => {\n        if (ignored instanceof RegExp) {\n          return ignored.test(nestedPath);\n        }\n        return nestedPath === ignored;\n      });\n      if (hasMatches) {\n        continue;\n      }\n    }\n    if (!isSerializable(nestedValue)) {\n      return {\n        keyPath: nestedPath,\n        value: nestedValue\n      };\n    }\n    if (typeof nestedValue === \"object\") {\n      foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\n      if (foundNestedSerializable) {\n        return foundNestedSerializable;\n      }\n    }\n  }\n  if (cache && isNestedFrozen(value)) cache.add(value);\n  return false;\n}\nfunction isNestedFrozen(value) {\n  if (!Object.isFrozen(value)) return false;\n  for (const nestedValue of Object.values(value)) {\n    if (typeof nestedValue !== \"object\" || nestedValue === null) continue;\n    if (!isNestedFrozen(nestedValue)) return false;\n  }\n  return true;\n}\nfunction createSerializableStateInvariantMiddleware(options = {}) {\n  if (process.env.NODE_ENV === \"production\") {\n    return () => (next) => (action) => next(action);\n  } else {\n    const {\n      isSerializable = isPlain,\n      getEntries,\n      ignoredActions = [],\n      ignoredActionPaths = [\"meta.arg\", \"meta.baseQueryMeta\"],\n      ignoredPaths = [],\n      warnAfter = 32,\n      ignoreState = false,\n      ignoreActions = false,\n      disableCache = false\n    } = options;\n    const cache = !disableCache && WeakSet ? /* @__PURE__ */ new WeakSet() : void 0;\n    return (storeAPI) => (next) => (action) => {\n      if (!isAction2(action)) {\n        return next(action);\n      }\n      const result = next(action);\n      const measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\n      if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\n        measureUtils.measureTime(() => {\n          const foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\n          if (foundActionNonSerializableValue) {\n            const {\n              keyPath,\n              value\n            } = foundActionNonSerializableValue;\n            console.error(`A non-serializable value was detected in an action, in the path: \\`${keyPath}\\`. Value:`, value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\n          }\n        });\n      }\n      if (!ignoreState) {\n        measureUtils.measureTime(() => {\n          const state = storeAPI.getState();\n          const foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\n          if (foundStateNonSerializableValue) {\n            const {\n              keyPath,\n              value\n            } = foundStateNonSerializableValue;\n            console.error(`A non-serializable value was detected in the state, in the path: \\`${keyPath}\\`. Value:`, value, `\nTake a look at the reducer(s) handling this action type: ${action.type}.\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`);\n          }\n        });\n        measureUtils.warnIfExceeded();\n      }\n      return result;\n    };\n  }\n}\n\n// src/getDefaultMiddleware.ts\nfunction isBoolean(x) {\n  return typeof x === \"boolean\";\n}\nvar buildGetDefaultMiddleware = () => function getDefaultMiddleware(options) {\n  const {\n    thunk = true,\n    immutableCheck = true,\n    serializableCheck = true,\n    actionCreatorCheck = true\n  } = options ?? {};\n  let middlewareArray = new Tuple();\n  if (thunk) {\n    if (isBoolean(thunk)) {\n      middlewareArray.push(thunkMiddleware);\n    } else {\n      middlewareArray.push(withExtraArgument(thunk.extraArgument));\n    }\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    if (immutableCheck) {\n      let immutableOptions = {};\n      if (!isBoolean(immutableCheck)) {\n        immutableOptions = immutableCheck;\n      }\n      middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\n    }\n    if (serializableCheck) {\n      let serializableOptions = {};\n      if (!isBoolean(serializableCheck)) {\n        serializableOptions = serializableCheck;\n      }\n      middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\n    }\n    if (actionCreatorCheck) {\n      let actionCreatorOptions = {};\n      if (!isBoolean(actionCreatorCheck)) {\n        actionCreatorOptions = actionCreatorCheck;\n      }\n      middlewareArray.unshift(createActionCreatorInvariantMiddleware(actionCreatorOptions));\n    }\n  }\n  return middlewareArray;\n};\n\n// src/autoBatchEnhancer.ts\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\nvar prepareAutoBatched = () => (payload) => ({\n  payload,\n  meta: {\n    [SHOULD_AUTOBATCH]: true\n  }\n});\nvar createQueueWithTimer = (timeout) => {\n  return (notify) => {\n    setTimeout(notify, timeout);\n  };\n};\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\nvar autoBatchEnhancer = (options = {\n  type: \"raf\"\n}) => (next) => (...args) => {\n  const store = next(...args);\n  let notifying = true;\n  let shouldNotifyAtEndOfTick = false;\n  let notificationQueued = false;\n  const listeners = /* @__PURE__ */ new Set();\n  const queueCallback = options.type === \"tick\" ? queueMicrotask : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\n  const notifyListeners = () => {\n    notificationQueued = false;\n    if (shouldNotifyAtEndOfTick) {\n      shouldNotifyAtEndOfTick = false;\n      listeners.forEach((l) => l());\n    }\n  };\n  return Object.assign({}, store, {\n    // Override the base `store.subscribe` method to keep original listeners\n    // from running if we're delaying notifications\n    subscribe(listener2) {\n      const wrappedListener = () => notifying && listener2();\n      const unsubscribe = store.subscribe(wrappedListener);\n      listeners.add(listener2);\n      return () => {\n        unsubscribe();\n        listeners.delete(listener2);\n      };\n    },\n    // Override the base `store.dispatch` method so that we can check actions\n    // for the `shouldAutoBatch` flag and determine if batching is active\n    dispatch(action) {\n      try {\n        notifying = !action?.meta?.[SHOULD_AUTOBATCH];\n        shouldNotifyAtEndOfTick = !notifying;\n        if (shouldNotifyAtEndOfTick) {\n          if (!notificationQueued) {\n            notificationQueued = true;\n            queueCallback(notifyListeners);\n          }\n        }\n        return store.dispatch(action);\n      } finally {\n        notifying = true;\n      }\n    }\n  });\n};\n\n// src/getDefaultEnhancers.ts\nvar buildGetDefaultEnhancers = (middlewareEnhancer) => function getDefaultEnhancers(options) {\n  const {\n    autoBatch = true\n  } = options ?? {};\n  let enhancerArray = new Tuple(middlewareEnhancer);\n  if (autoBatch) {\n    enhancerArray.push(autoBatchEnhancer(typeof autoBatch === \"object\" ? autoBatch : void 0));\n  }\n  return enhancerArray;\n};\n\n// src/configureStore.ts\nfunction configureStore(options) {\n  const getDefaultMiddleware = buildGetDefaultMiddleware();\n  const {\n    reducer = void 0,\n    middleware,\n    devTools = true,\n    preloadedState = void 0,\n    enhancers = void 0\n  } = options || {};\n  let rootReducer;\n  if (typeof reducer === \"function\") {\n    rootReducer = reducer;\n  } else if (isPlainObject2(reducer)) {\n    rootReducer = combineReducers(reducer);\n  } else {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers\");\n  }\n  if (process.env.NODE_ENV !== \"production\" && middleware && typeof middleware !== \"function\") {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"`middleware` field must be a callback\");\n  }\n  let finalMiddleware;\n  if (typeof middleware === \"function\") {\n    finalMiddleware = middleware(getDefaultMiddleware);\n    if (process.env.NODE_ENV !== \"production\" && !Array.isArray(finalMiddleware)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : \"when using a middleware builder function, an array of middleware must be returned\");\n    }\n  } else {\n    finalMiddleware = getDefaultMiddleware();\n  }\n  if (process.env.NODE_ENV !== \"production\" && finalMiddleware.some((item) => typeof item !== \"function\")) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"each middleware provided to configureStore must be a function\");\n  }\n  let finalCompose = compose2;\n  if (devTools) {\n    finalCompose = composeWithDevTools({\n      // Enable capture of stack traces for dispatched Redux actions\n      trace: process.env.NODE_ENV !== \"production\",\n      ...typeof devTools === \"object\" && devTools\n    });\n  }\n  const middlewareEnhancer = applyMiddleware(...finalMiddleware);\n  const getDefaultEnhancers = buildGetDefaultEnhancers(middlewareEnhancer);\n  if (process.env.NODE_ENV !== \"production\" && enhancers && typeof enhancers !== \"function\") {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : \"`enhancers` field must be a callback\");\n  }\n  let storeEnhancers = typeof enhancers === \"function\" ? enhancers(getDefaultEnhancers) : getDefaultEnhancers();\n  if (process.env.NODE_ENV !== \"production\" && !Array.isArray(storeEnhancers)) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : \"`enhancers` callback must return an array\");\n  }\n  if (process.env.NODE_ENV !== \"production\" && storeEnhancers.some((item) => typeof item !== \"function\")) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"each enhancer provided to configureStore must be a function\");\n  }\n  if (process.env.NODE_ENV !== \"production\" && finalMiddleware.length && !storeEnhancers.includes(middlewareEnhancer)) {\n    console.error(\"middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`\");\n  }\n  const composedEnhancer = finalCompose(...storeEnhancers);\n  return createStore(rootReducer, preloadedState, composedEnhancer);\n}\n\n// src/createReducer.ts\nimport { produce as createNextState2, isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\n\n// src/mapBuilders.ts\nfunction executeReducerBuilderCallback(builderCallback) {\n  const actionsMap = {};\n  const actionMatchers = [];\n  let defaultCaseReducer;\n  const builder = {\n    addCase(typeOrActionCreator, reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (actionMatchers.length > 0) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(26) : \"`builder.addCase` should only be called before calling `builder.addMatcher`\");\n        }\n        if (defaultCaseReducer) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(27) : \"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\n        }\n      }\n      const type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\n      if (!type) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(28) : \"`builder.addCase` cannot be called with an empty action type\");\n      }\n      if (type in actionsMap) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(29) : `\\`builder.addCase\\` cannot be called with two reducers for the same action type '${type}'`);\n      }\n      actionsMap[type] = reducer;\n      return builder;\n    },\n    addMatcher(matcher, reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (defaultCaseReducer) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(30) : \"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\n        }\n      }\n      actionMatchers.push({\n        matcher,\n        reducer\n      });\n      return builder;\n    },\n    addDefaultCase(reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (defaultCaseReducer) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(31) : \"`builder.addDefaultCase` can only be called once\");\n        }\n      }\n      defaultCaseReducer = reducer;\n      return builder;\n    }\n  };\n  builderCallback(builder);\n  return [actionsMap, actionMatchers, defaultCaseReducer];\n}\n\n// src/createReducer.ts\nfunction isStateFunction(x) {\n  return typeof x === \"function\";\n}\nfunction createReducer(initialState, mapOrBuilderCallback) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof mapOrBuilderCallback === \"object\") {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : \"The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\n    }\n  }\n  let [actionsMap, finalActionMatchers, finalDefaultCaseReducer] = executeReducerBuilderCallback(mapOrBuilderCallback);\n  let getInitialState;\n  if (isStateFunction(initialState)) {\n    getInitialState = () => freezeDraftable(initialState());\n  } else {\n    const frozenInitialState = freezeDraftable(initialState);\n    getInitialState = () => frozenInitialState;\n  }\n  function reducer(state = getInitialState(), action) {\n    let caseReducers = [actionsMap[action.type], ...finalActionMatchers.filter(({\n      matcher\n    }) => matcher(action)).map(({\n      reducer: reducer2\n    }) => reducer2)];\n    if (caseReducers.filter((cr) => !!cr).length === 0) {\n      caseReducers = [finalDefaultCaseReducer];\n    }\n    return caseReducers.reduce((previousState, caseReducer) => {\n      if (caseReducer) {\n        if (isDraft2(previousState)) {\n          const draft = previousState;\n          const result = caseReducer(draft, action);\n          if (result === void 0) {\n            return previousState;\n          }\n          return result;\n        } else if (!isDraftable2(previousState)) {\n          const result = caseReducer(previousState, action);\n          if (result === void 0) {\n            if (previousState === null) {\n              return previousState;\n            }\n            throw Error(\"A case reducer on a non-draftable value must not return undefined\");\n          }\n          return result;\n        } else {\n          return createNextState2(previousState, (draft) => {\n            return caseReducer(draft, action);\n          });\n        }\n      }\n      return previousState;\n    }, state);\n  }\n  reducer.getInitialState = getInitialState;\n  return reducer;\n}\n\n// src/matchers.ts\nvar matches = (matcher, action) => {\n  if (hasMatchFunction(matcher)) {\n    return matcher.match(action);\n  } else {\n    return matcher(action);\n  }\n};\nfunction isAnyOf(...matchers) {\n  return (action) => {\n    return matchers.some((matcher) => matches(matcher, action));\n  };\n}\nfunction isAllOf(...matchers) {\n  return (action) => {\n    return matchers.every((matcher) => matches(matcher, action));\n  };\n}\nfunction hasExpectedRequestMetadata(action, validStatus) {\n  if (!action || !action.meta) return false;\n  const hasValidRequestId = typeof action.meta.requestId === \"string\";\n  const hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\n  return hasValidRequestId && hasValidRequestStatus;\n}\nfunction isAsyncThunkArray(a) {\n  return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\n}\nfunction isPending(...asyncThunks) {\n  if (asyncThunks.length === 0) {\n    return (action) => hasExpectedRequestMetadata(action, [\"pending\"]);\n  }\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isPending()(asyncThunks[0]);\n  }\n  return isAnyOf(...asyncThunks.map((asyncThunk) => asyncThunk.pending));\n}\nfunction isRejected(...asyncThunks) {\n  if (asyncThunks.length === 0) {\n    return (action) => hasExpectedRequestMetadata(action, [\"rejected\"]);\n  }\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejected()(asyncThunks[0]);\n  }\n  return isAnyOf(...asyncThunks.map((asyncThunk) => asyncThunk.rejected));\n}\nfunction isRejectedWithValue(...asyncThunks) {\n  const hasFlag = (action) => {\n    return action && action.meta && action.meta.rejectedWithValue;\n  };\n  if (asyncThunks.length === 0) {\n    return isAllOf(isRejected(...asyncThunks), hasFlag);\n  }\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejectedWithValue()(asyncThunks[0]);\n  }\n  return isAllOf(isRejected(...asyncThunks), hasFlag);\n}\nfunction isFulfilled(...asyncThunks) {\n  if (asyncThunks.length === 0) {\n    return (action) => hasExpectedRequestMetadata(action, [\"fulfilled\"]);\n  }\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isFulfilled()(asyncThunks[0]);\n  }\n  return isAnyOf(...asyncThunks.map((asyncThunk) => asyncThunk.fulfilled));\n}\nfunction isAsyncThunkAction(...asyncThunks) {\n  if (asyncThunks.length === 0) {\n    return (action) => hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]);\n  }\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isAsyncThunkAction()(asyncThunks[0]);\n  }\n  return isAnyOf(...asyncThunks.flatMap((asyncThunk) => [asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled]));\n}\n\n// src/nanoid.ts\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\nvar nanoid = (size = 21) => {\n  let id = \"\";\n  let i = size;\n  while (i--) {\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n  return id;\n};\n\n// src/createAsyncThunk.ts\nvar commonProperties = [\"name\", \"message\", \"stack\", \"code\"];\nvar RejectWithValue = class {\n  constructor(payload, meta) {\n    this.payload = payload;\n    this.meta = meta;\n  }\n  /*\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\n  does not exist at runtime\n  */\n  _type;\n};\nvar FulfillWithMeta = class {\n  constructor(payload, meta) {\n    this.payload = payload;\n    this.meta = meta;\n  }\n  /*\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\n  does not exist at runtime\n  */\n  _type;\n};\nvar miniSerializeError = (value) => {\n  if (typeof value === \"object\" && value !== null) {\n    const simpleError = {};\n    for (const property of commonProperties) {\n      if (typeof value[property] === \"string\") {\n        simpleError[property] = value[property];\n      }\n    }\n    return simpleError;\n  }\n  return {\n    message: String(value)\n  };\n};\nvar createAsyncThunk = /* @__PURE__ */ (() => {\n  function createAsyncThunk2(typePrefix, payloadCreator, options) {\n    const fulfilled = createAction(typePrefix + \"/fulfilled\", (payload, requestId, arg, meta) => ({\n      payload,\n      meta: {\n        ...meta || {},\n        arg,\n        requestId,\n        requestStatus: \"fulfilled\"\n      }\n    }));\n    const pending = createAction(typePrefix + \"/pending\", (requestId, arg, meta) => ({\n      payload: void 0,\n      meta: {\n        ...meta || {},\n        arg,\n        requestId,\n        requestStatus: \"pending\"\n      }\n    }));\n    const rejected = createAction(typePrefix + \"/rejected\", (error, requestId, arg, payload, meta) => ({\n      payload,\n      error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\n      meta: {\n        ...meta || {},\n        arg,\n        requestId,\n        rejectedWithValue: !!payload,\n        requestStatus: \"rejected\",\n        aborted: error?.name === \"AbortError\",\n        condition: error?.name === \"ConditionError\"\n      }\n    }));\n    function actionCreator(arg) {\n      return (dispatch, getState, extra) => {\n        const requestId = options?.idGenerator ? options.idGenerator(arg) : nanoid();\n        const abortController = new AbortController();\n        let abortHandler;\n        let abortReason;\n        function abort(reason) {\n          abortReason = reason;\n          abortController.abort();\n        }\n        const promise = async function() {\n          let finalAction;\n          try {\n            let conditionResult = options?.condition?.(arg, {\n              getState,\n              extra\n            });\n            if (isThenable(conditionResult)) {\n              conditionResult = await conditionResult;\n            }\n            if (conditionResult === false || abortController.signal.aborted) {\n              throw {\n                name: \"ConditionError\",\n                message: \"Aborted due to condition callback returning false.\"\n              };\n            }\n            const abortedPromise = new Promise((_, reject) => {\n              abortHandler = () => {\n                reject({\n                  name: \"AbortError\",\n                  message: abortReason || \"Aborted\"\n                });\n              };\n              abortController.signal.addEventListener(\"abort\", abortHandler);\n            });\n            dispatch(pending(requestId, arg, options?.getPendingMeta?.({\n              requestId,\n              arg\n            }, {\n              getState,\n              extra\n            })));\n            finalAction = await Promise.race([abortedPromise, Promise.resolve(payloadCreator(arg, {\n              dispatch,\n              getState,\n              extra,\n              requestId,\n              signal: abortController.signal,\n              abort,\n              rejectWithValue: (value, meta) => {\n                return new RejectWithValue(value, meta);\n              },\n              fulfillWithValue: (value, meta) => {\n                return new FulfillWithMeta(value, meta);\n              }\n            })).then((result) => {\n              if (result instanceof RejectWithValue) {\n                throw result;\n              }\n              if (result instanceof FulfillWithMeta) {\n                return fulfilled(result.payload, requestId, arg, result.meta);\n              }\n              return fulfilled(result, requestId, arg);\n            })]);\n          } catch (err) {\n            finalAction = err instanceof RejectWithValue ? rejected(null, requestId, arg, err.payload, err.meta) : rejected(err, requestId, arg);\n          } finally {\n            if (abortHandler) {\n              abortController.signal.removeEventListener(\"abort\", abortHandler);\n            }\n          }\n          const skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\n          if (!skipDispatch) {\n            dispatch(finalAction);\n          }\n          return finalAction;\n        }();\n        return Object.assign(promise, {\n          abort,\n          requestId,\n          arg,\n          unwrap() {\n            return promise.then(unwrapResult);\n          }\n        });\n      };\n    }\n    return Object.assign(actionCreator, {\n      pending,\n      rejected,\n      fulfilled,\n      settled: isAnyOf(rejected, fulfilled),\n      typePrefix\n    });\n  }\n  createAsyncThunk2.withTypes = () => createAsyncThunk2;\n  return createAsyncThunk2;\n})();\nfunction unwrapResult(action) {\n  if (action.meta && action.meta.rejectedWithValue) {\n    throw action.payload;\n  }\n  if (action.error) {\n    throw action.error;\n  }\n  return action.payload;\n}\nfunction isThenable(value) {\n  return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\n}\n\n// src/createSlice.ts\nvar asyncThunkSymbol = /* @__PURE__ */ Symbol.for(\"rtk-slice-createasyncthunk\");\nvar asyncThunkCreator = {\n  [asyncThunkSymbol]: createAsyncThunk\n};\nvar ReducerType = /* @__PURE__ */ ((ReducerType2) => {\n  ReducerType2[\"reducer\"] = \"reducer\";\n  ReducerType2[\"reducerWithPrepare\"] = \"reducerWithPrepare\";\n  ReducerType2[\"asyncThunk\"] = \"asyncThunk\";\n  return ReducerType2;\n})(ReducerType || {});\nfunction getType(slice, actionKey) {\n  return `${slice}/${actionKey}`;\n}\nfunction buildCreateSlice({\n  creators\n} = {}) {\n  const cAT = creators?.asyncThunk?.[asyncThunkSymbol];\n  return function createSlice2(options) {\n    const {\n      name,\n      reducerPath = name\n    } = options;\n    if (!name) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"`name` is a required option for createSlice\");\n    }\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\n      if (options.initialState === void 0) {\n        console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\n      }\n    }\n    const reducers = (typeof options.reducers === \"function\" ? options.reducers(buildReducerCreators()) : options.reducers) || {};\n    const reducerNames = Object.keys(reducers);\n    const context = {\n      sliceCaseReducersByName: {},\n      sliceCaseReducersByType: {},\n      actionCreators: {},\n      sliceMatchers: []\n    };\n    const contextMethods = {\n      addCase(typeOrActionCreator, reducer2) {\n        const type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\n        if (!type) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"`context.addCase` cannot be called with an empty action type\");\n        }\n        if (type in context.sliceCaseReducersByType) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"`context.addCase` cannot be called with two reducers for the same action type: \" + type);\n        }\n        context.sliceCaseReducersByType[type] = reducer2;\n        return contextMethods;\n      },\n      addMatcher(matcher, reducer2) {\n        context.sliceMatchers.push({\n          matcher,\n          reducer: reducer2\n        });\n        return contextMethods;\n      },\n      exposeAction(name2, actionCreator) {\n        context.actionCreators[name2] = actionCreator;\n        return contextMethods;\n      },\n      exposeCaseReducer(name2, reducer2) {\n        context.sliceCaseReducersByName[name2] = reducer2;\n        return contextMethods;\n      }\n    };\n    reducerNames.forEach((reducerName) => {\n      const reducerDefinition = reducers[reducerName];\n      const reducerDetails = {\n        reducerName,\n        type: getType(name, reducerName),\n        createNotation: typeof options.reducers === \"function\"\n      };\n      if (isAsyncThunkSliceReducerDefinition(reducerDefinition)) {\n        handleThunkCaseReducerDefinition(reducerDetails, reducerDefinition, contextMethods, cAT);\n      } else {\n        handleNormalReducerDefinition(reducerDetails, reducerDefinition, contextMethods);\n      }\n    });\n    function buildReducer() {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (typeof options.extraReducers === \"object\") {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\n        }\n      }\n      const [extraReducers = {}, actionMatchers = [], defaultCaseReducer = void 0] = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers];\n      const finalCaseReducers = {\n        ...extraReducers,\n        ...context.sliceCaseReducersByType\n      };\n      return createReducer(options.initialState, (builder) => {\n        for (let key in finalCaseReducers) {\n          builder.addCase(key, finalCaseReducers[key]);\n        }\n        for (let sM of context.sliceMatchers) {\n          builder.addMatcher(sM.matcher, sM.reducer);\n        }\n        for (let m of actionMatchers) {\n          builder.addMatcher(m.matcher, m.reducer);\n        }\n        if (defaultCaseReducer) {\n          builder.addDefaultCase(defaultCaseReducer);\n        }\n      });\n    }\n    const selectSelf = (state) => state;\n    const injectedSelectorCache = /* @__PURE__ */ new Map();\n    let _reducer;\n    function reducer(state, action) {\n      if (!_reducer) _reducer = buildReducer();\n      return _reducer(state, action);\n    }\n    function getInitialState() {\n      if (!_reducer) _reducer = buildReducer();\n      return _reducer.getInitialState();\n    }\n    function makeSelectorProps(reducerPath2, injected = false) {\n      function selectSlice(state) {\n        let sliceState = state[reducerPath2];\n        if (typeof sliceState === \"undefined\") {\n          if (injected) {\n            sliceState = getInitialState();\n          } else if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : \"selectSlice returned undefined for an uninjected slice reducer\");\n          }\n        }\n        return sliceState;\n      }\n      function getSelectors(selectState = selectSelf) {\n        const selectorCache = emplace(injectedSelectorCache, injected, {\n          insert: () => /* @__PURE__ */ new WeakMap()\n        });\n        return emplace(selectorCache, selectState, {\n          insert: () => {\n            const map = {};\n            for (const [name2, selector] of Object.entries(options.selectors ?? {})) {\n              map[name2] = wrapSelector(selector, selectState, getInitialState, injected);\n            }\n            return map;\n          }\n        });\n      }\n      return {\n        reducerPath: reducerPath2,\n        getSelectors,\n        get selectors() {\n          return getSelectors(selectSlice);\n        },\n        selectSlice\n      };\n    }\n    const slice = {\n      name,\n      reducer,\n      actions: context.actionCreators,\n      caseReducers: context.sliceCaseReducersByName,\n      getInitialState,\n      ...makeSelectorProps(reducerPath),\n      injectInto(injectable, {\n        reducerPath: pathOpt,\n        ...config\n      } = {}) {\n        const newReducerPath = pathOpt ?? reducerPath;\n        injectable.inject({\n          reducerPath: newReducerPath,\n          reducer\n        }, config);\n        return {\n          ...slice,\n          ...makeSelectorProps(newReducerPath, true)\n        };\n      }\n    };\n    return slice;\n  };\n}\nfunction wrapSelector(selector, selectState, getInitialState, injected) {\n  function wrapper(rootState, ...args) {\n    let sliceState = selectState(rootState);\n    if (typeof sliceState === \"undefined\") {\n      if (injected) {\n        sliceState = getInitialState();\n      } else if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"selectState returned undefined for an uninjected slice reducer\");\n      }\n    }\n    return selector(sliceState, ...args);\n  }\n  wrapper.unwrapped = selector;\n  return wrapper;\n}\nvar createSlice = /* @__PURE__ */ buildCreateSlice();\nfunction buildReducerCreators() {\n  function asyncThunk(payloadCreator, config) {\n    return {\n      _reducerDefinitionType: \"asyncThunk\" /* asyncThunk */,\n      payloadCreator,\n      ...config\n    };\n  }\n  asyncThunk.withTypes = () => asyncThunk;\n  return {\n    reducer(caseReducer) {\n      return Object.assign({\n        // hack so the wrapping function has the same name as the original\n        // we need to create a wrapper so the `reducerDefinitionType` is not assigned to the original\n        [caseReducer.name](...args) {\n          return caseReducer(...args);\n        }\n      }[caseReducer.name], {\n        _reducerDefinitionType: \"reducer\" /* reducer */\n      });\n    },\n    preparedReducer(prepare, reducer) {\n      return {\n        _reducerDefinitionType: \"reducerWithPrepare\" /* reducerWithPrepare */,\n        prepare,\n        reducer\n      };\n    },\n    asyncThunk\n  };\n}\nfunction handleNormalReducerDefinition({\n  type,\n  reducerName,\n  createNotation\n}, maybeReducerWithPrepare, context) {\n  let caseReducer;\n  let prepareCallback;\n  if (\"reducer\" in maybeReducerWithPrepare) {\n    if (createNotation && !isCaseReducerWithPrepareDefinition(maybeReducerWithPrepare)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(17) : \"Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.\");\n    }\n    caseReducer = maybeReducerWithPrepare.reducer;\n    prepareCallback = maybeReducerWithPrepare.prepare;\n  } else {\n    caseReducer = maybeReducerWithPrepare;\n  }\n  context.addCase(type, caseReducer).exposeCaseReducer(reducerName, caseReducer).exposeAction(reducerName, prepareCallback ? createAction(type, prepareCallback) : createAction(type));\n}\nfunction isAsyncThunkSliceReducerDefinition(reducerDefinition) {\n  return reducerDefinition._reducerDefinitionType === \"asyncThunk\" /* asyncThunk */;\n}\nfunction isCaseReducerWithPrepareDefinition(reducerDefinition) {\n  return reducerDefinition._reducerDefinitionType === \"reducerWithPrepare\" /* reducerWithPrepare */;\n}\nfunction handleThunkCaseReducerDefinition({\n  type,\n  reducerName\n}, reducerDefinition, context, cAT) {\n  if (!cAT) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(18) : \"Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.\");\n  }\n  const {\n    payloadCreator,\n    fulfilled,\n    pending,\n    rejected,\n    settled,\n    options\n  } = reducerDefinition;\n  const thunk = cAT(type, payloadCreator, options);\n  context.exposeAction(reducerName, thunk);\n  if (fulfilled) {\n    context.addCase(thunk.fulfilled, fulfilled);\n  }\n  if (pending) {\n    context.addCase(thunk.pending, pending);\n  }\n  if (rejected) {\n    context.addCase(thunk.rejected, rejected);\n  }\n  if (settled) {\n    context.addMatcher(thunk.settled, settled);\n  }\n  context.exposeCaseReducer(reducerName, {\n    fulfilled: fulfilled || noop,\n    pending: pending || noop,\n    rejected: rejected || noop,\n    settled: settled || noop\n  });\n}\nfunction noop() {\n}\n\n// src/entities/entity_state.ts\nfunction getInitialEntityState() {\n  return {\n    ids: [],\n    entities: {}\n  };\n}\nfunction createInitialStateFactory(stateAdapter) {\n  function getInitialState(additionalState = {}, entities) {\n    const state = Object.assign(getInitialEntityState(), additionalState);\n    return entities ? stateAdapter.setAll(state, entities) : state;\n  }\n  return {\n    getInitialState\n  };\n}\n\n// src/entities/state_selectors.ts\nfunction createSelectorsFactory() {\n  function getSelectors(selectState, options = {}) {\n    const {\n      createSelector: createSelector2 = createDraftSafeSelector\n    } = options;\n    const selectIds = (state) => state.ids;\n    const selectEntities = (state) => state.entities;\n    const selectAll = createSelector2(selectIds, selectEntities, (ids, entities) => ids.map((id) => entities[id]));\n    const selectId = (_, id) => id;\n    const selectById = (entities, id) => entities[id];\n    const selectTotal = createSelector2(selectIds, (ids) => ids.length);\n    if (!selectState) {\n      return {\n        selectIds,\n        selectEntities,\n        selectAll,\n        selectTotal,\n        selectById: createSelector2(selectEntities, selectId, selectById)\n      };\n    }\n    const selectGlobalizedEntities = createSelector2(selectState, selectEntities);\n    return {\n      selectIds: createSelector2(selectState, selectIds),\n      selectEntities: selectGlobalizedEntities,\n      selectAll: createSelector2(selectState, selectAll),\n      selectTotal: createSelector2(selectState, selectTotal),\n      selectById: createSelector2(selectGlobalizedEntities, selectId, selectById)\n    };\n  }\n  return {\n    getSelectors\n  };\n}\n\n// src/entities/state_adapter.ts\nimport { produce as createNextState3, isDraft as isDraft3 } from \"immer\";\nvar isDraftTyped = isDraft3;\nfunction createSingleArgumentStateOperator(mutator) {\n  const operator = createStateOperator((_, state) => mutator(state));\n  return function operation(state) {\n    return operator(state, void 0);\n  };\n}\nfunction createStateOperator(mutator) {\n  return function operation(state, arg) {\n    function isPayloadActionArgument(arg2) {\n      return isFSA(arg2);\n    }\n    const runMutator = (draft) => {\n      if (isPayloadActionArgument(arg)) {\n        mutator(arg.payload, draft);\n      } else {\n        mutator(arg, draft);\n      }\n    };\n    if (isDraftTyped(state)) {\n      runMutator(state);\n      return state;\n    }\n    return createNextState3(state, runMutator);\n  };\n}\n\n// src/entities/utils.ts\nimport { current as current2, isDraft as isDraft4 } from \"immer\";\nfunction selectIdValue(entity, selectId) {\n  const key = selectId(entity);\n  if (process.env.NODE_ENV !== \"production\" && key === void 0) {\n    console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\n  }\n  return key;\n}\nfunction ensureEntitiesArray(entities) {\n  if (!Array.isArray(entities)) {\n    entities = Object.values(entities);\n  }\n  return entities;\n}\nfunction getCurrent(value) {\n  return isDraft4(value) ? current2(value) : value;\n}\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\n  newEntities = ensureEntitiesArray(newEntities);\n  const existingIdsArray = getCurrent(state.ids);\n  const existingIds = new Set(existingIdsArray);\n  const added = [];\n  const updated = [];\n  for (const entity of newEntities) {\n    const id = selectIdValue(entity, selectId);\n    if (existingIds.has(id)) {\n      updated.push({\n        id,\n        changes: entity\n      });\n    } else {\n      added.push(entity);\n    }\n  }\n  return [added, updated, existingIdsArray];\n}\n\n// src/entities/unsorted_state_adapter.ts\nfunction createUnsortedStateAdapter(selectId) {\n  function addOneMutably(entity, state) {\n    const key = selectIdValue(entity, selectId);\n    if (key in state.entities) {\n      return;\n    }\n    state.ids.push(key);\n    state.entities[key] = entity;\n  }\n  function addManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    for (const entity of newEntities) {\n      addOneMutably(entity, state);\n    }\n  }\n  function setOneMutably(entity, state) {\n    const key = selectIdValue(entity, selectId);\n    if (!(key in state.entities)) {\n      state.ids.push(key);\n    }\n    ;\n    state.entities[key] = entity;\n  }\n  function setManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    for (const entity of newEntities) {\n      setOneMutably(entity, state);\n    }\n  }\n  function setAllMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    state.ids = [];\n    state.entities = {};\n    addManyMutably(newEntities, state);\n  }\n  function removeOneMutably(key, state) {\n    return removeManyMutably([key], state);\n  }\n  function removeManyMutably(keys, state) {\n    let didMutate = false;\n    keys.forEach((key) => {\n      if (key in state.entities) {\n        delete state.entities[key];\n        didMutate = true;\n      }\n    });\n    if (didMutate) {\n      state.ids = state.ids.filter((id) => id in state.entities);\n    }\n  }\n  function removeAllMutably(state) {\n    Object.assign(state, {\n      ids: [],\n      entities: {}\n    });\n  }\n  function takeNewKey(keys, update, state) {\n    const original3 = state.entities[update.id];\n    if (original3 === void 0) {\n      return false;\n    }\n    const updated = Object.assign({}, original3, update.changes);\n    const newKey = selectIdValue(updated, selectId);\n    const hasNewKey = newKey !== update.id;\n    if (hasNewKey) {\n      keys[update.id] = newKey;\n      delete state.entities[update.id];\n    }\n    ;\n    state.entities[newKey] = updated;\n    return hasNewKey;\n  }\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n  function updateManyMutably(updates, state) {\n    const newKeys = {};\n    const updatesPerEntity = {};\n    updates.forEach((update) => {\n      if (update.id in state.entities) {\n        updatesPerEntity[update.id] = {\n          id: update.id,\n          // Spreads ignore falsy values, so this works even if there isn't\n          // an existing update already at this key\n          changes: {\n            ...updatesPerEntity[update.id]?.changes,\n            ...update.changes\n          }\n        };\n      }\n    });\n    updates = Object.values(updatesPerEntity);\n    const didMutateEntities = updates.length > 0;\n    if (didMutateEntities) {\n      const didMutateIds = updates.filter((update) => takeNewKey(newKeys, update, state)).length > 0;\n      if (didMutateIds) {\n        state.ids = Object.values(state.entities).map((e) => selectIdValue(e, selectId));\n      }\n    }\n  }\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n  function upsertManyMutably(newEntities, state) {\n    const [added, updated] = splitAddedUpdatedEntities(newEntities, selectId, state);\n    updateManyMutably(updated, state);\n    addManyMutably(added, state);\n  }\n  return {\n    removeAll: createSingleArgumentStateOperator(removeAllMutably),\n    addOne: createStateOperator(addOneMutably),\n    addMany: createStateOperator(addManyMutably),\n    setOne: createStateOperator(setOneMutably),\n    setMany: createStateOperator(setManyMutably),\n    setAll: createStateOperator(setAllMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    upsertMany: createStateOperator(upsertManyMutably),\n    removeOne: createStateOperator(removeOneMutably),\n    removeMany: createStateOperator(removeManyMutably)\n  };\n}\n\n// src/entities/sorted_state_adapter.ts\nfunction findInsertIndex(sortedItems, item, comparisonFunction) {\n  let lowIndex = 0;\n  let highIndex = sortedItems.length;\n  while (lowIndex < highIndex) {\n    let middleIndex = lowIndex + highIndex >>> 1;\n    const currentItem = sortedItems[middleIndex];\n    const res = comparisonFunction(item, currentItem);\n    if (res >= 0) {\n      lowIndex = middleIndex + 1;\n    } else {\n      highIndex = middleIndex;\n    }\n  }\n  return lowIndex;\n}\nfunction insert(sortedItems, item, comparisonFunction) {\n  const insertAtIndex = findInsertIndex(sortedItems, item, comparisonFunction);\n  sortedItems.splice(insertAtIndex, 0, item);\n  return sortedItems;\n}\nfunction createSortedStateAdapter(selectId, comparer) {\n  const {\n    removeOne,\n    removeMany,\n    removeAll\n  } = createUnsortedStateAdapter(selectId);\n  function addOneMutably(entity, state) {\n    return addManyMutably([entity], state);\n  }\n  function addManyMutably(newEntities, state, existingIds) {\n    newEntities = ensureEntitiesArray(newEntities);\n    const existingKeys = new Set(existingIds ?? getCurrent(state.ids));\n    const models = newEntities.filter((model) => !existingKeys.has(selectIdValue(model, selectId)));\n    if (models.length !== 0) {\n      mergeFunction(state, models);\n    }\n  }\n  function setOneMutably(entity, state) {\n    return setManyMutably([entity], state);\n  }\n  function setManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    if (newEntities.length !== 0) {\n      for (const item of newEntities) {\n        delete state.entities[selectId(item)];\n      }\n      mergeFunction(state, newEntities);\n    }\n  }\n  function setAllMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    state.entities = {};\n    state.ids = [];\n    addManyMutably(newEntities, state, []);\n  }\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n  function updateManyMutably(updates, state) {\n    let appliedUpdates = false;\n    let replacedIds = false;\n    for (let update of updates) {\n      const entity = state.entities[update.id];\n      if (!entity) {\n        continue;\n      }\n      appliedUpdates = true;\n      Object.assign(entity, update.changes);\n      const newId = selectId(entity);\n      if (update.id !== newId) {\n        replacedIds = true;\n        delete state.entities[update.id];\n        const oldIndex = state.ids.indexOf(update.id);\n        state.ids[oldIndex] = newId;\n        state.entities[newId] = entity;\n      }\n    }\n    if (appliedUpdates) {\n      mergeFunction(state, [], appliedUpdates, replacedIds);\n    }\n  }\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n  function upsertManyMutably(newEntities, state) {\n    const [added, updated, existingIdsArray] = splitAddedUpdatedEntities(newEntities, selectId, state);\n    if (updated.length) {\n      updateManyMutably(updated, state);\n    }\n    if (added.length) {\n      addManyMutably(added, state, existingIdsArray);\n    }\n  }\n  function areArraysEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] === b[i]) {\n        continue;\n      }\n      return false;\n    }\n    return true;\n  }\n  const mergeFunction = (state, addedItems, appliedUpdates, replacedIds) => {\n    const currentEntities = getCurrent(state.entities);\n    const currentIds = getCurrent(state.ids);\n    const stateEntities = state.entities;\n    let ids = currentIds;\n    if (replacedIds) {\n      ids = new Set(currentIds);\n    }\n    let sortedEntities = [];\n    for (const id of ids) {\n      const entity = currentEntities[id];\n      if (entity) {\n        sortedEntities.push(entity);\n      }\n    }\n    const wasPreviouslyEmpty = sortedEntities.length === 0;\n    for (const item of addedItems) {\n      stateEntities[selectId(item)] = item;\n      if (!wasPreviouslyEmpty) {\n        insert(sortedEntities, item, comparer);\n      }\n    }\n    if (wasPreviouslyEmpty) {\n      sortedEntities = addedItems.slice().sort(comparer);\n    } else if (appliedUpdates) {\n      sortedEntities.sort(comparer);\n    }\n    const newSortedIds = sortedEntities.map(selectId);\n    if (!areArraysEqual(currentIds, newSortedIds)) {\n      state.ids = newSortedIds;\n    }\n  };\n  return {\n    removeOne,\n    removeMany,\n    removeAll,\n    addOne: createStateOperator(addOneMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    setOne: createStateOperator(setOneMutably),\n    setMany: createStateOperator(setManyMutably),\n    setAll: createStateOperator(setAllMutably),\n    addMany: createStateOperator(addManyMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertMany: createStateOperator(upsertManyMutably)\n  };\n}\n\n// src/entities/create_adapter.ts\nfunction createEntityAdapter(options = {}) {\n  const {\n    selectId,\n    sortComparer\n  } = {\n    sortComparer: false,\n    selectId: (instance) => instance.id,\n    ...options\n  };\n  const stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\n  const stateFactory = createInitialStateFactory(stateAdapter);\n  const selectorsFactory = createSelectorsFactory();\n  return {\n    selectId,\n    sortComparer,\n    ...stateFactory,\n    ...selectorsFactory,\n    ...stateAdapter\n  };\n}\n\n// src/listenerMiddleware/index.ts\nimport { isAction as isAction3 } from \"redux\";\n\n// src/listenerMiddleware/exceptions.ts\nvar task = \"task\";\nvar listener = \"listener\";\nvar completed = \"completed\";\nvar cancelled = \"cancelled\";\nvar taskCancelled = `task-${cancelled}`;\nvar taskCompleted = `task-${completed}`;\nvar listenerCancelled = `${listener}-${cancelled}`;\nvar listenerCompleted = `${listener}-${completed}`;\nvar TaskAbortError = class {\n  constructor(code) {\n    this.code = code;\n    this.message = `${task} ${cancelled} (reason: ${code})`;\n  }\n  name = \"TaskAbortError\";\n  message;\n};\n\n// src/listenerMiddleware/utils.ts\nvar assertFunction = (func, expected) => {\n  if (typeof func !== \"function\") {\n    throw new TypeError(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(32) : `${expected} is not a function`);\n  }\n};\nvar noop2 = () => {\n};\nvar catchRejection = (promise, onError = noop2) => {\n  promise.catch(onError);\n  return promise;\n};\nvar addAbortSignalListener = (abortSignal, callback) => {\n  abortSignal.addEventListener(\"abort\", callback, {\n    once: true\n  });\n  return () => abortSignal.removeEventListener(\"abort\", callback);\n};\nvar abortControllerWithReason = (abortController, reason) => {\n  const signal = abortController.signal;\n  if (signal.aborted) {\n    return;\n  }\n  if (!(\"reason\" in signal)) {\n    Object.defineProperty(signal, \"reason\", {\n      enumerable: true,\n      value: reason,\n      configurable: true,\n      writable: true\n    });\n  }\n  ;\n  abortController.abort(reason);\n};\n\n// src/listenerMiddleware/task.ts\nvar validateActive = (signal) => {\n  if (signal.aborted) {\n    const {\n      reason\n    } = signal;\n    throw new TaskAbortError(reason);\n  }\n};\nfunction raceWithSignal(signal, promise) {\n  let cleanup = noop2;\n  return new Promise((resolve, reject) => {\n    const notifyRejection = () => reject(new TaskAbortError(signal.reason));\n    if (signal.aborted) {\n      notifyRejection();\n      return;\n    }\n    cleanup = addAbortSignalListener(signal, notifyRejection);\n    promise.finally(() => cleanup()).then(resolve, reject);\n  }).finally(() => {\n    cleanup = noop2;\n  });\n}\nvar runTask = async (task2, cleanUp) => {\n  try {\n    await Promise.resolve();\n    const value = await task2();\n    return {\n      status: \"ok\",\n      value\n    };\n  } catch (error) {\n    return {\n      status: error instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\n      error\n    };\n  } finally {\n    cleanUp?.();\n  }\n};\nvar createPause = (signal) => {\n  return (promise) => {\n    return catchRejection(raceWithSignal(signal, promise).then((output) => {\n      validateActive(signal);\n      return output;\n    }));\n  };\n};\nvar createDelay = (signal) => {\n  const pause = createPause(signal);\n  return (timeoutMs) => {\n    return pause(new Promise((resolve) => setTimeout(resolve, timeoutMs)));\n  };\n};\n\n// src/listenerMiddleware/index.ts\nvar {\n  assign\n} = Object;\nvar INTERNAL_NIL_TOKEN = {};\nvar alm = \"listenerMiddleware\";\nvar createFork = (parentAbortSignal, parentBlockingPromises) => {\n  const linkControllers = (controller) => addAbortSignalListener(parentAbortSignal, () => abortControllerWithReason(controller, parentAbortSignal.reason));\n  return (taskExecutor, opts) => {\n    assertFunction(taskExecutor, \"taskExecutor\");\n    const childAbortController = new AbortController();\n    linkControllers(childAbortController);\n    const result = runTask(async () => {\n      validateActive(parentAbortSignal);\n      validateActive(childAbortController.signal);\n      const result2 = await taskExecutor({\n        pause: createPause(childAbortController.signal),\n        delay: createDelay(childAbortController.signal),\n        signal: childAbortController.signal\n      });\n      validateActive(childAbortController.signal);\n      return result2;\n    }, () => abortControllerWithReason(childAbortController, taskCompleted));\n    if (opts?.autoJoin) {\n      parentBlockingPromises.push(result.catch(noop2));\n    }\n    return {\n      result: createPause(parentAbortSignal)(result),\n      cancel() {\n        abortControllerWithReason(childAbortController, taskCancelled);\n      }\n    };\n  };\n};\nvar createTakePattern = (startListening, signal) => {\n  const take = async (predicate, timeout) => {\n    validateActive(signal);\n    let unsubscribe = () => {\n    };\n    const tuplePromise = new Promise((resolve, reject) => {\n      let stopListening = startListening({\n        predicate,\n        effect: (action, listenerApi) => {\n          listenerApi.unsubscribe();\n          resolve([action, listenerApi.getState(), listenerApi.getOriginalState()]);\n        }\n      });\n      unsubscribe = () => {\n        stopListening();\n        reject();\n      };\n    });\n    const promises = [tuplePromise];\n    if (timeout != null) {\n      promises.push(new Promise((resolve) => setTimeout(resolve, timeout, null)));\n    }\n    try {\n      const output = await raceWithSignal(signal, Promise.race(promises));\n      validateActive(signal);\n      return output;\n    } finally {\n      unsubscribe();\n    }\n  };\n  return (predicate, timeout) => catchRejection(take(predicate, timeout));\n};\nvar getListenerEntryPropsFrom = (options) => {\n  let {\n    type,\n    actionCreator,\n    matcher,\n    predicate,\n    effect\n  } = options;\n  if (type) {\n    predicate = createAction(type).match;\n  } else if (actionCreator) {\n    type = actionCreator.type;\n    predicate = actionCreator.match;\n  } else if (matcher) {\n    predicate = matcher;\n  } else if (predicate) {\n  } else {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(21) : \"Creating or removing a listener requires one of the known fields for matching an action\");\n  }\n  assertFunction(effect, \"options.listener\");\n  return {\n    predicate,\n    type,\n    effect\n  };\n};\nvar createListenerEntry = /* @__PURE__ */ assign((options) => {\n  const {\n    type,\n    predicate,\n    effect\n  } = getListenerEntryPropsFrom(options);\n  const id = nanoid();\n  const entry = {\n    id,\n    effect,\n    type,\n    predicate,\n    pending: /* @__PURE__ */ new Set(),\n    unsubscribe: () => {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(22) : \"Unsubscribe not initialized\");\n    }\n  };\n  return entry;\n}, {\n  withTypes: () => createListenerEntry\n});\nvar cancelActiveListeners = (entry) => {\n  entry.pending.forEach((controller) => {\n    abortControllerWithReason(controller, listenerCancelled);\n  });\n};\nvar createClearListenerMiddleware = (listenerMap) => {\n  return () => {\n    listenerMap.forEach(cancelActiveListeners);\n    listenerMap.clear();\n  };\n};\nvar safelyNotifyError = (errorHandler, errorToNotify, errorInfo) => {\n  try {\n    errorHandler(errorToNotify, errorInfo);\n  } catch (errorHandlerError) {\n    setTimeout(() => {\n      throw errorHandlerError;\n    }, 0);\n  }\n};\nvar addListener = /* @__PURE__ */ assign(/* @__PURE__ */ createAction(`${alm}/add`), {\n  withTypes: () => addListener\n});\nvar clearAllListeners = /* @__PURE__ */ createAction(`${alm}/removeAll`);\nvar removeListener = /* @__PURE__ */ assign(/* @__PURE__ */ createAction(`${alm}/remove`), {\n  withTypes: () => removeListener\n});\nvar defaultErrorHandler = (...args) => {\n  console.error(`${alm}/error`, ...args);\n};\nvar createListenerMiddleware = (middlewareOptions = {}) => {\n  const listenerMap = /* @__PURE__ */ new Map();\n  const {\n    extra,\n    onError = defaultErrorHandler\n  } = middlewareOptions;\n  assertFunction(onError, \"onError\");\n  const insertEntry = (entry) => {\n    entry.unsubscribe = () => listenerMap.delete(entry.id);\n    listenerMap.set(entry.id, entry);\n    return (cancelOptions) => {\n      entry.unsubscribe();\n      if (cancelOptions?.cancelActive) {\n        cancelActiveListeners(entry);\n      }\n    };\n  };\n  const startListening = (options) => {\n    let entry = find(Array.from(listenerMap.values()), (existingEntry) => existingEntry.effect === options.effect);\n    if (!entry) {\n      entry = createListenerEntry(options);\n    }\n    return insertEntry(entry);\n  };\n  assign(startListening, {\n    withTypes: () => startListening\n  });\n  const stopListening = (options) => {\n    const {\n      type,\n      effect,\n      predicate\n    } = getListenerEntryPropsFrom(options);\n    const entry = find(Array.from(listenerMap.values()), (entry2) => {\n      const matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\n      return matchPredicateOrType && entry2.effect === effect;\n    });\n    if (entry) {\n      entry.unsubscribe();\n      if (options.cancelActive) {\n        cancelActiveListeners(entry);\n      }\n    }\n    return !!entry;\n  };\n  assign(stopListening, {\n    withTypes: () => stopListening\n  });\n  const notifyListener = async (entry, action, api, getOriginalState) => {\n    const internalTaskController = new AbortController();\n    const take = createTakePattern(startListening, internalTaskController.signal);\n    const autoJoinPromises = [];\n    try {\n      entry.pending.add(internalTaskController);\n      await Promise.resolve(entry.effect(\n        action,\n        // Use assign() rather than ... to avoid extra helper functions added to bundle\n        assign({}, api, {\n          getOriginalState,\n          condition: (predicate, timeout) => take(predicate, timeout).then(Boolean),\n          take,\n          delay: createDelay(internalTaskController.signal),\n          pause: createPause(internalTaskController.signal),\n          extra,\n          signal: internalTaskController.signal,\n          fork: createFork(internalTaskController.signal, autoJoinPromises),\n          unsubscribe: entry.unsubscribe,\n          subscribe: () => {\n            listenerMap.set(entry.id, entry);\n          },\n          cancelActiveListeners: () => {\n            entry.pending.forEach((controller, _, set) => {\n              if (controller !== internalTaskController) {\n                abortControllerWithReason(controller, listenerCancelled);\n                set.delete(controller);\n              }\n            });\n          },\n          cancel: () => {\n            abortControllerWithReason(internalTaskController, listenerCancelled);\n            entry.pending.delete(internalTaskController);\n          },\n          throwIfCancelled: () => {\n            validateActive(internalTaskController.signal);\n          }\n        })\n      ));\n    } catch (listenerError) {\n      if (!(listenerError instanceof TaskAbortError)) {\n        safelyNotifyError(onError, listenerError, {\n          raisedBy: \"effect\"\n        });\n      }\n    } finally {\n      await Promise.all(autoJoinPromises);\n      abortControllerWithReason(internalTaskController, listenerCompleted);\n      entry.pending.delete(internalTaskController);\n    }\n  };\n  const clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\n  const middleware = (api) => (next) => (action) => {\n    if (!isAction3(action)) {\n      return next(action);\n    }\n    if (addListener.match(action)) {\n      return startListening(action.payload);\n    }\n    if (clearAllListeners.match(action)) {\n      clearListenerMiddleware();\n      return;\n    }\n    if (removeListener.match(action)) {\n      return stopListening(action.payload);\n    }\n    let originalState = api.getState();\n    const getOriginalState = () => {\n      if (originalState === INTERNAL_NIL_TOKEN) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(23) : `${alm}: getOriginalState can only be called synchronously`);\n      }\n      return originalState;\n    };\n    let result;\n    try {\n      result = next(action);\n      if (listenerMap.size > 0) {\n        const currentState = api.getState();\n        const listenerEntries = Array.from(listenerMap.values());\n        for (const entry of listenerEntries) {\n          let runListener = false;\n          try {\n            runListener = entry.predicate(action, currentState, originalState);\n          } catch (predicateError) {\n            runListener = false;\n            safelyNotifyError(onError, predicateError, {\n              raisedBy: \"predicate\"\n            });\n          }\n          if (!runListener) {\n            continue;\n          }\n          notifyListener(entry, action, api, getOriginalState);\n        }\n      }\n    } finally {\n      originalState = INTERNAL_NIL_TOKEN;\n    }\n    return result;\n  };\n  return {\n    middleware,\n    startListening,\n    stopListening,\n    clearListeners: clearListenerMiddleware\n  };\n};\n\n// src/dynamicMiddleware/index.ts\nimport { compose as compose3 } from \"redux\";\nvar createMiddlewareEntry = (middleware) => ({\n  id: nanoid(),\n  middleware,\n  applied: /* @__PURE__ */ new Map()\n});\nvar matchInstance = (instanceId) => (action) => action?.meta?.instanceId === instanceId;\nvar createDynamicMiddleware = () => {\n  const instanceId = nanoid();\n  const middlewareMap = /* @__PURE__ */ new Map();\n  const withMiddleware = Object.assign(createAction(\"dynamicMiddleware/add\", (...middlewares) => ({\n    payload: middlewares,\n    meta: {\n      instanceId\n    }\n  })), {\n    withTypes: () => withMiddleware\n  });\n  const addMiddleware = Object.assign(function addMiddleware2(...middlewares) {\n    middlewares.forEach((middleware2) => {\n      let entry = find(Array.from(middlewareMap.values()), (entry2) => entry2.middleware === middleware2);\n      if (!entry) {\n        entry = createMiddlewareEntry(middleware2);\n      }\n      middlewareMap.set(entry.id, entry);\n    });\n  }, {\n    withTypes: () => addMiddleware\n  });\n  const getFinalMiddleware = (api) => {\n    const appliedMiddleware = Array.from(middlewareMap.values()).map((entry) => emplace(entry.applied, api, {\n      insert: () => entry.middleware(api)\n    }));\n    return compose3(...appliedMiddleware);\n  };\n  const isWithMiddleware = isAllOf(withMiddleware, matchInstance(instanceId));\n  const middleware = (api) => (next) => (action) => {\n    if (isWithMiddleware(action)) {\n      addMiddleware(...action.payload);\n      return api.dispatch;\n    }\n    return getFinalMiddleware(api)(next)(action);\n  };\n  return {\n    middleware,\n    addMiddleware,\n    withMiddleware,\n    instanceId\n  };\n};\n\n// src/combineSlices.ts\nimport { combineReducers as combineReducers2 } from \"redux\";\nvar isSliceLike = (maybeSliceLike) => \"reducerPath\" in maybeSliceLike && typeof maybeSliceLike.reducerPath === \"string\";\nvar getReducers = (slices) => slices.flatMap((sliceOrMap) => isSliceLike(sliceOrMap) ? [[sliceOrMap.reducerPath, sliceOrMap.reducer]] : Object.entries(sliceOrMap));\nvar ORIGINAL_STATE = Symbol.for(\"rtk-state-proxy-original\");\nvar isStateProxy = (value) => !!value && !!value[ORIGINAL_STATE];\nvar stateProxyMap = /* @__PURE__ */ new WeakMap();\nvar createStateProxy = (state, reducerMap) => emplace(stateProxyMap, state, {\n  insert: () => new Proxy(state, {\n    get: (target, prop, receiver) => {\n      if (prop === ORIGINAL_STATE) return target;\n      const result = Reflect.get(target, prop, receiver);\n      if (typeof result === \"undefined\") {\n        const reducer = reducerMap[prop.toString()];\n        if (reducer) {\n          const reducerResult = reducer(void 0, {\n            type: nanoid()\n          });\n          if (typeof reducerResult === \"undefined\") {\n            throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(24) : `The slice reducer for key \"${prop.toString()}\" returned undefined when called for selector(). If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);\n          }\n          return reducerResult;\n        }\n      }\n      return result;\n    }\n  })\n});\nvar original = (state) => {\n  if (!isStateProxy(state)) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(25) : \"original must be used on state Proxy\");\n  }\n  return state[ORIGINAL_STATE];\n};\nvar noopReducer = (state = {}) => state;\nfunction combineSlices(...slices) {\n  const reducerMap = Object.fromEntries(getReducers(slices));\n  const getReducer = () => Object.keys(reducerMap).length ? combineReducers2(reducerMap) : noopReducer;\n  let reducer = getReducer();\n  function combinedReducer(state, action) {\n    return reducer(state, action);\n  }\n  combinedReducer.withLazyLoadedSlices = () => combinedReducer;\n  const inject = (slice, config = {}) => {\n    const {\n      reducerPath,\n      reducer: reducerToInject\n    } = slice;\n    const currentReducer = reducerMap[reducerPath];\n    if (!config.overrideExisting && currentReducer && currentReducer !== reducerToInject) {\n      if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\n        console.error(`called \\`inject\\` to override already-existing reducer ${reducerPath} without specifying \\`overrideExisting: true\\``);\n      }\n      return combinedReducer;\n    }\n    reducerMap[reducerPath] = reducerToInject;\n    reducer = getReducer();\n    return combinedReducer;\n  };\n  const selector = Object.assign(function makeSelector(selectorFn, selectState) {\n    return function selector2(state, ...args) {\n      return selectorFn(createStateProxy(selectState ? selectState(state, ...args) : state, reducerMap), ...args);\n    };\n  }, {\n    original\n  });\n  return Object.assign(combinedReducer, {\n    inject,\n    selector\n  });\n}\n\n// src/formatProdErrorMessage.ts\nfunction formatProdErrorMessage(code) {\n  return `Minified Redux Toolkit error #${code}; visit https://redux-toolkit.js.org/Errors?code=${code} for the full message or use the non-minified dev environment for full errors. `;\n}\nexport {\n  ReducerType,\n  SHOULD_AUTOBATCH,\n  TaskAbortError,\n  Tuple,\n  addListener,\n  asyncThunkCreator,\n  autoBatchEnhancer,\n  buildCreateSlice,\n  clearAllListeners,\n  combineSlices,\n  configureStore,\n  createAction,\n  createActionCreatorInvariantMiddleware,\n  createAsyncThunk,\n  createDraftSafeSelector,\n  createDraftSafeSelectorCreator,\n  createDynamicMiddleware,\n  createEntityAdapter,\n  createImmutableStateInvariantMiddleware,\n  createListenerMiddleware,\n  produce as createNextState,\n  createReducer,\n  createSelector,\n  createSelectorCreator2 as createSelectorCreator,\n  createSerializableStateInvariantMiddleware,\n  createSlice,\n  current3 as current,\n  findNonSerializableValue,\n  formatProdErrorMessage,\n  freeze,\n  isActionCreator,\n  isAllOf,\n  isAnyOf,\n  isAsyncThunkAction,\n  isDraft5 as isDraft,\n  isFSA as isFluxStandardAction,\n  isFulfilled,\n  isImmutableDefault,\n  isPending,\n  isPlain,\n  isRejected,\n  isRejectedWithValue,\n  lruMemoize,\n  miniSerializeError,\n  nanoid,\n  original2 as original,\n  prepareAutoBatched,\n  removeListener,\n  unwrapResult,\n  weakMapMemoize2 as weakMapMemoize\n};\n//# sourceMappingURL=redux-toolkit.modern.mjs.map","import { createListenerMiddleware, isAnyOf } from '@reduxjs/toolkit';\n\nimport type { CoreRootState } from '../CoreStore';\nimport { gameStateActions } from '../slices/game/slice';\nimport { GameStatus } from '../slices/game/types';\nimport { toastActions } from '../slices/toast/slice';\n\nexport interface BetsToastConfigType {\n  label: string;\n}\n\n// Displaying only rejected cases for now.\nexport const BaseBetsToastConfig: Record<string, BetsToastConfigType> = {\n  [GameStatus.BetsRejected]: {\n    label: 'BETS_REJECTED',\n  },\n  [GameStatus.NotAllBetsAccepted]: {\n    label: 'NOT_ALL_BETS_ACCEPTED',\n  },\n};\n\n// Create middleware\nexport const betToastMiddleware = createListenerMiddleware<CoreRootState>();\n\nbetToastMiddleware.startListening({\n  matcher: isAnyOf(gameStateActions.setCurrentGameStatus),\n  effect: (_, { dispatch, getState }) => {\n    const state = getState();\n    const currentGameStatus = state.gameState.currentStatus;\n    const gameStatus = BaseBetsToastConfig[currentGameStatus];\n\n    if (!gameStatus) return;\n\n    dispatch(toastActions.createToast(gameStatus.label));\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { getChipIndexFromWeight, selectMaxAffordableChip } from '../../utils/chips';\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { chipActions } from '../slices/chips/slice';\nimport { ChipSelectionOrigin } from '../slices/chips/types';\n\n// This middleware listens for fetchUserInfoAction.fulfilled and selects chip for user on initial game load.\n// Depends on fetchUserInfoAction promise, because selectMaxAffordableChip() requires balance data.\nexport const chipSelectionMiddleware = createListenerMiddleware<CoreRootState>();\n\nchipSelectionMiddleware.startListening({\n  actionCreator: fetchUserInfoAction.fulfilled,\n  effect: (_, { dispatch, getState }) => {\n    const state = getState();\n    const selectedChipFromConfig = state.config.playerConfig?.selectedChipIndex;\n    const defaultChipWeight = state.config.tableConfig?.defaultChipOrder;\n    const chips = state.chips.chips;\n    const userSelectedChipWeight = state.chips.selectedChip?.weight;\n    const userInfo = state.gameState.userInfo;\n    const totalBet = state.bets.totalBet;\n\n    // Scenario 1: New user joins table with default chip set on table config level.\n    // Select closest chip to table default chip.\n    if (defaultChipWeight && selectedChipFromConfig === undefined && !userSelectedChipWeight) {\n      const defaultChip = chips[getChipIndexFromWeight(defaultChipWeight)];\n      const selectedChip = selectMaxAffordableChip(chips, defaultChip, userInfo, totalBet);\n      dispatch(chipActions.setSelectedChip({ ...selectedChip, selectedBy: ChipSelectionOrigin.System }));\n    }\n\n    // Scenario 2: New user joins table without default chip set.\n    // Select lowest chip.\n    if (defaultChipWeight === undefined && selectedChipFromConfig === undefined && !userSelectedChipWeight) {\n      const selectedChip = selectMaxAffordableChip(chips, chips[0], userInfo, totalBet);\n      dispatch(chipActions.setSelectedChip({ ...selectedChip, selectedBy: ChipSelectionOrigin.System }));\n    }\n\n    // Scenario 3: Returning user joins table.\n    // Select chip from player config.\n    if (selectedChipFromConfig && !userSelectedChipWeight) {\n      const selectedChipFromConfigFallback = selectedChipFromConfig <= chips.length ? selectedChipFromConfig : 0; // Fallback for invalid selected chip in player config\n      const selectedChip = chips[selectedChipFromConfigFallback];\n      dispatch(chipActions.setSelectedChip({ ...selectedChip, selectedBy: ChipSelectionOrigin.PlayerConfig }));\n    }\n  },\n});\n","import { createListenerMiddleware, isAnyOf } from '@reduxjs/toolkit';\n\nimport { getChipWeightFromIndex, getChipFallbackWeight, getTotalBalanceFromState } from '../../utils/chips';\nimport { roundNumber } from '../../utils/number';\nimport { fetchTableConfigAction } from '../apiActions/fetchTableConfigAction';\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { betActions } from '../slices/bets/slice';\nimport { chipActions } from '../slices/chips/slice';\nimport { gameStateActions } from '../slices/game/slice';\n\n// This middleware listens for tableConfig.fulfilled and sets game chips on initial game load.\nexport const chipsMiddleware = createListenerMiddleware<CoreRootState>();\n\nchipsMiddleware.startListening({\n  actionCreator: fetchTableConfigAction.fulfilled,\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const chipAmounts = state.config.tableConfig?.chipAmounts;\n    const chipColors = state.config.tableConfig?.chipColorCodes;\n\n    if (chipAmounts) {\n      dispatch(\n        chipActions.setChips(\n          chipAmounts.map((value, index) => {\n            const weight = getChipWeightFromIndex(index) || getChipFallbackWeight(chipAmounts, value);\n\n            return {\n              value,\n              weight,\n              color: chipColors?.[weight - 1] ?? undefined, // chip component has a color fallback mechanism implemented based on provided weight\n            };\n          })\n        )\n      );\n    }\n  },\n});\n\n// This middleware listens for actions that affect the total balance and sets chips as disabled if the total balance is insufficient.\nchipsMiddleware.startListening({\n  matcher: isAnyOf(\n    betActions.resetBetStack,\n    betActions.setRawTotalBet,\n    fetchUserInfoAction.fulfilled,\n    gameStateActions.setBalance,\n    gameStateActions.updateBalance\n  ),\n  effect: (action, { dispatch, getState }) => {\n    const state = getState();\n    const decimalPrecision = state.gameState.currencyInfo?.digitsNumber || 2;\n\n    const total =\n      action.type == 'userInfo/fetchUserInfo/fulfilled'\n        ? // tolal balace is updated\n          getTotalBalanceFromState(state)\n        : // total balance calculated considering bets, solving weird js decimal artithmetic\n          roundNumber(getTotalBalanceFromState(state) - state.bets.totalBet, decimalPrecision);\n\n    const mappedChips = state.chips.chips.map((chip) => ({\n      ...chip,\n      disabled: total < chip.value,\n    }));\n\n    dispatch(chipActions.setChips(mappedChips));\n  },\n});\n","import { CurrencyFormatter } from '../formatters/CurrencyFormatter';\nimport type { CurrencyInfo } from '../store/slices/game/types';\n\nimport { numberFormatterLocal } from './formatters';\n\nenum SeparatorType {\n  Decimal = 'decimal',\n  Group = 'group',\n}\n\nexport const getCurrencyInfo = (currency: string, locale: string): CurrencyInfo => {\n  // This function extracts group and digits number for the currency\n  // TODO: Ideally this info should be returned from the server\n  // TODO: not sure group group number is needed at all and is same in different locales\n\n  const getSeparator = (locale: string, separatorType: SeparatorType): string => {\n    const localeInfo = Intl.NumberFormat(numberFormatterLocal(locale)).formatToParts(10000.1);\n    return localeInfo.find((part) => part.type === separatorType)?.value || separatorType === SeparatorType.Decimal\n      ? '.'\n      : ',';\n  };\n\n  // Separators will remain the same as long as same locale is used (en-US)\n  const decimalSeparator = '.';\n  const groupSeparator = ',';\n\n  try {\n    const formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency,\n      currencyDisplay: 'narrowSymbol',\n    });\n    const testNumber = 10000.123;\n\n    const formattedNumber = formatter.format(testNumber);\n\n    const [firstPart, decimals] = formattedNumber.split(decimalSeparator);\n    const [rest, group] = firstPart.split(groupSeparator);\n\n    const numberStart = rest.lastIndexOf('1');\n    const symbol = rest.substring(0, numberStart).trim();\n\n    return {\n      digitsNumber: decimals?.length ?? 0,\n      groupNumber: group?.length ?? 0,\n      decimalSeparator: getSeparator(locale, SeparatorType.Decimal),\n      groupSeparator: getSeparator(locale, SeparatorType.Group),\n      symbol: CurrencyFormatter.replaceExceptionSymbol(symbol, currency),\n    };\n  } catch (e) {\n    // This is an unknown currency, we assume it is EURO like currency\n    return {\n      symbol: currency,\n      digitsNumber: 2,\n      decimalSeparator: '.',\n      groupSeparator: ',',\n      groupNumber: 3,\n    };\n  }\n};\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { getCurrencyInfo } from '../../utils/getCurrencyInfo';\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { gameStateActions } from '../slices/game/slice';\n\nexport const localisationMiddleware = createListenerMiddleware<CoreRootState>();\n\n// TODO: get rid of me in scope of https://pragmaticplay.atlassian.net/browse/UIC-479\nlocalisationMiddleware.startListening({\n  actionCreator: fetchUserInfoAction.fulfilled,\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const locale = state.settings.language.current;\n    const currency = state.gameState.currency;\n\n    if (locale && currency) {\n      dispatch(gameStateActions.setCurrencyInfo(getCurrencyInfo(currency, locale)));\n    }\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { fetchPlayerConfigAction } from '../apiActions/fetchPlayerConfigAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { gameStateActions } from '../slices/game/slice';\n\nexport const playerConfigMiddleware = createListenerMiddleware<CoreRootState>();\n\nplayerConfigMiddleware.startListening({\n  actionCreator: fetchPlayerConfigAction.fulfilled,\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const tableId = state.config.session?.tableId;\n    const netWinBalanceMap = state.config.playerConfig?.netWinBalanceMap || {};\n\n    if (tableId && netWinBalanceMap[tableId]) {\n      dispatch(gameStateActions.setNetPosition(netWinBalanceMap[tableId]));\n    }\n  },\n});\n","import { createListenerMiddleware, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { PlayerConfigBodyType } from '../../api/fetchers/playerConfigSync/types';\nimport { fetchPlayerConfigSyncAction } from '../apiActions/fetchPlayerConfigSyncAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { chipActions } from '../slices/chips/slice';\nimport { settingsActions } from '../slices/settings/slice';\n\ntype SyncActionType =\n  | PayloadAction<boolean, typeof settingsActions.setStreamEnabled.type>\n  | PayloadAction<{ channel: string | number; value: number }, typeof settingsActions.setVolume.type>\n  | PayloadAction<number, typeof settingsActions.setMasterVolume.type>\n  | PayloadAction<boolean, typeof settingsActions.setShowOtherMessages.type>\n  | PayloadAction<{ weight: number }, typeof chipActions.setAndSyncSelectedChip.type>;\n\nexport const settingSyncMiddleware = createListenerMiddleware<CoreRootState>();\n\n// List of actions that trigger this middleware to send POST messages to the server\nconst actionCreators = [\n  settingsActions.setStreamEnabled,\n  settingsActions.setVolume,\n  settingsActions.setMasterVolume,\n  settingsActions.setShowOtherMessages,\n  chipActions.setAndSyncSelectedChip,\n];\n\nactionCreators.forEach((actionCreator) => {\n  settingSyncMiddleware.startListening({\n    actionCreator,\n    effect: (action, { dispatch, getState }) => {\n      const state = getState();\n      const session = state.config.session;\n\n      if (!session) return;\n      const { JSESSIONID, metaServer: url, gametype } = session;\n      if (!(JSESSIONID && url)) return;\n\n      const body = generateBody(action, getState());\n      const timeStamp = Date.now();\n\n      dispatch(\n        fetchPlayerConfigSyncAction({\n          JSESSIONID,\n          ck: timeStamp.toString(),\n          url: `${url}/api/ui/savePlayerConfigGeneric`,\n          body: { ...body, gameType: gametype ?? '' },\n        })\n      );\n    },\n  });\n});\n\nconst generateBody = (action: SyncActionType, state: CoreRootState): Record<string, unknown> => {\n  const { type, payload } = action;\n  const gameId = state.config.tableConfig?.operatorGameId;\n\n  switch (type) {\n    case settingsActions.setStreamEnabled.type: {\n      if (!gameId) return {};\n\n      // Server enables video stream for value `false` and disables for `true`.\n      // Preserve inverse logic here to avoid breaking existing player configs.\n      const streamValue = payload ? 'false' : 'true';\n      const streamSettingsList: string = state.config.playerConfig?.videoStreamRaw?.video_stream ?? '';\n\n      return { video_stream: updateStreamSettingsList(gameId, streamValue, streamSettingsList) };\n    }\n\n    case settingsActions.setVolume.type: {\n      const { channel, value } = payload;\n      const newVolume = Math.ceil(value * 100).toString();\n      const key = getPlayerConfigParamByChannel(channel); // todo: refactor to non-game-specific solution\n      // todo: dealer_voice\n\n      return { [key]: newVolume };\n    }\n\n    // Save restored chanel volumes after unmuting master channel\n    case settingsActions.setMasterVolume.type: {\n      // todo: see if possible to utilise setVolume action instead, as this makes requests on every master volume change\n      if (payload) {\n        const body: Record<string, unknown> = {\n          video_sounds: Math.ceil(state.settings.volume.channels.studio.value * 100).toString(),\n          game_effects: Math.ceil(state.settings.volume.channels.game.value * 100).toString(),\n          // todo: dealer_voice\n        };\n        if (state.settings.volume.channels.voiceover) {\n          body.vo_music = Math.ceil(state.settings.volume.channels.voiceover.value * 100).toString();\n        }\n        if (state.settings.volume.channels.background) {\n          body.bg_music = Math.ceil(state.settings.volume.channels.background.value * 100).toString();\n        }\n        return body;\n      } else return {};\n    }\n\n    case chipActions.setAndSyncSelectedChip.type: {\n      if (!gameId) return {};\n\n      const { weight } = payload;\n      const selectedChipList: string = state.config.playerConfig?.selectedChipParamsRaw?.selected_chip ?? '';\n      const updatedSelectedChipList = updateSelectedChipList(gameId, weight, selectedChipList);\n\n      return { selected_chip: updatedSelectedChipList };\n    }\n\n    case settingsActions.setShowOtherMessages.type: {\n      const chatValue = payload;\n\n      return { showothermessages: chatValue };\n    }\n    default:\n      return {};\n  }\n};\n\n// Utils\nexport function updateSelectedChipList(\n  gameId: string,\n  weight: number,\n  selectedChipList: string\n): PlayerConfigBodyType['selected_chip'] {\n  // Early exit if gameId or weight is not valid\n  if (!gameId || weight == null) {\n    return selectedChipList;\n  }\n\n  const newWeight = weight - 1; // Server expects chip index\n  const newSelectedChip = `${gameId}=${newWeight}`;\n  const validEntries = sanitizeList(selectedChipList); // Sanitize the list\n\n  // If the gameId already exists in the list, update it; otherwise, append it\n  if (validEntries.includes(gameId)) {\n    const regex = new RegExp(`${gameId}=\\\\d+`);\n    const oldSelectedChip = validEntries.match(regex);\n    return oldSelectedChip ? validEntries.replace(oldSelectedChip[0], newSelectedChip) : validEntries;\n  }\n\n  return validEntries ? `${validEntries},${newSelectedChip}` : newSelectedChip;\n}\n\nexport function updateStreamSettingsList(\n  gameId: string,\n  streamValue: 'true' | 'false',\n  streamSettingsList: string\n): PlayerConfigBodyType['video_stream'] {\n  const newStreamValue = `${gameId}=${streamValue}`;\n\n  if (streamSettingsList.includes(gameId)) {\n    const oldStreamValue = streamSettingsList.match(new RegExp(`${gameId}=(true|false)`));\n\n    if (oldStreamValue) {\n      return streamSettingsList.replace(oldStreamValue[0], newStreamValue);\n    }\n  } else {\n    return streamSettingsList ? `${streamSettingsList},${newStreamValue}` : newStreamValue;\n  }\n\n  return streamSettingsList;\n}\n\n// Function to sanitize the list\nfunction sanitizeList(selectedChipList: string): string {\n  return selectedChipList\n    .replace(/^,+|,+$/g, '')\n    .replace(/,+/g, ',')\n    .replace(/\\s+/g, '')\n    .split(',')\n    .filter((entry) => entry.includes('='))\n    .join(',');\n}\n\nfunction getPlayerConfigParamByChannel(channel: string | number): string {\n  switch (channel) {\n    case 'studio':\n      return 'video_sounds';\n    case 'game':\n      return 'game_effects';\n    case 'voiceover':\n      return 'vo_music';\n    case 'background':\n      return 'bg_music';\n    default:\n      return channel as string;\n  }\n}\n","import { createListenerMiddleware, isAnyOf } from '@reduxjs/toolkit';\n\nimport { SUBTITLES_SUPPORTED_LANGUAGES } from '../../components//subtitles/constants';\nimport { DEFAULT_LANGUAGE_CODE } from '../../utils/language';\nimport { fetchCasinoConfigAction } from '../apiActions/fetchCasinoConfigAction';\nimport { fetchPlayerConfigSyncAction } from '../apiActions/fetchPlayerConfigSyncAction';\nimport { fetchTableConfigAction } from '../apiActions/fetchTableConfigAction';\nimport type { CoreRootState } from '../CoreStore';\nimport { subtitlesActions } from '../slices/subtitles/slice';\nimport { SubtitlesGroup } from '../slices/subtitles/types';\n\ntype SyncActionType =\n  | typeof subtitlesActions.finishOnboarding.type\n  | typeof subtitlesActions.setIsEnabled.type\n  | typeof subtitlesActions.setPositions.type\n  | typeof subtitlesActions.setSize.type;\n\nexport const subtitlesSyncMiddleware = createListenerMiddleware<CoreRootState>();\n\n// Listener to initialize subtitles group\nsubtitlesSyncMiddleware.startListening({\n  matcher: isAnyOf(fetchCasinoConfigAction.fulfilled, fetchTableConfigAction.fulfilled),\n  effect: (_, { dispatch, getState }) => {\n    const {\n      config: { casinoConfig, tableConfig, session },\n    } = getState();\n\n    if (!(casinoConfig && tableConfig && session)) {\n      return;\n    }\n\n    const casinoLanguages = casinoConfig.languages ?? [];\n    const dealerLanguage = (tableConfig.dedicatedLanguage || DEFAULT_LANGUAGE_CODE).toLowerCase();\n    const playerLanguage = (session.lang || DEFAULT_LANGUAGE_CODE).toLowerCase();\n\n    let subtitlesGroup: SubtitlesGroup;\n    if (dealerLanguage === playerLanguage) {\n      subtitlesGroup = SubtitlesGroup.GROUP1;\n    } else if (SUBTITLES_SUPPORTED_LANGUAGES.includes(playerLanguage) && casinoLanguages.includes(playerLanguage)) {\n      subtitlesGroup = SubtitlesGroup.GROUP2;\n    } else {\n      subtitlesGroup = SubtitlesGroup.GROUP3;\n    }\n\n    dispatch(subtitlesActions.setGroup(subtitlesGroup));\n  },\n});\n\n// Listener to save subtitles config to the player config when the subtitles config changes\nsubtitlesSyncMiddleware.startListening({\n  // List of actions that trigger this middleware to send POST messages to the server\n  matcher: isAnyOf(\n    subtitlesActions.finishOnboarding,\n    subtitlesActions.setIsEnabled,\n    subtitlesActions.setPositions,\n    subtitlesActions.setSize\n  ),\n  effect: (action, { dispatch, getState }) => {\n    const state = getState();\n    const session = state.config.session;\n    if (!session) return;\n\n    const { JSESSIONID, metaServer: url, gametype } = session;\n    if (!(JSESSIONID && url)) return;\n\n    const body = generateBody(action.type as SyncActionType, state);\n    const timeStamp = Date.now();\n\n    dispatch(\n      fetchPlayerConfigSyncAction({\n        JSESSIONID,\n        ck: timeStamp.toString(),\n        url: `${url}/api/ui/savePlayerConfigGeneric`,\n        body: { ...body, gameType: gametype ?? '' },\n      })\n    );\n  },\n});\n\nconst generateBody = (actionType: SyncActionType, state: CoreRootState): Record<string, unknown> => {\n  const { subtitles } = state;\n\n  switch (actionType) {\n    case subtitlesActions.finishOnboarding.type: {\n      return { sub_onboarded: subtitles.isOnboarded };\n    }\n    case subtitlesActions.setIsEnabled.type: {\n      return { [`sub_enabled_${subtitles.group.toString()}`]: subtitles.isEnabled };\n    }\n    case subtitlesActions.setPositions.type: {\n      return { sub_positions: JSON.stringify(subtitles.positionsRaw) };\n    }\n    case subtitlesActions.setSize.type: {\n      return { sub_sizes: JSON.stringify(subtitles.sizes) };\n    }\n    default: {\n      return {};\n    }\n  }\n};\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { rawTotalBet } from '../../utils/bets';\nimport type { CoreRootState } from '../CoreStore';\nimport { autoplayActions } from '../slices/autoplay/slice';\nimport { AutoplayStatus } from '../slices/autoplay/types';\nimport { configActions } from '../slices/config/slice';\nimport { GameStatus } from '../slices/game/types';\n\n// This middleware listens for game visibility change\nexport const visibilityMiddleware = createListenerMiddleware<CoreRootState>();\n\nexport const isBetsOpenStatusSelector = (state: CoreRootState): boolean => {\n  return (\n    state.gameState.currentStatus === GameStatus.PlaceYourBets || state.gameState.currentStatus === GameStatus.LastBets\n  );\n};\n\nvisibilityMiddleware.startListening({\n  actionCreator: configActions.setGameVisible,\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const { roundsLeft, autoplayStatus } = state.autoplay;\n    const isBetsOpenStatus = isBetsOpenStatusSelector(state);\n    const { betStack } = state.bets;\n    const totalBet = betStack.length > 0 ? rawTotalBet(betStack[betStack.length - 1]?.betSpots) : 0;\n\n    if (state.config.isGameVisible) {\n      if (roundsLeft > 0) {\n        dispatch(autoplayActions.resume());\n        /**\n         * We must check against old state because in this callback the dispatch will have happened but the callback will not have received updated values at the time of execution.\n         * That is why we check if it has been paused or running. If we get Stopped, we don't want to bet.\n         */\n        if (autoplayStatus === AutoplayStatus.Paused || autoplayStatus === AutoplayStatus.Running) {\n          /**\n           * Place bets manually in case the AP is unpaused during open bets countdown and have\n           * missed the chance to place the bet on bets open start.\n           * */\n          if (isBetsOpenStatus && totalBet === 0) {\n            dispatch(autoplayActions.setPendingAutoplayBet(true));\n          }\n        }\n      } else {\n        /**\n         * We must handle case where the game becomes visible during bets open phase after long enough time has passed to lose WS connection.\n         * In such a case the check on win results processor might be missed that stops the auotplay at 0 rounds left.\n         * Therefore we must check if rounds left is 0 and if so, stop the autoplay here.\n         */\n        if (autoplayStatus === AutoplayStatus.Paused || autoplayStatus === AutoplayStatus.Running) {\n          dispatch(autoplayActions.stop());\n        }\n      }\n    } else {\n      dispatch(autoplayActions.pause());\n    }\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { rawTotalBet } from '../../../utils/bets';\nimport type { CoreRootState } from '../../CoreStore';\n\nimport { betActions } from './slice';\n\nexport const betMiddleware = createListenerMiddleware<CoreRootState>();\n\nbetMiddleware.startListening({\n  predicate: (_action, currentState, originalState) => {\n    const currentBetStack = currentState.bets.betStack;\n    const originalBetStack = originalState.bets.betStack;\n    return currentBetStack !== originalBetStack;\n  },\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const bets = state.bets.betStack?.[state.bets.betStack.length - 1];\n\n    const totalBet = bets ? rawTotalBet(bets.betSpots) : 0;\n    dispatch(betActions.setRawTotalBet(totalBet));\n  },\n});\n","import type {\n  AnyAction,\n  ListenerMiddleware,\n  Reducer,\n  StateFromReducersMapObject,\n  ThunkDispatch,\n} from '@reduxjs/toolkit';\nimport { configureStore } from '@reduxjs/toolkit';\nimport type { FC, PropsWithChildren, ReactElement } from 'react';\nimport type { TypedUseSelectorHook } from 'react-redux';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\n\nimport { betToastMiddleware } from './middleware/betToastMiddleware';\nimport { chipSelectionMiddleware } from './middleware/chipSelectionMiddleware';\nimport { chipsMiddleware } from './middleware/chipsMiddleware';\nimport { crossOriginCommunicationMiddleware } from './middleware/crossOriginCommunicationMiddleware';\nimport { createFetchErrorMiddleware } from './middleware/fetchErrorMiddleware';\nimport { localisationMiddleware } from './middleware/localisationMiddleware';\nimport { playerConfigMiddleware } from './middleware/playerConfigMiddleware';\nimport { settingSyncMiddleware } from './middleware/settingSyncMiddleware';\nimport { subtitlesSyncMiddleware } from './middleware/subtitlesSyncMiddleware';\nimport { visibilityMiddleware } from './middleware/visibilityMiddleware';\nimport { autoplaySlice } from './slices/autoplay/slice';\nimport { betMiddleware } from './slices/bets/middleware';\nimport { betSlice } from './slices/bets/slice';\nimport { bonusPromotionsSlice } from './slices/bonusPromotions/slice';\nimport { chatSlice } from './slices/chat/slice';\nimport { chipSlice } from './slices/chips/slice';\nimport { configSlice } from './slices/config/slice';\nimport { gameStateSlice } from './slices/game/slice';\nimport { headerSlice } from './slices/header/slice';\nimport { helpSlice } from './slices/help/slice';\nimport { initializationSlice } from './slices/initialization/slice';\nimport { miniLobbySlice } from './slices/minilobby/slice';\nimport { nickNameInfoSlice } from './slices/nickname/slice';\nimport { performanceSlice } from './slices/performance/slice';\nimport { popupSlice } from './slices/popup/slice';\nimport { promotionSlice } from './slices/promotions/slice';\nimport { promotionsV2Slice } from './slices/promotionsV2/slice';\nimport { settingsSlice } from './slices/settings/slice';\nimport { subtitlesSlice } from './slices/subtitles/slice';\nimport { toastSlice } from './slices/toast/slice';\n\nexport const coreReducer = {\n  [autoplaySlice.name]: autoplaySlice.reducer,\n  [betSlice.name]: betSlice.reducer,\n  [chatSlice.name]: chatSlice.reducer,\n  [chipSlice.name]: chipSlice.reducer,\n  [configSlice.name]: configSlice.reducer,\n  [gameStateSlice.name]: gameStateSlice.reducer,\n  [headerSlice.name]: headerSlice.reducer,\n  [helpSlice.name]: helpSlice.reducer,\n  [initializationSlice.name]: initializationSlice.reducer,\n  [popupSlice.name]: popupSlice.reducer,\n  [promotionSlice.name]: promotionSlice.reducer,\n  [promotionsV2Slice.name]: promotionsV2Slice.reducer,\n  [bonusPromotionsSlice.name]: bonusPromotionsSlice.reducer,\n  [settingsSlice.name]: settingsSlice.reducer,\n  [toastSlice.name]: toastSlice.reducer,\n  [performanceSlice.name]: performanceSlice.reducer,\n  [subtitlesSlice.name]: subtitlesSlice.reducer,\n  [nickNameInfoSlice.name]: nickNameInfoSlice.reducer,\n  [miniLobbySlice.name]: miniLobbySlice.reducer,\n};\n\nconst fetchErrorMiddleware = createFetchErrorMiddleware();\n\nexport const createGameStore = <GameReducer extends Record<string, Reducer>>(\n  reducer: GameReducer,\n  options?: { middleware: ListenerMiddleware<unknown, ThunkDispatch<unknown, unknown, AnyAction>, unknown>[] }\n) => {\n  return configureStore({\n    reducer: Object.assign({}, coreReducer, reducer),\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware()\n        .concat(betMiddleware.middleware)\n        .concat(betToastMiddleware.middleware)\n        .concat(chipSelectionMiddleware.middleware)\n        .concat(chipsMiddleware.middleware)\n        .concat(crossOriginCommunicationMiddleware.middleware)\n        .concat(fetchErrorMiddleware.middleware)\n        .concat(localisationMiddleware.middleware)\n        .concat(playerConfigMiddleware.middleware)\n        .concat(settingSyncMiddleware.middleware)\n        .concat(subtitlesSyncMiddleware.middleware)\n        .concat(visibilityMiddleware.middleware)\n        .concat([...(options?.middleware || [])]),\n    devTools: {\n      predicate: (_, action) => !['chat/storeGameChatMessage', 'chat/storeLastChatMessage'].includes(action.type),\n    },\n  });\n};\n\nexport interface CoreRootState extends StateFromReducersMapObject<typeof coreReducer> {}\nexport const useCoreSelector: TypedUseSelectorHook<CoreRootState> = useSelector;\n\nexport interface CoreStoreType extends ReturnType<typeof createGameStore> {}\nexport type CoreDispatch = CoreStoreType['dispatch'];\nexport const useCoreDispatch: () => CoreDispatch = useDispatch<CoreDispatch>;\n\nexport interface CoreStoreProviderProps extends PropsWithChildren {\n  store: CoreStoreType;\n}\n\nexport const CoreStoreProvider: FC<CoreStoreProviderProps> = ({ children, store }): ReactElement => (\n  <Provider store={store}>{children}</Provider>\n);\n","import type { CasinoConfigType } from '../../../api/fetchers/casinoConfig/types';\nimport type { EnvConfigType } from '../../../api/fetchers/env/types';\nimport type { Compliance, PlayerConfigType } from '../../../api/fetchers/playerConfig/types';\nimport type { RtpType } from '../../../api/fetchers/rtp/types';\nimport type { StatsSettingsType } from '../../../api/fetchers/settings/types';\nimport type { StatsConfigType } from '../../../api/fetchers/stats/types';\nimport type { Jurisdiction, TableConfigType } from '../../../api/fetchers/tableConfig/types';\nimport { WinMessageBranding } from '../../../api/fetchers/tableConfig/types';\nimport type { RealityCheckType } from '../../../api/fetchers/versions/types';\nimport type { IUserSession } from '../../../config/UserSession';\nimport { useCoreSelector } from '../../CoreStore';\nimport type { ILimit } from '../../slices/bets/types';\n\nimport type { ICoreTimings, PlayAreaDimensions } from './types';\n\nexport const useConfigSlice = {\n  casinoConfig: (): CasinoConfigType | null => {\n    return useCoreSelector(({ config }) => config.casinoConfig);\n  },\n  env: (): EnvConfigType | null => {\n    return useCoreSelector(({ config }) => config.env);\n  },\n  playerConfig: (): PlayerConfigType | null => {\n    return useCoreSelector(({ config }) => config.playerConfig);\n  },\n  session: (): IUserSession | null | undefined => {\n    return useCoreSelector(({ config }) => config.session);\n  },\n  tableConfig: (): TableConfigType | null => {\n    return useCoreSelector(({ config }) => config.tableConfig);\n  },\n  statsSettings: (): StatsSettingsType | null => {\n    return useCoreSelector(({ config }) => config.statsSettings);\n  },\n  statsConfig: (): StatsConfigType | null => {\n    return useCoreSelector(({ config }) => config.statsConfig);\n  },\n  baseUrl: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.metaServer ?? config.session?.actualWebServer ?? null);\n  },\n  urlParams: (): string => {\n    return useCoreSelector(({ config }) => config.urlParams);\n  },\n  realityCheck: (): RealityCheckType | null => {\n    return useCoreSelector(({ config }) => config.realityCheck);\n  },\n  JSESSIONID: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.JSESSIONID ?? null);\n  },\n  tableId: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.tableId ?? null);\n  },\n  gameMode: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.gameMode ?? null);\n  },\n  playerLanguage: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.lang ?? null);\n  },\n  playAreaSize: (): number => {\n    return useCoreSelector(({ config }) => config.playAreaSize);\n  },\n  playAreaDimensions: (): PlayAreaDimensions | null => {\n    return useCoreSelector(({ config }) => config.playAreaDimensions);\n  },\n  tableBetLimits: (): ILimit | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.tableBetLimit ?? null);\n  },\n  tableName: (): string | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.tableName ?? null);\n  },\n  gsAddress: (): string | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.gsAddress ?? null);\n  },\n  compliance: (): Compliance | null => {\n    return useCoreSelector(({ config }) => config.playerConfig?.compliance ?? null);\n  },\n  jurisdiction: (): Jurisdiction | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.jurisdiction ?? null);\n  },\n  jwtToken: (): string | null | undefined => {\n    return useCoreSelector(({ config }) => config.playerConfig?.jwtToken);\n  },\n  userId: (): string | null => {\n    return useCoreSelector(({ config }) => config.playerConfig?.userId ?? null);\n  },\n  countryCode: (): string | null => {\n    return useCoreSelector(({ config }) => config.playerConfig?.countryCode ?? null);\n  },\n  videoStream: (): boolean | null => {\n    return useCoreSelector(({ config }) => config.playerConfig?.videoStream ?? null);\n  },\n  showOtherMessages: (): boolean => {\n    return useCoreSelector(({ config }) => {\n      const disableChat = config.tableConfig?.jurisdiction?.disableChat;\n      const showOtherMessages = config.playerConfig?.showOtherMessages;\n      return Boolean(!disableChat && showOtherMessages);\n    });\n  },\n  version: (): string | null => {\n    return useCoreSelector(({ config }) => config.versions?.[0]?.version ?? null);\n  },\n  getCashierIframeEvent: (): boolean => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.cashierIframeEvent ?? false);\n  },\n  getCashierPopupEnabled: (): boolean => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.cashierPopupEnabled ?? false);\n  },\n  getCashierUrl: (): string | null => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.cashierUrl ?? null);\n  },\n  getCashierUrlFirst: (): string | null => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.cashierUrlFirst ?? null);\n  },\n  getCashierUrlMobile: (): string | null => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.cashierUrlMobile ?? null);\n  },\n  getChipColorCodes: (): string[] | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.chipColorCodes ?? null);\n  },\n  getRtp: (): RtpType | null => {\n    return useCoreSelector(({ config }) => config.rtp);\n  },\n  getGameType: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.gametype ?? null);\n  },\n  getMetaServer: (): string | null => {\n    return useCoreSelector(({ config }) => config.session?.metaServer ?? null);\n  },\n  getTimings: (): ICoreTimings | undefined => {\n    return useCoreSelector(({ config }) => config.timings);\n  },\n  getTiming: (key: keyof ICoreTimings): number | undefined => {\n    return useCoreSelector(({ config }) => config.timings?.[key]);\n  },\n  isChatDisabled: (): boolean => {\n    return useCoreSelector(\n      ({ config }) => (config.casinoConfig?.chatDisabled || config.tableConfig?.chatDisabled) ?? false\n    );\n  },\n  isMicroGamingEnabled: (): boolean => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.isMicroGamingEnabled ?? false);\n  },\n  isResponsibleGamingEnabled: (): boolean => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.isResponsibleGamingEnabled ?? false);\n  },\n  isAsia: (): boolean => {\n    return useCoreSelector(({ config }) =>\n      config.casinoConfig?.casinoRegion\n        ? config.casinoConfig?.casinoRegion?.toLowerCase() === 'asia' ||\n          config.casinoConfig?.casinoRegion?.toLowerCase() === 'manila'\n        : false\n    );\n  },\n  isSubtitlesAvailable: (): boolean => {\n    return useCoreSelector(({ config }) => config.tableConfig?.subtitlesAvailable ?? false);\n  },\n  isSubtitlesEnabled: (): boolean => {\n    return useCoreSelector(({ config, subtitles }) => config.playerConfig?.subtitlesEnabled[subtitles.group] ?? false);\n  },\n  gameHeaderOverlayHeight: (): number => {\n    return useCoreSelector(({ config }) => config.gameHeaderOverlayHeight ?? 0);\n  },\n  isChatVisibleByDefault: (): boolean => {\n    return useCoreSelector(({ config }) => config.tableConfig?.chatVisibleByDefault ?? false);\n  },\n  isInfiniteAutoPlayEnabled: (): boolean => {\n    return useCoreSelector(({ config }) => config.tableConfig?.isInfiniteAutoPlayEnabled ?? false);\n  },\n  isCanvasEnabled: (): boolean => {\n    return useCoreSelector(({ config }) => config.tableConfig?.canvasEnabled ?? false);\n  },\n  isGameVisible: (): boolean => {\n    return useCoreSelector(({ config }) => config.isGameVisible);\n  },\n  isRestrictNickNameEdit: (): boolean => {\n    return useCoreSelector(({ config }) => config.casinoConfig?.restrictNicknameEdit ?? false);\n  },\n  getTableVariant: (): string => {\n    return useCoreSelector(({ config }) => config.tableConfig?.tableVariant ?? '');\n  },\n  getHasNoCommissionToggle: (): boolean => {\n    return useCoreSelector(({ config }) => config.tableConfig?.hasNoCommissionToggle ?? false);\n  },\n  getWinMessageBranding: (): WinMessageBranding => {\n    return useCoreSelector(({ config }) => config.tableConfig?.winMessageBranding ?? WinMessageBranding.NONE);\n  },\n  getMaxPayout: (): number | null => {\n    return useCoreSelector(({ config }) => config.tableConfig?.payoutBetMaxLimit ?? null);\n  },\n};\n","import { useMemo } from 'react';\n\nexport const useModifiers = (\n  styles: Record<string, string>,\n  baseClassName: string,\n  /** List of baseClassName modifiers, which can be either static or dynamic.\n   *\n   * Static:\n   *\n   * 1) Each modifier should have a key and a boolean condition.\n   * Example: { white: isBetsOpen } => Result: <baseClassName>_white will be added if isBetsOpen is true.\n   * 2) If you need to add a modifier permanently, you can use the boolean value `true` as the condition.\n   * Example: { red: true } => Result: <baseClassName>_red will always be added.\n   *\n   * Dynamic:\n   *\n   * Additionally, modifiers support dynamic classNames, and the modifier can be passed as the key of the game status.\n   * Example: { [store.gameStatus]: isBetsOpen } =>\n   * Result: <baseClassName>_<store.gameStatus> will be added if the corresponding class is found in the styles module file and isBetsOpen is true.\n   * Example #2: { [store.gameStatus]: true } => Result: <baseClassName>_<store.gameStatus> will always be added if found.\n   * Example live: libraries/core/src/components/controls/toggle/Toggle.tsx\n   */\n  modifiers: Record<string, boolean | null | undefined>,\n  options?: {\n    /** Set to true if the result of strings should to be with baseClassName */\n    withBaseClass?: boolean;\n    /** @deprecated use modifiers: { white: true, green: true } */\n    additionalModifiers?: string[];\n    /** Option to pass classNames from props or Custom string which should be in result string of classNames.\n     * Example: extraClassName: 'clear_fix' => Result: <baseClassName> <baseClassName>_<modifiers> clear_fix\n     */\n    extraClassName?: string;\n  }\n): string => {\n  return useMemo(() => {\n    let result = '';\n    result += Object.keys(modifiers).reduce(\n      (acc, modifier) => {\n        if (!modifiers[modifier]) return acc;\n        const className = styles[`${baseClassName}_${modifier}`];\n        if (!className) return acc;\n        return `${acc} ${className}`;\n      },\n      options?.withBaseClass ? styles[baseClassName] : ''\n    );\n    if (options?.additionalModifiers) {\n      result += ' ';\n      result += options.additionalModifiers?.reduce((acc, modifier) => {\n        const className = styles[`${baseClassName}_${modifier}`];\n        if (!className) return acc;\n        return `${acc} ${className}`;\n      }, '');\n    }\n    if (options?.extraClassName) {\n      result += ' ';\n      result += options.extraClassName;\n    }\n    return result.trim();\n  }, [baseClassName, modifiers, options, styles]);\n};\n","import { Logger, LoggerLogOnce } from '../logger/Logger';\n\nimport { ParseXml } from './converters/parseXml';\nimport { ForbiddenError } from './errors/ForbiddenError';\nimport { NetworkError } from './errors/NetworkError';\nimport { ParsingError } from './errors/ParsingError';\nimport { UnauthorizedError } from './errors/UnauthorizedError';\nimport type { FetcherFetchOptions, FetcherJson } from './types';\n\nclass FetcherRoot {\n  private readonly ttl: number = 30 * 60 * 1000; // 30 minutes\n  private readonly cache: Record<string, { time: number; payload: Promise<unknown> }> = {};\n\n  private static instance: FetcherRoot;\n\n  public static getInstance(): FetcherRoot {\n    if (!this.instance) {\n      this.instance = new FetcherRoot();\n    }\n    return this.instance;\n  }\n\n  public getEndpoint(url: string): string {\n    /** Remove proxy if url includes one */\n    const proxy = '/proxy/';\n    const index = url.indexOf(proxy);\n    if (index !== -1) {\n      url = url.substring(index + proxy.length);\n    }\n    try {\n      return new URL(url).pathname;\n    } catch (error) {\n      // If the URL is not valid, we return the original URL, but removing the query string\n      return url.split('?')[0] || '';\n    }\n  }\n\n  public fetch<Payload, Body = FetcherJson>(url: string, options?: FetcherFetchOptions<Body>): Promise<Payload> {\n    const originalUrl = url;\n\n    if (options?.params) {\n      const parameters = Object.entries(options.params as Record<string, string>).filter(\n        ([, value]) => value !== undefined\n      );\n      if (parameters.length) {\n        const searchParams = new URLSearchParams(parameters);\n        url = `${url}?${searchParams.toString()}`;\n      }\n    }\n\n    const cached = this.cache[url];\n    if (!options?.force && cached && cached.time > Date.now() && options?.method !== 'POST') {\n      return cached.payload as Promise<Payload>;\n    }\n\n    const { body, ...rest } = options || {};\n\n    const shouldStringifyBody = body?.toString() == '[object Object]'; // TODO: Improve this check\n    const preparedBody = shouldStringifyBody && body ? JSON.stringify(body) : (body as XMLHttpRequestBodyInit);\n\n    const endpoint = options?.logAs ?? this.getEndpoint(url);\n\n    if (!options?.silent) {\n      Logger.logEvent('fetch', {\n        additional: endpoint,\n      });\n    }\n\n    this.cache[url] = {\n      time: Date.now() + (options?.ttl || this.ttl),\n      payload: fetch(url, { signal: options?.signal, body: preparedBody, ...rest })\n        .then((response: Response) => {\n          if (!response.ok) {\n            if (response.status === 401) {\n              throw new UnauthorizedError(`UnauthorizedError`, endpoint, originalUrl);\n            }\n            if (response.status === 403) {\n              throw new ForbiddenError(`ForbiddenError`, endpoint, originalUrl);\n            }\n            throw new NetworkError(`${response.status}`, response.body, endpoint, originalUrl);\n          }\n          let result: Promise<unknown>;\n          switch (options?.format) {\n            case 'text':\n              result = response.text().catch((e) => {\n                throw new ParsingError('TEXT', e.message, endpoint, originalUrl);\n              });\n              break;\n            case 'xml':\n              result = response\n                .text()\n                .then(ParseXml.parseString)\n                .catch((e) => {\n                  throw new ParsingError('XML', e.message, endpoint, originalUrl);\n                });\n              break;\n            default:\n              result = response.text().then<unknown>((text: string) => {\n                /**\n                 * Temporary hack until we can rely on that backend is sending json responses from json endpoints.\n                 * Fallback to XML because of the inconsistency in the backend error responses.\n                 */\n                try {\n                  return JSON.parse(text);\n                } catch (error) {\n                  const xmlResponse = ParseXml.parseString(text);\n                  if (isSessionExpired(xmlResponse)) {\n                    throw new UnauthorizedError(`UnauthorizedError`, endpoint, originalUrl);\n                  }\n                  return xmlResponse;\n                }\n              });\n              break;\n          }\n\n          if (options?.root) {\n            const root: string = options.root;\n            result = result.then((data: any) => {\n              try {\n                return data[root];\n              } catch (error) {\n                throw new ParsingError('[Fetcher] Invalid response, unable to parse');\n              }\n            }) as Promise<Payload>;\n          }\n\n          return result as Promise<Payload>;\n        })\n        // Clean-up on Error and Re-Throw\n        .catch((error: Error | NetworkError | ParsingError) => {\n          const endpoint = this.getEndpoint(url);\n          // For those CORS errors we default to this.\n          let failurePlace = error.message;\n\n          if (error instanceof UnauthorizedError) {\n            failurePlace = `UnauthorizedError`;\n            /** Invalid session error should be logged only once per loading attempt */\n            LoggerLogOnce.logFailureOnce(\n              'errors',\n              'session',\n              failurePlace,\n              Date.now(),\n              1,\n              JSON.stringify({ url: originalUrl, endpoint: endpoint }),\n              false\n            );\n          } else {\n            if (error instanceof NetworkError) {\n              failurePlace = `${error.name} | Code: ${error.message}`;\n            }\n            if (error instanceof ParsingError) {\n              failurePlace = `${error.message} ${error.name}`;\n            }\n            Logger.logFailure(\n              'errors',\n              'fetch',\n              failurePlace,\n              Date.now(),\n              1,\n              JSON.stringify({ url: originalUrl, endpoint: endpoint }),\n              false\n            );\n          }\n\n          delete this.cache[url];\n          throw error;\n        }),\n    };\n\n    return this.cache[url]?.payload as Promise<Payload>;\n  }\n}\n\nexport const Fetcher = FetcherRoot.getInstance();\n\n/**\n * Check if the session is expired for cases where json enpoint returns XML format errors.\n */\nfunction isSessionExpired(data: any): boolean {\n  return data['response']?.['session'] === 'offline';\n}\n","const searchRegex = /\\{(\\w+)}/g;\n\nexport function StringFormatter(text: string, attrs: string[]): string;\nexport function StringFormatter(text: string, attrs: Record<string, string>): string;\nexport function StringFormatter(text: string, attrs: string[] | Record<string, string>): string;\nexport function StringFormatter(text: string, attrs: string[] | Record<string, string>): string {\n  return text.replace(searchRegex, (match: string, group: string) => (attrs as never)[group] || match);\n}\n","export type PluralRuleSelectorRule = {\n  other: string; // 'other' is required\n} & Partial<Record<Exclude<Intl.LDMLPluralRule, 'other'>, string>>; // The rest are optional\n\nclass PluralRuleSelectorClass {\n  private cache: Map<string, string> = new Map();\n\n  private pickTextFromCardinalNumber = ({\n    ruleConfig,\n    locale,\n    cardinal,\n  }: {\n    ruleConfig: PluralRuleSelectorRule;\n    locale: string;\n    cardinal: number;\n  }): string => {\n    try {\n      const supportedLocales = Intl.PluralRules.supportedLocalesOf([locale]);\n      if (supportedLocales.length === 0) return ruleConfig.other;\n      const localePlural = new Intl.PluralRules(locale);\n      const rule = localePlural.select(cardinal);\n      return ruleConfig[rule] ?? ruleConfig.other;\n    } catch (err) {\n      // Default select other rule\n      return ruleConfig.other ?? '';\n    }\n  };\n\n  private createRuleConfigKey(ruleConfig: PluralRuleSelectorRule): string {\n    return Object.values(ruleConfig).join(',');\n  }\n\n  public getText = ({\n    cardinal,\n    locale,\n    ruleConfig,\n  }: {\n    cardinal: number;\n    locale: string;\n    ruleConfig: PluralRuleSelectorRule;\n  }): string => {\n    const ruleConfigKey = this.createRuleConfigKey(ruleConfig);\n    const cacheKey = `${cardinal}_${locale}_${ruleConfigKey}`;\n\n    if (this.cache.has(cacheKey)) {\n      return this.cache.get(cacheKey)!;\n    }\n\n    const text = this.pickTextFromCardinalNumber({ ruleConfig, locale, cardinal });\n    this.cache.set(cacheKey, text);\n\n    return text;\n  };\n}\n\nexport const PluralRuleSelector = new PluralRuleSelectorClass();\n","import type { FC, ReactElement } from 'react';\n\nimport { useLocale, useTranslation } from '../../api/useTranslation';\nimport { StringFormatter } from '../../formatters/StringFormatter';\nimport { Logger } from '../../logger/Logger';\n\nimport { PluralRuleSelector } from './PluralRuleSelector';\n\nexport interface L12nProps {\n  /**\n   * The translation key string used to fetch the localized text.\n   */\n  tk: string;\n  /**\n   * An array of strings used for dynamic values substitution within the text.\n   */\n  dynamicValues?: string[] | Record<string, string>;\n  /**\n   * An boolean flag to enable markdown parsing on the localized text.\n   */\n  markdown?: boolean;\n}\n\nexport const L12nText: FC<L12nProps> = ({ tk, dynamicValues, markdown }): ReactElement | string => {\n  const { isFetching, translations } = useTranslation();\n  const locale = useLocale();\n\n  // Display non-breaking space while translation files are fetching\n  if (isFetching || !locale) {\n    return '\\u00A0';\n  }\n\n  const translatedValue: string | undefined | Record<string, string> = translations[tk];\n\n  if (translatedValue === undefined) {\n    console.warn(`[L12nText] \"${tk}\" is not found`);\n    Logger.logFailedTranslation(tk, locale);\n\n    return tk;\n  }\n  let text: string = translatedValue;\n  if (typeof translatedValue === 'object') {\n    // Use dynamicValues[0] as the cardinal, parsed to a number, if available\n    const cardinal = Array.isArray(dynamicValues) && dynamicValues[0] ? parseInt(dynamicValues[0]) : undefined;\n    if (cardinal) {\n      text = PluralRuleSelector.getText({\n        locale,\n        cardinal,\n        ruleConfig: translatedValue,\n      });\n    }\n  }\n  text = dynamicValues ? StringFormatter(text, dynamicValues) : text;\n\n  // Very Slow - Use with caution\n  if (markdown) {\n    const htmlText = parseMarkdown(text);\n    return <span dangerouslySetInnerHTML={{ __html: htmlText }} />;\n  }\n\n  return text;\n};\n\nconst markdownBoldRegex = /\\*\\*(.*?)\\*\\*/g;\nconst markdownUnderlinedReg = /__(.*?)__/g;\n// Utils\nfunction parseMarkdown(text: string): string {\n  return (\n    text\n      // Replace ** with <b></b> for bold text\n      .replace(markdownBoldRegex, '<b>$1</b>')\n      // Replace __ with <u></u> for underlined text\n      .replace(markdownUnderlinedReg, '<u>$1</u>')\n  );\n}\n","import { UserSession } from '../config/UserSession';\nimport { OnBeforeUnload } from '../utils/BeforeUnloadManager';\nimport { shouldEnableProdLogger } from '../utils/env';\nimport { Version } from '../utils/Version';\n\nimport { LogTargets } from './config';\nimport { BatchCategory, LoggerEndpoint, VideoStatsDetails } from './constants';\nimport type {\n  BatchPayload,\n  IDurationOptions,\n  IDurationPayload,\n  IEventOptions,\n  IEventPayload,\n  IFailedTranslationPayload,\n  IFailureOptions,\n  IFailurePayload,\n  ILogPayloadBase,\n  ISearchQueryPayload,\n  IUniqueEventPayload,\n  LogTarget,\n} from './types';\n\nconst isProdEnv = shouldEnableProdLogger();\n\nconst PROD_STATS_COLLECTOR_URL = 'https://stats-collector.zprnnrkgtbfiiigm.net';\nconst DEV_STATS_COLLECTOR_URL = 'https://stats-collector.pplc-app-dev1.pragmaticplaylive.net';\n\nconst LOG_ENDPOINTS: string[] = [isProdEnv ? PROD_STATS_COLLECTOR_URL : DEV_STATS_COLLECTOR_URL];\n\nclass LoggerRoot {\n  private readonly logTargets: Record<string, LogTarget> = LogTargets;\n  private environment: string = location.host;\n  private application: string = location.pathname;\n  private location: string = '';\n  private casino: string = '';\n  private tableId: string = '';\n  private userId: string = '';\n  private coreSessionId = '';\n  private coreBrowserId = '';\n  private variant: string | null;\n  private bandwidth: number = 0;\n  private version: string = Version.displayVersion;\n  private windowWidth: number = window.innerWidth;\n  private windowHeight: number = window.innerHeight;\n  private device_orientation: number = this.windowWidth < this.windowHeight ? 1 : 0;\n\n  private cache: {\n    [LoggerEndpoint.Event]: Array<IEventPayload>;\n    [LoggerEndpoint.UniqueEvent]: Array<IUniqueEventPayload>;\n    [LoggerEndpoint.Duration]: Array<IDurationPayload>;\n    [LoggerEndpoint.Failure]: Array<IFailurePayload>;\n    [LoggerEndpoint.FailedTranslation]: Array<IFailedTranslationPayload>;\n    [LoggerEndpoint.SearchQueries]: Array<ISearchQueryPayload>;\n  };\n\n  // Store logged translation keys to reduce amount of requests during session\n  private loggedTranslationKeys: Set<string> = new Set();\n\n  constructor() {\n    this.cache = {\n      [LoggerEndpoint.Event]: [],\n      [LoggerEndpoint.UniqueEvent]: [],\n      [LoggerEndpoint.Duration]: [],\n      [LoggerEndpoint.Failure]: [],\n      [LoggerEndpoint.FailedTranslation]: [],\n      [LoggerEndpoint.SearchQueries]: [],\n    };\n\n    const userSession = UserSession.getSession();\n    if (!userSession) {\n      this.logFailure('errors', 'session', 'empty', Date.now(), 1, '', false);\n    }\n    this.casino = userSession?.casinoId || '';\n    this.variant = userSession?.operatorTheme || null;\n    this.tableId = userSession?.tableId || '';\n    this.coreSessionId = UserSession.getCoreSessionId() ?? '';\n    this.coreBrowserId = UserSession.getCoreBrowserId() ?? '';\n\n    window.addEventListener(\n      'resize',\n      () => {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.device_orientation = this.windowWidth < this.windowHeight ? 1 : 0;\n      },\n      { passive: true }\n    );\n\n    /* Setup logg processing */\n    OnBeforeUnload.registerCallback(this.processLogs.bind(this));\n\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this.processLogs();\n      }\n    });\n\n    setInterval(() => {\n      this.processLogs();\n    }, 60_000);\n  }\n\n  public getApplication(): string {\n    return `${this.application}${this.variant ? `-${this.variant}` : ''}`;\n  }\n\n  public getUserPartition(): number {\n    if (this.userId === '') {\n      return 255;\n    }\n    let hash = 0;\n    for (let i = 0; i < this.userId.length; i++) {\n      const character = this.userId.charCodeAt(i);\n      hash = (hash << 5) - hash + character;\n      hash = hash & hash;\n    }\n    return hash % 12;\n  }\n\n  private getBasePayload(): ILogPayloadBase {\n    return {\n      timestamp: Date.now(),\n      additional: '',\n      environment: this.environment,\n      application: this.getApplication(),\n      location: this.location,\n      casino: this.casino,\n      tableId: this.tableId,\n      os: '',\n      browser: '',\n      version: '',\n      width: this.windowWidth,\n      height: this.windowHeight,\n      bandwidth: this.bandwidth,\n      app_version: this.version,\n      partition: this.getUserPartition(),\n    };\n  }\n\n  private static instance: LoggerRoot;\n\n  public static getInstance(): LoggerRoot {\n    if (!this.instance) {\n      this.instance = new LoggerRoot();\n    }\n    return this.instance;\n  }\n\n  public updateBandwidth(value: number): void {\n    this.bandwidth = value;\n  }\n\n  public updateLocation(value: string): void {\n    this.location = value;\n  }\n\n  public updateUserId(value: string): void {\n    this.userId = value;\n  }\n\n  private processLogs(): void {\n    if (!(Object.keys(this.cache) as LoggerEndpoint[]).some((key) => this.cache[key].length !== 0)) return;\n\n    this.performLog(\n      {\n        [BatchCategory.Events]: this.cache[LoggerEndpoint.Event],\n        [BatchCategory.UniqueEvents]: this.cache[LoggerEndpoint.UniqueEvent],\n        [BatchCategory.Durations]: this.cache[LoggerEndpoint.Duration],\n        [BatchCategory.Failures]: this.cache[LoggerEndpoint.Failure],\n        [BatchCategory.FailedTranslations]: this.cache[LoggerEndpoint.FailedTranslation],\n        [BatchCategory.SearchQueries]: this.cache[LoggerEndpoint.SearchQueries],\n      },\n      'batch',\n      'server'\n    );\n    this.cache = {\n      [LoggerEndpoint.Event]: [],\n      [LoggerEndpoint.UniqueEvent]: [],\n      [LoggerEndpoint.Duration]: [],\n      [LoggerEndpoint.Failure]: [],\n      [LoggerEndpoint.FailedTranslation]: [],\n      [LoggerEndpoint.SearchQueries]: [],\n    };\n  }\n\n  public logDuration(metric: string, options: IDurationOptions): void;\n  public logDuration(\n    logger_name: string,\n    metric: string,\n    timestamp: number,\n    duration: number,\n    key: string,\n    instant: boolean,\n    bandwidth?: number\n  ): void;\n  public logDuration(\n    metricOrLoggerName: string,\n    optionsOrMetric: string | IDurationOptions,\n    timestamp?: number,\n    duration?: number,\n    key?: string,\n    instant?: boolean,\n    bandwidth?: number\n  ): void {\n    let data: IDurationPayload;\n    let loggerName: string;\n    let isInstant: boolean;\n\n    if (typeof optionsOrMetric === 'string') {\n      loggerName = metricOrLoggerName;\n      isInstant = instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        timestamp: timestamp || Date.now(),\n        duration: duration ?? 0,\n        metric: optionsOrMetric,\n        userId: this.userId,\n        sessionId: this.coreSessionId,\n        browserId: this.coreSessionId,\n        device_orientation: this.device_orientation,\n        additional: key ?? '',\n        bandwidth: bandwidth ?? this.bandwidth,\n        count: 1,\n      };\n    } else {\n      loggerName = optionsOrMetric.loggerName;\n      isInstant = optionsOrMetric.instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        duration: optionsOrMetric.duration,\n        metric: metricOrLoggerName,\n        userId: this.userId,\n        sessionId: this.coreSessionId,\n        browserId: this.coreBrowserId,\n        device_orientation: this.device_orientation,\n        additional: optionsOrMetric.additional ?? '',\n        count: 1,\n      };\n    }\n\n    this.dispatchLog(data, isInstant, loggerName, LoggerEndpoint.Duration);\n  }\n\n  public logEvent(metric: string, options?: IEventOptions): void;\n  public logEvent(\n    logger_name: string,\n    metric: string,\n    timestamp: number,\n    count: number,\n    key: string,\n    instant: boolean,\n    bandwidth?: number\n  ): void;\n  public logEvent(\n    metricOrLoggerName: string,\n    optionsOrMetric?: string | IEventOptions,\n    timestamp?: number,\n    count?: number,\n    key?: string,\n    instant?: boolean,\n    bandwidth?: number\n  ): void {\n    let data: IEventPayload;\n    let isInstant: boolean;\n    let loggerName: string;\n    if (typeof optionsOrMetric !== 'string') {\n      const options = optionsOrMetric;\n      loggerName = options?.loggerName ?? 'click';\n      isInstant = options?.instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        ...options,\n        count: options?.count || 1,\n        metric: metricOrLoggerName,\n        userId: this.userId,\n        sessionId: this.coreSessionId,\n        browserId: this.coreBrowserId,\n        device_orientation: this.device_orientation,\n        additional: options?.additional || '',\n        bandwidth: options?.bandwidth ? options.bandwidth : this.bandwidth,\n      };\n    } else {\n      loggerName = metricOrLoggerName;\n      isInstant = instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        timestamp: timestamp ? timestamp : Date.now(),\n        count: count ? count : 1,\n        metric: optionsOrMetric,\n        userId: this.userId,\n        sessionId: this.coreSessionId,\n        browserId: this.coreBrowserId,\n        device_orientation: this.device_orientation,\n        additional: key ? key : '',\n        bandwidth: bandwidth ? bandwidth : this.bandwidth,\n      };\n    }\n    this.dispatchLog(data, isInstant, loggerName, LoggerEndpoint.Event);\n  }\n  public logUniqueEvent(\n    metric: string,\n    options?: {\n      loggerName?: string;\n      count?: number;\n      payload?: string;\n      numberPayload?: number;\n      instant?: boolean;\n    }\n  ): void {\n    const isInstant = options?.instant ?? false;\n    const loggerName = options?.loggerName ?? 'click';\n    const data: IUniqueEventPayload = {\n      timestamp: Date.now(),\n      userId: this.userId,\n      metric: metric,\n      payload: options?.payload || '',\n      numberPayload: options?.numberPayload || 0,\n      casino: this.casino,\n      tableId: this.tableId,\n      location: this.location,\n      application: this.getApplication(),\n      appVersion: this.version,\n      environment: this.environment,\n      count: options?.count || 1,\n    };\n\n    this.dispatchLog(data, isInstant, loggerName, LoggerEndpoint.UniqueEvent);\n  }\n\n  public logSearchQuery(query: string, vendor: string, result: string): void {\n    const data: ISearchQueryPayload = {\n      timestamp: Date.now(),\n      query: query,\n      count: 1,\n      vendor: vendor,\n      result: result,\n      userId: this.userId,\n      sessionId: this.coreSessionId,\n      browserId: this.coreBrowserId,\n      device_orientation: this.device_orientation,\n    };\n    this.dispatchLog(data, false, 'click', LoggerEndpoint.SearchQueries);\n  }\n\n  public logFailure(type: string, options?: IFailureOptions): void;\n  public logFailure(\n    logger_name: string,\n    type?: string,\n    place?: string,\n    timestamp?: number,\n    count?: number,\n    key?: string,\n    instant?: boolean\n  ): void;\n  public logFailure(\n    typeOrLoggerName: string,\n    optionsOrType?: string | IFailureOptions,\n    place?: string,\n    timestamp?: number,\n    count?: number,\n    key?: string,\n    instant?: boolean\n  ): void {\n    let data: IFailurePayload;\n    let isInstant: boolean;\n    let loggerName: string;\n    if (typeof optionsOrType !== 'string') {\n      const options = optionsOrType;\n      loggerName = options?.loggerName ?? 'errors';\n      isInstant = options?.instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        ...options,\n        place: options?.place || '',\n        type: typeOrLoggerName,\n        additional: options?.additional || '',\n        count: options?.count || 1,\n      };\n    } else {\n      loggerName = typeOrLoggerName;\n      isInstant = instant ?? false;\n      data = {\n        ...this.getBasePayload(),\n        timestamp: timestamp ? timestamp : Date.now(),\n        count: count ? count : 1,\n        type: optionsOrType,\n        place: place || '',\n        additional: key || '',\n      };\n    }\n\n    this.dispatchLog(data, isInstant, loggerName, LoggerEndpoint.Failure);\n  }\n\n  private dispatchLog(\n    payload: IEventPayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint.Event\n  ): void;\n  private dispatchLog(\n    payload: IUniqueEventPayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint.UniqueEvent\n  ): void;\n  private dispatchLog(\n    payload: IDurationPayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint.Duration\n  ): void;\n  private dispatchLog(\n    payload: IFailurePayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint.Failure\n  ): void;\n  private dispatchLog(\n    payload: ISearchQueryPayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint.SearchQueries\n  ): void;\n  private dispatchLog(\n    payload: IEventPayload | IUniqueEventPayload | IDurationPayload | IFailurePayload | ISearchQueryPayload,\n    instant: boolean,\n    loggerName: string,\n    endpoint: LoggerEndpoint\n  ): void {\n    if (instant || this.logTargets[loggerName] !== 'server') {\n      const loggerTarget = this.logTargets[loggerName];\n      if (loggerTarget) {\n        this.performLog(payload, endpoint, loggerTarget);\n      }\n    } else {\n      // TODO: never type is used to avoid type checking, but it should be fixed\n      this.cache[endpoint].push(payload as never);\n    }\n  }\n\n  private performLog(\n    data: IEventPayload | IUniqueEventPayload | IDurationPayload | IFailurePayload | ISearchQueryPayload | BatchPayload,\n    endpoint: LoggerEndpoint | 'batch',\n    target: string\n  ): void {\n    switch (target) {\n      case 'server':\n        try {\n          LOG_ENDPOINTS.forEach((baseUrl) => {\n            navigator.sendBeacon(`${baseUrl}/log/${endpoint}`, JSON.stringify(data));\n          });\n        } catch (e) {\n          //\n        }\n        break;\n      case 'console':\n        console.log(data);\n        break;\n    }\n  }\n\n  /* Failed translation */\n  public logFailedTranslation(translationKey: string, language: string): void {\n    // Log only for uat and prelive builds, and ensure translation key has not been logged already\n    if (!shouldEnableProdLogger() || this.loggedTranslationKeys.has(translationKey)) {\n      return;\n    }\n\n    const data: IFailedTranslationPayload = {\n      timestamp: Date.now(),\n      translation_key: translationKey,\n      count: 1,\n      environment: this.environment,\n      application: this.getApplication(),\n      app_version: this.version,\n      casinoId: this.casino,\n      language,\n    };\n\n    this.cache[BatchCategory.FailedTranslations].push(data);\n    this.loggedTranslationKeys.add(translationKey);\n  }\n\n  /* Video player */\n  public logVideoPlayerStats(url: string, event: string, stats: object): void {\n    const method = event === VideoStatsDetails.StorePlayerDetails ? 'PUT' : 'POST';\n    if (method == 'PUT') {\n      const req = new XMLHttpRequest();\n      req.open(method, url, true);\n      req.setRequestHeader('Content-Type', 'application/json');\n      req.send(JSON.stringify(stats));\n    } else {\n      try {\n        const blob = new Blob([JSON.stringify(stats)], { type: 'application/json' });\n        navigator.sendBeacon(url, blob);\n      } catch (e) {\n        // Chrome < 81 | does not support sending Blob with sendBeacon\n        if (e instanceof DOMException) {\n          const req = new XMLHttpRequest();\n          req.open(method, url, true);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.send(JSON.stringify(stats));\n        }\n      }\n    }\n  }\n\n  /* Exceptions player */\n  public logException(error: Error): void {\n    this.sendExceptionBeacon(error);\n  }\n\n  private sendExceptionBeacon(error: Error): void {\n    try {\n      const payloadList: string[] = [];\n      payloadList.push(`${this.application} | ${this.environment} | ${this.version}`);\n      payloadList.push(error.message);\n      error.stack && payloadList.push(error.stack);\n      const payload = payloadList.join('\\n');\n\n      if (shouldEnableProdLogger()) {\n        LOG_ENDPOINTS.forEach((baseUrl) => {\n          navigator.sendBeacon(`${baseUrl}/exception`, payload);\n        });\n      } else {\n        console.error(\n          `There was an attempt to send exception beacon. Beacon is sent only on production environment. This would have been its payload:\\n${payload}`\n        );\n      }\n    } catch (e) {\n      //\n    }\n  }\n}\n\nexport const Logger = new LoggerRoot();\n\ninterface MethodsCalledMap extends Record<string, boolean> {}\n\nclass LogOnce {\n  private static extendedLoggerInstance: LogOnce;\n  methodsCalled: MethodsCalledMap = {};\n\n  public static getInstance(): LogOnce {\n    if (!this.extendedLoggerInstance) {\n      this.extendedLoggerInstance = new LogOnce();\n    }\n    return this.extendedLoggerInstance;\n  }\n\n  public logFailureOnce(\n    logger_name: string,\n    type: string,\n    place: string,\n    timestamp: number,\n    count: number,\n    key: string,\n    instant: boolean\n  ): void {\n    if (!this.methodsCalled[`${this.logFailureOnce.name}_${type}`]) {\n      Logger.logFailure(logger_name, type, place, timestamp, count, key, instant);\n      this.methodsCalled[`${this.logFailureOnce.name}_${type}`] = true;\n    }\n  }\n}\nexport const LoggerLogOnce = LogOnce.getInstance();\n","import { useCallback } from 'react';\n\nimport { useCoreSelector } from '../../CoreStore';\n\nimport {\n  ChannelVolumeCallbackType,\n  ChannelVolumeValueCallbackType,\n  StreamQuality,\n  UiChannelType,\n  VolumeChannelType,\n} from './types';\n\nexport const useSettingsSlice = {\n  getIsInFullscreen: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.isInFullscreen);\n  },\n\n  /* Language */\n  currentLanguage: (): string => {\n    return useCoreSelector(({ settings }) => settings.language.current);\n  },\n  getIsCurrentLanguageRTL: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.language.isRTL);\n  },\n\n  /* Stream */\n  getIsInClassicView: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.stream.isInClassicView);\n  },\n  getIsClassicViewEnabled: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.stream.isClassicViewEnabled);\n  },\n  getIsStreamEnabled: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.stream.isEnabled && settings.stream.isEnabledBySystem);\n  },\n  getStreamQualityLimit: (): number => {\n    return useCoreSelector(({ settings }) => settings.stream.qualityLimit);\n  },\n  getStreamQuality: (): StreamQuality => {\n    return useCoreSelector(({ settings }) => settings.stream.quality);\n  },\n  /**\n   * Raw stream latency value from video player.\n   * @returns Updated stream latency in milliseconds\n   */\n  getStreamLatency: (): number => {\n    return useCoreSelector(({ settings }) => settings.stream.streamLatency);\n  },\n\n  getAnimationToggle: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.isAnimationToggle);\n  },\n  getIsSecondBetBoardToggle: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.isSecondBetBoardToggle);\n  },\n\n  // Chat settings\n  getShowOtherMessages: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.showOtherMessages);\n  },\n\n  /* Volume */\n  getNoVolumeControl: (): boolean | undefined => {\n    return useCoreSelector(({ settings }) => settings.volume.noVolumeControl);\n  },\n  getUIVolumeChannel: (): UiChannelType => {\n    return useCoreSelector(({ settings }) => settings.volume.uiChannel);\n  },\n  getVolumeChannels: (): Record<string, VolumeChannelType> => {\n    return useCoreSelector(({ settings }) => settings.volume.channels);\n  },\n  getVolumeChannelsReady: (channels: string[]): boolean => {\n    return useCoreSelector(({ settings }) => {\n      return channels.every((channel) => {\n        return settings.volume.channels[channel] !== undefined;\n      });\n    });\n  },\n  getChannelVolumes: (): Record<string, number> => {\n    const masterVolume = masterVolumeValue();\n    const channels = useCoreSelector(({ settings }) => settings.volume.channels);\n    const volumes: Record<string, number> = {};\n    for (const channelName in channels) {\n      const channelVolume = channels[channelName]?.value || 0;\n      volumes[channelName] = masterVolume * channelVolume;\n    }\n    return volumes;\n  },\n  getAllIsMutedCheck: (): boolean => {\n    let isMuted = true;\n    const channels = useCoreSelector(({ settings }) => settings.volume.channels);\n    Object.values(channels).forEach((chanel) => {\n      if (chanel.value > 0) isMuted = false;\n    });\n    return isMuted;\n  },\n  getVolumeChannel: (): ChannelVolumeCallbackType => {\n    return useCallback((channelName: string) => channelVolume(channelName), []);\n  },\n  getVolumeChannelRawValue: (): ChannelVolumeValueCallbackType => {\n    return useCallback((channelName: string) => channelVolumeValue(channelName), []);\n  },\n  getVolumeChannelValue: (channelName: string): number => {\n    const masterVolume = masterVolumeValue();\n    const channelVolume = channelVolumeValue(channelName);\n    return masterVolume * channelVolume;\n  },\n  getMasterChannel: (): VolumeChannelType => {\n    return useCoreSelector(({ settings }) => settings.volume.master);\n  },\n  getWasVolumeRestored: (): boolean => {\n    return useCoreSelector(({ settings }) => settings.volume.restored || false);\n  },\n  getWasAnySoundChannelEnabled: (): boolean => {\n    return useCoreSelector(({ settings }) => {\n      const channels = settings.volume.channels;\n\n      return Object.values(channels).some((channel) => channel.previousValue);\n    });\n  },\n  getMasterChannelValue: (): number => masterVolumeValue(),\n};\n\nconst masterVolumeValue = (): number => {\n  return useCoreSelector(({ settings }) => {\n    if (!settings.isGameVisible) return 0;\n    const masterVolume = settings.volume.master;\n    return masterVolume.temporaryValue ?? masterVolume.value;\n  });\n};\n\nconst channelVolume = (channelName: string): VolumeChannelType => {\n  return useCoreSelector(({ settings }) => {\n    const channel = settings.volume.channels[channelName];\n    if (channel) {\n      return channel;\n    } else {\n      throw new Error(`Volume channel ${channelName} does not exist`);\n    }\n  });\n};\n\nconst channelVolumeValue = (channelName: string): number => {\n  const channel = channelVolume(channelName);\n  if (channel) {\n    return channel.temporaryValue ?? channel.value;\n  } else {\n    throw new Error(`Volume channel ${channelName} does not exist`);\n  }\n};\n","import type { BalanceType, UserInfoType } from '../../../api/fetchers/userInfo/types';\nimport { type CoreRootState, useCoreSelector } from '../../CoreStore';\n\nimport type {\n  CurrencyInfo,\n  DealerType,\n  TableType,\n  WinnersTotal,\n  WinnerType,\n  WinResultType,\n  TableCloseNotifyType,\n} from './types';\nimport { GameStatus } from './types';\n\nexport const useWinners = (): WinnerType[] => {\n  const winners = useCoreSelector(({ gameState }) => gameState.winners);\n  if (!Array.isArray(winners)) {\n    // FIXME: if there is only one winner, the value received is an object, instead of an array. Adjust on server or on fetcher\n    return winners ? [(winners as any).winner] : [];\n  }\n  return winners;\n};\n\nexport const betsOpenStatuses: Array<GameStatus | string> = [GameStatus.PlaceYourBets, GameStatus.LastBets];\n\nexport const deductibleBalanceSelector = (state: CoreRootState): number => {\n  return (state.gameState.userInfo?.balance.amount || 0) + (state.gameState.userInfo?.balance.bonus || 0);\n};\n\nexport const useGameStateSlice = {\n  hideUI: (): boolean => {\n    return useCoreSelector(({ gameState }) => gameState.hideUI);\n  },\n  winners: (): WinnerType[] => {\n    return useCoreSelector(({ gameState }) => gameState.winners);\n  },\n  getWinnersTotal: (): WinnersTotal | null => {\n    return useCoreSelector(({ gameState }) => gameState.winnersTotal);\n  },\n  winResult: (): WinResultType | null => {\n    return useCoreSelector(({ gameState }) => gameState.winResult);\n  },\n  getCurrentStatus: (): GameStatus | string => {\n    return useCoreSelector(({ gameState }) => gameState.currentStatus);\n  },\n  getTimer: (): number => {\n    return useCoreSelector(({ gameState }) => gameState.timer);\n  },\n  getTimerStartTime: (): number => {\n    return useCoreSelector(({ gameState }) => gameState.timerStartTime);\n  },\n  isBetsOpenStatus: (): boolean => {\n    return useCoreSelector(({ gameState }) => betsOpenStatuses.includes(gameState.currentStatus));\n  },\n  gameId: (): string | null => {\n    return useCoreSelector(({ gameState }) => gameState.gameId);\n  },\n  gameChannel: (): string | null => {\n    return useCoreSelector(({ gameState }) => gameState.gameChannel);\n  },\n  gameName: (): string | null => {\n    return useCoreSelector(({ gameState }) => gameState.gameName);\n  },\n  getGameSubscribed: (): boolean => {\n    return useCoreSelector(({ gameState }) => !!gameState.gameChannel);\n  },\n  userInfoReady: (): boolean => {\n    return useCoreSelector(({ gameState }) => !!gameState.userInfo);\n  },\n  userInfo: (): UserInfoType | null => {\n    return useCoreSelector(({ gameState }) => gameState.userInfo);\n  },\n  userName: (): string | undefined => {\n    return useCoreSelector(({ gameState }) => gameState.userInfo?.screenName);\n  },\n  balance: (): BalanceType | undefined => {\n    return useCoreSelector(({ gameState }) => gameState.userInfo?.balance);\n  },\n  getDeductibleBalance: (): number => {\n    return useCoreSelector(\n      ({ gameState }) => (gameState.userInfo?.balance.amount ?? 0) + (gameState.userInfo?.balance.bonus ?? 0)\n    );\n  },\n  getCurrency: (): string | null => {\n    return useCoreSelector(({ gameState }) => gameState.currency);\n  },\n  getNetPosition: (): number => {\n    return useCoreSelector(({ gameState }) => gameState.netPosition);\n  },\n  getCurrencyInfo: (): CurrencyInfo | null => {\n    return useCoreSelector(({ gameState }) => gameState.currencyInfo);\n  },\n  getOpenedLeftDrawer: (): string | null => {\n    return useCoreSelector(({ gameState }) => gameState.leftDrawerOpened);\n  },\n  dealer: (): DealerType | null => {\n    return useCoreSelector(({ gameState }) => gameState.dealer);\n  },\n  table: (): TableType | null => {\n    return useCoreSelector(({ gameState }) => gameState.table);\n  },\n  getIsGamePaused: (): boolean => {\n    return useCoreSelector(({ gameState }) => gameState.gamePaused);\n  },\n  getIsGameAbandoned: (): boolean => {\n    return useCoreSelector(({ gameState }) => gameState.gameAbandoned);\n  },\n  getIsGameSuspended: (): boolean => {\n    return useCoreSelector(({ gameState }) => gameState.gameSuspended);\n  },\n  isLoadedInActiveRound: (): boolean => {\n    return useCoreSelector(({ gameState }): boolean => gameState.isLoadedInActiveRound);\n  },\n  getVideoPoster: (): string => {\n    return useCoreSelector(({ gameState }) => gameState.videoPoster);\n  },\n  getTableCloseNotification: (): TableCloseNotifyType | null => {\n    return useCoreSelector(({ gameState }) => gameState.tableCloseNotify);\n  },\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchPlayerConfig, type FetchPlayerConfigParams } from '../../api/fetchers/playerConfig/fetcher';\n\ninterface FetchPlayerConfigActionParams extends FetchPlayerConfigParams {\n  essential: boolean;\n}\n\nexport const fetchPlayerConfigAction = createAsyncThunk(\n  'playerConfig/fetchPlayerConfig',\n  (params: FetchPlayerConfigActionParams) => fetchPlayerConfig(params)\n);\n","import { useMemo } from 'react';\n\nimport { AudioEvents } from './types';\n\nexport interface PlayOptions {\n  name: string;\n  loop?: boolean;\n  start?: number; // start from point X may be useful in some situations\n  delay?: number; // TODO: start with delay may be useful in some situations\n  duration?: number; // audio ends after this duration is completed\n}\n\nexport interface StopOptions {\n  name: string;\n}\n\nexport interface AudioTrigger {\n  play: (options: PlayOptions) => void;\n  stop: (options: StopOptions) => void;\n}\n\nexport const useAudioTrigger = (channel?: string): AudioTrigger => {\n  return useMemo(\n    () => ({\n      play: (options: PlayOptions): void => {\n        const event = new CustomEvent(AudioEvents.PLAY, {\n          detail: {\n            name: options.name,\n            channel: channel,\n            loop: options.loop,\n            start: options.start,\n            duration: options.duration,\n          },\n        });\n        window.dispatchEvent(event);\n      },\n      stop: (options: StopOptions): void => {\n        const event = new CustomEvent(AudioEvents.STOP, { detail: { name: options.name, channel: channel } });\n        window.dispatchEvent(event);\n      },\n    }),\n    [channel]\n  );\n};\n","import * as Set1 from './set_1';\nimport * as Set2 from './set_2';\nimport * as Set3 from './set_3';\n\nexport type IconSet<Type> = {\n  [Key in keyof Type]: Key;\n};\n\nexport const ReduceIconSet = <T extends object>(set: T): IconSet<T> =>\n  (Object.keys(set) as Array<keyof T>).reduce((obj: IconSet<T>, key: keyof T) => {\n    obj[key] = key;\n    return obj;\n  }, {} as IconSet<T>);\n\nexport const IconsV1: IconSet<typeof Set1> = ReduceIconSet(Set1);\nexport const IconsV2: IconSet<typeof Set2> = ReduceIconSet(Set2);\nexport const IconsV3: IconSet<typeof Set3> = ReduceIconSet(Set3);\n\nexport const Icons = Object.assign({}, IconsV1, IconsV2, IconsV3);\nexport interface Icons extends IconSet<typeof Set1 & typeof Set2 & typeof Set3> {}\n","import type { FunctionComponent, ReactElement } from 'react';\n\nimport { Icons } from './iconNames';\nimport { IconSvg, type IconSvgProps } from './IconSvg';\n\nexport interface IconProps extends IconSvgProps {\n  icon: keyof Icons;\n}\n\nexport const Icon: FunctionComponent<IconProps> = (props): ReactElement => <IconSvg {...props} />;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchUserInfo, type FetchUserInfoParams } from '../../api/fetchers/userInfo/fetcher';\n\ninterface FetchUserInfoActionParams extends FetchUserInfoParams {\n  essential: boolean;\n}\n\nexport const fetchUserInfoAction = createAsyncThunk(\n  'userInfo/fetchUserInfo',\n  (params: FetchUserInfoActionParams, { getState }) => {\n    const store: any = getState();\n    const bonusCasinoConfigHide = store.config?.casinoConfig?.hideBonusBalance === true;\n    const bonusPlayerConfigDisabled = store.config?.playerConfig?.compliance?.displayBonusBalance !== true;\n    const bonusCasinoConfigDisabled = store.config?.casinoConfig?.showBonusBalance !== true;\n\n    return fetchUserInfo({\n      ...params,\n      totalBalance: bonusCasinoConfigHide || (bonusCasinoConfigDisabled && bonusPlayerConfigDisabled),\n    });\n  }\n);\n","import type { TableMessage } from '../api/fetchers/tableLevelMessages/types';\nimport type { Message } from '../store/slices/chat/types';\nimport { ChatBlockType, SendType } from '../store/slices/chat/types';\n\nexport const LIVE_SUPPORT_WELCOME_MESSAGE: Message = {\n  messageId: 'initial_support_chat_message',\n  role: 'LIVE_SUPPORT',\n  tagMessage: 'SUPPORT',\n  content: 'LIVE_WELCOME',\n  userId: 'support',\n  userScreenName: 'LIVE_SUPPORT',\n  requireTranslation: true,\n  timestamp: 0, // Display first\n  showMessage: true,\n};\n\nexport const isGameChatRestricted = (\n  isBetRequiredToChat: boolean,\n  isBetChatAllowed: boolean,\n  isLowBalance: boolean,\n  hasTotalBet: boolean\n): boolean => {\n  return isBetRequiredToChat ? !isBetChatAllowed : isLowBalance && !hasTotalBet;\n};\n\nexport const generateMessage = (\n  userId: string,\n  input: string,\n  tableId: string,\n  casinoId: string,\n  isGameChat: boolean = false\n): Message => ({\n  content: input.trim(),\n  action: 'COMMAND',\n  messageId: `${userId}_${Date.now()}`,\n  userId,\n  tableId,\n  casinoId,\n  role: 'GAME_USER',\n  tagMessage: isGameChat ? 'GAME_USER' : 'SUPPORT',\n  timestamp: Date.now(),\n});\n\nexport const generateWelcomeMessage = (\n  isCrashGame: boolean,\n  tableName: string = '',\n  dealerName: string = ''\n): TableMessage => ({\n  messageId: 'dealer_welcome_message',\n  role: 'GAME_USER',\n  tagMessage: 'GAME_USER',\n  content: `WELCOMETO ${tableName}`,\n  userId: 'dealer',\n  userScreenName: isCrashGame ? undefined : dealerName, // Prevent dealer name from displaying in crash games\n  requireTranslation: true,\n  timestamp: Date.now(),\n  showMessage: true,\n  hostManagerId: null,\n  hostManagerName: null,\n  messageRead: false,\n  requestCreatedTimeStamp: null,\n  requestStatus: null,\n  requestType: null,\n  sendToSelected: null,\n  toCasinoId: null,\n  toCasinoName: null,\n  toTableId: null,\n  toTableName: null,\n  toUserId: null,\n  toUserScreenName: null,\n});\n\nexport const parseSystemMessage = (text: string): string => {\n  return text.replace(/<[^>]*>/g, '').trim();\n};\n\n// Rename showHide field to showMessage. Remove this after backend introduces showMessage field.\nexport const parseChatMessage = (message: TableMessage): TableMessage => {\n  if (!('showMessage' in message)) {\n    message.showMessage = message.showHide;\n    delete message.showHide;\n  }\n\n  return message;\n};\n\nexport const createChatAvailableMessage = (betChatAllowed: boolean): Message => {\n  const timestamp = Date.now();\n  return {\n    messageId: `chat_available_message_${timestamp}`,\n    role: 'GAME_USER',\n    tagMessage: 'GAME_USER',\n    content: betChatAllowed ? 'CHAT_AVAILABLE' : 'CHAT_ACTIVATED',\n    sendType: SendType.Notification,\n    requireTranslation: true,\n    timestamp,\n    showMessage: true,\n  };\n};\n\nexport const isBetRequiredToChat = (chatBlockType?: ChatBlockType): boolean =>\n  chatBlockType === ChatBlockType.BetRequired;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchCasinoConfig, type FetchCasinoConfigParams } from '../../api/fetchers/casinoConfig/fetcher';\n\ninterface FetchCasinoConfigActionParams extends FetchCasinoConfigParams {\n  essential: boolean;\n  language?: string;\n}\n\nexport const fetchCasinoConfigAction = createAsyncThunk(\n  'casinoConfig/fetchCasinoConfig',\n  (params: FetchCasinoConfigActionParams) => fetchCasinoConfig(params)\n);\n","export enum ApiMask {\n  GameSocket = 0b00000001,\n  CasinoConfig = 0b00000010,\n  EnvConfig = 0b00000100,\n  PlayerConfig = 0b00001000,\n  TableConfig = 0b00010000,\n  Version = 0b00100000,\n  Balance = 0b01000000,\n  StatsSettings = 0b10000000,\n}\n\nexport const updateApiMask = (bit: ApiMask): void => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  window.loadingStateMask |= bit;\n};\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nwindow.loadingStateMask = 0;\n","import { useCoreSelector } from '../../CoreStore';\n\nimport { HeaderModal } from './types';\n\nexport const useHeaderSlice = {\n  getCoreBetLimitsOpen: (): boolean => {\n    return useCoreSelector(({ header }) => header.betLimitsOpen);\n  },\n  getCoreOpenedModal: (): HeaderModal | null => {\n    return useCoreSelector(({ header }) => header.openedModal);\n  },\n  getIsMiniLobbyOpen: (): boolean => {\n    return useCoreSelector(({ header }) => header.isMiniLobbyOpen);\n  },\n  getIsBackToGameHidden: (): boolean => {\n    return useCoreSelector(({ header }) => header.isBackToGameHidden);\n  },\n  getNavExpanded: (): boolean => {\n    return useCoreSelector(({ header }) => header.navExpanded);\n  },\n  getQuickGuideIsShown: (): boolean => {\n    return useCoreSelector(({ header }) => header.quickGuideIsShown);\n  },\n  getNavForcedExpanded: (): boolean => {\n    return useCoreSelector(({ header }) => header.navForcedExpanded);\n  },\n  getNavRoute: (): string[] => {\n    return useCoreSelector(({ header }) => header.navRoute);\n  },\n  getNavOpen: (): boolean => {\n    return useCoreSelector(({ header }) => header.navRoute.length > 0);\n  },\n  getNavRouteLevel: (): number => {\n    return useCoreSelector(({ header }) => header.navRoute.length);\n  },\n  getNavRouteByLevel: (level: number): string | undefined => {\n    return useCoreSelector(({ header }) => header.navRoute[level - 1]);\n  },\n};\n","import { FetchErrorName } from './types';\n\nexport class NetworkError extends Error {\n  public name = FetchErrorName.NetworkError;\n  public payload?: unknown;\n  public endpoint?: string;\n  public url?: string;\n\n  public constructor(message: string, payload?: unknown, endpoint?: string, url?: string) {\n    super(message);\n    this.payload = payload;\n    Object.setPrototypeOf(this, NetworkError.prototype);\n    this.endpoint = endpoint;\n    this.url = url;\n  }\n}\n","export enum FetchErrorName {\n  NetworkError = 'NetworkError',\n  ParsingError = 'ParsingError',\n  UnauthorizedError = 'UnauthorizedError',\n  ForbiddenError = 'ForbiddenError',\n}\n\nexport enum ForbiddenErrors {\n  TABLE_BLOCKED_FOR_COUNTRY = 'TABLE_BLOCKED_FOR_COUNTRY',\n}\n","import { NetworkError } from './NetworkError';\nimport { FetchErrorName } from './types';\n\n/**\n * This is a specific error that should be thrown when session expiration is determined during a fetch operation.\n */\nexport class UnauthorizedError extends NetworkError {\n  public name = FetchErrorName.UnauthorizedError;\n\n  public constructor(message: string, endpoint?: string, url?: string) {\n    super(message, undefined, endpoint, url);\n    Object.setPrototypeOf(this, UnauthorizedError.prototype);\n  }\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchTableConfig, type IFetchTableConfigParams } from '../../api/fetchers/tableConfig/fetcher';\n\ninterface FetchTableConfigActionParams extends IFetchTableConfigParams {\n  essential: boolean;\n}\n\nexport const fetchTableConfigAction = createAsyncThunk(\n  'tableConfig/fetchTableConfig',\n  (params: FetchTableConfigActionParams) => fetchTableConfig(params)\n);\n","import { buildHashParam } from '../../../utils/buildHash';\nimport { getTranslationPath, TranslationType } from '../../../utils/translations';\nimport { Fetcher } from '../../Fetcher';\n\ninterface IFetchTranslationResponse {\n  game: Record<string, string>;\n}\n\ninterface ITranslationFile {\n  [key: string]: string;\n}\n\nconst UI_BASE_PATH = getTranslationPath(TranslationType.UI);\n\nconst fetchOptions = {\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n  ...buildHashParam,\n};\n\n// TODO: Discuss fallback requirements with PO and implement graceful logic for network errors, etc.\nconst fetchTranslationFile = (language: string, fileName: string): Promise<ITranslationFile> => {\n  return Fetcher.fetch<IFetchTranslationResponse>(`${UI_BASE_PATH}/${language}/${fileName}.json`, fetchOptions)\n    .then((result) => result.game)\n    .catch((error) => {\n      console.error(`[Translation] Failed to fetch ${fileName}.json for language: ${language}`, error);\n      return {};\n    });\n};\n\nexport const fetchUITranslations = (language: string, uiFiles: string[]): Promise<ITranslationFile> => {\n  const promises = uiFiles.map((fileName) => fetchTranslationFile(language, fileName));\n\n  return Promise.all(promises).then((translationsArray: ITranslationFile[]) => {\n    return Object.assign.apply<null, ITranslationFile[], ITranslationFile>(null, translationsArray);\n  });\n};\n","import type { ReactNode, Context, FC } from 'react';\nimport { createContext, useContext, useEffect, useReducer } from 'react';\n\nimport languages from '@pp/languages';\n\nimport { fetchUITranslations } from './fetchers/translations/fetcher';\n\ninterface TranslationState {\n  isFetching: boolean;\n  locale: string | null;\n  translations: Record<string, string>;\n}\n\ninterface TranslationProviderProps {\n  children: ReactNode;\n  locale: string;\n  uiFiles: string[];\n}\n\nenum TranslationActionType {\n  FETCH_START,\n  FETCH_END,\n}\n\ninterface ITranslationPayload {\n  locale: string;\n  translations?: Record<string, string>;\n}\n\ninterface ITranslationAction {\n  type: TranslationActionType;\n  payload: ITranslationPayload;\n}\n\nconst initialState: TranslationState = {\n  isFetching: true,\n  locale: null,\n  translations: {},\n};\n\n// This is done due to multiple instances of the same context being created in the storybook\nconst TranslationContext: Context<TranslationState> = ((): Context<TranslationState> => {\n  const cache: { translationContext?: Context<TranslationState> } = window ? (window as never) : {};\n  cache.translationContext = cache.translationContext || createContext<TranslationState>(initialState);\n  return cache.translationContext;\n})();\n\nconst translationReducer = (state: TranslationState, action: ITranslationAction): TranslationState => {\n  switch (action.type) {\n    case TranslationActionType.FETCH_START:\n      return { ...state, isFetching: true, locale: action.payload.locale };\n    case TranslationActionType.FETCH_END:\n      return { ...state, isFetching: false, translations: action.payload.translations ?? {} };\n    default:\n      return state;\n  }\n};\n\nexport const TranslationProvider: FC<TranslationProviderProps> = ({ children, locale, uiFiles }) => {\n  const [state, dispatch] = useReducer(translationReducer, initialState);\n\n  useEffect(() => {\n    // Do nothing until locale param is resolved and passed from redux store\n    if (!locale) {\n      return;\n    }\n\n    const fetchTranslations = (language: string): void => {\n      dispatch({ type: TranslationActionType.FETCH_START, payload: { locale } });\n\n      fetchUITranslations(language, uiFiles).then((translations) => {\n        dispatch({\n          type: TranslationActionType.FETCH_END,\n          payload: { locale, translations },\n        });\n      });\n    };\n\n    fetchTranslations(locale);\n  }, [locale, uiFiles]);\n\n  return <TranslationContext.Provider value={state}>{children}</TranslationContext.Provider>;\n};\n\nexport const useTranslation = (): Omit<TranslationState, 'locale'> => {\n  const { isFetching, translations } = useContext(TranslationContext);\n\n  return {\n    isFetching,\n    translations,\n  };\n};\n\nexport const useLocale = (): string => useContext(TranslationContext).locale ?? languages.default;\n","import { numberFormatterLocal } from '../utils/formatters';\nimport { roundNumber } from '../utils/number';\n\nconst MAX_FRACTION_DECIMALS = 5;\n\nexport interface CurrencyFormatterOptions {\n  /** Whether to avoid fractions in the output */\n  avoidTrailingZero?: boolean;\n  /** The currency code to use for formatting */\n  currency: string;\n  /** Hide currency flag */\n  hideCurrency?: boolean;\n}\n\ninterface IException {\n  [key: string]: { original: string; replacement: string };\n}\n\n/**\n * Exception currencies for which we replace the currency symbol with a custom one.\n */\nconst EXCEPTIONS: IException = {\n  COP: { original: '$', replacement: 'COP' },\n  VES: { original: 'VES', replacement: 'Bs' },\n  TWD: { original: '$', replacement: 'NT$' },\n  TTD: { original: '$', replacement: 'TT$' },\n  BTC6: { original: 'BTC6', replacement: 'μBTC' },\n  BTC3: { original: 'BTC3', replacement: 'mBTC' },\n  XAF: { original: 'FCFA', replacement: 'XAF' },\n  GHS: { original: 'GH₵', replacement: 'GH¢' },\n  RSD: { original: 'RSD', replacement: 'Дин.' },\n  UZS: { original: 'UZS', replacement: 'лв' },\n  KRW2: { original: 'KRW2', replacement: '₩' },\n  INR1: { original: 'INR1', replacement: '₹' },\n  KES: { original: 'KES', replacement: 'Ksh' },\n  IDR1: { original: 'IDR1', replacement: 'Rp' },\n  IDR2: { original: 'IDR2', replacement: 'Rp' },\n  PEN: { original: 'PEN', replacement: 'S/.' },\n  USDT: { original: 'USDT', replacement: '$' },\n  ZMW: { original: 'ZK', replacement: 'ZMW' },\n  BGN: { original: 'BGN', replacement: 'лв' },\n  ETH: { original: 'ETH', replacement: 'Ξ' },\n  ETH4: { original: 'ETH4', replacement: 'Ξ' },\n  ETH7: { original: 'ETH7', replacement: 'Ξ' },\n  ETH9: { original: 'ETH9', replacement: 'Ξ' },\n  VND2: { original: 'VND2', replacement: '₫' },\n};\n\ninterface IRuleException {\n  [key: string]: Intl.NumberFormatOptions;\n}\n\n/**\n * Exception currencies for which some specific formatting rules need to be applied\n */\nconst RULES_EXCEPTIONS: IRuleException = {\n  RSD: { minimumFractionDigits: 2 }, // Somehow Intl counts there are no fractions for RSD, but there ARE by ISO\n};\n\nclass CurrencyFormatterClass {\n  private static onlyNumbersAndPunctuation: RegExp = /[^\\d\\u0660-\\u066C\\u06F0-\\u06F9\\p{P}   _]+/gu;\n  /**\n   * Cache is used to store the Intl.NumberFormat objects so we don't have to create them every time we need to format a number.\n   */\n  private static cache: Record<string, Intl.NumberFormat> = {};\n  private static customCurrencies: Record<string, boolean> = {};\n\n  /**\n   * Configure and cache formatter for currency.\n   */\n  private setCurrencyFormatting = (cacheTag: string, locale: string, options: CurrencyFormatterOptions): void => {\n    const currencyOptions: Intl.NumberFormatOptions = {\n      style: 'currency',\n      currency: options.currency,\n      currencyDisplay: options.hideCurrency ? 'code' : 'narrowSymbol',\n      minimumFractionDigits: options.avoidTrailingZero ? 0 : undefined,\n      ...RULES_EXCEPTIONS[options.currency],\n    };\n\n    CurrencyFormatterClass.cache[cacheTag] = new Intl.NumberFormat(numberFormatterLocal(locale), currencyOptions);\n  };\n\n  /**\n   * Configure and cache formatter for decimals.\n   * This formatter is used as a fall-back option for custom currencies not supported by the Intl API.\n   */\n  private setDecimalFormatting = (cacheTag: string, locale: string, options: CurrencyFormatterOptions): void => {\n    const decimalOptions: Intl.NumberFormatOptions = {\n      style: 'decimal',\n      minimumFractionDigits: options.avoidTrailingZero ? 0 : 2,\n      maximumFractionDigits: MAX_FRACTION_DECIMALS,\n    };\n\n    CurrencyFormatterClass.cache[cacheTag] = new Intl.NumberFormat(numberFormatterLocal(locale), decimalOptions);\n  };\n\n  /**\n   * Set formatting configuration for a given currency, and return it as Intl.NumberFormat object from the cache.\n   * Call `format()` or `formatToParts()` method on it, and pass a value which needs to be formated.\n   */\n  private getFormatter = (locale: string, options: CurrencyFormatterOptions): Intl.NumberFormat => {\n    const cacheTag = [\n      options.currency ? options.currency : 'decimal',\n      locale,\n      Boolean(options.hideCurrency),\n      Boolean(options.avoidTrailingZero),\n    ].join('_');\n\n    // Write formatter to cache\n    if (!CurrencyFormatterClass.cache[cacheTag]) {\n      // Apply currency formatting, if currency hasn't been marked as custom\n      if (!CurrencyFormatterClass.customCurrencies[options.currency]) {\n        try {\n          // Format currency using Intl API\n          this.setCurrencyFormatting(cacheTag, locale, options);\n        } catch (error) {\n          // If currency is not supported by Intl API, e.g. DOGE, mark it as custom and format as decimal\n          CurrencyFormatterClass.customCurrencies[options.currency] = true;\n          this.setDecimalFormatting(cacheTag, locale, options);\n        }\n      } else {\n        // Apply decimal formatting for custom currency by default\n        this.setDecimalFormatting(cacheTag, locale, options);\n      }\n    }\n\n    // Return formatter from cache\n    return CurrencyFormatterClass.cache[cacheTag] ?? new Intl.NumberFormat(numberFormatterLocal(locale)); // FIXME Fall-back added to satisfy TypeScript\n  };\n\n  /**\n   * Safeguard for negative zero and close-to-zero values.\n   * Note: `signDisplay: \"negative\"` option is not supported in earlier browser versions, thus, handling manually.\n   */\n  private negativeZeroSave = (value: number, formatter: Intl.NumberFormat): number => {\n    // Get the number of fraction digits for the given currency\n    const { maximumFractionDigits } = formatter.resolvedOptions();\n    const roundedValue = roundNumber(value, maximumFractionDigits ?? MAX_FRACTION_DECIMALS);\n\n    // Treat -0 and close-to-zero values as 0\n    if (Object.is(value, -0) || Math.abs(roundedValue) === 0) {\n      return 0;\n    }\n\n    return value;\n  };\n\n  /**\n   * Remove all non-numeric symbols, i.e. currency code, from the string.\n   */\n  private hideCurrency = (formattedString: string): string => {\n    return formattedString.replace(CurrencyFormatterClass.onlyNumbersAndPunctuation, '').trim();\n  };\n\n  /**\n   * Add the currency symbol before the string value.\n   * Used for handling custom currencies, which were initially formatted as decimals and miss the currency symbol.\n   */\n  private prependCurrency = (formattedString: string, options: CurrencyFormatterOptions): string => {\n    return `${options.currency} ${formattedString}`;\n  };\n\n  public replaceExceptionSymbol = (value: string, currency: string): string => {\n    const exception = EXCEPTIONS[currency];\n\n    if (exception) {\n      return value.replace(exception.original, exception.replacement);\n    }\n\n    return value;\n  };\n\n  public format = (value: number, locale: string, options: CurrencyFormatterOptions): string => {\n    const formatter = this.getFormatter(locale, options);\n    const safeValue = this.negativeZeroSave(value, formatter);\n    let formattedString: string = formatter.format(safeValue);\n\n    // Final string processing\n    if (options.hideCurrency) {\n      formattedString = this.hideCurrency(formattedString);\n    } else {\n      // Replace currency symbol if exception for it exists\n      formattedString = this.replaceExceptionSymbol(formattedString, options.currency);\n\n      // Prepend currency symbol for a custom currency, e.g. DOGE\n      if (CurrencyFormatterClass.customCurrencies[options.currency]) {\n        formattedString = this.prependCurrency(formattedString, options);\n      }\n    }\n\n    return formattedString;\n  };\n\n  /**\n   * Returns an array with the main (left side) and fraction (right side) parts separated by the decimal symbol.\n   */\n  public splitFraction(value: number, locale: string, options: CurrencyFormatterOptions): [string, string] {\n    const exception = EXCEPTIONS[options.currency];\n    const safeValue = this.negativeZeroSave(value, this.getFormatter(locale, options));\n\n    /**\n     * Override default formatter options to avoid trailing zero for integer values.\n     * Logic is adjusted for WinMessageConnected component.\n     */\n    if (Number.isInteger(safeValue)) {\n      options.avoidTrailingZero = true;\n    }\n\n    const parts: Intl.NumberFormatPart[] = this.getFormatter(locale, options).formatToParts(safeValue);\n\n    let mainPart: string = '';\n    let fractionPart: string = '';\n    let isDecimalFound: boolean = false;\n\n    /**\n     * Iterate over type-value pairs, which suppose to compose the final string.\n     * Instead of using Intl API format() method to generate a single string, we rely on formatToParts() and build the strings ourselves.\n     *\n     * Note: Currency code could contain separator symbols, e.g. `Дин.`, `S/.`.\n     * Instead of splitting formatted string by `decimalSeparator` from the store, using this approach to avoid a premature split.\n     *\n     */\n    for (const part of parts) {\n      // Replace currency symbol if exception for it exists\n      if (part.type === 'currency' && exception) {\n        part.value = exception.replacement;\n      }\n\n      if (isDecimalFound) {\n        // Once the decimal symbol is found, construct the fraction part\n        fractionPart += part.value;\n      } else if (part.type === 'decimal') {\n        // Once the decimal symbol is found, add it to the fraction part\n        isDecimalFound = true;\n        fractionPart += part.value;\n      } else {\n        // Construct the main part\n        mainPart += part.value;\n      }\n    }\n\n    // Final string processing\n    if (options.hideCurrency) {\n      mainPart = this.hideCurrency(mainPart);\n      fractionPart = this.hideCurrency(fractionPart);\n    } else if (CurrencyFormatterClass.customCurrencies[options.currency]) {\n      // Prepend currency symbol for a custom currency, e.g. DOGE\n      mainPart = this.prependCurrency(mainPart, options);\n    }\n\n    return [mainPart, fractionPart];\n  }\n}\n\nexport const CurrencyFormatter = new CurrencyFormatterClass();\n","export type CamelCase<T extends string> = T extends `${infer A}_${infer B}` ? `${A}${CamelCase<Capitalize<B>>}` : T;\n\nexport type CamelCaseKeys<T extends object> = {\n  [key in keyof T as key extends string ? CamelCase<key> : key]: T[key];\n};\n\nexport function snakeToCamel<T extends object>(obj: T): CamelCaseKeys<T>;\nexport function snakeToCamel(obj: any): any {\n  if (Array.isArray(obj)) {\n    return obj.map((val) => snakeToCamel(val));\n  } else if (obj !== null && typeof obj === 'object') {\n    return Object.keys(obj).reduce((acc, key) => {\n      const camelKey = key.replace(/_\\w/g, (m) => m[1].toUpperCase());\n      acc[camelKey] = snakeToCamel(obj[key]);\n      return acc;\n    }, {} as any);\n  } else {\n    return obj;\n  }\n}\n","import { snakeToCamel, type CamelCaseKeys } from '../api/converters/snakeToCamel';\nimport { LocalStorage } from '../storage/local';\nimport { SessionStorage } from '../storage/session/SessionStorage';\nimport { uuid } from '../utils/uuid';\nimport type { AllowedGlobals } from '../utils/window';\n\nexport const defaultRawSession: IUserSessionRaw = {\n  JSESSIONID: '',\n  actual_web_server: '',\n  casino_id: '',\n  config_url: '',\n  game_mode: '',\n  gametype: '',\n  hasQuickGuide: '',\n  hostCommunicationVersion: '',\n  lang: '',\n  meta_server: '',\n  operator_theme: '',\n  socket_port: '',\n  socket_server: '',\n  stats_collector_uuid: '',\n  table_id: '',\n  token: '',\n  uiversion: '',\n  web_server: '',\n  lobbyFilter: '',\n  gamePath: '',\n};\n\nexport interface IUserSessionRaw extends Record<string, string> {\n  JSESSIONID: string;\n  actual_web_server: string;\n  casino_id: string;\n  config_url: string;\n  game_mode: string;\n  gametype: string;\n  hasQuickGuide: string;\n  hostCommunicationVersion: string;\n  lang: string;\n  meta_server: string;\n  operator_theme: string;\n  socket_port: string;\n  socket_server: string;\n  stats_collector_uuid: string;\n  table_id: string;\n  token: string;\n  uiversion: string;\n  web_server: string;\n  lobbyFilter: string;\n  gamePath: string;\n}\n\nexport interface IUserSession extends CamelCaseKeys<IUserSessionRaw>, Record<string, string> {}\n\nconst isProduction = process.env.NODE_ENV === 'production';\n\nexport class UserSession {\n  static session?: IUserSession | null;\n  static sessionKey = window.name === 'lobby_iframe' ? 'PPG_L' : 'PPG'; // TODO: VERY SAD, IS BAD, NEEDS TO BE FIXED\n  static coreSessionIdKey = 'coreSessionId';\n  static coreBrowserIdKey = 'coreBrowserId';\n  static coreSessionId: string | null;\n  static coreBrowserId: string | null | undefined;\n\n  private static parseUrlSession(): IUserSessionRaw | null {\n    const windowObject = (window as AllowedGlobals).legacyMode ? window.parent : window;\n    if (!windowObject.location.search) return null;\n    const sessionResult: IUserSessionRaw = { ...defaultRawSession };\n    const searchParams = new URLSearchParams(windowObject.location.search);\n    searchParams.forEach((value, key) => {\n      sessionResult[key] = value === 'null' ? '' : value;\n    });\n    sessionResult.gamePath = windowObject.location.pathname.replace(/\\/+$/, '');\n    return sessionResult;\n  }\n\n  private static postProcessSession(session: IUserSessionRaw): IUserSession {\n    const processedSession = { ...session };\n\n    if (processedSession && !processedSession.meta_server) {\n      processedSession.meta_server = processedSession.actual_web_server;\n    }\n\n    if (!isProduction && processedSession) {\n      const urlsToPrefix = ['actual_web_server', 'web_server', 'meta_server'];\n      urlsToPrefix.forEach((url) => {\n        const processedSessionElement = processedSession[url];\n        if (!processedSessionElement?.includes('proxy')) {\n          processedSession[url] = '/proxy/' + processedSessionElement;\n        }\n      });\n    }\n\n    return snakeToCamel(processedSession);\n  }\n\n  private static getStoredCoreSessionId(): string | null {\n    const storedSession = SessionStorage.get(UserSession.coreSessionIdKey);\n    return storedSession ?? null;\n  }\n\n  private static getURLSession(): IUserSessionRaw | null {\n    const storedSession = UserSession.parseUrlSession();\n    return storedSession ?? null;\n  }\n\n  private static getHistorySession(): IUserSessionRaw | null {\n    const windowObject = (window as AllowedGlobals).legacyMode ? window.parent : window;\n    const storedSession = windowObject.history.state;\n    return storedSession ?? null;\n  }\n\n  private static getStoredSession(): IUserSessionRaw | null {\n    const storedSession = SessionStorage.getJson<IUserSessionRaw>(UserSession.sessionKey);\n    return storedSession ?? null;\n  }\n\n  public static init(): void {\n    const rawSession = UserSession.getURLSession() ?? UserSession.getHistorySession() ?? UserSession.getStoredSession();\n    if (rawSession) {\n      const windowObject = (window as AllowedGlobals).legacyMode ? window.parent : window;\n      const currentPath = windowObject.location.pathname.replace(/\\/+$/, '');\n      if (!currentPath.includes('lobby') && currentPath !== rawSession.gamePath) {\n        return windowObject.history.back();\n      }\n      UserSession.session = UserSession.postProcessSession(rawSession);\n    } else {\n      UserSession.session = null;\n    }\n\n    UserSession.coreSessionId = UserSession.getStoredCoreSessionId();\n    if (!UserSession.coreSessionId) {\n      UserSession.coreSessionId = uuid.v4();\n      SessionStorage.set(UserSession.coreSessionIdKey, UserSession.coreSessionId);\n    }\n\n    UserSession.coreBrowserId = LocalStorage.get(UserSession.coreBrowserIdKey);\n    if (!UserSession.coreBrowserId) {\n      UserSession.coreBrowserId = uuid.v4();\n      LocalStorage.set(UserSession.coreBrowserIdKey, UserSession.coreBrowserId);\n    }\n  }\n\n  public static clearUrlSession(): void {\n    const windowObject = (window as AllowedGlobals).legacyMode ? window.parent : window;\n    if (windowObject.location.search) {\n      const session = UserSession.getURLSession();\n      if (session && !session.preserveUrlSession) {\n        SessionStorage.setJson(UserSession.sessionKey, session);\n        windowObject.history.replaceState(session, '', windowObject.location.pathname);\n      }\n    }\n  }\n\n  public static getSession(): IUserSession | null {\n    /** We check if session already had attempted initialisation, and only if it has not, we initialise it */\n    if (UserSession.session === undefined) {\n      UserSession.init();\n    }\n    return UserSession.session || null;\n  }\n\n  public static getCoreSessionId(): string | null {\n    return UserSession.coreSessionId;\n  }\n\n  public static getCoreBrowserId(): string | null | undefined {\n    return UserSession.coreBrowserId;\n  }\n}\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nimport { fetchLiveSupportMessagesAction } from '../../apiActions/fetchLiveSupportMessagesAction';\nimport { fetchTableLevelMessagesAction } from '../../apiActions/fetchTableLevelMessagesAction';\n\nimport type { ChatState, Message, ChatSubscriptionState } from './types';\nimport { ChatBlockType } from './types';\n\nconst MAX_MESSAGE_COUNT = 100;\n\nexport const gameChatMessagesAdapter = createEntityAdapter<Message, Message['messageId']>({\n  selectId: (message) => message.messageId,\n  sortComparer: (a, b) => b.timestamp - a.timestamp,\n});\n\nexport const liveSupportChatMessagesAdapter = createEntityAdapter<Message, Message['messageId']>({\n  selectId: (message) => message.messageId,\n  sortComparer: (a, b) => b.timestamp - a.timestamp,\n});\n\nconst initialState: ChatState = {\n  chatBlockType: ChatBlockType.LowBalance,\n  chatSubscriptionState: 'UNSUBSCRIBED',\n  gameChatMessages: gameChatMessagesAdapter.getInitialState(),\n  isBetChatAllowed: true,\n  isGameChatBlocked: false,\n  isGameChatHistoryFetched: false,\n  isLiveSupportChatBlocked: false,\n  isLiveSupportChatRead: true,\n  lastChatMessage: null,\n  liveSupportChatMessages: liveSupportChatMessagesAdapter.getInitialState(),\n  miniChatMessages: [],\n};\n\nexport const chatSlice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    storeGameChatMessage: (state, action: PayloadAction<Message>) => {\n      gameChatMessagesAdapter.addOne(state.gameChatMessages, action.payload);\n\n      const allMessages = gameChatMessagesAdapter.getSelectors().selectAll(state.gameChatMessages);\n      if (allMessages.length > MAX_MESSAGE_COUNT) {\n        const oldestMessageId = allMessages[allMessages.length - 1]?.messageId;\n        // Remove oldest message\n        if (oldestMessageId) {\n          gameChatMessagesAdapter.removeOne(state.gameChatMessages, oldestMessageId);\n        }\n      }\n    },\n    storeLiveSupportMessage: (state, action: PayloadAction<Message>) => {\n      liveSupportChatMessagesAdapter.addOne(state.liveSupportChatMessages, action.payload);\n    },\n    clearLiveSupportMessages: (state) => {\n      liveSupportChatMessagesAdapter.removeAll(state.liveSupportChatMessages);\n    },\n    storeLastChatMessage: (state, action: PayloadAction<Message>) => {\n      state.lastChatMessage = action.payload;\n    },\n    removeGameChatMessage: (state, action: PayloadAction<string>) => {\n      gameChatMessagesAdapter.removeOne(state.gameChatMessages, action.payload);\n    },\n    setLiveSupportReadStatus: (state, action: PayloadAction<boolean>) => {\n      state.isLiveSupportChatRead = action.payload;\n    },\n    setChatSubscriptionState: (state, action: PayloadAction<ChatSubscriptionState>) => {\n      state.chatSubscriptionState = action.payload;\n    },\n    setChatBlockType: (state, action: PayloadAction<ChatBlockType>) => {\n      state.chatBlockType = action.payload;\n    },\n    setIsBetChatAllowed: (state, action: PayloadAction<boolean>) => {\n      state.isBetChatAllowed = action.payload;\n    },\n    setIsGameChatBlocked: (state, action: PayloadAction<boolean>) => {\n      state.isGameChatBlocked = action.payload;\n    },\n    setIsLiveSupportChatBlocked: (state, action: PayloadAction<boolean>) => {\n      state.isLiveSupportChatBlocked = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchLiveSupportMessagesAction.fulfilled, (state, action) => {\n        liveSupportChatMessagesAdapter.addMany(state.liveSupportChatMessages, action.payload);\n      })\n      .addCase(fetchTableLevelMessagesAction.fulfilled, (state, action) => {\n        gameChatMessagesAdapter.addMany(state.gameChatMessages, action.payload);\n      })\n      .addCase(fetchTableLevelMessagesAction.pending, (state) => {\n        state.isGameChatHistoryFetched = true;\n      });\n  },\n});\n\nexport const chatActions = chatSlice.actions;\n","const pow: Record<number, number> = {};\nexport const roundNumber = (num: number, digits: number): number => {\n  if (!pow[digits]) {\n    pow[digits] = Math.pow(10, digits);\n  }\n  return Math.round((num + Number.EPSILON) * pow[digits]!) / pow[digits]!;\n};\n\nexport const isInteger = (num: number): boolean => num % 1 === 0;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"cB_cC\",\"button_main\":\"cB_cE\",\"button_accent\":\"cB_cF\",\"badge\":\"cB_cG\",\"loading\":\"cB_cH\",\"rotate\":\"cB_cx\",\"content\":\"cB_cI\"};","import type { ButtonHTMLAttributes, FunctionComponent, MouseEvent } from 'react';\n\nimport { useAudioTrigger } from '../../../controllers/audioController/hooks';\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { L12nText } from '../../text/L12nText';\n\nimport styles from './Button.module.css';\n\nexport enum ButtonVariant {\n  MAIN = 'main',\n  ACCENT = 'accent',\n}\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant: ButtonVariant;\n  badge?: string | number;\n  disabled?: boolean;\n  loading?: boolean;\n  tk?: string;\n}\n\nexport const Button: FunctionComponent<ButtonProps> = ({\n  badge,\n  children,\n  className = '',\n  disabled = false,\n  loading = false,\n  onClick,\n  tk,\n  variant,\n  ...rest\n}) => {\n  const audioTrigger = useAudioTrigger();\n\n  const handleClick = (event: MouseEvent<HTMLButtonElement>): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    onClick?.(event);\n  };\n\n  const mods = useModifiers(\n    styles,\n    'button',\n    {\n      accent: variant === ButtonVariant.ACCENT,\n      main: variant === ButtonVariant.MAIN,\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <button\n      data-testid=\"button\"\n      aria-busy={loading || undefined}\n      className={`${mods} ${className}`}\n      disabled={disabled || loading}\n      onClick={handleClick}\n      {...rest}\n    >\n      {loading ? (\n        <svg className={styles.loading} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n          <circle cx=\"12\" cy=\"12\" r=\"11\" strokeWidth=\"2\" strokeDasharray=\"28\" strokeLinecap=\"round\" />\n        </svg>\n      ) : null}\n      <span data-testid=\"button-content\" className={styles.content}>\n        {tk ? <L12nText tk={tk} /> : children}\n      </span>\n      {badge ? (\n        <span data-testid=\"badge\" className={styles.badge}>\n          {badge}\n        </span>\n      ) : null}\n    </button>\n  );\n};\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { CoreSessionStorage } from '../../../storage/session/CoreSessionStorage';\n\nimport { HeaderModal } from './types';\n\nconst initialState: {\n  betLimitsOpen: boolean;\n  openedModal: HeaderModal | null;\n  isMiniLobbyOpen: boolean;\n  isBackToGameHidden: boolean;\n  navExpanded: boolean;\n  navForcedExpanded: boolean;\n  quickGuideIsShown: boolean;\n  navRoute: string[];\n} = {\n  betLimitsOpen: false,\n  openedModal: CoreSessionStorage.getIsChatClosed() ? null : HeaderModal.Chat,\n  isMiniLobbyOpen: false,\n  isBackToGameHidden: false,\n  navExpanded: false,\n  navForcedExpanded: false,\n  quickGuideIsShown: false,\n  navRoute: [],\n};\n\nexport const headerSlice = createSlice({\n  name: 'header',\n  initialState,\n  reducers: {\n    setBetLimitsOpen: (state, action: PayloadAction<boolean>) => {\n      state.betLimitsOpen = action.payload;\n    },\n    setOpenedModal: (state, action: PayloadAction<HeaderModal | null>) => {\n      state.openedModal = action.payload;\n    },\n    setMiniLobbyOpen: (state, action: PayloadAction<boolean>) => {\n      state.isMiniLobbyOpen = action.payload;\n      if (!action.payload) {\n        state.isBackToGameHidden = false;\n      }\n    },\n    setBackToGameHidden: (state, action: PayloadAction<boolean>) => {\n      state.isBackToGameHidden = action.payload;\n    },\n    setNavExpanded: (state, action: PayloadAction<boolean>) => {\n      if (state.navForcedExpanded) return;\n      state.navExpanded = action.payload;\n    },\n    setNavForcedExpanded: (state, action: PayloadAction<boolean>) => {\n      state.navForcedExpanded = action.payload;\n      if (action.payload) state.navExpanded = true;\n    },\n    pushNavRoute: (state, action: PayloadAction<string>) => {\n      state.navRoute.push(action.payload);\n    },\n    setQuickGuideShown: (state) => {\n      state.quickGuideIsShown = true;\n    },\n    popNavRoute: (state) => {\n      state.navRoute.pop();\n      if (state.navRoute.length === 0) {\n        state.navExpanded = false;\n        state.navForcedExpanded = false;\n      }\n    },\n    replaceNavRoute: (state, action: PayloadAction<string>) => {\n      state.navRoute[state.navRoute.length - 1] = action.payload;\n    },\n    setNavRoute: (state, action: PayloadAction<string[]>) => {\n      state.navRoute = action.payload;\n      if (state.navRoute.length === 0) {\n        state.navExpanded = false;\n        state.navForcedExpanded = false;\n      }\n    },\n  },\n});\n\nexport const headerActions = headerSlice.actions;\n","import { useContext } from 'react';\n\nimport { HistoryContext } from '../context/HistoryContext';\nimport type { HistoryContextType, HistoryStateContextType } from '../context/types';\n\nexport const useHistoryContext = (): HistoryContextType & HistoryStateContextType => useContext(HistoryContext);\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { CoreSessionStorage } from '../../../storage/session/CoreSessionStorage';\nimport { getIsLanguageRTL } from '../../../utils/language';\nimport { fetchPlayerConfigAction } from '../../apiActions/fetchPlayerConfigAction';\n\nimport { StreamQuality } from './types';\nimport type { ChannelsType, ISettingsInitialState, VolumeChannelType } from './types';\n\nconst initialState: ISettingsInitialState = {\n  isInFullscreen: false,\n  isGameVisible: true,\n  isSecondBetBoardToggle: true,\n  isAnimationToggle: false,\n  stream: {\n    isEnabled: true,\n    isEnabledBySystem: true,\n    isInClassicView: false,\n    quality: StreamQuality.Auto,\n    qualityLimit: 0, //StreamQuality.High\n    streamLatency: 1000,\n    isClassicViewEnabled: true,\n  },\n  volume: {\n    restored: false,\n    master: {\n      value: 0,\n      temporaryValue: null,\n      previousValue: CoreSessionStorage.getLastPositiveMasterVolume() ?? 1,\n    },\n    channels: {},\n    uiChannel: null,\n  },\n  language: {},\n  showOtherMessages: true,\n};\n\nexport const settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setIsInFullscreen: (state, action: PayloadAction<boolean>) => {\n      state.isInFullscreen = action.payload;\n    },\n    /* Stream */\n    // Listened by settingSyncMiddleware\n    setStreamEnabled: (state, action: PayloadAction<boolean>) => {\n      state.stream.isEnabled = action.payload;\n    },\n    // Flag used for managing stream on inactivity\n    setStreamEnabledBySystem: (state, action: PayloadAction<boolean>) => {\n      state.stream.isEnabledBySystem = action.payload;\n    },\n    setStreamClassicView: (state, action: PayloadAction<boolean>) => {\n      state.stream.isInClassicView = action.payload;\n      // Switch back to default stream when classic view gets disabled\n      if (!action.payload) {\n        state.stream.isEnabled = true;\n      }\n    },\n    setStreamClassicViewEnabled: (state, action: PayloadAction<boolean>) => {\n      state.stream.isClassicViewEnabled = action.payload;\n    },\n    setStreamQualityLimit: (state, action: PayloadAction<number>) => {\n      state.stream.qualityLimit = action.payload;\n    },\n    setStreamQuality: (state, action: PayloadAction<StreamQuality>) => {\n      state.stream.quality = action.payload;\n    },\n    setStreamLatency: (state, action: PayloadAction<number>) => {\n      state.stream.streamLatency = action.payload;\n    },\n    isAnimationToggle: (state) => {\n      state.isAnimationToggle = !state.isAnimationToggle;\n    },\n    isSecondBetBoardToggle: (state) => {\n      state.isSecondBetBoardToggle = !state.isSecondBetBoardToggle;\n    },\n\n    /* Chat */\n    setShowOtherMessages: (state, action: PayloadAction<boolean>) => {\n      state.showOtherMessages = action.payload;\n    },\n\n    /* Volume */\n    setGameVolumeChannels: (state, action: PayloadAction<string[]>) => {\n      const newChannels = action.payload.reduce(\n        (acc, channel) => {\n          if (state.volume.channels[channel]) return acc;\n          acc[channel] = {\n            value: 0,\n            temporaryValue: null,\n            previousValue: 1,\n          };\n          return acc;\n        },\n        {} as { [key: string]: VolumeChannelType }\n      );\n      state.volume.channels = {\n        ...state.volume.channels,\n        ...newChannels,\n      };\n    },\n\n    setMasterVolumeOnly: (state, action: PayloadAction<number>) => {\n      setMasterVolumeFunc(state, action.payload);\n    },\n\n    toggleMasterVolume: (state) => {\n      const newVolume = state.volume.master.value ? 0 : state.volume.master.previousValue;\n      setMasterVolumeFunc(state, newVolume);\n    },\n\n    mute: (state) => {\n      setMasterVolumeFunc(state, 0);\n    },\n\n    unmute: (state) => {\n      setMasterVolumeFunc(state, state.volume.master.previousValue);\n    },\n\n    // Listened by settingSyncMiddleware\n    setMasterVolume: (state, action: PayloadAction<number>) => {\n      setMasterVolumeFunc(state, action.payload);\n    },\n    setMasterVolumeTemporary: (state, action: PayloadAction<number | null>) => {\n      state.volume.master.temporaryValue = action.payload;\n    },\n\n    setAllVolumes: (state, action: PayloadAction<number>) => {\n      state.volume.restored = true;\n      Object.keys(state.volume.channels).forEach((key) => {\n        if (!state.volume.channels[key]) return;\n        state.volume.channels[key].value = action.payload;\n      });\n    },\n\n    // Listened by settingSyncMiddleware\n    setVolume: (\n      state,\n      action: PayloadAction<{ channel: keyof (typeof initialState)['volume']['channels']; value: number }>\n    ) => setVolumeValue(state, action),\n\n    // Avoid redundant savePlayerConfigGeneric API call on iOS devices in VolumeRestorer\n    setVolumeIOSToggle: (\n      state,\n      action: PayloadAction<{ channel: keyof (typeof initialState)['volume']['channels']; value: number }>\n    ) => setVolumeValue(state, action),\n\n    setVolumeTemporary: (\n      state,\n      action: PayloadAction<{ channel: keyof (typeof initialState)['volume']['channels']; value: number | null }>\n    ) => {\n      const { channel, value } = action.payload;\n      if (state.volume.channels[channel]) {\n        state.volume.channels[channel].temporaryValue = value;\n      } else {\n        throw new Error(`Volume channel ${channel} does not exist`);\n      }\n    },\n    setUiVolumeChannel: (state, action: PayloadAction<string | null>) => {\n      state.volume.uiChannel = action.payload;\n    },\n    setNoVolumeControl: (state, action: PayloadAction<boolean>) => {\n      state.volume.noVolumeControl = action.payload;\n    },\n    /* Language */\n    setLanguage: (state, action: PayloadAction<string>) => {\n      state.language.current = action.payload;\n      state.language.isRTL = getIsLanguageRTL(state.language.current);\n    },\n    setIsGameVisible: (state, action: PayloadAction<boolean>) => {\n      state.isGameVisible = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      state.stream.isEnabled = action.payload.videoStream;\n      // TODO: default channels should be mapped via game config\n      if (state.volume.channels['studio']) {\n        state.volume.channels['studio'].value = action.payload.videoVolume;\n        state.volume.channels['studio'].previousValue = action.payload.videoVolume;\n      }\n      if (state.volume.channels['game']) {\n        state.volume.channels['game'].value = action.payload.gameEffectsVolume;\n        state.volume.channels['game'].previousValue = action.payload.gameEffectsVolume;\n      }\n      if (state.volume.channels['background'] && action.payload.backgroundMusicVolume) {\n        state.volume.channels['background'].value = action.payload.backgroundMusicVolume;\n        state.volume.channels['background'].previousValue = action.payload.backgroundMusicVolume;\n      }\n      if (state.volume.channels['voiceover'] && action.payload.voiceOverVolume) {\n        state.volume.channels['voiceover'].value = action.payload.voiceOverVolume;\n        state.volume.channels['voiceover'].previousValue = action.payload.voiceOverVolume;\n      }\n      state.showOtherMessages = action.payload.showOtherMessages;\n      state.isAnimationToggle = action.payload.hfAnimationEnabled;\n      state.isSecondBetBoardToggle = action.payload.isSecondBetboardEnabled;\n    });\n  },\n});\n\n// UTILS\nconst isAllChannelsHaveVolume = (channels: ChannelsType): boolean => {\n  return Object.keys(channels).some((key) => channels[key]?.value > 0);\n};\n\nconst setMasterVolumeFunc = (state: ISettingsInitialState, newVolume: number): void => {\n  state.volume.restored = true;\n  state.volume.master.value = newVolume;\n\n  if (state.volume.noVolumeControl) {\n    updateChannelsWithNoVolumeControl(state, newVolume);\n  } else if (!isAllChannelsHaveVolume(state.volume.channels)) {\n    updateChannelsWithPreviousVolume(state);\n  }\n\n  updateMasterVolume(state, newVolume);\n};\n\nconst updateChannelsWithNoVolumeControl = (state: ISettingsInitialState, newVolume: number): void => {\n  Object.keys(state.volume.channels).forEach((key) => {\n    if (!state.stream.isEnabled && key === 'studio' && newVolume > 0) return;\n\n    if (!state.volume.channels[key]) throw new Error(`Volume channel ${key} does not exist`);\n    state.volume.channels[key].value = newVolume;\n    state.volume.channels[key].previousValue = newVolume;\n  });\n};\n\nconst updateChannelsWithPreviousVolume = (state: ISettingsInitialState): void => {\n  Object.keys(state.volume.channels).forEach((key) => {\n    if (state.volume.noVolumeControl && !state.stream.isEnabled && key === 'studio') return;\n\n    if (!state.volume.channels[key]) throw new Error(`Volume channel ${key} does not exist`);\n\n    const newValues = state.volume.channels[key].previousValue > 0 ? state.volume.channels[key].previousValue : 1;\n\n    state.volume.channels[key].value = newValues;\n    state.volume.channels[key].previousValue = newValues;\n  });\n};\n\nconst updateMasterVolume = (state: ISettingsInitialState, newVolume: number): void => {\n  if (newVolume) {\n    state.volume.master.previousValue = newVolume;\n    CoreSessionStorage.setLastPositiveMasterVolume(newVolume);\n  }\n\n  state.volume.master.temporaryValue = null;\n  CoreSessionStorage.setLastMasterVolume(newVolume);\n};\n\nconst setVolumeValue = (\n  state: ISettingsInitialState,\n  action: PayloadAction<{ channel: keyof (typeof initialState)['volume']['channels']; value: number }>\n): void => {\n  const { channel, value } = action.payload;\n  state.volume.restored = true;\n\n  if (state.volume.channels[channel]) {\n    updateChannelVolume(state, channel, value);\n    checkAndUpdateMasterVolume(state, value);\n  } else {\n    throw new Error(`Volume channel ${channel} does not exist`);\n  }\n};\n\nconst updateChannelVolume = (\n  state: ISettingsInitialState,\n  channel: keyof (typeof initialState)['volume']['channels'],\n  value: number\n): void => {\n  const channelState = state.volume.channels[channel];\n  if (!channelState) return;\n  channelState.value = value;\n  if (value) {\n    channelState.previousValue = value;\n  }\n  channelState.temporaryValue = null;\n};\n\nconst checkAndUpdateMasterVolume = (state: ISettingsInitialState, value: number): void => {\n  if (value === 0 && !isAllChannelsHaveVolume(state.volume.channels)) {\n    state.volume.master.value = 0;\n  }\n};\n\nexport const settingsActions = settingsSlice.actions;\n","// extracted by mini-css-extract-plugin\nexport default {\"iconButton__wrapper\":\"bS_bT\",\"iconButton\":\"bS_bU\",\"iconButton__innerWrapper\":\"bS_bV\",\"iconButton_ghost\":\"bS_bW\",\"iconButton_squared\":\"bS_bX\",\"iconButton_large\":\"bS_bY\",\"iconButton_small\":\"bS_bZ\",\"iconButton_tiny\":\"bS_b0\",\"iconButton_light\":\"bS_b1\",\"iconButton_active\":\"bS_ca\",\"iconButton__content\":\"bS_cb\",\"iconButton__badge\":\"bS_cc\",\"iconButton__timer\":\"bS_ce\",\"iconButton__timerBackground\":\"bS_cf\",\"iconButton__timerPath\":\"bS_cg\",\"fill\":\"bS_ch\",\"iconButton_timerReversed\":\"bS_ci\",\"iconButton_timerIncreasing\":\"bS_cj\"};","import type { ButtonHTMLAttributes, MouseEvent, ReactNode } from 'react';\nimport { forwardRef, useEffect } from 'react';\n\nimport { useAudioTrigger } from '../../../controllers/audioController/hooks';\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { Icon } from '../../icons/icon';\nimport { Icons } from '../../icons/iconNames';\n\nimport styles from './IconButton.module.css';\n\ninterface IconButtonCoreProps extends Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'children' | 'onClick'> {\n  active?: boolean;\n  autoCall?: boolean;\n  ghost?: boolean;\n  large?: boolean;\n  light?: boolean;\n  onClick?: (event?: MouseEvent<HTMLButtonElement>) => void;\n  showBadge?: boolean;\n  small?: boolean;\n  squared?: boolean;\n  timer?: number;\n  timerIncreasing?: boolean;\n  timerReversed?: boolean;\n  tiny?: boolean;\n}\n\ninterface IconButtonIconProps extends IconButtonCoreProps {\n  icon: keyof Icons;\n  children?: never;\n}\n\ninterface IconButtonChildrenProps extends IconButtonCoreProps {\n  children: ReactNode;\n  icon?: never;\n}\n\nexport type IconButtonProps = IconButtonIconProps | IconButtonChildrenProps;\n\nconst IconButton = forwardRef<HTMLSpanElement, IconButtonProps>(function IconButtonFunc(\n  {\n    active,\n    autoCall = true,\n    children,\n    className = '',\n    disabled,\n    ghost,\n    icon,\n    large,\n    light,\n    onClick,\n    showBadge,\n    small,\n    squared,\n    timer,\n    timerIncreasing,\n    timerReversed,\n    tiny,\n    ...rest\n  },\n  forwardedRef\n) {\n  const mods = useModifiers(\n    styles,\n    'iconButton',\n    {\n      active,\n      disabled,\n      ghost,\n      large,\n      light,\n      small,\n      squared,\n      timerIncreasing,\n      timerReversed,\n      tiny,\n    },\n    { withBaseClass: true }\n  );\n\n  const audioTrigger = useAudioTrigger();\n\n  const handleClick = (event: MouseEvent<HTMLButtonElement>): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    onClick?.(event);\n  };\n\n  useEffect(() => {\n    if (timer && onClick && autoCall) {\n      const timerId: number = window.setTimeout(() => {\n        onClick();\n      }, timer);\n      return (): void => {\n        window.clearTimeout(timerId);\n      };\n    }\n  }, [timer, onClick, autoCall]);\n\n  return (\n    <div className={styles.iconButton__wrapper}>\n      <button\n        type=\"button\"\n        data-testid=\"icon-button\"\n        className={`${mods} ${className}`}\n        disabled={disabled}\n        onClick={handleClick}\n        {...rest}\n      >\n        {/*inner wrapper fixes button scaling on active state issue*/}\n        <span className={styles.iconButton__innerWrapper} ref={forwardedRef}>\n          <span className={styles.iconButton__content}>{icon ? <Icon icon={icon} /> : children}</span>\n          {timer ? (\n            <svg className={styles.iconButton__timer}>\n              <circle className={styles.iconButton__timerBackground} />\n              <circle className={styles.iconButton__timerPath} style={{ animationDuration: `${timer}ms` }} />\n            </svg>\n          ) : null}\n        </span>\n        {showBadge ? <span className={styles.iconButton__badge} /> : null}\n      </button>\n    </div>\n  );\n});\n\nIconButton.displayName = 'IconButton';\n\nexport { IconButton, Icons };\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport { countTotalBet, getMinimalBet } from '../../../utils/bets';\nimport { type CoreRootState, useCoreSelector } from '../../CoreStore';\n\nimport type { BetsSliceType, BetType, DragBufferType, IBetLimits, ILimit } from './types';\n\nconst selectInvalidBetspots = createSelector(\n  [\n    (state: CoreRootState): BetType | undefined => state.bets.betStack?.[state.bets.betStack.length - 1],\n    (state: CoreRootState): IBetLimits | null => state.bets.betLimits,\n  ],\n  (placedBets, betLimits) => {\n    if (placedBets && betLimits) {\n      const { betSpots } = placedBets;\n      return Object.keys(betSpots).filter((key) => {\n        const betSpot = betSpots[key];\n        const betLimit = betLimits[key];\n        return betLimit && betSpot && betSpot.value > 0 && betSpot.value < betLimit.min;\n      });\n    }\n    return [];\n  }\n);\n\nexport const useBetSlice = {\n  bets: (): BetType | undefined => {\n    return useCoreSelector((state) => state.bets.betStack?.[state.bets.betStack.length - 1]);\n  },\n  lastBet: (): BetsSliceType['lastBet'] => {\n    return useCoreSelector((state) => state.bets.lastBet);\n  },\n  betsReady: (): boolean => {\n    return useCoreSelector((state) => !!state.bets.betList);\n  },\n  betList: (): BetsSliceType['betList'] => {\n    return useCoreSelector((state) => state.bets.betList);\n  },\n  betLimits: (): BetsSliceType['betLimits'] => {\n    return useCoreSelector((state) => state.bets.betLimits);\n  },\n  isLowBalance: (balance?: number): boolean => {\n    return useCoreSelector((state) => {\n      if (!balance) return true;\n      const minBet = getMinimalBet(state.bets.betLimits);\n      return balance < minBet;\n    });\n  },\n  isReBetEnabled: (balance: number, digits: number): boolean => {\n    return useCoreSelector((state) => {\n      // Conditions\n      // 1) there is a last bet\n      // 2) It is not 0\n      // 3) It does not include bet spots that are disabled now\n      // 4) It fits in balance\n      if (state.bets.lastBet) {\n        const savedBet = state.bets.lastBet.betSpots;\n        const previousBetSpots = Object.keys(savedBet || {}).filter((el) => (savedBet?.[el]?.value ?? 0) > 0);\n        const betUnavailable =\n          previousBetSpots.length === 0 || previousBetSpots.some((r) => state.bets.disabledBetSpots.includes(r));\n        const totalBet = countTotalBet(savedBet, digits);\n        if (!betUnavailable && totalBet <= balance) {\n          return true;\n        }\n      }\n      return false;\n    });\n  },\n  getMinBet: (): number => {\n    return useCoreSelector((state) => getMinimalBet(state.bets.betLimits));\n  },\n  rawTotalBet: (): number => {\n    return useCoreSelector((state) => state.bets.rawTotalBet);\n  },\n  getDisabledBetSpots: (): string[] => {\n    return useCoreSelector((state) => state.bets.disabledBetSpots);\n  },\n  totalBet: (): number => {\n    return useCoreSelector((state) => state.bets.totalBet);\n  },\n  hasTotalBet: (): boolean => {\n    return useCoreSelector((state) => state.bets.totalBet > 0);\n  },\n  acceptedBets: (): BetsSliceType['acceptedBets'] => {\n    return useCoreSelector((state) => state.bets.acceptedBets);\n  },\n  /**\n   * @returns string[] - Array of bet spots id's that are invalid based on min bet limits\n   */\n  invalidBetspots: (): string[] => {\n    return useCoreSelector(selectInvalidBetspots);\n  },\n  getDragBuffer: (): DragBufferType | null => {\n    return useCoreSelector((state) => (state.bets.dragBuffer?.preliminary ? null : state.bets.dragBuffer));\n  },\n  getPreliminaryDragBuffer: (): DragBufferType | null => {\n    return useCoreSelector((state) => state.bets.dragBuffer);\n  },\n  getIsDragging: (): boolean => {\n    return useCoreSelector((state) => !!state.bets.dragBuffer);\n  },\n  /**\n   * Get timestamp of when was the last time betStack was updated\n   */\n  getUpdateTimestamp: (): number => {\n    return useCoreSelector((state) => state.bets.updateTimestamp);\n  },\n  getTableLimits: (): ILimit | null => {\n    return useCoreSelector((state) => state.bets.tableLimits);\n  },\n};\n","import { useMedia } from '../../hooks/useMedia';\n\nconst widthBreakpoints = {\n  narrow: 375,\n  medium: 620,\n  wide: 1024,\n  mediumWide: 1366,\n  extraWide: 1512,\n  extraExtraWide: 1800,\n};\n\n/* Larger Than: \"mobile-first\" */\n\nexport const useIsLargerThanExtraExtraWide = (): boolean => {\n  //(width >= 1800px)\n  return useMedia(`(min-width: ${widthBreakpoints.extraExtraWide}px) and (min-height: 500px)`);\n};\n\nexport const useIsLargerThanExtraWide = (): boolean => {\n  //(width >= 1512px)\n  return useMedia(`(min-width: ${widthBreakpoints.extraWide}px) and (min-height: 500px)`);\n};\n\nexport const useIsLargerThanMediumWide = (): boolean => {\n  //(width >= 1366px)\n  return useMedia(`(min-width: ${widthBreakpoints.mediumWide}px) and (min-height: 500px)`);\n};\n\nexport const useIsLargerThanWide = (): boolean => {\n  //(width >= 1024px), (height >= 500px)\n  return useMedia(`(min-width: ${widthBreakpoints.wide}px) and (min-height: 500px)`);\n};\n\nexport const useIsLargerThanMedium = (): boolean => {\n  //(width >= 620px)\n  return useMedia(`(min-width: ${widthBreakpoints.medium}px)`);\n};\n\nexport const useIsLargerThanNarrow = (): boolean => {\n  //(width >= 375px)\n  return useMedia(`(min-width: ${widthBreakpoints.narrow}px)`);\n};\n\n/* Smaller Than: \"desktop-first\" */\n\nexport const useIsSmallerThanExtraExtraWide = (): boolean => {\n  //(width < 1800px)\n  return useMedia(`(max-width: ${widthBreakpoints.extraExtraWide - 1}px), (max-height: 499px)`);\n};\n\nexport const useIsSmallerThanExtraWide = (): boolean => {\n  //(width < 1512px)\n  return useMedia(`(max-width: ${widthBreakpoints.extraWide - 1}px), (max-height: 499px)`);\n};\n\nexport const useIsSmallerThanMediumWide = (): boolean => {\n  //(width < 1366px)\n  return useMedia(`(max-width: ${widthBreakpoints.mediumWide - 1}px), (max-height: 499px)`);\n};\n\nexport const useIsSmallerThanWide = (): boolean => {\n  //(width < 1024px), (height < 500px)\n  return useMedia(`(max-width: ${widthBreakpoints.wide - 1}px), (max-height: 499px)`);\n};\n\nexport const useIsSmallerThanMedium = (): boolean => {\n  //(width < 620px)\n  return useMedia(`(max-width: ${widthBreakpoints.medium - 1}px)`);\n};\n\nexport const useIsSmallerThanNarrow = (): boolean => {\n  //(width < 375px)\n  return useMedia(`(max-width: ${widthBreakpoints.narrow - 1}px)`);\n};\n\nexport const useIsCompressed = (): boolean => {\n  //(height < 320px), (width < 360px)\n  return useMedia('(max-height: 319px), (max-width: 359px)');\n};\n\nexport const useIsUncompessed = (): boolean => {\n  //(height >= 320px) and (width >= 360px)\n  return useMedia('(min-height: 320px) and (min-width: 360px)');\n};\n\nexport const useIsLandscape = (): boolean => {\n  return useMedia('(orientation: landscape)');\n};\n\nexport const useIsPortrait = (): boolean => {\n  return useMedia('(orientation: portrait)');\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader__container\":\"fJ_fK\",\"loader\":\"fJ_fL\",\"loader-spin\":\"fJ_fM\",\"loader__content\":\"fJ_fN\"};","import type { FunctionComponent, PropsWithChildren, ReactElement } from 'react';\n\nimport styles from './loader.module.css';\n\n// TODO: loader sounds like it's purpose is to load something. Rename maybe? Usually these things are called \"spinners\"\nexport const Loader: FunctionComponent<PropsWithChildren> = ({ children }): ReactElement => (\n  <div className={styles.loader__container}>\n    <div className={styles.loader} />\n    {children ? <div className={styles.loader__content}>{children}</div> : null}\n  </div>\n);\n","export interface WinnersTotal {\n  totalEur: string;\n  winnersCount: string;\n}\n\nexport interface WinnerType {\n  mul?: number;\n  userId: string;\n  screenName: string;\n  currency: string;\n  win: number;\n  megawin: boolean;\n  group?: string;\n}\nexport interface CurrencyInfo {\n  // TODO: maybe add currency code here as well?\n  symbol: string;\n  digitsNumber: number;\n  groupNumber: number;\n  decimalSeparator: string;\n  groupSeparator: string;\n}\n\nexport interface WinResultType {\n  amount: number;\n  isMegaWin: boolean;\n  updateTimestamp: number;\n}\n\n// TODO: strictly define what is game status and what possible values should it have\nexport enum GameStatus {\n  AutoplayLeft = 'AutoplayLeft', // FIXME: not really a status, more like a message\n  BetsAccepted = 'BetsAccepted',\n  BetsClosed = 'BetsClosed',\n  BetsRejected = 'BetsRejected',\n  BonusRound = 'BonusRound',\n  DealerWins = 'DealerWins',\n  Dealing = 'Dealing',\n  Drawing = 'Drawing',\n  GameCancelled = 'GameCancelled',\n  Green = 'Green',\n  LastBets = 'LastBets',\n  MegaMultipliers = 'MegaMultipliers',\n  Multipliers = 'Multipliers',\n  NotAllBetsAccepted = 'NotAllBetsAccepted',\n  PlaceYourBets = 'PlaceYourBets',\n  Push = 'Push',\n  Result = 'Result',\n  Shuffling = 'Shuffling',\n  SumTo = 'SumTo',\n  Tumbling = 'Tumbling',\n  WaitForNextGame = 'WaitForNextGame',\n  WelcomeMsg = 'WelcomeMsg', // FIXME: not really a status, more like a message\n  YouWin = 'YouWin',\n}\n\nexport interface DealerType {\n  name: string;\n  id: string | null;\n}\n\nexport interface TableType {\n  openTime: number;\n}\n\nexport interface TableCloseNotifyType {\n  tableId: string;\n  duration: string;\n}\n","class SessionStorageClass {\n  private storageAvailable = false;\n\n  constructor() {\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      sessionStorage.setItem('availabilityTest', 'test');\n      // eslint-disable-next-line no-restricted-syntax\n      if (sessionStorage.getItem('availabilityTest') === 'test') {\n        this.storageAvailable = true;\n      }\n      // eslint-disable-next-line no-restricted-syntax\n      sessionStorage.removeItem('availabilityTest');\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key: 'availabilityTest' });\n    }\n  }\n\n  isAvailable(): boolean {\n    return this.storageAvailable;\n  }\n\n  remove(key: string): void {\n    if (!this.storageAvailable) return;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      sessionStorage.removeItem(key);\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key });\n    }\n  }\n\n  set(key: string, payload: string | number): void {\n    if (!this.storageAvailable) return;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      sessionStorage.setItem(key, payload.toString());\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key, payload: payload.toString() });\n    }\n  }\n\n  setJson(key: string, payload: Record<string, string>): void {\n    try {\n      this.set(key, JSON.stringify(payload));\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key, payload });\n    }\n  }\n\n  get(key: string): string | null | undefined {\n    if (!this.storageAvailable) return null;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      return sessionStorage.getItem(key);\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key });\n    }\n  }\n\n  getJson<Payload = Record<string, string>>(key: string): Payload | null | undefined {\n    if (!this.storageAvailable) return null;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      const value = sessionStorage.getItem(key);\n      if (value) {\n        return JSON.parse(value);\n      }\n    } catch (error) {\n      this.handleSessionStorageError(error as Error, { key });\n    }\n  }\n\n  private readonly handleSessionStorageError = (\n    error: Error,\n    options: {\n      key: string;\n      payload?: string | Record<string, string>;\n    }\n  ): void => {\n    console.log(error, options);\n  };\n}\n\nexport const SessionStorage = new SessionStorageClass();\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport { isBetRequiredToChat } from '../../../utils/chat';\nimport { type CoreRootState, useCoreSelector } from '../../CoreStore';\n\nimport { gameChatMessagesAdapter, liveSupportChatMessagesAdapter } from './slice';\nimport type { Message, ChatSubscriptionState } from './types';\n\nconst { selectAll: selectLiveSupportChatMessages } = liveSupportChatMessagesAdapter.getSelectors<CoreRootState>(\n  (state) => state.chat.liveSupportChatMessages\n);\n\nconst { selectAll: selectGameChatMessages } = gameChatMessagesAdapter.getSelectors<CoreRootState>(\n  (state) => state.chat.gameChatMessages\n);\n\nconst miniChatMessages = createSelector([(state): Message[] => selectGameChatMessages(state)], (messages) =>\n  messages.slice(0, 3)\n);\n\nexport const useChatSlice = {\n  getGameChatMessages: (): Message[] => {\n    return useCoreSelector((state) => selectGameChatMessages(state));\n  },\n  getLiveSupportChatMessages: (): Message[] => {\n    return useCoreSelector((state) => selectLiveSupportChatMessages(state));\n  },\n  getMiniChatMessages: (): Message[] => {\n    return useCoreSelector(miniChatMessages);\n  },\n  getLastChatMessage: (): Message | null => {\n    return useCoreSelector((state) => state.chat.lastChatMessage);\n  },\n  getChatSubscriptionState: (): ChatSubscriptionState => {\n    return useCoreSelector((state) => state.chat.chatSubscriptionState);\n  },\n  getIsLiveSupportRead: (): boolean => {\n    return useCoreSelector((state) => state.chat.isLiveSupportChatRead);\n  },\n  getIsLiveSupportChatBlocked: (): boolean => {\n    return useCoreSelector((state) => state.chat.isLiveSupportChatBlocked);\n  },\n  getIsGameChatBlocked: (): boolean => {\n    return useCoreSelector((state) => state.chat.isGameChatBlocked);\n  },\n  getIsBetChatAllowed: (): boolean => {\n    return useCoreSelector((state) => state.chat.isBetChatAllowed);\n  },\n  isBetRequiredToChat: (): boolean => {\n    return useCoreSelector((state) => isBetRequiredToChat(state.chat.chatBlockType));\n  },\n  getIsChatHistoryFetched: (): boolean => {\n    return useCoreSelector((state) => state.chat.isGameChatHistoryFetched);\n  },\n};\n","import type { ErrorInfo, ReactNode } from 'react';\nimport { Component } from 'react';\n\nimport { CoreDebugConsole } from '../../logger/CoreDebugConsole';\nimport { Logger } from '../../logger/Logger';\nimport { Curtain } from '../curtain/Curtain';\n\nimport type { ErrorBoundaryProps, ErrorBoundaryState } from './types';\n\n/**\n * There's an error boundary component that provides a fallback in case of error in its children components and logs error to Logger.\n */\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    Logger.logFailure('errors', 'errorBoundary', errorInfo?.componentStack ?? '', Date.now(), 1, error.message, false);\n    Logger.logException(error);\n\n    CoreDebugConsole.log('ErrorBoundary consumed an error:', { level: 'error' });\n    CoreDebugConsole.log(error.stack ?? error.message, { level: 'error' });\n\n    if (this.props.critical) {\n      Curtain.resurrect();\n    }\n\n    this.setState({ hasError: true });\n  }\n\n  render(): ReactNode {\n    if (this.state.hasError) {\n      if (this.props.critical) {\n        return Curtain.renderContent(this.props.fallback);\n      } else {\n        return this.props.fallback;\n      }\n    }\n    return this.props.children;\n  }\n}\n","import type { AcceptedBet, BetType, IBetLimits, IBetSpots } from '../store/slices/bets/types';\n\nimport { isInteger, roundNumber } from './number';\n\nexport const getMinimalBet = (betLimits: IBetLimits | null): number => {\n  // FIXME: cache me\n  return betLimits ? Math.min(...Object.values(betLimits).map((betLimit) => betLimit.min)) : 0;\n};\n\nexport const acceptedBetAlreadyExists = (acceptedBets: AcceptedBet[], acceptedBet: AcceptedBet): boolean => {\n  return !!acceptedBets.find((bet) => bet.amount === acceptedBet.amount && bet.betcode === acceptedBet.betcode);\n};\n\nexport const areBetsEqual = (bet1: BetType, bet2: BetType): boolean => {\n  if (!bet1 || !bet2) {\n    return false;\n  }\n  let result = true;\n  const keys = [...new Set([...Object.keys(bet1.betSpots), ...Object.keys(bet2.betSpots)])];\n  keys.forEach((key) => {\n    const betSpotValue1 = bet1.betSpots[key]?.value ?? 0;\n    const betSpotValue2 = bet2.betSpots[key]?.value ?? 0;\n    if (betSpotValue1 !== betSpotValue2) {\n      result = false;\n    }\n  });\n  return result;\n};\n\nexport const rawTotalBet = (betSpots: IBetSpots = {}): number =>\n  Object.values(betSpots).reduce((sum, { value }) => sum + value, 0);\n\nexport const countTotalBet = (betSpots: IBetSpots, digits: number): number => {\n  const totalBet = rawTotalBet(betSpots);\n  return roundNumber(totalBet, digits);\n};\n\nexport const calculateNewBetValue = (\n  currentValue: number,\n  addedValue: number,\n  limit: number,\n  decimals: number\n): number => {\n  if (isInteger(currentValue) && isInteger(addedValue)) {\n    return Math.min(currentValue + addedValue, limit);\n  } else {\n    // Scale-up non-integers to avoid floating point errors\n    return Math.min(roundNumber(currentValue + addedValue, decimals), limit);\n  }\n};\n\n// TODO: check this function - seems like it's not fully correct for all the cases and requirements we have\nexport const isBetAvailable = (\n  currentBets: BetType,\n  changedBets: BetType,\n  decimals: number,\n  betLimits: IBetLimits,\n  tableLimit: number\n): boolean => {\n  let maxedOutCount = 0;\n\n  const changedBetsBetSpots = changedBets.betSpots ?? {};\n  const currentBetsBetSpots = currentBets.betSpots ?? {};\n  const tillTableLimit = tableLimit - countTotalBet(currentBetsBetSpots, decimals);\n  const aboutToPlace = Object.keys(changedBetsBetSpots).reduce((sum, betId) => {\n    const currentValue = currentBetsBetSpots[betId]?.value ?? 0;\n    const addedValue = changedBetsBetSpots[betId]?.value ?? 0;\n    const betLimit = betLimits[betId]?.max ?? Infinity;\n    const calculatedBetValue = calculateNewBetValue(currentValue, addedValue, betLimit, decimals);\n    if (calculatedBetValue >= betLimit) {\n      maxedOutCount++;\n    }\n    return sum + calculatedBetValue === currentValue ? 0 : calculatedBetValue;\n  }, 0);\n\n  const updatedBetCount = Object.values(changedBetsBetSpots).filter(({ value }) => value > 0).length;\n  const multiBet = updatedBetCount > 1;\n\n  return !(tillTableLimit < aboutToPlace && multiBet && maxedOutCount < updatedBetCount - 1);\n};\n\nexport const getNewBet = (\n  currentBets: BetType | undefined,\n  changedBets: BetType,\n  decimals: number,\n  betLimits: IBetLimits,\n  betList: number[],\n  tableLimit: number,\n  balance: number\n): BetType | null => {\n  currentBets ??= emptyBets();\n\n  if (!isBetAvailable(currentBets, changedBets, decimals, betLimits, tableLimit)) {\n    return null;\n  }\n\n  const newBets = currentBets.betSpots ? { ...currentBets, betSpots: { ...currentBets.betSpots } } : emptyBets();\n\n  let negativeBetSum = Object.values(changedBets.betSpots).reduce(\n    (sum, { value }) => (value < 0 ? sum + value : sum),\n    0\n  );\n  let tillTableLimit = tableLimit - countTotalBet(newBets.betSpots, decimals) - negativeBetSum;\n\n  for (const betId of betList) {\n    const currentValue = currentBets.betSpots?.[betId]?.value ?? 0;\n    const valueToAdd = changedBets.betSpots?.[betId]?.value ?? 0;\n\n    if (valueToAdd > 0 && tillTableLimit <= 0) {\n      return null;\n    }\n\n    const addedValue = Math.min(valueToAdd ?? 0, tillTableLimit);\n    const betLimit = betLimits[betId]?.max || Infinity;\n    const calculatedBetValue = calculateNewBetValue(currentValue, addedValue, betLimit, decimals);\n\n    newBets.betSpots[betId] = { ...changedBets.betSpots?.[betId], value: calculatedBetValue };\n\n    if (valueToAdd < 0) {\n      negativeBetSum += Math.abs(valueToAdd);\n    }\n    tillTableLimit = tableLimit - countTotalBet(newBets.betSpots, decimals) - negativeBetSum;\n  }\n\n  const totalBet = countTotalBet(newBets.betSpots, decimals);\n  const fitsInBalance = totalBet <= balance;\n  const fitsInTableLimit = totalBet <= tableLimit;\n  const betsEqual = areBetsEqual(newBets, currentBets);\n  if (!betsEqual && fitsInBalance && fitsInTableLimit) {\n    return newBets;\n  }\n  return null;\n};\n\n// TODO: should this be merged with calculateNewBetValue?\nexport const doubleBetValue = (currentValue: number, betLimit: number, decimals: number): number => {\n  if (isInteger(currentValue)) {\n    return Math.min(currentValue * 2, betLimit);\n  } else {\n    // Scale-up non-integers to avoid floating point errors\n    return Math.min(roundNumber(currentValue * 2, decimals), betLimit);\n  }\n};\n\nexport const doubleBets = (\n  balance: number,\n  decimals: number,\n  bet: BetType,\n  betLimits: IBetLimits | null,\n  totalTableLimit: number,\n  totalBet: number,\n  valueMultiplier?: number\n): BetType => {\n  balance -= totalBet;\n\n  const newBets = emptyBets();\n\n  for (const [betId, betSpot] of Object.entries(bet.betSpots ?? {})) {\n    const betLimit = betLimits?.[betId]?.max ?? Infinity;\n    const doubledValue = doubleBetValue(betSpot.value, betLimit, decimals);\n\n    let costToDouble = doubledValue - betSpot.value;\n\n    if (valueMultiplier) {\n      costToDouble *= valueMultiplier;\n    }\n    totalBet += costToDouble;\n\n    const canDouble = balance >= costToDouble && totalBet <= totalTableLimit;\n    if (canDouble) {\n      newBets.betSpots[betId] = {\n        value: doubledValue,\n        ...(betSpot.ticketCount !== undefined && { ticketCount: betSpot.ticketCount * 2 }), // FIXME: VBB game-specific data\n      };\n      balance -= costToDouble;\n    } else {\n      return bet;\n    }\n  }\n  return newBets;\n};\n\nexport const validateBets = (\n  balance: number,\n  decimals: number,\n  totalBet: number,\n  betSpotIds: number[],\n  betSpotLimits: IBetLimits | null,\n  bets: BetType | void,\n  chipValue: number,\n  valueMultiplier?: number\n): BetType => {\n  const validBet = emptyBets();\n\n  /**\n   * Invalid input data cases\n   *\n   *  bets without total bet or vice versa\n   *  no balance\n   *  no chip value\n   */\n  if ((totalBet && !bets) || !balance || !chipValue) {\n    return validBet;\n  }\n\n  let subTotalBet = chipValue,\n    betSpotValue = chipValue,\n    blockedByLimit = false;\n\n  betSpotIds.forEach((betSpot) => {\n    blockedByLimit = false;\n\n    const betLimit = betSpotLimits?.[betSpot]?.max || Infinity, // TODO: do we want to set Infinity in case of 0?\n      currentBet = bets?.betSpots[betSpot]?.value ?? 0,\n      maxAllowedBetValueForBetSpot = roundNumber(betLimit - currentBet, decimals);\n\n    betSpotValue = Math.min(chipValue, maxAllowedBetValueForBetSpot);\n    subTotalBet = valueMultiplier ? roundNumber(betSpotValue * valueMultiplier, decimals) : betSpotValue;\n    blockedByLimit = betLimit <= currentBet;\n\n    if (balance >= roundNumber(subTotalBet + totalBet, decimals) && !blockedByLimit) {\n      balance = roundNumber(balance - subTotalBet, decimals);\n      validBet.betSpots[betSpot] = { value: betSpotValue }; // value without multipliers\n    }\n  });\n  return validBet;\n};\n\nexport const emptyBets = (): BetType => ({ betSpots: {} });\n","import { NetworkError } from './NetworkError';\nimport { FetchErrorName } from './types';\n\nexport class ForbiddenError extends NetworkError {\n  public name = FetchErrorName.ForbiddenError;\n  public constructor(message: string, endpoint?: string, url?: string) {\n    super(message, undefined, endpoint, url);\n    Object.setPrototypeOf(this, ForbiddenError.prototype);\n  }\n}\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { SUBTITLES_DEFAULT_SIZES } from '../../../components/subtitles/constants';\nimport { SubtitlesDevice, SubtitlesPositions, SubtitlesTextSize } from '../../../components/subtitles/types';\nimport { fetchPlayerConfigAction } from '../../apiActions/fetchPlayerConfigAction';\n\nimport type { SubtitlesMessage } from './types';\nimport { SubtitlesGroup, SubtitlesState } from './types';\n\nconst initialState: SubtitlesState = {\n  group: SubtitlesGroup.GROUP1,\n  isEnabled: true,\n  isOnboarded: false,\n  sizes: SUBTITLES_DEFAULT_SIZES,\n  positionsRaw: {},\n  subtitle: {\n    text: '',\n  },\n};\n\nexport const subtitlesSlice = createSlice({\n  name: 'subtitles',\n  initialState,\n  reducers: {\n    finishOnboarding: (state) => {\n      state.isOnboarded = true;\n    },\n    setGroup: (state, action: PayloadAction<SubtitlesGroup>) => {\n      state.group = action.payload;\n    },\n    setIsEnabled: (state, action: PayloadAction<boolean>) => {\n      state.isEnabled = action.payload;\n    },\n    setSize: (state, action: PayloadAction<{ deviceType: SubtitlesDevice; size: SubtitlesTextSize }>) => {\n      state.sizes[action.payload.deviceType] = action.payload.size;\n    },\n    setSubtitle: (state, action: PayloadAction<SubtitlesMessage>) => {\n      state.subtitle = {\n        text: action.payload.content,\n        isFinal: action.payload.isFinal,\n      };\n    },\n    setPositions: (state, action: PayloadAction<{ gameType: string; positions: SubtitlesPositions }>) => {\n      state.positionsRaw[action.payload.gameType] = action.payload.positions;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      state.isEnabled = action.payload.subtitlesEnabled[state.group];\n      state.isOnboarded = action.payload.subtitlesOnboarded;\n\n      if (action.payload.subtitlesSize) {\n        const size = action.payload.subtitlesSize;\n        try {\n          state.sizes = JSON.parse(size);\n        } catch (e) {}\n      }\n\n      if (action.payload.subtitlesPositionsRaw) {\n        state.positionsRaw = JSON.parse(action.payload.subtitlesPositionsRaw);\n      }\n    });\n  },\n});\n\nexport const subtitlesActions = subtitlesSlice.actions;\n","import type { FunctionComponent, ReactElement, SVGAttributes } from 'react';\n\nimport styles from './icon.module.css';\n\nexport interface IconSvgProps extends SVGAttributes<SVGSVGElement> {\n  icon: string;\n}\n\nexport const IconSvg: FunctionComponent<IconSvgProps> = ({ icon, className = '', ...rest }): ReactElement => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    className={`${styles.icon} ${className}`}\n    {...rest}\n  >\n    <use xlinkHref={`#icon-${icon}`} />\n  </svg>\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchPlayerConfigSync, type FetchPlayerConfigSyncParams } from '../../api/fetchers/playerConfigSync/fetcher';\n\ninterface FetchPlayerConfigSyncActionParams extends FetchPlayerConfigSyncParams {\n  essential?: boolean;\n}\n\nexport const fetchPlayerConfigSyncAction = createAsyncThunk(\n  'playerConfig/fetchPlayerConfigSync',\n  (params: FetchPlayerConfigSyncActionParams) => fetchPlayerConfigSync(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchAssignedTables, type FetchAssignedTablesParams } from '../../api/fetchers/assignedTables/fetcher';\n\ninterface FetchAssignedTablesActionParams extends FetchAssignedTablesParams {\n  essential: boolean;\n}\n\nexport const fetchAssignedTablesAction = createAsyncThunk(\n  'assignedTables/fetchAssignedTables',\n  (params: FetchAssignedTablesActionParams) => fetchAssignedTables(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchEnv, type FetchEnvParams } from '../../api/fetchers/env/fetcher';\n\ninterface FetchEnvActionParams extends FetchEnvParams {\n  essential: boolean;\n}\n\nexport const fetchEnvAction = createAsyncThunk('env/fetchEnv', (params: FetchEnvActionParams) => fetchEnv(params));\n","import type { EntityState } from '@reduxjs/toolkit';\n\nexport type ChatRole = 'GAME_USER' | 'LIVE_SUPPORT' | 'SUPPORT';\nexport type ChatTagMessage = 'GAME_USER' | 'SUPPORT' | 'LIVE_SUPPORT';\nexport type ChatSubscriptionState = 'UNSUBSCRIBED' | 'SUBSCRIBED' | 'FRESH_CHAT_SUBSCRIBED';\n\nexport enum SendType {\n  Table = 'TABLE',\n  Notification = 'NOTIFICATION',\n}\n\nexport enum ChatBlockType {\n  BetRequired = 'BET_REQUIRED',\n  LowBalance = 'LOW_BALANCE',\n}\n\nexport interface UserType {\n  url: string;\n  userId: string;\n  tableId: string;\n  role: ChatRole;\n  tableMinBet: number;\n  xForwardedForIP: string;\n  rank: number;\n  blocked: boolean;\n  active: boolean;\n  casinoId: string;\n  screenName: string;\n  userTypeCode: string; // todo: add stricter type\n  priveLoungePlayer: boolean;\n  chatAllowed: boolean;\n  betChatAllowed: boolean;\n  supportChatAllowed: boolean;\n  webSocketSessionId: string;\n  unMaskedScreenName: string;\n  priveLoungeHost: boolean;\n  freeGamesCount: number;\n  lang: string; // todo: add stricter type\n  tableName: string;\n  casinoName: string;\n  operatorGameTableId: string;\n  ppPlayerId: string;\n  chatBlockType: ChatBlockType;\n  casinoPPId: string;\n  btplayer: boolean;\n  hostName: string;\n}\n\nexport interface Message {\n  messageId: string;\n  role: ChatRole;\n  tagMessage: ChatTagMessage;\n  content: string;\n  userId?: string;\n  timestamp: number;\n  user?: UserType;\n  userScreenName?: string;\n  action?: string; // todo: add stricter type\n  autoReply?: false;\n  casinoId?: string;\n  showHide?: boolean;\n  showMessage?: boolean; // duplicate of showHide\n  status?: string;\n  tableId?: string;\n  tableName?: string;\n  sendType?: SendType;\n  requireTranslation?: boolean;\n  errorCode?: number;\n  isliveSupportChat?: boolean; // casing is intentional, expected by backend\n  betChatAllowed?: boolean;\n  chatAllowed?: boolean;\n}\n\nexport interface ChatState {\n  gameChatMessages: EntityState<Message, Message['messageId']>;\n  liveSupportChatMessages: EntityState<Message, Message['messageId']>;\n  miniChatMessages: Message[];\n  lastChatMessage: Message | null;\n  isLiveSupportChatRead: boolean;\n  isBetChatAllowed: boolean;\n  chatBlockType: ChatBlockType;\n  isGameChatBlocked: boolean;\n  isLiveSupportChatBlocked: boolean;\n  chatSubscriptionState: ChatSubscriptionState;\n  isGameChatHistoryFetched: boolean;\n}\n","import type { Subtitle, SubtitlesPositions, SubtitlesSize } from '../../../components/subtitles/types';\nimport type { Message } from '../chat/types';\n\nexport interface SubtitlesState {\n  group: SubtitlesGroup;\n  isEnabled: boolean;\n  isOnboarded: boolean;\n  positionsRaw: Record<string, SubtitlesPositions>;\n  sizes: SubtitlesSize;\n  subtitle: Subtitle;\n}\n\nexport enum SubtitlesGroup {\n  GROUP1 = 'gr1',\n  GROUP2 = 'gr2',\n  GROUP3 = 'gr3',\n}\n\nexport interface SubtitlesMessage extends Message {\n  isFinal?: boolean;\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchVersions, type FetchVersionsParams } from '../../api/fetchers/versions/fetcher';\n\ninterface FetchVersionsActionParams extends FetchVersionsParams {\n  essential: boolean;\n}\n\nexport const fetchVersionsAction = createAsyncThunk('versions/fetchVersions', (params: FetchVersionsActionParams) =>\n  fetchVersions(params)\n);\n","// src/devModeChecks/identityFunctionCheck.ts\nvar runIdentityFunctionCheck = (resultFunc, inputSelectorsResults, outputSelectorResult) => {\n  if (inputSelectorsResults.length === 1 && inputSelectorsResults[0] === outputSelectorResult) {\n    let isInputSameAsOutput = false;\n    try {\n      const emptyObject = {};\n      if (resultFunc(emptyObject) === emptyObject)\n        isInputSameAsOutput = true;\n    } catch {\n    }\n    if (isInputSameAsOutput) {\n      let stack = void 0;\n      try {\n        throw new Error();\n      } catch (e) {\n        ;\n        ({ stack } = e);\n      }\n      console.warn(\n        \"The result function returned its own inputs without modification. e.g\\n`createSelector([state => state.todos], todos => todos)`\\nThis could lead to inefficient memoization and unnecessary re-renders.\\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.\",\n        { stack }\n      );\n    }\n  }\n};\n\n// src/devModeChecks/inputStabilityCheck.ts\nvar runInputStabilityCheck = (inputSelectorResultsObject, options, inputSelectorArgs) => {\n  const { memoize, memoizeOptions } = options;\n  const { inputSelectorResults, inputSelectorResultsCopy } = inputSelectorResultsObject;\n  const createAnEmptyObject = memoize(() => ({}), ...memoizeOptions);\n  const areInputSelectorResultsEqual = createAnEmptyObject.apply(null, inputSelectorResults) === createAnEmptyObject.apply(null, inputSelectorResultsCopy);\n  if (!areInputSelectorResultsEqual) {\n    let stack = void 0;\n    try {\n      throw new Error();\n    } catch (e) {\n      ;\n      ({ stack } = e);\n    }\n    console.warn(\n      \"An input selector returned a different result when passed same arguments.\\nThis means your output selector will likely run more frequently than intended.\\nAvoid returning a new reference inside your input selector, e.g.\\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`\",\n      {\n        arguments: inputSelectorArgs,\n        firstInputs: inputSelectorResults,\n        secondInputs: inputSelectorResultsCopy,\n        stack\n      }\n    );\n  }\n};\n\n// src/devModeChecks/setGlobalDevModeChecks.ts\nvar globalDevModeChecks = {\n  inputStabilityCheck: \"once\",\n  identityFunctionCheck: \"once\"\n};\nvar setGlobalDevModeChecks = (devModeChecks) => {\n  Object.assign(globalDevModeChecks, devModeChecks);\n};\n\n// src/utils.ts\nvar NOT_FOUND = /* @__PURE__ */ Symbol(\"NOT_FOUND\");\nfunction assertIsFunction(func, errorMessage = `expected a function, instead received ${typeof func}`) {\n  if (typeof func !== \"function\") {\n    throw new TypeError(errorMessage);\n  }\n}\nfunction assertIsObject(object, errorMessage = `expected an object, instead received ${typeof object}`) {\n  if (typeof object !== \"object\") {\n    throw new TypeError(errorMessage);\n  }\n}\nfunction assertIsArrayOfFunctions(array, errorMessage = `expected all items to be functions, instead received the following types: `) {\n  if (!array.every((item) => typeof item === \"function\")) {\n    const itemTypes = array.map(\n      (item) => typeof item === \"function\" ? `function ${item.name || \"unnamed\"}()` : typeof item\n    ).join(\", \");\n    throw new TypeError(`${errorMessage}[${itemTypes}]`);\n  }\n}\nvar ensureIsArray = (item) => {\n  return Array.isArray(item) ? item : [item];\n};\nfunction getDependencies(createSelectorArgs) {\n  const dependencies = Array.isArray(createSelectorArgs[0]) ? createSelectorArgs[0] : createSelectorArgs;\n  assertIsArrayOfFunctions(\n    dependencies,\n    `createSelector expects all input-selectors to be functions, but received the following types: `\n  );\n  return dependencies;\n}\nfunction collectInputSelectorResults(dependencies, inputSelectorArgs) {\n  const inputSelectorResults = [];\n  const { length } = dependencies;\n  for (let i = 0; i < length; i++) {\n    inputSelectorResults.push(dependencies[i].apply(null, inputSelectorArgs));\n  }\n  return inputSelectorResults;\n}\nvar getDevModeChecksExecutionInfo = (firstRun, devModeChecks) => {\n  const { identityFunctionCheck, inputStabilityCheck } = {\n    ...globalDevModeChecks,\n    ...devModeChecks\n  };\n  return {\n    identityFunctionCheck: {\n      shouldRun: identityFunctionCheck === \"always\" || identityFunctionCheck === \"once\" && firstRun,\n      run: runIdentityFunctionCheck\n    },\n    inputStabilityCheck: {\n      shouldRun: inputStabilityCheck === \"always\" || inputStabilityCheck === \"once\" && firstRun,\n      run: runInputStabilityCheck\n    }\n  };\n};\n\n// src/autotrackMemoize/autotracking.ts\nvar $REVISION = 0;\nvar CURRENT_TRACKER = null;\nvar Cell = class {\n  revision = $REVISION;\n  _value;\n  _lastValue;\n  _isEqual = tripleEq;\n  constructor(initialValue, isEqual = tripleEq) {\n    this._value = this._lastValue = initialValue;\n    this._isEqual = isEqual;\n  }\n  // Whenever a storage value is read, it'll add itself to the current tracker if\n  // one exists, entangling its state with that cache.\n  get value() {\n    CURRENT_TRACKER?.add(this);\n    return this._value;\n  }\n  // Whenever a storage value is updated, we bump the global revision clock,\n  // assign the revision for this storage to the new value, _and_ we schedule a\n  // rerender. This is important, and it's what makes autotracking  _pull_\n  // based. We don't actively tell the caches which depend on the storage that\n  // anything has happened. Instead, we recompute the caches when needed.\n  set value(newValue) {\n    if (this.value === newValue)\n      return;\n    this._value = newValue;\n    this.revision = ++$REVISION;\n  }\n};\nfunction tripleEq(a, b) {\n  return a === b;\n}\nvar TrackingCache = class {\n  _cachedValue;\n  _cachedRevision = -1;\n  _deps = [];\n  hits = 0;\n  fn;\n  constructor(fn) {\n    this.fn = fn;\n  }\n  clear() {\n    this._cachedValue = void 0;\n    this._cachedRevision = -1;\n    this._deps = [];\n    this.hits = 0;\n  }\n  get value() {\n    if (this.revision > this._cachedRevision) {\n      const { fn } = this;\n      const currentTracker = /* @__PURE__ */ new Set();\n      const prevTracker = CURRENT_TRACKER;\n      CURRENT_TRACKER = currentTracker;\n      this._cachedValue = fn();\n      CURRENT_TRACKER = prevTracker;\n      this.hits++;\n      this._deps = Array.from(currentTracker);\n      this._cachedRevision = this.revision;\n    }\n    CURRENT_TRACKER?.add(this);\n    return this._cachedValue;\n  }\n  get revision() {\n    return Math.max(...this._deps.map((d) => d.revision), 0);\n  }\n};\nfunction getValue(cell) {\n  if (!(cell instanceof Cell)) {\n    console.warn(\"Not a valid cell! \", cell);\n  }\n  return cell.value;\n}\nfunction setValue(storage, value) {\n  if (!(storage instanceof Cell)) {\n    throw new TypeError(\n      \"setValue must be passed a tracked store created with `createStorage`.\"\n    );\n  }\n  storage.value = storage._lastValue = value;\n}\nfunction createCell(initialValue, isEqual = tripleEq) {\n  return new Cell(initialValue, isEqual);\n}\nfunction createCache(fn) {\n  assertIsFunction(\n    fn,\n    \"the first parameter to `createCache` must be a function\"\n  );\n  return new TrackingCache(fn);\n}\n\n// src/autotrackMemoize/tracking.ts\nvar neverEq = (a, b) => false;\nfunction createTag() {\n  return createCell(null, neverEq);\n}\nfunction dirtyTag(tag, value) {\n  setValue(tag, value);\n}\nvar consumeCollection = (node) => {\n  let tag = node.collectionTag;\n  if (tag === null) {\n    tag = node.collectionTag = createTag();\n  }\n  getValue(tag);\n};\nvar dirtyCollection = (node) => {\n  const tag = node.collectionTag;\n  if (tag !== null) {\n    dirtyTag(tag, null);\n  }\n};\n\n// src/autotrackMemoize/proxy.ts\nvar REDUX_PROXY_LABEL = Symbol();\nvar nextId = 0;\nvar proto = Object.getPrototypeOf({});\nvar ObjectTreeNode = class {\n  constructor(value) {\n    this.value = value;\n    this.value = value;\n    this.tag.value = value;\n  }\n  proxy = new Proxy(this, objectProxyHandler);\n  tag = createTag();\n  tags = {};\n  children = {};\n  collectionTag = null;\n  id = nextId++;\n};\nvar objectProxyHandler = {\n  get(node, key) {\n    function calculateResult() {\n      const { value } = node;\n      const childValue = Reflect.get(value, key);\n      if (typeof key === \"symbol\") {\n        return childValue;\n      }\n      if (key in proto) {\n        return childValue;\n      }\n      if (typeof childValue === \"object\" && childValue !== null) {\n        let childNode = node.children[key];\n        if (childNode === void 0) {\n          childNode = node.children[key] = createNode(childValue);\n        }\n        if (childNode.tag) {\n          getValue(childNode.tag);\n        }\n        return childNode.proxy;\n      } else {\n        let tag = node.tags[key];\n        if (tag === void 0) {\n          tag = node.tags[key] = createTag();\n          tag.value = childValue;\n        }\n        getValue(tag);\n        return childValue;\n      }\n    }\n    const res = calculateResult();\n    return res;\n  },\n  ownKeys(node) {\n    consumeCollection(node);\n    return Reflect.ownKeys(node.value);\n  },\n  getOwnPropertyDescriptor(node, prop) {\n    return Reflect.getOwnPropertyDescriptor(node.value, prop);\n  },\n  has(node, prop) {\n    return Reflect.has(node.value, prop);\n  }\n};\nvar ArrayTreeNode = class {\n  constructor(value) {\n    this.value = value;\n    this.value = value;\n    this.tag.value = value;\n  }\n  proxy = new Proxy([this], arrayProxyHandler);\n  tag = createTag();\n  tags = {};\n  children = {};\n  collectionTag = null;\n  id = nextId++;\n};\nvar arrayProxyHandler = {\n  get([node], key) {\n    if (key === \"length\") {\n      consumeCollection(node);\n    }\n    return objectProxyHandler.get(node, key);\n  },\n  ownKeys([node]) {\n    return objectProxyHandler.ownKeys(node);\n  },\n  getOwnPropertyDescriptor([node], prop) {\n    return objectProxyHandler.getOwnPropertyDescriptor(node, prop);\n  },\n  has([node], prop) {\n    return objectProxyHandler.has(node, prop);\n  }\n};\nfunction createNode(value) {\n  if (Array.isArray(value)) {\n    return new ArrayTreeNode(value);\n  }\n  return new ObjectTreeNode(value);\n}\nfunction updateNode(node, newValue) {\n  const { value, tags, children } = node;\n  node.value = newValue;\n  if (Array.isArray(value) && Array.isArray(newValue) && value.length !== newValue.length) {\n    dirtyCollection(node);\n  } else {\n    if (value !== newValue) {\n      let oldKeysSize = 0;\n      let newKeysSize = 0;\n      let anyKeysAdded = false;\n      for (const _key in value) {\n        oldKeysSize++;\n      }\n      for (const key in newValue) {\n        newKeysSize++;\n        if (!(key in value)) {\n          anyKeysAdded = true;\n          break;\n        }\n      }\n      const isDifferent = anyKeysAdded || oldKeysSize !== newKeysSize;\n      if (isDifferent) {\n        dirtyCollection(node);\n      }\n    }\n  }\n  for (const key in tags) {\n    const childValue = value[key];\n    const newChildValue = newValue[key];\n    if (childValue !== newChildValue) {\n      dirtyCollection(node);\n      dirtyTag(tags[key], newChildValue);\n    }\n    if (typeof newChildValue === \"object\" && newChildValue !== null) {\n      delete tags[key];\n    }\n  }\n  for (const key in children) {\n    const childNode = children[key];\n    const newChildValue = newValue[key];\n    const childValue = childNode.value;\n    if (childValue === newChildValue) {\n      continue;\n    } else if (typeof newChildValue === \"object\" && newChildValue !== null) {\n      updateNode(childNode, newChildValue);\n    } else {\n      deleteNode(childNode);\n      delete children[key];\n    }\n  }\n}\nfunction deleteNode(node) {\n  if (node.tag) {\n    dirtyTag(node.tag, null);\n  }\n  dirtyCollection(node);\n  for (const key in node.tags) {\n    dirtyTag(node.tags[key], null);\n  }\n  for (const key in node.children) {\n    deleteNode(node.children[key]);\n  }\n}\n\n// src/lruMemoize.ts\nfunction createSingletonCache(equals) {\n  let entry;\n  return {\n    get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n      return NOT_FOUND;\n    },\n    put(key, value) {\n      entry = { key, value };\n    },\n    getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear() {\n      entry = void 0;\n    }\n  };\n}\nfunction createLruCache(maxSize, equals) {\n  let entries = [];\n  function get(key) {\n    const cacheIndex = entries.findIndex((entry) => equals(key, entry.key));\n    if (cacheIndex > -1) {\n      const entry = entries[cacheIndex];\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n      return entry.value;\n    }\n    return NOT_FOUND;\n  }\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      entries.unshift({ key, value });\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n  function getEntries() {\n    return entries;\n  }\n  function clear() {\n    entries = [];\n  }\n  return { get, put, getEntries, clear };\n}\nvar referenceEqualityCheck = (a, b) => a === b;\nfunction createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    }\n    const { length } = prev;\n    for (let i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n}\nfunction lruMemoize(func, equalityCheckOrOptions) {\n  const providedOptions = typeof equalityCheckOrOptions === \"object\" ? equalityCheckOrOptions : { equalityCheck: equalityCheckOrOptions };\n  const {\n    equalityCheck = referenceEqualityCheck,\n    maxSize = 1,\n    resultEqualityCheck\n  } = providedOptions;\n  const comparator = createCacheKeyComparator(equalityCheck);\n  let resultsCount = 0;\n  const cache = maxSize <= 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator);\n  function memoized() {\n    let value = cache.get(arguments);\n    if (value === NOT_FOUND) {\n      value = func.apply(null, arguments);\n      resultsCount++;\n      if (resultEqualityCheck) {\n        const entries = cache.getEntries();\n        const matchingEntry = entries.find(\n          (entry) => resultEqualityCheck(entry.value, value)\n        );\n        if (matchingEntry) {\n          value = matchingEntry.value;\n          resultsCount !== 0 && resultsCount--;\n        }\n      }\n      cache.put(arguments, value);\n    }\n    return value;\n  }\n  memoized.clearCache = () => {\n    cache.clear();\n    memoized.resetResultsCount();\n  };\n  memoized.resultsCount = () => resultsCount;\n  memoized.resetResultsCount = () => {\n    resultsCount = 0;\n  };\n  return memoized;\n}\n\n// src/autotrackMemoize/autotrackMemoize.ts\nfunction autotrackMemoize(func) {\n  const node = createNode(\n    []\n  );\n  let lastArgs = null;\n  const shallowEqual = createCacheKeyComparator(referenceEqualityCheck);\n  const cache = createCache(() => {\n    const res = func.apply(null, node.proxy);\n    return res;\n  });\n  function memoized() {\n    if (!shallowEqual(lastArgs, arguments)) {\n      updateNode(node, arguments);\n      lastArgs = arguments;\n    }\n    return cache.value;\n  }\n  memoized.clearCache = () => {\n    return cache.clear();\n  };\n  return memoized;\n}\n\n// src/weakMapMemoize.ts\nvar StrongRef = class {\n  constructor(value) {\n    this.value = value;\n  }\n  deref() {\n    return this.value;\n  }\n};\nvar Ref = typeof WeakRef !== \"undefined\" ? WeakRef : StrongRef;\nvar UNTERMINATED = 0;\nvar TERMINATED = 1;\nfunction createCacheNode() {\n  return {\n    s: UNTERMINATED,\n    v: void 0,\n    o: null,\n    p: null\n  };\n}\nfunction weakMapMemoize(func, options = {}) {\n  let fnNode = createCacheNode();\n  const { resultEqualityCheck } = options;\n  let lastResult;\n  let resultsCount = 0;\n  function memoized() {\n    let cacheNode = fnNode;\n    const { length } = arguments;\n    for (let i = 0, l = length; i < l; i++) {\n      const arg = arguments[i];\n      if (typeof arg === \"function\" || typeof arg === \"object\" && arg !== null) {\n        let objectCache = cacheNode.o;\n        if (objectCache === null) {\n          cacheNode.o = objectCache = /* @__PURE__ */ new WeakMap();\n        }\n        const objectNode = objectCache.get(arg);\n        if (objectNode === void 0) {\n          cacheNode = createCacheNode();\n          objectCache.set(arg, cacheNode);\n        } else {\n          cacheNode = objectNode;\n        }\n      } else {\n        let primitiveCache = cacheNode.p;\n        if (primitiveCache === null) {\n          cacheNode.p = primitiveCache = /* @__PURE__ */ new Map();\n        }\n        const primitiveNode = primitiveCache.get(arg);\n        if (primitiveNode === void 0) {\n          cacheNode = createCacheNode();\n          primitiveCache.set(arg, cacheNode);\n        } else {\n          cacheNode = primitiveNode;\n        }\n      }\n    }\n    const terminatedNode = cacheNode;\n    let result;\n    if (cacheNode.s === TERMINATED) {\n      result = cacheNode.v;\n    } else {\n      result = func.apply(null, arguments);\n      resultsCount++;\n      if (resultEqualityCheck) {\n        const lastResultValue = lastResult?.deref?.() ?? lastResult;\n        if (lastResultValue != null && resultEqualityCheck(lastResultValue, result)) {\n          result = lastResultValue;\n          resultsCount !== 0 && resultsCount--;\n        }\n        const needsWeakRef = typeof result === \"object\" && result !== null || typeof result === \"function\";\n        lastResult = needsWeakRef ? new Ref(result) : result;\n      }\n    }\n    terminatedNode.s = TERMINATED;\n    terminatedNode.v = result;\n    return result;\n  }\n  memoized.clearCache = () => {\n    fnNode = createCacheNode();\n    memoized.resetResultsCount();\n  };\n  memoized.resultsCount = () => resultsCount;\n  memoized.resetResultsCount = () => {\n    resultsCount = 0;\n  };\n  return memoized;\n}\n\n// src/createSelectorCreator.ts\nfunction createSelectorCreator(memoizeOrOptions, ...memoizeOptionsFromArgs) {\n  const createSelectorCreatorOptions = typeof memoizeOrOptions === \"function\" ? {\n    memoize: memoizeOrOptions,\n    memoizeOptions: memoizeOptionsFromArgs\n  } : memoizeOrOptions;\n  const createSelector2 = (...createSelectorArgs) => {\n    let recomputations = 0;\n    let dependencyRecomputations = 0;\n    let lastResult;\n    let directlyPassedOptions = {};\n    let resultFunc = createSelectorArgs.pop();\n    if (typeof resultFunc === \"object\") {\n      directlyPassedOptions = resultFunc;\n      resultFunc = createSelectorArgs.pop();\n    }\n    assertIsFunction(\n      resultFunc,\n      `createSelector expects an output function after the inputs, but received: [${typeof resultFunc}]`\n    );\n    const combinedOptions = {\n      ...createSelectorCreatorOptions,\n      ...directlyPassedOptions\n    };\n    const {\n      memoize,\n      memoizeOptions = [],\n      argsMemoize = weakMapMemoize,\n      argsMemoizeOptions = [],\n      devModeChecks = {}\n    } = combinedOptions;\n    const finalMemoizeOptions = ensureIsArray(memoizeOptions);\n    const finalArgsMemoizeOptions = ensureIsArray(argsMemoizeOptions);\n    const dependencies = getDependencies(createSelectorArgs);\n    const memoizedResultFunc = memoize(function recomputationWrapper() {\n      recomputations++;\n      return resultFunc.apply(\n        null,\n        arguments\n      );\n    }, ...finalMemoizeOptions);\n    let firstRun = true;\n    const selector = argsMemoize(function dependenciesChecker() {\n      dependencyRecomputations++;\n      const inputSelectorResults = collectInputSelectorResults(\n        dependencies,\n        arguments\n      );\n      lastResult = memoizedResultFunc.apply(null, inputSelectorResults);\n      if (process.env.NODE_ENV !== \"production\") {\n        const { identityFunctionCheck, inputStabilityCheck } = getDevModeChecksExecutionInfo(firstRun, devModeChecks);\n        if (identityFunctionCheck.shouldRun) {\n          identityFunctionCheck.run(\n            resultFunc,\n            inputSelectorResults,\n            lastResult\n          );\n        }\n        if (inputStabilityCheck.shouldRun) {\n          const inputSelectorResultsCopy = collectInputSelectorResults(\n            dependencies,\n            arguments\n          );\n          inputStabilityCheck.run(\n            { inputSelectorResults, inputSelectorResultsCopy },\n            { memoize, memoizeOptions: finalMemoizeOptions },\n            arguments\n          );\n        }\n        if (firstRun)\n          firstRun = false;\n      }\n      return lastResult;\n    }, ...finalArgsMemoizeOptions);\n    return Object.assign(selector, {\n      resultFunc,\n      memoizedResultFunc,\n      dependencies,\n      dependencyRecomputations: () => dependencyRecomputations,\n      resetDependencyRecomputations: () => {\n        dependencyRecomputations = 0;\n      },\n      lastResult: () => lastResult,\n      recomputations: () => recomputations,\n      resetRecomputations: () => {\n        recomputations = 0;\n      },\n      memoize,\n      argsMemoize\n    });\n  };\n  Object.assign(createSelector2, {\n    withTypes: () => createSelector2\n  });\n  return createSelector2;\n}\nvar createSelector = /* @__PURE__ */ createSelectorCreator(weakMapMemoize);\n\n// src/createStructuredSelector.ts\nvar createStructuredSelector = Object.assign(\n  (inputSelectorsObject, selectorCreator = createSelector) => {\n    assertIsObject(\n      inputSelectorsObject,\n      `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof inputSelectorsObject}`\n    );\n    const inputSelectorKeys = Object.keys(inputSelectorsObject);\n    const dependencies = inputSelectorKeys.map(\n      (key) => inputSelectorsObject[key]\n    );\n    const structuredSelector = selectorCreator(\n      dependencies,\n      (...inputSelectorResults) => {\n        return inputSelectorResults.reduce((composition, value, index) => {\n          composition[inputSelectorKeys[index]] = value;\n          return composition;\n        }, {});\n      }\n    );\n    return structuredSelector;\n  },\n  { withTypes: () => createStructuredSelector }\n);\nexport {\n  createSelector,\n  createSelectorCreator,\n  createStructuredSelector,\n  lruMemoize,\n  referenceEqualityCheck,\n  setGlobalDevModeChecks,\n  autotrackMemoize as unstable_autotrackMemoize,\n  weakMapMemoize\n};\n//# sourceMappingURL=reselect.mjs.map","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { PopupType } from '../../../components/popup/types';\nimport { fetchPlayerConfigAction } from '../../apiActions/fetchPlayerConfigAction';\n\nimport type { CustomPopup, PopupStackItem } from './types';\n\nconst initialState: {\n  popupStack: PopupStackItem[];\n  currentPopup: PopupStackItem | null;\n  customPopup: CustomPopup | null;\n} = {\n  popupStack: [],\n  currentPopup: null,\n  customPopup: null,\n};\n\nexport const popupSlice = createSlice({\n  name: 'popup',\n  initialState,\n  reducers: {\n    pushPopup: (state, action: PayloadAction<string>) => {\n      const popupStackItem: PopupStackItem = {\n        popupName: action.payload,\n      };\n\n      state.popupStack.push(popupStackItem);\n      if (!state.currentPopup) {\n        state.currentPopup = popupStackItem;\n      }\n    },\n    pushPopupWithData: (state, action: PayloadAction<PopupStackItem>) => {\n      const popupStackItem: PopupStackItem = {\n        popupName: action.payload.popupName,\n        popupData: action.payload.popupData,\n      };\n\n      state.popupStack.push(popupStackItem);\n      if (!state.currentPopup) {\n        state.currentPopup = popupStackItem;\n      }\n    },\n    popPopup: (state) => {\n      state.popupStack.pop();\n    },\n    setCustomPopup: (state, action: PayloadAction<CustomPopup>) => {\n      state.customPopup = action.payload;\n    },\n    overwritePopup: (state, action: PayloadAction<string>) => {\n      const popupStackItem: PopupStackItem = {\n        popupName: action.payload,\n      };\n      state.popupStack.unshift(popupStackItem);\n      state.currentPopup = popupStackItem;\n    },\n    overwritePopupWithData: (state, action: PayloadAction<PopupStackItem>) => {\n      const popupStackItem: PopupStackItem = {\n        popupName: action.payload.popupName,\n        popupData: action.payload.popupData,\n      };\n      state.popupStack.unshift(popupStackItem);\n      state.currentPopup = popupStackItem;\n    },\n    dismissPopup: (state, action: PayloadAction<string>) => {\n      state.popupStack = state.popupStack.filter((popup) => popup.popupName !== action.payload);\n      if (state.currentPopup?.popupName === action.payload) {\n        state.currentPopup = state.popupStack[0] || null;\n      }\n    },\n    dismissCurrentPopup: (state) => {\n      state.popupStack = state.popupStack.filter((popup) => popup.popupName !== state.currentPopup?.popupName);\n      state.currentPopup = state.popupStack[0] || null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      if (!action.payload.screenName || action.payload.screenName === 'null') {\n        const popupStackItem: PopupStackItem = {\n          popupName: PopupType.NicknameEnter,\n        };\n        state.popupStack.push(popupStackItem);\n        state.currentPopup = popupStackItem;\n      }\n    });\n  },\n});\n\nexport const popupActions = popupSlice.actions;\n","import { createSlice, type PayloadAction } from '@reduxjs/toolkit';\n\nimport type { BalanceType, UserInfoType } from '../../../api/fetchers/userInfo/types';\nimport { CoreTelemetryController } from '../../../logger/CoreTelemetryController';\nimport { fetchUserInfoAction } from '../../apiActions/fetchUserInfoAction';\n\nimport type {\n  CurrencyInfo,\n  DealerType,\n  TableCloseNotifyType,\n  TableType,\n  WinnersTotal,\n  WinnerType,\n  WinResultType,\n} from './types';\nimport { GameStatus } from './types';\n\ndeclare global {\n  interface Window {\n    videoPoster?: string;\n  }\n}\n\nconst initialState: {\n  balanceCheckCount: number;\n  currency: string | null;\n  currencyInfo: CurrencyInfo | null;\n  currentStatus: GameStatus | string;\n  dealer: DealerType | null;\n  gameAbandoned: boolean;\n  gameChannel: string | null;\n  gameId: string | null;\n  gameName: string | null;\n  gamePaused: boolean;\n  gameSuspended: boolean;\n  hideUI: boolean;\n  inactivityCounter: number;\n  isLoadedInActiveRound: boolean;\n  leftDrawerOpened: string | null; // TODO: do same with right drawer\n  netPosition: number;\n  table: TableType | null;\n  tableCloseNotify: TableCloseNotifyType | null;\n  timer: number;\n  timerStartTime: number;\n  userInfo: UserInfoType | null;\n  videoPoster: string;\n  winResult: WinResultType | null;\n  winners: WinnerType[];\n  winnersTotal: WinnersTotal | null;\n} = {\n  balanceCheckCount: 4,\n  currency: null,\n  currencyInfo: null,\n  currentStatus: GameStatus.WaitForNextGame,\n  dealer: null,\n  gameAbandoned: false,\n  gameChannel: null,\n  gameId: null,\n  gameName: null,\n  gamePaused: false,\n  gameSuspended: false,\n  hideUI: false,\n  inactivityCounter: 0,\n  isLoadedInActiveRound: true,\n  leftDrawerOpened: null,\n  netPosition: 0,\n  table: null,\n  tableCloseNotify: null,\n  timer: 0,\n  timerStartTime: 0,\n  userInfo: null,\n  videoPoster: window.videoPoster || '',\n  winResult: null,\n  winners: [],\n  winnersTotal: null,\n};\n\nexport const gameStateSlice = createSlice({\n  name: 'gameState',\n  initialState,\n  reducers: {\n    setWinners: (state, action: PayloadAction<WinnerType[]>) => {\n      state.winners = action.payload;\n    },\n    setWinnersTotal: (state, action: PayloadAction<WinnersTotal | null>) => {\n      state.winnersTotal = action.payload;\n    },\n    setWinResult: (state, action: PayloadAction<WinResultType | null>) => {\n      state.winResult = action.payload;\n    },\n    setCurrentGameStatus: (state, action: PayloadAction<GameStatus | string>) => {\n      state.currentStatus = action.payload;\n      CoreTelemetryController.setGameState(action.payload);\n    },\n    resetCurrentGameStatus: (state) => {\n      state.currentStatus = GameStatus.WaitForNextGame;\n    },\n    setTimer: (state, action: PayloadAction<number>) => {\n      state.timer = action.payload;\n      state.timerStartTime = Date.now();\n    },\n    setGameId: (state, action: PayloadAction<string>) => {\n      state.gameId = action.payload;\n    },\n    setGameChannel: (state, action: PayloadAction<string>) => {\n      state.gameChannel = action.payload;\n    },\n    setGameName: (state, action: PayloadAction<string>) => {\n      state.gameName = action.payload;\n    },\n    setHideUI: (state, action: PayloadAction<boolean>) => {\n      state.hideUI = action.payload;\n    },\n    setUserInfo: (state, action: PayloadAction<UserInfoType>) => {\n      state.userInfo = action.payload;\n      state.currency = action.payload.balance.currency;\n    },\n    setBalance: (state, action: PayloadAction<number>) => {\n      state.userInfo?.balance ? (state.userInfo.balance.amount = action.payload) : null;\n    },\n    updateBalance: (state, action: PayloadAction<Partial<BalanceType>>) => {\n      state.userInfo?.balance ? (state.userInfo.balance = { ...state.userInfo.balance, ...action.payload }) : null;\n    },\n    setCurrency: (state, action: PayloadAction<string>) => {\n      state.currency = action.payload;\n    },\n    setCurrencyInfo: (state, action: PayloadAction<CurrencyInfo>) => {\n      state.currencyInfo = action.payload;\n    },\n    setInactivityCounter: (state, action: PayloadAction<number>) => {\n      state.inactivityCounter = action.payload;\n    },\n    setNetPosition: (state, action: PayloadAction<number>) => {\n      state.netPosition = action.payload;\n    },\n    setOpenLeftDrawer: (state, action: PayloadAction<string | null>) => {\n      state.leftDrawerOpened = action.payload;\n    },\n    setDealer: (state, action: PayloadAction<DealerType>) => {\n      state.dealer = action.payload;\n    },\n    setTable: (state, action: PayloadAction<TableType>) => {\n      state.table = action.payload;\n    },\n    setBalanceCheckCount: (state, action: PayloadAction<number>) => {\n      state.balanceCheckCount = action.payload;\n    },\n    setGamePaused: (state, action: PayloadAction<boolean>) => {\n      state.gamePaused = action.payload;\n    },\n    setGameAbandoned: (state, action: PayloadAction<boolean>) => {\n      state.gameAbandoned = action.payload;\n    },\n    setGameSuspended: (state, action: PayloadAction<boolean>) => {\n      state.gameSuspended = action.payload;\n    },\n    setIsLoadedInActiveRound: (state, action: PayloadAction<boolean>) => {\n      state.isLoadedInActiveRound = action.payload;\n    },\n    setVideoPoster: (state, action: PayloadAction<string>) => {\n      state.videoPoster = action.payload;\n    },\n    resetForNewGame: (state) => {\n      state.winResult = null;\n    },\n    setTableCloseNotify: (state, action: PayloadAction<TableCloseNotifyType>) => {\n      state.tableCloseNotify = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchUserInfoAction.fulfilled, (state, action) => {\n      state.userInfo = action.payload;\n      const {\n        balance: { currency },\n      } = action.payload;\n      state.currency = currency;\n    });\n  },\n});\n\nexport const gameStateActions = gameStateSlice.actions;\n","import type { CampaignType } from './campaign';\nimport type { SelectByType, WithExtraFields } from './utils';\n\nexport interface FetchPromoData {\n  promotions: Array<Promotion>;\n  winNotifications: Array<WinNotificationType>;\n}\n\nexport interface FetchPromoConsentData {\n  promotions: Array<Promotion>;\n}\n\nexport interface FetchLeaderboardData {\n  leaderboard: TournamentLeaderboardDetails;\n  tournamentId: number;\n}\n\nexport interface FetchLeaderboardAroundMeData {\n  leaderboardAroundMe: TournamentLeaderboardAroundMeDetails;\n  tournamentId: number;\n}\n\nexport interface FetchPrizesAndWinnersData {\n  prizes: PrizedropPrizeType[];\n  winners: PrizeDropWinnersType[];\n  prizeDropId: number;\n}\n\nexport interface FetchCashbackScoreData {\n  score: CashbackScoreType | undefined;\n  cahbackId: number;\n}\n\nexport interface Promotion<T extends PromotionType = PromotionType> {\n  campaignType: CampaignType.DefaultPromo;\n  type: T;\n  id: number;\n  platformId: number;\n  name: string;\n  brandName: string;\n  opted: PromotionOptedStatus;\n  gameIds: Array<string>;\n  consentRequired: boolean;\n  clientMode: PromotionClientMode;\n  roundsType: PromoRoundType | null;\n  activeDuration: PromotionDuration;\n  isAsian: boolean;\n  campaignDetails: {\n    id: number | null;\n    endDate: number | null;\n  };\n  ruleDetails: RuleDetails;\n  prizeDetails: SelectByType<\n    T,\n    {\n      [PromotionType.Tournament]: TournamentPrizeDetails;\n      [PromotionType.Cashback]: CashbackPrizeDetails;\n      [PromotionType.Prizedrop]: PrizedropPrizeDetails;\n    }\n  >;\n  userPrizeDetails: SelectByType<\n    T,\n    {\n      [PromotionType.Tournament]: TournamentUserPrizeDetails;\n      [PromotionType.Cashback]: CashbackUserScoreDetails;\n      [PromotionType.Prizedrop]: PrizeDropWinnersType[];\n    }\n  >;\n}\n\nexport interface PromotionDuration {\n  fromEpoch: number;\n  toEpoch: number;\n}\n\nexport interface TournamentPrizeDetails {\n  minimumBetLimit: number;\n  totalPrizeAmout: number;\n  totalNoOfPrizes: number;\n  highestPrize: string;\n  prizes: Array<{\n    fromRank: number;\n    toRank: number;\n    prizeDetails: PromotionPrize;\n  }>;\n  winCriterion: TournamentPromoWinCriterionType;\n}\n\nexport interface CashbackPrizeDetails {\n  minimumBetLimit: number;\n  minCashbackAmount: number;\n  maxCashbackAmount: number;\n  type: CashbackPromoType;\n}\n\nexport interface PrizedropPrizeDetails {\n  minimumBetLimit: number;\n  totalPrizeAmout: number;\n  totalNoOfPrizes: number;\n  highestPrize: string;\n  prizes: PrizedropPrizeType[];\n}\n\nexport interface TournamentUserPrizeDetails {\n  leaderboard: TournamentLeaderboardDetails;\n  leaderboard_aroundMe: TournamentLeaderboardAroundMeDetails;\n}\n\nexport interface TournamentLeaderboardDetails {\n  data: LeaderboardDataType[];\n}\n\nexport interface TournamentLeaderboardAroundMeDetails {\n  playerId: number;\n  leaderboardItems: LeaderboardDataType[];\n}\n\nexport interface CashbackUserScoreDetails {\n  totalScore: number;\n  cashbackScore: number;\n  cashbackPercentage: number;\n  roundLimitExceeded: boolean;\n  displayScore: boolean;\n}\n\nexport type PromotionPrize =\n  | { type: PromotionPrizeType.Gift; gift: string }\n  | { type: PromotionPrizeType.Coins; amount: number }\n  | { type: PromotionPrizeType.BetMultiplier; multiplier: number }\n  | { type: PromotionPrizeType.FreeRounds; freeRoundType: string }\n  | { type: PromotionPrizeType.Invalid };\n\nexport type LeaderboardDataType = {\n  playerId: number;\n  position: number;\n  scoreDate: number;\n  score: number;\n  screenName: string;\n};\n\nexport interface PrizedropPrizeType {\n  id: number;\n  size: number;\n  originalSize: number;\n  prizeDetails: PromotionPrize;\n}\n\nexport type PrizeDropWinnersType = {\n  amount: number | null;\n  casinoUserId: string;\n  gift: string | null;\n  prizeId: number;\n  screenName: string;\n  winDate: number;\n};\n\nexport interface CashbackScoreType {\n  totalScore: number;\n  cashbackScore: number;\n  cashbackPercentage: number;\n  roundLimitExceeded: boolean;\n}\n\nexport interface RoundHistoryType {\n  id: number;\n  gameId: string;\n  tableId: string;\n  dateTime: number;\n  bet: number;\n  win: number;\n}\n\nexport interface RoundHistoryByWSType {\n  streakId: number;\n  winstreakCount: number;\n  winstreakPoints: number;\n  lastPointsWinType: LastPointsWinType;\n  rounds: RoundHistoryType[];\n}\n\nexport interface WinNotificationType {\n  promoType: PromotionType;\n  promoId: number;\n  name: string;\n  brandName: string;\n  isAsia: boolean;\n  winType: PromotionPrizeType;\n  prize: string;\n  endDate: number;\n  ruleDetails: RuleDetails;\n  autoPay: boolean;\n  minBetLimit: number;\n  extraData: {\n    autoPay?: boolean;\n    type?: CashbackPromoType;\n    multiplier?: number;\n    bet?: number;\n    minCashback?: number;\n    maxCashback?: number;\n    totalNoOfPrizes?: number;\n    totalPrizeAmount?: number;\n    highestPrize?: string;\n    prizes?: PrizedropPrizeDetails['prizes'];\n  } | null;\n}\n\n//Socket response\nexport interface PrizeDropWinSocketResponse {\n  amount: string;\n  autoPay: boolean;\n  bet: string;\n  id: string;\n  mul: string;\n  pdid: string;\n  prizeType: PromotionPrizeType;\n  seq: number;\n  table: string;\n  textPrize: string;\n  transId: string;\n  userId: string;\n  wiid: string;\n}\n\nexport interface DefaultDynamicFields {\n  tournamentName: string;\n  minBet: string | number;\n  highestPrize?: string;\n  ddwName?: string;\n  totalPrizeAmount?: string | number;\n}\n\nexport interface RuleDetails {\n  rule: string;\n  lang: string;\n  currency: string;\n  dynamic: WithExtraFields<DefaultDynamicFields>;\n  ruleShort?: string;\n}\n\n//\n// Enum definitions\n//\nexport enum PromotionType {\n  Tournament = 'TOURNAMENT',\n  Cashback = 'CASHBACK',\n  Prizedrop = 'PRIZEDROP',\n}\n\nexport enum PromotionOptedStatus {\n  Opted = 'opted',\n  NonOpted = 'non-opted',\n  Pop = 'pop',\n  NoPop = 'no_pop',\n  NA = 'NA',\n}\n\nexport enum PromotionClientMode {\n  Display = 'D',\n  Hidden = 'H',\n}\n\nexport enum PromotionPrizeType {\n  Gift = 'G',\n  Coins = 'C',\n  BetMultiplier = 'BM',\n  FreeRounds = 'FR',\n  Invalid = 'Invalid',\n}\n\nexport enum TournamentPromoWinCriterionType {\n  GenericPoints = 'GP',\n  TotalPoints = 'TP',\n  TotalBet = 'TB',\n  WinStreak = 'WS',\n}\n\nexport enum CashbackPromoType {\n  Cashback = 'CASHBACK',\n  Cashboost = 'CASHBOOST',\n}\n\nexport enum AsianRegions {\n  Asia = 'Asia',\n  Manila = 'Manila',\n}\n\nexport enum DDWBrandName {\n  DailyWins = 'Daily Wins',\n  DropsAndWins = 'Drops & Wins',\n}\n\nexport enum LastPointsWinType {\n  CONSECUTIVE_LOSS = 'CONSECUTIVE_LOSS',\n  CONSECUTIVE_WINS = 'CONSECUTIVE_WINS',\n  CONSECUTIVE_WINS_MULTIPLIER = 'CONSECUTIVE_WINS_MULTIPLIER',\n}\n\nexport enum PromoRoundType {\n  Daily = 'DAILY',\n  Total = 'TOTAL',\n}\n","import type { PropsWithChildren, ReactElement } from 'react';\nimport { createContext, useContext } from 'react';\n\n// ToDo: Move to a more appropriate location (Replace)\nimport type { GameConfigurationInterface } from '../components/gameRoot/GameRoot';\n\nconst GameConfigContext = createContext<GameConfigurationInterface>({} as GameConfigurationInterface);\n\ninterface ConfigProviderProps extends PropsWithChildren {\n  value: GameConfigurationInterface;\n}\n\nexport const GameConfigProvider = ({ value, children }: ConfigProviderProps): ReactElement => {\n  return <GameConfigContext.Provider value={value}>{children}</GameConfigContext.Provider>;\n};\n\nexport const useGameConfig = (): GameConfigurationInterface => useContext(GameConfigContext);\n","import { useEffect, useState } from 'react';\n\n/**\n * A custom hook to detect changes in the window object's media query.\n * @param {string} query - Media query string.\n * @returns {boolean} - Current match status of the media query.\n */\nexport const useMedia = (query: string): boolean => {\n  const [matches, setMatches] = useState(window.matchMedia(query).matches);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    const handleMediaQueryChange = (event: MediaQueryListEvent | MediaQueryList): void => {\n      setMatches(event.matches);\n    };\n\n    mediaQuery.addEventListener\n      ? mediaQuery.addEventListener('change', handleMediaQueryChange, { passive: true })\n      : mediaQuery.addListener(handleMediaQueryChange);\n\n    return (): void => {\n      mediaQuery.removeEventListener\n        ? mediaQuery.removeEventListener('change', handleMediaQueryChange)\n        : mediaQuery.removeListener(handleMediaQueryChange);\n    };\n  }, [query]);\n\n  return matches;\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { CasinoConfigType } from '../../../api/fetchers/casinoConfig/types';\nimport type { EnvConfigType } from '../../../api/fetchers/env/types';\nimport type { PlayerConfigType } from '../../../api/fetchers/playerConfig/types';\nimport type { RtpType } from '../../../api/fetchers/rtp/types';\nimport type { SessionBalanceResponse } from '../../../api/fetchers/sessionBalance/types';\nimport type { StatsSettingsType } from '../../../api/fetchers/settings/types';\nimport type { StatsConfigType } from '../../../api/fetchers/stats/types';\nimport type { TableConfigType } from '../../../api/fetchers/tableConfig/types';\nimport type { RealityCheckType, VersionsConfigType } from '../../../api/fetchers/versions/types';\nimport { IUserSession, UserSession } from '../../../config/UserSession';\nimport { Logger } from '../../../logger/Logger';\nimport { SessionStorage } from '../../../storage/session/SessionStorage';\nimport { fetchCasinoConfigAction } from '../../apiActions/fetchCasinoConfigAction';\nimport { fetchEnvAction } from '../../apiActions/fetchEnvAction';\nimport { fetchPlayerConfigAction } from '../../apiActions/fetchPlayerConfigAction';\nimport { fetchRtpAction } from '../../apiActions/fetchRtpAction';\nimport { fetchStatsConfigAction } from '../../apiActions/fetchStatsConfigAction';\nimport { fetchStatsSettingsAction } from '../../apiActions/fetchStatsSettingsAction';\nimport { fetchTableConfigAction } from '../../apiActions/fetchTableConfigAction';\nimport { fetchVersionsAction } from '../../apiActions/fetchVersionsAction';\n\nimport { CoreDefaultTimings, type ICoreTimings, type PlayAreaDimensions } from './types';\n\nexport const configSlice = createSlice({\n  name: 'config',\n  initialState: (): {\n    session?: IUserSession | null;\n    urlParams: string;\n    playAreaSize: number;\n    playAreaDimensions: PlayAreaDimensions | null;\n    tableConfig: TableConfigType | null;\n    statsSettings: StatsSettingsType | null;\n    statsConfig: StatsConfigType | null;\n    casinoConfig: CasinoConfigType | null;\n    env: EnvConfigType | null;\n    playerConfig: PlayerConfigType | null;\n    versions: VersionsConfigType | null;\n    realityCheck: RealityCheckType | null;\n    rtp: RtpType | null;\n    timings?: ICoreTimings;\n    defaultTimings?: ICoreTimings;\n    gameHeaderOverlayHeight?: number;\n    isGameVisible: boolean;\n  } => {\n    return {\n      session: UserSession.getSession(),\n      urlParams: window.location.search,\n      playAreaSize: 0, // TODO: deprecate me and use value bellow\n      playAreaDimensions: null,\n      tableConfig: null,\n      statsConfig: null,\n      statsSettings: null,\n      casinoConfig: null,\n      env: null,\n      playerConfig: null,\n      versions: null,\n      realityCheck: null,\n      rtp: null,\n      timings: undefined,\n      defaultTimings: undefined,\n      gameHeaderOverlayHeight: 0,\n      isGameVisible: true,\n    };\n  },\n  reducers: {\n    setPlayAreaSize: (state, action: PayloadAction<number>) => {\n      state.playAreaSize = action.payload;\n    },\n    setPlayAreaDimensions: (state, action: PayloadAction<PlayAreaDimensions>) => {\n      state.playAreaDimensions = action.payload;\n    },\n    setScreenName: (state, action: PayloadAction<string>) => {\n      state.playerConfig!.screenName = action.payload;\n    },\n    setRealityCheck: (state, action: PayloadAction<RealityCheckType | null>) => {\n      state.realityCheck = action.payload;\n    },\n    sessionBalanceWasSet: (state) => {\n      state.playerConfig!.compliance.sessionBalanceWasSet = true;\n    },\n    setAaamsSessions: (state, action: PayloadAction<SessionBalanceResponse>) => {\n      state.tableConfig!.aamsTicket = action.payload.aamsTicket;\n      state.tableConfig!.aamsSessionId = action.payload.aamsSessionId;\n    },\n    setGameServer: (\n      state,\n      action: PayloadAction<{\n        httpAddress: string;\n        wsAddress: string;\n      }>\n    ) => {\n      if (state.tableConfig) {\n        state.tableConfig.wsAddress = action.payload.wsAddress;\n        state.tableConfig.gsAddress = action.payload.httpAddress;\n      }\n      if (state.session) {\n        state.session.actualWebServer = action.payload.httpAddress;\n        state.session.socketServer = action.payload.wsAddress;\n      }\n\n      const savedSession = SessionStorage.getJson('PPG');\n      if (savedSession) {\n        if (savedSession.actual_web_server && savedSession.socket_server) {\n          SessionStorage.setJson('PPG', {\n            ...savedSession,\n            actual_web_server: action.payload.httpAddress,\n            socket_server: action.payload.wsAddress,\n          });\n        }\n      }\n\n      const searchParams = new URLSearchParams(window.location.search);\n      if (searchParams.get('actual_web_server') && searchParams.get('socket_server')) {\n        searchParams.set('actual_web_server', action.payload.httpAddress);\n        searchParams.set('socket_server', action.payload.wsAddress);\n      }\n    },\n    setDefaultTimings: (state, action: PayloadAction<Partial<ICoreTimings>>) => {\n      if (!state.defaultTimings) {\n        const combinedTimings = {\n          ...CoreDefaultTimings,\n          ...action.payload,\n        };\n        state.defaultTimings = combinedTimings;\n        state.timings = combinedTimings;\n      }\n    },\n    setTimings: (state, action: PayloadAction<Partial<ICoreTimings>>) => {\n      if (state.timings) {\n        state.timings = {\n          ...state.timings,\n          ...action.payload,\n        };\n      } else {\n        console.error('Setting timings before defining default timings');\n      }\n    },\n    resetTimings: (state, action: PayloadAction<void | (keyof ICoreTimings)[]>) => {\n      if (state.timings) {\n        if (action.payload) {\n          for (const key of action.payload) {\n            if (state.defaultTimings) {\n              state.timings[key] = state.defaultTimings[key];\n            }\n          }\n        } else {\n          state.timings = state.defaultTimings;\n        }\n      } else {\n        console.error('Resetting timings before defining default timings');\n      }\n    },\n    setGameHeaderOverlayHeight: (state, action: PayloadAction<number>) => {\n      state.gameHeaderOverlayHeight = action.payload;\n    },\n    /** Is the game window/tab visible */\n    setGameVisible: (state, action: PayloadAction<boolean>) => {\n      state.isGameVisible = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchTableConfigAction.fulfilled, (state, action) => {\n      state.tableConfig = action.payload;\n    });\n    builder.addCase(fetchStatsSettingsAction.fulfilled, (state, action) => {\n      state.statsSettings = action.payload;\n    });\n    builder.addCase(fetchStatsConfigAction.fulfilled, (state, action) => {\n      state.statsConfig = action.payload;\n    });\n    builder.addCase(fetchCasinoConfigAction.fulfilled, (state, action) => {\n      state.casinoConfig = action.payload;\n      if (action.payload.homeUrl) {\n        try {\n          new URL(action.payload.homeUrl);\n        } catch (error) {\n          Logger.logFailure('invalidHomeUrl', {\n            additional: action.payload.homeUrl,\n          });\n        }\n      }\n    });\n    builder.addCase(fetchEnvAction.fulfilled, (state, action) => {\n      state.env = action.payload;\n    });\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      state.playerConfig = action.payload;\n    });\n    builder.addCase(fetchVersionsAction.fulfilled, (state, action) => {\n      state.versions = action.payload;\n    });\n    builder.addCase(fetchRtpAction.fulfilled, (state, action) => {\n      state.rtp = action.payload;\n    });\n  },\n});\n\nexport const configActions = configSlice.actions;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { fetchTableConfigAction } from '../../apiActions/fetchTableConfigAction';\n\nconst initialState: {\n  areBlockingResourcesReady: boolean;\n  isReadyToRender: boolean;\n  isLayoutRendered: boolean;\n  error: Error | null;\n} = {\n  areBlockingResourcesReady: false,\n  isReadyToRender: false,\n  isLayoutRendered: false,\n  error: null,\n};\n\nexport const initializationSlice = createSlice({\n  name: 'initialization',\n  initialState,\n  reducers: {\n    setBlockingResourcesReady: (state, action: PayloadAction<boolean>) => {\n      state.areBlockingResourcesReady = action.payload;\n    },\n    setIsReadyToRender: (state, action: PayloadAction<boolean>) => {\n      state.isReadyToRender = action.payload;\n    },\n    setIsLayoutRendered: (state, action: PayloadAction<boolean>) => {\n      state.isLayoutRendered = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchTableConfigAction.rejected, (state, action) => {\n      state.error = action.error as Error;\n    });\n  },\n});\n\nexport const initializationActions = initializationSlice.actions;\n","import languages from '@pp/languages';\n\nexport interface ITranslationConfig {\n  excludedLanguages: string[] | null; // Provide codes of languages not supported by your product. Keep null if non-applicable. List of all languages: /libraries/languages\n  uiFiles: string[]; // Provide Lokalise tags. E.g., 'core', 'table_name', 'promo', 'topcard'.\n  helpFiles?: string[]; // Provide Lokalise help file names. E.g., 'common', 'topcard'.\n}\n\nexport const DEFAULT_LANGUAGE_CODE = languages.default; // \"en\"\n\n/**\n * Returns parsed language from browser's locale which are in format \"de-DE\", \"ja-JP\", \"zh-Hans-CN\", etc.\n */\nexport const parseBrowserLocale = (locale: string): string => locale.split('-')[0] ?? locale;\n\n/**\n * Determines if language code is among supported localisations.\n */\nconst isLanguageAvailable = (languageCode: string, excludedLanguages: string[]): boolean => {\n  return languageCode in languages.available && !excludedLanguages.includes(languageCode);\n};\n\n/**\n * Retrieves the language based on the provided configuration and session language code.\n * If localisation is not supported, it falls back to browser's language, then to default language.\n */\nexport const getLanguage = (translationConfig: ITranslationConfig, sessionLanguageCode: string | undefined): string => {\n  const excludedLanguages = translationConfig.excludedLanguages || [];\n  const sessionLanguageLowerCase = sessionLanguageCode?.toLowerCase();\n\n  // Check if the session language code is available and not excluded\n  if (sessionLanguageLowerCase && isLanguageAvailable(sessionLanguageLowerCase, excludedLanguages)) {\n    return sessionLanguageLowerCase;\n  }\n\n  // Fallback to the browser's language\n  const browserLanguage = parseBrowserLocale(navigator.language);\n\n  if (browserLanguage && isLanguageAvailable(browserLanguage, excludedLanguages)) {\n    return browserLanguage;\n  }\n\n  // Fallback to the default language\n  return DEFAULT_LANGUAGE_CODE;\n};\n\n/**\n * Determines if the given language code corresponds to a Right-to-Left (RTL) language.\n */\nexport const getIsLanguageRTL = (languageCode: string): boolean => languages.rtl.includes(languageCode);\n","import type { BetType } from '../../store/slices/bets/types';\n\nimport { SessionStorage } from './SessionStorage';\n\nenum CoreSessionStorageProps {\n  LastMasterVolume = 'lastMasterVolume',\n  LastPositiveMasterVolume = 'lastPositiveMasterVolume',\n  IsChatClosed = 'isChatClosed',\n  LastBet = 'lastBet',\n}\n\ninterface CoreSessionStorageAPI {\n  setLastMasterVolume(value: number): void;\n  setLastPositiveMasterVolume(value: number): void;\n  setIsChatClosed(value: boolean): void;\n  setLastBets(value: BetType, tableId: string): void;\n  getLastMasterVolume(): number | null;\n  getLastPositiveMasterVolume(): number | null;\n  getIsChatClosed(): boolean;\n  getLastBets(tableId: string): BetType | null;\n}\n\nexport const CoreSessionStorage: CoreSessionStorageAPI = {\n  /* \n    VOLUME \n  */\n  setLastMasterVolume: (value: number): void =>\n    SessionStorage.set(CoreSessionStorageProps.LastMasterVolume, Math.floor(value * 100).toString()),\n  setLastPositiveMasterVolume: (value: number): void =>\n    SessionStorage.set(CoreSessionStorageProps.LastPositiveMasterVolume, Math.floor(value * 100).toString()),\n  getLastMasterVolume: (): number | null => {\n    const storedValue = SessionStorage.get(CoreSessionStorageProps.LastMasterVolume);\n    if (storedValue) {\n      return storedValue ? parseInt(storedValue) / 100 : null;\n    }\n    return null;\n  },\n  getLastPositiveMasterVolume: (): number | null => {\n    const storedValue = SessionStorage.get(CoreSessionStorageProps.LastPositiveMasterVolume);\n    if (storedValue) {\n      return storedValue ? parseInt(storedValue) / 100 : null;\n    }\n    return null;\n  },\n\n  /* \n    CHAT \n  */\n  setIsChatClosed: (value: boolean): void => SessionStorage.set(CoreSessionStorageProps.IsChatClosed, value.toString()),\n  getIsChatClosed: (): boolean => {\n    const storedValue = SessionStorage.get(CoreSessionStorageProps.IsChatClosed);\n    return storedValue === 'true' || storedValue === null || storedValue === undefined;\n  },\n\n  /* \n    GAME SPECIFICS \n  */\n  setLastBets: (value: BetType, tableId: string): void =>\n    SessionStorage.set(CoreSessionStorageProps.LastBet + '-' + tableId, JSON.stringify(value)),\n\n  getLastBets: (tableId: string): BetType | null => {\n    const storedValue = SessionStorage.getJson<BetType>(CoreSessionStorageProps.LastBet + '-' + tableId);\n    return storedValue ?? null;\n  },\n};\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport type { IPrizesDataInPrizeDrop, IPromoInformation } from '../../../api/fetchers/promotions/types';\nimport { fetchAssignedTablesAction } from '../../apiActions/fetchAssignedTablesAction';\nimport {\n  fetchPromoPointsAction,\n  fetchPromotionAction,\n  fetchPromotionTranslationAction,\n} from '../../apiActions/fetchPromotionAction';\n\nimport type { PromotionState, TopTournamentType } from './types';\nimport { PRIZEDROP_PREFIX, WinningCondition } from './types';\n\nexport const promotionSlice = createSlice({\n  name: 'promotions',\n  initialState: {\n    isRedEnvelope: false,\n    loading: true,\n    showTrophyTooltip: false,\n    wasTrophyTooltipShown: false,\n    hasRoundLimitTrophyShown: false,\n    prizeDrops: [],\n    tournaments: [],\n    cashbacks: [],\n    activePromos: [],\n    winPopup: null,\n    translations: undefined,\n    assignedTables: null,\n    promoPoints: null,\n    isRoundLimitExceed: false,\n    topTournament: undefined,\n  } as PromotionState,\n  reducers: {\n    setWinPopup: (state, action: PayloadAction<IPromoInformation | null>) => {\n      state.winPopup = action.payload;\n    },\n    setPrizesDataForEar: (state, action: PayloadAction<IPrizesDataInPrizeDrop>) => {\n      const { prizeDetails, pdid } = action.payload;\n      const pdidNumeric = +pdid.replace(PRIZEDROP_PREFIX, '');\n\n      state.prizeDrops = state.prizeDrops.map((promo) => {\n        if (promo.pdid === pdidNumeric) {\n          return { ...promo, PRIZEDROP: { ...promo.PRIZEDROP, pzs: prizeDetails } };\n        }\n        return promo;\n      });\n    },\n    changeShowTrophyTooltip: (state, action: PayloadAction<boolean>) => {\n      state.showTrophyTooltip = action.payload;\n      if (action.payload) {\n        state.wasTrophyTooltipShown = true;\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchPromotionAction.fulfilled, (state, action) => {\n        state.prizeDrops = action.payload.pds;\n        state.tournaments = action.payload.tms;\n        state.cashbacks = action.payload.cbs;\n        const currentDate = Date.now();\n        state.activePromos = [...state.tournaments, ...state.prizeDrops, ...state.cashbacks]\n          .filter((promo) => promo.cmode === 'D')\n          .filter((promo) => promo.opt === 'opted' || promo.opt === 'no_pop' || (promo.opt === 'pop' && !promo.cnst))\n          .filter((promo) => {\n            const startDate = promo.sd * 1000;\n            const endDate = promo.ed * 1000;\n            return currentDate >= startDate && currentDate <= endDate;\n          });\n        state.loading = false;\n      })\n      .addCase(fetchPromotionAction.rejected, (state, action) => {\n        state.error = action.error;\n        state.loading = false;\n      })\n      .addCase(fetchPromotionAction.pending, (state) => {\n        state.loading = true;\n        state.error = void 0;\n      })\n      .addCase(fetchPromotionTranslationAction.fulfilled, (state, action) => {\n        state.translations = action.payload;\n      })\n      .addCase(fetchAssignedTablesAction.fulfilled, (state, action) => {\n        state.assignedTables = action.payload;\n      })\n      .addCase(fetchPromoPointsAction.fulfilled, (state, action) => {\n        state.promoPoints = action.payload;\n        const roundLimitExceededPromos: boolean[] = state.activePromos.map((promo) => {\n          const promoId = promo.tid || promo.cbid;\n          const promoPayload = promoId && action.payload[promoId];\n          return promoPayload ? promoPayload.isRoundLimitExceeded : false;\n        });\n        // Check if at least one irle value\n        if (roundLimitExceededPromos.length > 0) {\n          const isRoundLimitExceeded: boolean = roundLimitExceededPromos.every(Boolean);\n          state.isRoundLimitExceed = isRoundLimitExceeded;\n          if (isRoundLimitExceeded && !state.hasRoundLimitTrophyShown) {\n            state.wasTrophyTooltipShown = false;\n            state.hasRoundLimitTrophyShown = true;\n          }\n        }\n        const currentDate = Date.now();\n        const activeTournaments = [...state.tournaments]\n          .filter((promo) => promo.cmode === 'D')\n          .filter((promo) => promo.opt === 'opted' || promo.opt === 'no_pop' || (promo.opt === 'pop' && !promo.cnst))\n          .filter((promo) => {\n            const startDate = promo.sd * 1000;\n            const endDate = promo.ed * 1000;\n            return currentDate >= startDate && currentDate <= endDate;\n          });\n        if (activeTournaments) {\n          let topTournament: TopTournamentType | undefined; // tournament with highest winStreak\n          for (const tournament of activeTournaments) {\n            const tournamentPoints = action.payload[tournament.tid];\n            if (tournamentPoints) {\n              const tournamentToCompare = {\n                id: tournament.tid.toString(),\n                winStreak: tournamentPoints.winStreak,\n                lastWonScore: tournamentPoints.lastWonScore,\n                lastGameId: tournamentPoints.lastGameId,\n                winningCondition: tournament.TOURNAMENT_DETAILS ? tournament.TOURNAMENT_DETAILS.wc : '',\n                endDate: tournament.ed,\n                showWsBadge: tournamentPoints.sb,\n              };\n              if (topTournament) {\n                if (\n                  topTournament.winStreak < tournamentToCompare.winStreak ||\n                  (topTournament.winStreak == tournamentToCompare.winStreak &&\n                    tournamentToCompare.endDate < topTournament.endDate)\n                ) {\n                  topTournament = tournamentToCompare;\n                }\n              } else if (!topTournament) {\n                topTournament = tournamentToCompare;\n              }\n            }\n          }\n          if (topTournament) {\n            if (state.isRoundLimitExceed) {\n              topTournament.showWsBadge = 0;\n              return;\n            }\n            if (\n              topTournament.winningCondition == WinningCondition.TotalBet ||\n              topTournament.winningCondition == WinningCondition.TotalPoints ||\n              topTournament.winningCondition == WinningCondition.Empty\n            ) {\n              topTournament.showWsBadge = 0;\n            }\n          }\n          state.topTournament = topTournament;\n        }\n      });\n  },\n});\n\nexport const promotionActions = promotionSlice.actions;\n","import { useConfigSlice } from '../slices/config/selectors';\n\n// TODO Should be renamed to Connected: https://pragmaticplay.atlassian.net/browse/UIC-764\nexport const useHideCurrency = (): boolean => {\n  const casinoConfig = useConfigSlice.casinoConfig();\n  const compliance = useConfigSlice.compliance();\n\n  return (compliance?.hideCurrency || casinoConfig?.hideCurrency) ?? false;\n};\n","import type { IHelpFile } from '../../../api/fetchers/help/fetcher';\nimport { useCoreSelector } from '../../CoreStore';\n\nexport const useHelpSlice = {\n  getHelpFile: (): IHelpFile | null => {\n    return useCoreSelector((state) => state.help.helpFile);\n  },\n  getIsHelpSorted: (): boolean => {\n    return useCoreSelector((state) => state.help.isSorted);\n  },\n  getIsFetchError: (): boolean => {\n    return useCoreSelector((state) => state.help.fetchError);\n  },\n  getSelectedChapter: (): string | null => {\n    return useCoreSelector((state) => state.help.selectedChapter);\n  },\n};\n","import type { FC } from 'react';\nimport { useEffect } from 'react';\n\nimport type { CoreStoreType } from '../../store/CoreStore';\nimport { useConfigSlice } from '../../store/slices/config/selectors';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\nimport { useSettingsSlice } from '../../store/slices/settings/selectors';\n\nimport { ChatCommunicationController } from './chatCommunicationController';\nimport type { IChatCommunicationProcessor } from './types';\n\nexport const chatCommunicationController = new ChatCommunicationController();\n\ninterface ChatCommunicationControllerConnectorProps {\n  gameStore: CoreStoreType;\n  processors?: IChatCommunicationProcessor[];\n}\n\nexport const ChatCommunicationControllerConnector: FC<ChatCommunicationControllerConnectorProps> = ({\n  gameStore,\n  processors,\n}): null => {\n  const chatWS = useConfigSlice.env()?.chatWS;\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const userId = useConfigSlice.playerConfig()?.userId;\n  const tableId = useConfigSlice.tableId();\n  const casinoId = useConfigSlice.casinoConfig()?.casinoId;\n  const tableName = useConfigSlice.tableConfig()?.tableName;\n  const showOtherMessages = useConfigSlice.showOtherMessages();\n  const isSubtitlesAvailable = useConfigSlice.isSubtitlesAvailable();\n  const isSubtitlesEnabled = useConfigSlice.isSubtitlesEnabled();\n  const subtitlesEnabled = isSubtitlesAvailable && isSubtitlesEnabled;\n  const isGamePaused = useGameStateSlice.getIsGamePaused();\n  const isGameAbandoned = useGameStateSlice.getIsGameAbandoned();\n  const lang = useSettingsSlice.currentLanguage();\n\n  useEffect(() => {\n    if (processors) {\n      processors.forEach((processor) => chatCommunicationController.setProcessor(processor));\n    }\n\n    chatCommunicationController.setStore(gameStore);\n  }, [processors, gameStore]);\n\n  useEffect(() => {\n    if (JSESSIONID && tableId && userId && chatWS && casinoId && tableName) {\n      const timestamp = Date.now();\n\n      chatCommunicationController.connect(\n        chatWS,\n        JSESSIONID,\n        userId,\n        tableId,\n        casinoId,\n        tableName,\n        `${userId}_${timestamp}`,\n        showOtherMessages,\n        subtitlesEnabled,\n        lang\n      );\n    }\n  }, [chatWS, JSESSIONID, userId, tableId, casinoId, tableName, showOtherMessages, subtitlesEnabled, lang]);\n\n  useEffect(() => {\n    chatCommunicationController.updateConnectionOnGamePause(isGamePaused);\n  }, [isGamePaused]);\n\n  useEffect(() => {\n    if (isGameAbandoned) {\n      chatCommunicationController.close();\n    }\n  }, [isGameAbandoned]);\n\n  return null;\n};\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { fetchNickNameAction } from '../../apiActions/fetchNickNameAction';\n\nimport type { NickNameInfoProps } from './types';\n\nconst initialState: {\n  isNickNameEditOpen: boolean;\n  nickNameInfo: NickNameInfoProps;\n} = {\n  isNickNameEditOpen: false,\n  nickNameInfo: {\n    error: 0,\n    isNickNameInfoFetched: false,\n    maxCount: 0,\n    remainingAttempts: 0,\n    screenName: '',\n    showNickNameSection: false,\n  },\n};\n\nexport const nickNameInfoSlice = createSlice({\n  name: 'nickNameInfo',\n  initialState,\n  reducers: {\n    setIsNickNameEditOpen: (state, action: PayloadAction<boolean>) => {\n      state.isNickNameEditOpen = action.payload;\n    },\n    setNickNameInfo: (state, action: PayloadAction<object>) => {\n      state.nickNameInfo = { ...state.nickNameInfo, ...action.payload };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchNickNameAction.fulfilled, (state, action) => {\n        const showNickNameSection = Number(action.payload?.error) === 0;\n        const remainingAttempts = action.payload.maxCount - action.payload.count;\n        const isNickNameInfoFetched = true;\n        state.nickNameInfo = {\n          ...state.nickNameInfo,\n          ...action.payload,\n          ...{ remainingAttempts, showNickNameSection, isNickNameInfoFetched },\n        };\n      })\n      .addCase(fetchNickNameAction.rejected, (state) => {\n        const showNickNameSection = false;\n        state.nickNameInfo = {\n          ...state.nickNameInfo,\n          ...{ showNickNameSection },\n        };\n      });\n  },\n});\n\nexport const nickNameInfoActions = nickNameInfoSlice.actions;\n","export type CardValue = '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' | '10' | 'J' | 'Q' | 'K' | 'A';\n\nexport enum CardSuite {\n  Hearts = 'Hearts',\n  Clubs = 'Clubs',\n  Spades = 'Spades',\n  Diamonds = 'Diamonds',\n}\n\nexport interface CardItem {\n  value: CardValue;\n  suite: CardSuite;\n}\n\nexport interface CarTypeProps {\n  value: CardValue;\n  suite: string;\n  isRedSuite: boolean;\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport {\n  fetchLiveSupportMessages,\n  type FetchLiveSupportMessagesParams,\n} from '../../api/fetchers/liveSupportMessages/fetcher';\n\ninterface FetchLiveSupportMessagesActionParams extends FetchLiveSupportMessagesParams {\n  essential?: boolean;\n}\n\nexport const fetchLiveSupportMessagesAction = createAsyncThunk(\n  'fetchMessages/fetchLiveSupportMessages',\n  (params: FetchLiveSupportMessagesActionParams) => fetchLiveSupportMessages(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchRtp, type FetchRtpParams } from '../../api/fetchers/rtp/fetcher';\n\ninterface FetchRtpActionParams extends FetchRtpParams {\n  essential?: boolean;\n}\n\nexport const fetchRtpAction = createAsyncThunk('rtp/fetchRtp', (params: FetchRtpActionParams) => fetchRtp(params));\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchStatsConfig, type FetchStatsConfigParams } from '../../api/fetchers/stats/fetcher';\n\nexport const fetchStatsConfigAction = createAsyncThunk(\n  'statsConfig/fetchStatsConfig',\n  (params: FetchStatsConfigParams) => fetchStatsConfig(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchStatsSettings, type FetchStatsSettingsParams } from '../../api/fetchers/settings/fetcher';\n\nexport const fetchStatsSettingsAction = createAsyncThunk(\n  'statsSettings/fetchStatsSettings',\n  (params: FetchStatsSettingsParams) => fetchStatsSettings(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport type { FetchTableLevelMessagesParams } from '../../api/fetchers/tableLevelMessages/fetcher';\nimport { fetchTableLevelMessages } from '../../api/fetchers/tableLevelMessages/fetcher';\n\ninterface FetchTableLevelMessagesActionParams extends FetchTableLevelMessagesParams {\n  essential?: boolean;\n}\n\nexport const fetchTableLevelMessagesAction = createAsyncThunk(\n  'tableLevelMessages/fetchTableLevelMessages',\n  (params: FetchTableLevelMessagesActionParams) => fetchTableLevelMessages(params)\n);\n","export interface VolumeChannelType {\n  value: number;\n  temporaryValue: number | null;\n  previousValue: number;\n}\n\nexport type UiChannelType = string | null;\n\nexport interface ChannelsType extends Record<string, VolumeChannelType> {}\n\nexport interface IVolumeSettings {\n  master: VolumeChannelType;\n  channels: ChannelsType;\n  uiChannel: UiChannelType;\n  noVolumeControl?: boolean;\n  restored?: boolean;\n}\n\nexport enum StreamQuality {\n  High = 0,\n  Medium = 1,\n  Low = 2,\n  Auto = 'auto',\n}\n\nexport interface IStreamState {\n  isEnabled: boolean;\n  isEnabledBySystem: boolean;\n  isInClassicView: boolean;\n  quality: StreamQuality;\n  qualityLimit: number;\n  streamLatency: number;\n  isClassicViewEnabled: boolean;\n}\n\nexport interface ILanguageState {\n  current: string;\n  isRTL: boolean;\n}\n\nexport interface ISettingsInitialState {\n  isInFullscreen: boolean;\n  isGameVisible: boolean;\n  stream: IStreamState;\n  volume: IVolumeSettings;\n  language: ILanguageState | Record<string, never>;\n  showOtherMessages: boolean;\n  isAnimationToggle: boolean;\n  isSecondBetBoardToggle: boolean;\n}\n\nexport interface ChannelVolumeCallbackType {\n  (channelName: string): VolumeChannelType;\n}\n\nexport interface ChannelVolumeValueCallbackType {\n  (channelName: string): number;\n}\n","import type { BetType } from '../bets/types';\n\nexport interface AutoplayLimits {\n  singleWinLimit?: number | null;\n  balanceIncreaseLimit?: number | null;\n  balanceDecreaseLimit?: number | null;\n}\n\nexport interface AutoplayStartOptions {\n  midRound?: boolean;\n}\n\nexport enum AutoplayStatus {\n  /**\n   * Autoplay is running\n   */\n  Running = 'running',\n  /**\n   * Autoplay is paused but can be resumed with the same settings and maintain the remaining round count.\n   */\n  Paused = 'paused',\n  /**\n   * Stopped autoplay. All settings are cleared.\n   */\n  Stopped = 'stopped',\n}\n\nexport interface AutoplaySliceType {\n  isOpen: boolean;\n  /**\n   * Determines if autoplay is running.\n   */\n  isInProgress: boolean;\n  /**\n   * Describes the current autoplay status.\n   * Necessary to distinguish paused from stopped autoplay state as the behaviours are different.\n   */\n  autoplayStatus: AutoplayStatus;\n  /**\n   * Current bet info that will be used for the autoplay round\n   */\n  savedBet: BetType | null;\n  roundsLeft: number;\n  /**\n   * This value represents balance change for autoplay session. Used for limit checks\n   */\n  balanceChange: number;\n  singleWinLimit: number | null;\n  balanceIncreaseLimit: number | null;\n  balanceDecreaseLimit: number | null;\n  isLaunchedMidRound: boolean;\n  pendingAutoplayBet: boolean;\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { IHelpFile } from '../../../api/fetchers/help/fetcher';\nimport { fetchHelpAction } from '../../apiActions/fetchHelpAction';\n\nexport const helpSlice = createSlice({\n  name: 'help',\n  initialState: (): {\n    helpFile: IHelpFile | null;\n    isSorted: boolean;\n    fetchError: boolean;\n    selectedChapter: string | null;\n  } => {\n    return {\n      helpFile: null,\n      isSorted: false,\n      fetchError: false,\n      selectedChapter: null,\n    };\n  },\n  reducers: {\n    updateHelpFile: (state, action: PayloadAction<IHelpFile>) => {\n      state.helpFile = Object.assign({}, state.helpFile, action.payload);\n    },\n    sortHelpChapters: (state, action: PayloadAction<string[]>) => {\n      if (state.helpFile) {\n        const sortedHelpFile: IHelpFile = {};\n\n        action.payload.forEach((key) => {\n          if (state.helpFile && state.helpFile[key]) {\n            sortedHelpFile[key] = state.helpFile[key];\n          }\n        });\n\n        state.helpFile = sortedHelpFile;\n      }\n    },\n    setIsSorted: (state, action: PayloadAction<boolean>) => {\n      state.isSorted = action.payload;\n    },\n    setSelectedChapter: (state, action: PayloadAction<string | null>) => {\n      state.selectedChapter = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchHelpAction.fulfilled, (state, action) => {\n      state.helpFile = { ...state.helpFile, ...action.payload };\n    });\n    builder.addCase(fetchHelpAction.rejected, (state) => {\n      state.fetchError = true;\n    });\n  },\n});\n\nexport const helpActions = helpSlice.actions;\n","// src/index.ts\nimport * as React2 from \"react\";\nimport { useSyncExternalStoreWithSelector as useSyncExternalStoreWithSelector2 } from \"use-sync-external-store/with-selector.js\";\n\n// src/utils/react.ts\nimport * as ReactOriginal from \"react\";\nvar React = (\n  // prettier-ignore\n  // @ts-ignore\n  \"default\" in ReactOriginal ? ReactOriginal[\"default\"] : ReactOriginal\n);\n\n// src/components/Context.ts\nvar ContextKey = Symbol.for(`react-redux-context`);\nvar gT = typeof globalThis !== \"undefined\" ? globalThis : (\n  /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n  {}\n);\nfunction getContext() {\n  if (!React.createContext)\n    return {};\n  const contextMap = gT[ContextKey] ?? (gT[ContextKey] = /* @__PURE__ */ new Map());\n  let realContext = contextMap.get(React.createContext);\n  if (!realContext) {\n    realContext = React.createContext(\n      null\n    );\n    if (process.env.NODE_ENV !== \"production\") {\n      realContext.displayName = \"ReactRedux\";\n    }\n    contextMap.set(React.createContext, realContext);\n  }\n  return realContext;\n}\nvar ReactReduxContext = /* @__PURE__ */ getContext();\n\n// src/utils/useSyncExternalStore.ts\nvar notInitialized = () => {\n  throw new Error(\"uSES not initialized!\");\n};\n\n// src/hooks/useReduxContext.ts\nfunction createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext2() {\n    const contextValue = React.useContext(context);\n    if (process.env.NODE_ENV !== \"production\" && !contextValue) {\n      throw new Error(\n        \"could not find react-redux context value; please ensure the component is wrapped in a <Provider>\"\n      );\n    }\n    return contextValue;\n  };\n}\nvar useReduxContext = /* @__PURE__ */ createReduxContextHook();\n\n// src/hooks/useSelector.ts\nvar useSyncExternalStoreWithSelector = notInitialized;\nvar initializeUseSelector = (fn) => {\n  useSyncExternalStoreWithSelector = fn;\n};\nvar refEquality = (a, b) => a === b;\nfunction createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : createReduxContextHook(context);\n  const useSelector2 = (selector, equalityFnOrOptions = {}) => {\n    const { equalityFn = refEquality, devModeChecks = {} } = typeof equalityFnOrOptions === \"function\" ? { equalityFn: equalityFnOrOptions } : equalityFnOrOptions;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n      if (typeof selector !== \"function\") {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n      if (typeof equalityFn !== \"function\") {\n        throw new Error(\n          `You must pass a function as an equality function to useSelector`\n        );\n      }\n    }\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck,\n      identityFunctionCheck\n    } = useReduxContext2();\n    const firstRun = React.useRef(true);\n    const wrappedSelector = React.useCallback(\n      {\n        [selector.name](state) {\n          const selected = selector(state);\n          if (process.env.NODE_ENV !== \"production\") {\n            const {\n              identityFunctionCheck: finalIdentityFunctionCheck,\n              stabilityCheck: finalStabilityCheck\n            } = {\n              stabilityCheck,\n              identityFunctionCheck,\n              ...devModeChecks\n            };\n            if (finalStabilityCheck === \"always\" || finalStabilityCheck === \"once\" && firstRun.current) {\n              const toCompare = selector(state);\n              if (!equalityFn(selected, toCompare)) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned a different result when called with the same parameters. This can lead to unnecessary rerenders.\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization\",\n                  {\n                    state,\n                    selected,\n                    selected2: toCompare,\n                    stack\n                  }\n                );\n              }\n            }\n            if (finalIdentityFunctionCheck === \"always\" || finalIdentityFunctionCheck === \"once\" && firstRun.current) {\n              if (selected === state) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned the root state when called. This can lead to unnecessary rerenders.\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.\",\n                  { stack }\n                );\n              }\n            }\n            if (firstRun.current)\n              firstRun.current = false;\n          }\n          return selected;\n        }\n      }[selector.name],\n      [selector, stabilityCheck, devModeChecks.stabilityCheck]\n    );\n    const selectedState = useSyncExternalStoreWithSelector(\n      subscription.addNestedSub,\n      store.getState,\n      getServerState || store.getState,\n      wrappedSelector,\n      equalityFn\n    );\n    React.useDebugValue(selectedState);\n    return selectedState;\n  };\n  Object.assign(useSelector2, {\n    withTypes: () => useSelector2\n  });\n  return useSelector2;\n}\nvar useSelector = /* @__PURE__ */ createSelectorHook();\n\n// src/utils/react-is.ts\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.element\");\nvar REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nvar REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nvar REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\");\nvar REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\nvar REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\");\nvar REACT_CONTEXT_TYPE = Symbol.for(\"react.context\");\nvar REACT_SERVER_CONTEXT_TYPE = Symbol.for(\"react.server_context\");\nvar REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\");\nvar REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\");\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\");\nvar REACT_MEMO_TYPE = Symbol.for(\"react.memo\");\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nfunction isValidElementType(type) {\n  if (typeof type === \"string\" || typeof type === \"function\") {\n    return true;\n  }\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_OFFSCREEN_TYPE) {\n    return true;\n  }\n  if (typeof type === \"object\" && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== void 0) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction typeOf(object) {\n  if (typeof object === \"object\" && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE: {\n        const type = object.type;\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n          default: {\n            const $$typeofType = type && type.$$typeof;\n            switch ($$typeofType) {\n              case REACT_SERVER_CONTEXT_TYPE:\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n          }\n        }\n      }\n      case REACT_PORTAL_TYPE: {\n        return $$typeof;\n      }\n    }\n  }\n  return void 0;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\n\n// src/utils/warning.ts\nfunction warning(message) {\n  if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n    console.error(message);\n  }\n  try {\n    throw new Error(message);\n  } catch (e) {\n  }\n}\n\n// src/connect/verifySubselectors.ts\nfunction verify(selector, methodName) {\n  if (!selector) {\n    throw new Error(`Unexpected value for ${methodName} in connect.`);\n  } else if (methodName === \"mapStateToProps\" || methodName === \"mapDispatchToProps\") {\n    if (!Object.prototype.hasOwnProperty.call(selector, \"dependsOnOwnProps\")) {\n      warning(\n        `The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`\n      );\n    }\n  }\n}\nfunction verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {\n  verify(mapStateToProps, \"mapStateToProps\");\n  verify(mapDispatchToProps, \"mapDispatchToProps\");\n  verify(mergeProps, \"mergeProps\");\n}\n\n// src/connect/selectorFactory.ts\nfunction pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {\n  areStatesEqual,\n  areOwnPropsEqual,\n  areStatePropsEqual\n}) {\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps)\n      stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged)\n      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(\n      nextState,\n      state,\n      nextOwnProps,\n      ownProps\n    );\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged)\n      return handleNewPropsAndNewState();\n    if (propsChanged)\n      return handleNewProps();\n    if (stateChanged)\n      return handleNewState();\n    return mergedProps;\n  }\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\nfunction finalPropsSelectorFactory(dispatch, {\n  initMapStateToProps,\n  initMapDispatchToProps,\n  initMergeProps,\n  ...options\n}) {\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n  if (process.env.NODE_ENV !== \"production\") {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}\n\n// src/utils/bindActionCreators.ts\nfunction bindActionCreators(actionCreators, dispatch) {\n  const boundActionCreators = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === \"function\") {\n      boundActionCreators[key] = (...args) => dispatch(actionCreator(...args));\n    }\n  }\n  return boundActionCreators;\n}\n\n// src/utils/isPlainObject.ts\nfunction isPlainObject(obj) {\n  if (typeof obj !== \"object\" || obj === null)\n    return false;\n  const proto = Object.getPrototypeOf(obj);\n  if (proto === null)\n    return true;\n  let baseProto = proto;\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n  return proto === baseProto;\n}\n\n// src/utils/verifyPlainObject.ts\nfunction verifyPlainObject(value, displayName, methodName) {\n  if (!isPlainObject(value)) {\n    warning(\n      `${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`\n    );\n  }\n}\n\n// src/connect/wrapMapToProps.ts\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch) {\n    const constant = getConstant(dispatch);\n    function constantSelector() {\n      return constant;\n    }\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n}\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n}\nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, { displayName }) {\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, void 0);\n    };\n    proxy.dependsOnOwnProps = true;\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      let props = proxy(stateOrDispatch, ownProps);\n      if (typeof props === \"function\") {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n      if (process.env.NODE_ENV !== \"production\")\n        verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n    return proxy;\n  };\n}\n\n// src/connect/invalidArgFactory.ts\nfunction createInvalidArgFactory(arg, name) {\n  return (dispatch, options) => {\n    throw new Error(\n      `Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`\n    );\n  };\n}\n\n// src/connect/mapDispatchToProps.ts\nfunction mapDispatchToPropsFactory(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === \"object\" ? wrapMapToPropsConstant(\n    (dispatch) => (\n      // @ts-ignore\n      bindActionCreators(mapDispatchToProps, dispatch)\n    )\n  ) : !mapDispatchToProps ? wrapMapToPropsConstant((dispatch) => ({\n    dispatch\n  })) : typeof mapDispatchToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapDispatchToProps, \"mapDispatchToProps\")\n  ) : createInvalidArgFactory(mapDispatchToProps, \"mapDispatchToProps\");\n}\n\n// src/connect/mapStateToProps.ts\nfunction mapStateToPropsFactory(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(() => ({})) : typeof mapStateToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapStateToProps, \"mapStateToProps\")\n  ) : createInvalidArgFactory(mapStateToProps, \"mapStateToProps\");\n}\n\n// src/connect/mergeProps.ts\nfunction defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return { ...ownProps, ...stateProps, ...dispatchProps };\n}\nfunction wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, { displayName, areMergedPropsEqual }) {\n    let hasRunOnce = false;\n    let mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n      if (hasRunOnce) {\n        if (!areMergedPropsEqual(nextMergedProps, mergedProps))\n          mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== \"production\")\n          verifyPlainObject(mergedProps, displayName, \"mergeProps\");\n      }\n      return mergedProps;\n    };\n  };\n}\nfunction mergePropsFactory(mergeProps) {\n  return !mergeProps ? () => defaultMergeProps : typeof mergeProps === \"function\" ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, \"mergeProps\");\n}\n\n// src/utils/batch.ts\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\n// src/utils/Subscription.ts\nfunction createListenerCollection() {\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n    notify() {\n      defaultNoopBatch(() => {\n        let listener = first;\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get() {\n      const listeners = [];\n      let listener = first;\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n      return listeners;\n    },\n    subscribe(callback) {\n      let isSubscribed = true;\n      const listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n      return function unsubscribe() {\n        if (!isSubscribed || first === null)\n          return;\n        isSubscribed = false;\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\nvar nullListeners = {\n  notify() {\n  },\n  get: () => []\n};\nfunction createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n  let subscriptionsAmount = 0;\n  let selfSubscribed = false;\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener);\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n  function trySubscribe() {\n    subscriptionsAmount++;\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = void 0;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}\n\n// src/utils/useIsomorphicLayoutEffect.ts\nvar canUseDOM = !!(typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\");\nvar isReactNative = typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\";\nvar useIsomorphicLayoutEffect = canUseDOM || isReactNative ? React.useLayoutEffect : React.useEffect;\n\n// src/utils/shallowEqual.ts\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB))\n    return true;\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length)\n    return false;\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/utils/hoistStatics.ts\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  $$typeof: true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  $$typeof: true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {\n  [ForwardRef]: FORWARD_REF_STATICS,\n  [Memo]: MEMO_STATICS\n};\nfunction getStatics(component) {\n  if (isMemo(component)) {\n    return MEMO_STATICS;\n  }\n  return TYPE_STATICS[component[\"$$typeof\"]] || REACT_STATICS;\n}\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent) {\n  if (typeof sourceComponent !== \"string\") {\n    if (objectPrototype) {\n      const inheritedComponent = getPrototypeOf(sourceComponent);\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent);\n      }\n    }\n    let keys = getOwnPropertyNames(sourceComponent);\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n    const targetStatics = getStatics(targetComponent);\n    const sourceStatics = getStatics(sourceComponent);\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i];\n      if (!KNOWN_STATICS[key] && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        const descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n        try {\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {\n        }\n      }\n    }\n  }\n  return targetComponent;\n}\n\n// src/components/connect.tsx\nvar useSyncExternalStore = notInitialized;\nvar initializeConnect = (fn) => {\n  useSyncExternalStore = fn;\n};\nvar NO_SUBSCRIPTION_ARRAY = [null, null];\nvar stringifyComponent = (Comp) => {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);\n}\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs) {\n  lastWrapperProps.current = wrapperProps;\n  renderIsScheduled.current = false;\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n}\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, additionalSubscribeListener) {\n  if (!shouldHandleStateChanges)\n    return () => {\n    };\n  let didUnsubscribe = false;\n  let lastThrownError = null;\n  const checkForUpdates = () => {\n    if (didUnsubscribe || !isMounted.current) {\n      return;\n    }\n    const latestStoreState = store.getState();\n    let newChildProps, error;\n    try {\n      newChildProps = childPropsSelector(\n        latestStoreState,\n        lastWrapperProps.current\n      );\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n    if (!error) {\n      lastThrownError = null;\n    }\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true;\n      additionalSubscribeListener();\n    }\n  };\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe();\n  checkForUpdates();\n  const unsubscribeWrapper = () => {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n    if (lastThrownError) {\n      throw lastThrownError;\n    }\n  };\n  return unsubscribeWrapper;\n}\nfunction strictEqual(a, b) {\n  return a === b;\n}\nvar hasWarnedAboutDeprecatedPureOption = false;\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps, {\n  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.\n  // @ts-ignore\n  pure,\n  areStatesEqual = strictEqual,\n  areOwnPropsEqual = shallowEqual,\n  areStatePropsEqual = shallowEqual,\n  areMergedPropsEqual = shallowEqual,\n  // use React's forwardRef to expose a ref of the wrapped component\n  forwardRef = false,\n  // the context consumer to use\n  context = ReactReduxContext\n} = {}) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (pure !== void 0 && !hasWarnedAboutDeprecatedPureOption) {\n      hasWarnedAboutDeprecatedPureOption = true;\n      warning(\n        'The `pure` option has been removed. `connect` is now always a \"pure/memoized\" component'\n      );\n    }\n  }\n  const Context = context;\n  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);\n  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);\n  const initMergeProps = mergePropsFactory(mergeProps);\n  const shouldHandleStateChanges = Boolean(mapStateToProps);\n  const wrapWithConnect = (WrappedComponent) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      const isValid = /* @__PURE__ */ isValidElementType(WrappedComponent);\n      if (!isValid)\n        throw new Error(\n          `You must pass a component to the function returned by connect. Instead received ${stringifyComponent(\n            WrappedComponent\n          )}`\n        );\n    }\n    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const displayName = `Connect(${wrappedComponentName})`;\n    const selectorFactoryOptions = {\n      shouldHandleStateChanges,\n      displayName,\n      wrappedComponentName,\n      WrappedComponent,\n      // @ts-ignore\n      initMapStateToProps,\n      // @ts-ignore\n      initMapDispatchToProps,\n      initMergeProps,\n      areStatesEqual,\n      areStatePropsEqual,\n      areOwnPropsEqual,\n      areMergedPropsEqual\n    };\n    function ConnectFunction(props) {\n      const [propsContext, reactReduxForwardedRef, wrapperProps] = React.useMemo(() => {\n        const { reactReduxForwardedRef: reactReduxForwardedRef2, ...wrapperProps2 } = props;\n        return [props.context, reactReduxForwardedRef2, wrapperProps2];\n      }, [props]);\n      const ContextToUse = React.useMemo(() => {\n        let ResultContext = Context;\n        if (propsContext?.Consumer) {\n          if (process.env.NODE_ENV !== \"production\") {\n            const isValid = /* @__PURE__ */ isContextConsumer(\n              // @ts-ignore\n              /* @__PURE__ */ React.createElement(propsContext.Consumer, null)\n            );\n            if (!isValid) {\n              throw new Error(\n                \"You must pass a valid React context consumer as `props.context`\"\n              );\n            }\n            ResultContext = propsContext;\n          }\n        }\n        return ResultContext;\n      }, [propsContext, Context]);\n      const contextValue = React.useContext(ContextToUse);\n      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n      if (process.env.NODE_ENV !== \"production\" && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(\n          `Could not find \"store\" in the context of \"${displayName}\". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to ${displayName} in connect options.`\n        );\n      }\n      const store = didStoreComeFromProps ? props.store : contextValue.store;\n      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;\n      const childPropsSelector = React.useMemo(() => {\n        return finalPropsSelectorFactory(store.dispatch, selectorFactoryOptions);\n      }, [store]);\n      const [subscription, notifyNestedSubs] = React.useMemo(() => {\n        if (!shouldHandleStateChanges)\n          return NO_SUBSCRIPTION_ARRAY;\n        const subscription2 = createSubscription(\n          store,\n          didStoreComeFromProps ? void 0 : contextValue.subscription\n        );\n        const notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);\n        return [subscription2, notifyNestedSubs2];\n      }, [store, didStoreComeFromProps, contextValue]);\n      const overriddenContextValue = React.useMemo(() => {\n        if (didStoreComeFromProps) {\n          return contextValue;\n        }\n        return {\n          ...contextValue,\n          subscription\n        };\n      }, [didStoreComeFromProps, contextValue, subscription]);\n      const lastChildProps = React.useRef(void 0);\n      const lastWrapperProps = React.useRef(wrapperProps);\n      const childPropsFromStoreUpdate = React.useRef(void 0);\n      const renderIsScheduled = React.useRef(false);\n      const isMounted = React.useRef(false);\n      const latestSubscriptionCallbackError = React.useRef(\n        void 0\n      );\n      useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n          isMounted.current = false;\n        };\n      }, []);\n      const actualChildPropsSelector = React.useMemo(() => {\n        const selector = () => {\n          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n            return childPropsFromStoreUpdate.current;\n          }\n          return childPropsSelector(store.getState(), wrapperProps);\n        };\n        return selector;\n      }, [store, wrapperProps]);\n      const subscribeForReact = React.useMemo(() => {\n        const subscribe = (reactListener) => {\n          if (!subscription) {\n            return () => {\n            };\n          }\n          return subscribeUpdates(\n            shouldHandleStateChanges,\n            store,\n            subscription,\n            // @ts-ignore\n            childPropsSelector,\n            lastWrapperProps,\n            lastChildProps,\n            renderIsScheduled,\n            isMounted,\n            childPropsFromStoreUpdate,\n            notifyNestedSubs,\n            reactListener\n          );\n        };\n        return subscribe;\n      }, [subscription]);\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [\n        lastWrapperProps,\n        lastChildProps,\n        renderIsScheduled,\n        wrapperProps,\n        childPropsFromStoreUpdate,\n        notifyNestedSubs\n      ]);\n      let actualChildProps;\n      try {\n        actualChildProps = useSyncExternalStore(\n          // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing\n          subscribeForReact,\n          // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,\n          // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.\n          actualChildPropsSelector,\n          getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector\n        );\n      } catch (err) {\n        if (latestSubscriptionCallbackError.current) {\n          ;\n          err.message += `\nThe error may be correlated with this previous error:\n${latestSubscriptionCallbackError.current.stack}\n\n`;\n        }\n        throw err;\n      }\n      useIsomorphicLayoutEffect(() => {\n        latestSubscriptionCallbackError.current = void 0;\n        childPropsFromStoreUpdate.current = void 0;\n        lastChildProps.current = actualChildProps;\n      });\n      const renderedWrappedComponent = React.useMemo(() => {\n        return (\n          // @ts-ignore\n          /* @__PURE__ */ React.createElement(\n            WrappedComponent,\n            {\n              ...actualChildProps,\n              ref: reactReduxForwardedRef\n            }\n          )\n        );\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]);\n      const renderedChild = React.useMemo(() => {\n        if (shouldHandleStateChanges) {\n          return /* @__PURE__ */ React.createElement(ContextToUse.Provider, { value: overriddenContextValue }, renderedWrappedComponent);\n        }\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    }\n    const _Connect = React.memo(ConnectFunction);\n    const Connect = _Connect;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n    if (forwardRef) {\n      const _forwarded = React.forwardRef(\n        function forwardConnectRef(props, ref) {\n          return /* @__PURE__ */ React.createElement(Connect, { ...props, reactReduxForwardedRef: ref });\n        }\n      );\n      const forwarded = _forwarded;\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return /* @__PURE__ */ hoistNonReactStatics(forwarded, WrappedComponent);\n    }\n    return /* @__PURE__ */ hoistNonReactStatics(Connect, WrappedComponent);\n  };\n  return wrapWithConnect;\n}\nvar connect_default = connect;\n\n// src/components/Provider.tsx\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = \"once\",\n  identityFunctionCheck = \"once\"\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : void 0,\n      stabilityCheck,\n      identityFunctionCheck\n    };\n  }, [store, serverState, stabilityCheck, identityFunctionCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const { subscription } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = void 0;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext;\n  return /* @__PURE__ */ React.createElement(Context.Provider, { value: contextValue }, children);\n}\nvar Provider_default = Provider;\n\n// src/hooks/useStore.ts\nfunction createStoreHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : (\n    // @ts-ignore\n    createReduxContextHook(context)\n  );\n  const useStore2 = () => {\n    const { store } = useReduxContext2();\n    return store;\n  };\n  Object.assign(useStore2, {\n    withTypes: () => useStore2\n  });\n  return useStore2;\n}\nvar useStore = /* @__PURE__ */ createStoreHook();\n\n// src/hooks/useDispatch.ts\nfunction createDispatchHook(context = ReactReduxContext) {\n  const useStore2 = context === ReactReduxContext ? useStore : createStoreHook(context);\n  const useDispatch2 = () => {\n    const store = useStore2();\n    return store.dispatch;\n  };\n  Object.assign(useDispatch2, {\n    withTypes: () => useDispatch2\n  });\n  return useDispatch2;\n}\nvar useDispatch = /* @__PURE__ */ createDispatchHook();\n\n// src/exports.ts\nvar batch = defaultNoopBatch;\n\n// src/index.ts\ninitializeUseSelector(useSyncExternalStoreWithSelector2);\ninitializeConnect(React2.useSyncExternalStore);\nexport {\n  Provider_default as Provider,\n  ReactReduxContext,\n  batch,\n  connect_default as connect,\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook,\n  shallowEqual,\n  useDispatch,\n  useSelector,\n  useStore\n};\n//# sourceMappingURL=react-redux.mjs.map","import type { CoreDispatch } from '../../store';\n\nexport enum PopupType {\n  AutoplayModified = 'AutoplayModified',\n  AutoplayStopped = 'AutoplayStopped',\n  BetNotAllowed = 'BetNotAllowed',\n  BetNotOnTime = 'BetNotOnTime',\n  ConnectionLost = 'ConnectionLost',\n  CustomPopup = 'CustomPopup',\n  DontLeaveRoundInProgress = 'DontLeaveRoundInProgress',\n  ExitConfirmation = 'ExitConfirmation',\n  GenericError = 'GenericError',\n  GenericErrorNoRefresh = 'GenericErrorNoRefresh',\n  SessionExpired = 'SessionExpired',\n  Inactivity = 'Inactivity',\n  InsufficientFunds = 'InsufficientFunds',\n  LoggedOut = 'LoggedOut',\n  NicknameEnter = 'NicknameEnter',\n  PlayerLimit = 'PlayerLimit',\n  RealityCheck = 'RealityCheck',\n  Reconnecting = 'Reconnecting',\n  SessionBalance = 'SessionBalance',\n  TableClosed = 'TableClosed',\n  PrivateTableOccupied = 'PrivateTableOccupied',\n  VipTableLowBalance = 'VipTableLowBalance',\n  VideoIsDisabled = 'VideoIsDisabled',\n  VideoStreamQuality = 'VideoStreamQuality',\n  SessionBalanceError = 'SessionBalanceError',\n  Error = 'Error',\n  ByInvitation = 'ByInvitation',\n}\n\nexport type OnCloseCallback = (dispatch: CoreDispatch) => void;\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\nimport { BetOverrider } from '../../../controllers/betOverrider/BetOverrider';\nimport { CoreSessionStorage } from '../../../storage/session/CoreSessionStorage';\nimport {\n  acceptedBetAlreadyExists,\n  areBetsEqual,\n  countTotalBet,\n  doubleBets,\n  emptyBets,\n  getNewBet,\n} from '../../../utils/bets';\n\nimport type { AcceptedBet, BetPayloadType, BetsSliceType, BetType, IBetLimits, ILimit } from './types';\n\nconst initialState: BetsSliceType = {\n  betList: null,\n  betStack: [],\n  disabledBetSpots: [],\n  acceptedBets: [],\n  lastBet: null,\n  betLimits: null,\n  tableLimits: null,\n  dragBuffer: null,\n  updateTimestamp: 0,\n  rawTotalBet: 0,\n  totalBet: 0,\n};\n\nexport const betSlice = createSlice({\n  name: 'bets',\n  initialState,\n  reducers: {\n    initBetStack: (state, action: PayloadAction<number[]>) => {\n      state.betList = action.payload;\n    },\n    resetBetStack: (state) => {\n      state.betStack = [];\n    },\n    setBetLimits: (state, action: PayloadAction<IBetLimits>) => {\n      state.betLimits = action.payload;\n    },\n    setTableLimits: (state, action: PayloadAction<ILimit>) => {\n      state.tableLimits = action.payload;\n    },\n    updateBetStackHead: (state, action: PayloadAction<BetType>) => {\n      const betStack = state.betStack;\n      const betStackHead = state.betStack[betStack.length - 1] ?? { betSpots: {} };\n      const bet = action.payload;\n      betStackHead.betSpots = Object.assign(betStackHead.betSpots, bet.betSpots);\n\n      if (betStack.length > 0) {\n        state.betStack[betStack.length - 1] = betStackHead;\n      } else {\n        state.betStack.push(betStackHead);\n      }\n    },\n    overrideBetStack: (state, action: PayloadAction<BetType[]>) => {\n      state.betStack = action.payload;\n    },\n    pushBet: (state, action: PayloadAction<BetPayloadType>) => {\n      if (!state.betList) return;\n\n      const { bet: changedBets, decimals } = action.payload;\n      const currentBets = state.betStack[state.betStack.length - 1];\n      const tableLimit = state.tableLimits?.max ?? Infinity;\n\n      const newBet = getNewBet(\n        currentBets,\n        changedBets,\n        decimals,\n        state.betLimits ?? {},\n        state.betList,\n        tableLimit,\n        action.payload.balance\n      );\n      if (!newBet) return;\n\n      const totalBet = countTotalBet(newBet.betSpots, decimals);\n\n      if (!areBetsEqual(newBet, currentBets) && action.payload.balance >= totalBet && totalBet <= tableLimit) {\n        state.betStack.push(newBet);\n        state.updateTimestamp = Date.now();\n      }\n    },\n    clearBet: (state, action: PayloadAction<number>) => {\n      if (!state.betList) {\n        return;\n      }\n      const newBets = emptyBets();\n      const currentBets = state.betStack[state.betStack.length - 1];\n\n      state.betList.forEach((betId) => {\n        newBets.betSpots[betId] = {\n          value: betId === action.payload ? 0 : (currentBets?.betSpots?.[betId]?.value ?? 0),\n        };\n      });\n\n      state.betStack.push(newBets);\n      state.updateTimestamp = Date.now();\n    },\n    popBet: (state) => {\n      state.betStack.pop();\n      state.updateTimestamp = Date.now();\n    },\n    wipeBet: (state, action: PayloadAction<number>) => {\n      if (!state.betList && !state.betStack.length) {\n        return;\n      }\n      state.betStack.forEach((bet) => {\n        if (bet.betSpots[action.payload]) {\n          bet.betSpots[action.payload].value = 0;\n        }\n      });\n      if (state.lastBet) {\n        const newLastBets = { ...state.lastBet.betSpots };\n        if (newLastBets[action.payload]) {\n          newLastBets[action.payload].value = 0;\n        }\n        if (Object.keys(newLastBets).some((betSpot) => newLastBets[betSpot]?.value)) {\n          state.lastBet.betSpots = newLastBets;\n        } else {\n          state.lastBet = null;\n        }\n      }\n    },\n    doubleBet: (state, action: PayloadAction<{ balance: number; decimals: number }>) => {\n      const { balance, decimals } = action.payload;\n      const currentBets = state.betStack[state.betStack.length - 1];\n      const betLimits = state.betLimits ?? {};\n      const tableLimit = state.tableLimits?.max ?? Infinity;\n      if (currentBets && state.betList) {\n        const newBets = doubleBets(balance, decimals, currentBets, betLimits, tableLimit, state.totalBet);\n        const totalBet = newBets ? countTotalBet(newBets.betSpots, decimals) : 0;\n\n        if (\n          newBets &&\n          !areBetsEqual(newBets, currentBets) &&\n          Object.keys(newBets.betSpots).length > 0 &&\n          totalBet <= tableLimit\n        ) {\n          state.betStack.push(newBets);\n          state.updateTimestamp = Date.now();\n        }\n      }\n    },\n    saveLastBets: (state, action: PayloadAction<{ tableId: string }>) => {\n      const currentBets = state.betStack[state.betStack.length - 1];\n      if (currentBets) {\n        state.lastBet = currentBets;\n        CoreSessionStorage.setLastBets(currentBets, action.payload.tableId);\n      }\n    },\n    initLastBets: (state, action: PayloadAction<{ bets: BetType }>) => {\n      // Use only on game init\n      state.lastBet = action.payload.bets;\n    },\n    reBet: (state, action: PayloadAction<{ balance: number; decimals: number }>) => {\n      if (state.lastBet) {\n        const { balance, decimals } = action.payload;\n        const totalBet = countTotalBet(state.lastBet.betSpots, decimals);\n\n        if (totalBet <= balance) {\n          state.betStack.push(state.lastBet);\n          state.updateTimestamp = Date.now();\n        }\n      }\n    },\n    setAcceptedBets: (state, action: PayloadAction<AcceptedBet[]>) => {\n      state.acceptedBets = action.payload;\n    },\n    pushAcceptedBet: (state, action: PayloadAction<AcceptedBet>) => {\n      if (!acceptedBetAlreadyExists(state.acceptedBets, action.payload)) {\n        state.acceptedBets.push(action.payload);\n      }\n    },\n    updateAcceptedBet: (\n      state,\n      action: PayloadAction<{ betCode: number; amount: number; amt?: number; ticketNos?: number[] }>\n    ) => {\n      const betToUpdate = state.acceptedBets.find((bet) => bet.betcode === action.payload.betCode);\n      if (betToUpdate) {\n        betToUpdate.amount = action.payload.amount;\n        betToUpdate.errorCode = 0;\n        // FIXME: VBB game-specific data\n        if (action.payload.amt && action.payload.ticketNos) {\n          betToUpdate.amt = action.payload.amt;\n          betToUpdate.ticketNos = action.payload.ticketNos;\n        }\n      }\n    },\n    setDragBuffer: (state, action: PayloadAction<BetsSliceType['dragBuffer']>) => {\n      state.dragBuffer = action.payload ? { ...action.payload, preliminary: true } : null;\n    },\n    setDisabledBetSpots: (state, action: PayloadAction<string[]>) => {\n      state.disabledBetSpots = action.payload;\n    },\n    promoteDragBuffer: (state) => {\n      if (state.dragBuffer) {\n        state.dragBuffer.preliminary = false;\n      }\n    },\n    setRawTotalBet: (state, action: PayloadAction<number>) => {\n      state.rawTotalBet = action.payload;\n      state.totalBet = BetOverrider.totalBetOverrider(state.rawTotalBet);\n    },\n    recalculateTotalBet: (state) => {\n      state.totalBet = BetOverrider.totalBetOverrider(state.rawTotalBet);\n    },\n  },\n});\n\nexport const betActions = betSlice.actions;\n","import type { BalanceType } from '../../api/fetchers/userInfo/types';\nimport type { CoreStoreType } from '../../store/CoreStore';\n\nexport enum IntegrationApi {\n  BridgeApi = 'bridge_api',\n  DBOX = 'dbox',\n  Default = 'default',\n  Empty = '',\n  GGNet = 'GGNet',\n  PaddyPower = 'paddy_power',\n  SkyVegas = 'sky_vegas',\n}\n\n// Output\nexport enum OutgoingMessage {\n  RoundStart = 'gameRoundStarted',\n  RoundEnd = 'gameRoundEnded',\n\n  GameLoadStart = 'gameLoadingStarted',\n  GameLoadProgress = 'gameLoadingProgress',\n  GameLoadEnd = 'gameLoadingEnded',\n\n  OpenCashier = 'openCashier',\n  CloseContainer = 'notifyCloseContainer',\n\n  RealityCheckShown = 'RC_SHOWN',\n  RealityCheckContinue = 'RC_CONTINUE',\n  RealityCheckQuit = 'RC_QUIT',\n\n  GameQuit = 'gameQuit',\n  GameReady = 'gameReady',\n  GameActive = 'gameActive',\n\n  UpdateBalance = 'updateBalance',\n  UpdateBets = 'updateBets',\n  UpdateSettings = 'updateSettings',\n  UpdateWin = 'updateWin',\n\n  BetsClosed = 'betsClosed',\n\n  ErrorMessage = 'errorMessage',\n\n  GoToGame = 'goToGame', // This event is triggered when we switch one game to another game.\n  GoFromGame = 'goFromGame', // This event is triggered when we switch one game from another game.\n  GameChange = 'GameChange', // This event is triggered when we switch game by swipe.\n}\n\ninterface BalanceInfo {\n  balance?: Partial<BalanceType>;\n}\n\ninterface ErrorMessageInfo {\n  errorCode?: string;\n  errorMessage?: string;\n}\n\ninterface LoadingProgressInfo {\n  progress?: number;\n}\n\ninterface SettingsInfo {\n  masterVolume?: number;\n}\n\ninterface TotalBetInfo {\n  totalBet?: number;\n}\n\ninterface WinInfo {\n  winResultAmount?: number;\n}\n\ninterface SwipeInfo {\n  swipeXDeltaValue?: number;\n  swipeYDeltaValue?: number;\n}\n\nexport interface OutgoingInfo\n  extends BalanceInfo,\n    ErrorMessageInfo,\n    LoadingProgressInfo,\n    SettingsInfo,\n    TotalBetInfo,\n    WinInfo,\n    SwipeInfo {\n  tableId?: string;\n  isResponsibleGamingEnabled?: boolean;\n}\n\nexport interface ICrossOriginCommunicator {\n  process(message: MessageEvent<unknown>, store: CoreStoreType): void;\n  send(message: OutgoingMessage, info?: OutgoingInfo): void;\n  onConnect?(store: CoreStoreType): void;\n  cleanup?(): void;\n}\n","export enum HeaderModal {\n  Settings = 'settings',\n  History = 'history',\n  Help = 'help',\n  QuickGuide = 'quickGuide',\n  Chat = 'chat',\n  Support = 'support',\n}\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport type { ToastConnectedProps } from '../../../components/toast/types';\n\nconst initialState: {\n  toasts: ToastConnectedProps[];\n} = {\n  toasts: [],\n};\n\nconst NL_TOAST_KEY = 'TOAST_BET_ABOVE_MINIMUM';\n\nexport const toastSlice = createSlice({\n  name: 'toast',\n  initialState,\n  reducers: {\n    createToast: (state, action: PayloadAction<string>) => {\n      const identicalToast = state.toasts.find((toast) => toast.message === action.payload);\n\n      // If the toast is already in the list, remove it and add the incoming one, for it to appear on top and override previous one of same type\n      if (identicalToast)\n        toastSlice.caseReducers.removeToast(state, { payload: identicalToast.timeStamp, type: 'toast-remove' });\n\n      state.toasts = [...state.toasts, { message: action.payload, timeStamp: Date.now() }];\n\n      if (state.toasts.length > 3) {\n        // toast with 'TOAST_BET_ABOVE_MINIMUM' message should always stay on top NL Jurisdiction\n        const toastToRemove = state.toasts.find((toast) => toast.message !== NL_TOAST_KEY);\n        if (!toastToRemove) return;\n        toastSlice.caseReducers.removeToast(state, { payload: toastToRemove.timeStamp, type: 'toast-remove' });\n      }\n    },\n    removeToast: (state, action: PayloadAction<number>) => {\n      state.toasts = state.toasts.filter((toast) => toast.timeStamp !== action.payload);\n    },\n    // TODO: make sure there is no actual need to do it via timestamp and go with the message approach, remove this then\n    removeNLToast: (state) => {\n      state.toasts = state.toasts.filter((toast) => toast.message !== NL_TOAST_KEY);\n    },\n  },\n});\n\nexport const toastActions = toastSlice.actions;\n","import type { CoreStoreType } from '../../store/CoreStore';\n\nimport type { ICrossOriginCommunicator, OutgoingInfo } from './types';\nimport { OutgoingMessage } from './types';\n\nclass CrossOriginCommunicationController {\n  private readonly handleIncomingMessage = this.processIncomingMessage.bind(this);\n\n  private communicators: ICrossOriginCommunicator[];\n  private store: CoreStoreType;\n\n  constructor() {\n    this.communicators = [];\n    this.store = {} as CoreStoreType;\n  }\n\n  close(): void {\n    window.removeEventListener('message', this.handleIncomingMessage);\n    this.communicators.forEach((communicator) => communicator.cleanup?.());\n  }\n\n  connect(): void {\n    window.addEventListener('message', this.handleIncomingMessage);\n    this.communicators.forEach((communicator) => communicator.onConnect?.(this.store));\n  }\n\n  dispatch(message: OutgoingMessage, info?: OutgoingInfo): void {\n    this.communicators.forEach((communicator) => communicator.send(message, info));\n  }\n\n  setCommunicator(communicator: ICrossOriginCommunicator): void {\n    this.communicators.push(communicator);\n  }\n\n  setCommunicators(communicators: ICrossOriginCommunicator[]): void {\n    this.communicators = communicators;\n  }\n\n  setStore(store: CoreStoreType): void {\n    this.store = store;\n  }\n\n  private processIncomingMessage(event: MessageEvent): void {\n    this.communicators.forEach((communicator) => communicator.process(event, this.store));\n  }\n}\n\nexport const CrossOriginCommunication = new CrossOriginCommunicationController();\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { Logger } from '../../../logger/Logger';\nimport { fetchCasinoConfigAction } from '../../apiActions/fetchCasinoConfigAction';\nimport { fetchEnvAction } from '../../apiActions/fetchEnvAction';\nimport { fetchPlayerConfigAction } from '../../apiActions/fetchPlayerConfigAction';\nimport { fetchPlayerConfigSyncAction } from '../../apiActions/fetchPlayerConfigSyncAction';\nimport { fetchTableConfigAction } from '../../apiActions/fetchTableConfigAction';\nimport { fetchUserInfoAction } from '../../apiActions/fetchUserInfoAction';\nimport { fetchVersionsAction } from '../../apiActions/fetchVersionsAction';\nimport type { BetType } from '../bets/types';\n\nimport type { AutoplayLimits, AutoplayStartOptions, AutoplaySliceType } from './types';\nimport { AutoplayStatus } from './types';\n\nconst initialState: AutoplaySliceType = {\n  autoplayStatus: AutoplayStatus.Stopped,\n  balanceChange: 0,\n  balanceDecreaseLimit: null,\n  balanceIncreaseLimit: null,\n  isInProgress: false,\n  isLaunchedMidRound: false,\n  isOpen: false,\n  roundsLeft: 0,\n  savedBet: null,\n  singleWinLimit: null,\n  pendingAutoplayBet: false,\n};\n\nexport const autoplaySlice = createSlice({\n  name: 'autoplay',\n  initialState,\n  reducers: {\n    saveBet: (state, action: PayloadAction<BetType>) => {\n      state.savedBet = action.payload;\n    },\n    start: (state, action: PayloadAction<AutoplayStartOptions>) => {\n      state.isInProgress = true;\n      state.balanceChange = 0;\n      state.isLaunchedMidRound = action?.payload?.midRound || false;\n      state.autoplayStatus = AutoplayStatus.Running;\n    },\n    stop: (state) => {\n      state.isInProgress = false;\n      state.balanceChange = 0;\n      state.balanceIncreaseLimit = null;\n      state.balanceDecreaseLimit = null;\n      state.singleWinLimit = null;\n      state.savedBet = initialState.savedBet;\n      state.autoplayStatus = AutoplayStatus.Stopped;\n    },\n    /**\n     * Used to resume from Paused state. It's different from \"start\" because it does not clear AP state.\n     * Should not be used to start from Stopped state.\n     */\n    resume: (state) => {\n      if (state.autoplayStatus === AutoplayStatus.Paused) {\n        state.isInProgress = true;\n        state.autoplayStatus = AutoplayStatus.Running;\n      }\n    },\n    /**\n     * Used to pause autoplay. It's different from \"stop\" because it does not clear the AP state and bets\n     */\n    pause: (state) => {\n      if (state.autoplayStatus === AutoplayStatus.Running) {\n        state.isInProgress = false;\n        state.autoplayStatus = AutoplayStatus.Paused;\n      }\n    },\n\n    updateRoundCount: (state, action: PayloadAction<number>) => {\n      state.roundsLeft = action.payload;\n    },\n    updateBalanceChange: (state, action: PayloadAction<number>) => {\n      state.balanceChange += action.payload;\n    },\n    setLimits: (state, action: PayloadAction<AutoplayLimits>) => {\n      state.balanceChange = 0;\n      state.singleWinLimit = action.payload.singleWinLimit || null;\n      state.balanceIncreaseLimit = action.payload.balanceIncreaseLimit || null;\n      state.balanceDecreaseLimit = action.payload.balanceDecreaseLimit || null;\n    },\n    decRoundCount: (state) => {\n      state.roundsLeft -= 1;\n      state.isLaunchedMidRound = false;\n      if (state.roundsLeft < 0) {\n        Logger.logFailure(\n          'errors',\n          'autoplay tried to go negative',\n          'autoplay',\n          Date.now(),\n          1,\n          'AutoplayNegative',\n          true\n        );\n        state.isInProgress = false;\n        state.balanceChange = 0;\n        state.balanceIncreaseLimit = null;\n        state.balanceDecreaseLimit = null;\n        state.singleWinLimit = null;\n        state.savedBet = initialState.savedBet;\n        state.autoplayStatus = AutoplayStatus.Stopped;\n      }\n    },\n    toggle: (state, action: PayloadAction<boolean>) => {\n      state.isOpen = action.payload;\n    },\n    toggleOpen: (state) => {\n      state.isOpen = !state.isOpen;\n    },\n    /**\n     * Set this flag to true only after validating that the autoplay bet can be placed.\n     */\n    setPendingAutoplayBet: (state, action: PayloadAction<boolean>) => {\n      state.pendingAutoplayBet = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Errors in which we should stop autoplay as the game flow is interrupted\n      .addCase(fetchCasinoConfigAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchEnvAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchPlayerConfigAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchPlayerConfigSyncAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchTableConfigAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchUserInfoAction.rejected, (state) => {\n        state.isInProgress = false;\n      })\n      .addCase(fetchVersionsAction.rejected, (state) => {\n        state.isInProgress = false;\n      });\n  },\n});\n\nexport const autoplayActions = autoplaySlice.actions;\n","import type { BonusCampaign } from '../../../../api/fetchers/bonusPromotions/types/bonus';\n\nimport type { Promotion } from './promotions';\n\nexport enum CampaignType {\n  DefaultPromo,\n  BonusPromo,\n}\n\nexport type Campaign = Promotion | BonusCampaign;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { ChipValueType } from './types';\n\nconst initialState: {\n  chips: ChipValueType[];\n  chipsReady: boolean;\n  selectedChip: ChipValueType | null;\n  isClipChipStackOpened: boolean;\n  isRevolverChipStackOpened: boolean;\n} = {\n  chips: [],\n  chipsReady: false,\n  selectedChip: null,\n  isClipChipStackOpened: false,\n  isRevolverChipStackOpened: false,\n};\n\nexport const chipSlice = createSlice({\n  name: 'chips',\n  initialState,\n  reducers: {\n    setChips: (state, action: PayloadAction<ChipValueType[]>) => {\n      state.chips = action.payload;\n      state.chipsReady = true;\n    },\n    setSelectedChip: (state, action: PayloadAction<ChipValueType>) => {\n      state.selectedChip = action.payload;\n    },\n    // settingSyncMiddleware listens for this action to save selected chip in playerConfig on server\n    setAndSyncSelectedChip: (state, action: PayloadAction<ChipValueType>) => {\n      state.selectedChip = action.payload;\n    },\n    setClipChipStackOpened: (state, action: PayloadAction<boolean>) => {\n      state.isClipChipStackOpened = action.payload;\n    },\n    setRevolverChipStackOpened: (state, action: PayloadAction<boolean>) => {\n      state.isRevolverChipStackOpened = action.payload;\n    },\n  },\n});\n\nexport const chipActions = chipSlice.actions;\n","import type { FC } from 'react';\nimport { memo } from 'react';\n\nimport type { CurrencyFormatterOptions } from '../../formatters/CurrencyFormatter';\nimport { CurrencyFormatter } from '../../formatters/CurrencyFormatter';\n\nexport interface CurrencyProps extends CurrencyFormatterOptions {\n  /** The value to be formatted */\n  value: number;\n  /** The locale to be used for formatting */\n  locale: string;\n}\n\nconst CurrencyComponent: FC<CurrencyProps> = ({ value, locale, ...rest }) =>\n  CurrencyFormatter.format(value, locale, rest);\n\nexport const Currency = memo(CurrencyComponent);\n","const numberFormatCache: Record<string, Intl.NumberFormat> = {};\n\nexport const formatNumber = (locale: string, value: number, options?: { avoidTrailingZero?: boolean }): string => {\n  let formatter = numberFormatCache[locale];\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(numberFormatterLocal(locale), {\n      maximumFractionDigits: options?.avoidTrailingZero ? 0 : undefined,\n    });\n    numberFormatCache[locale] = formatter;\n  }\n  return formatter.format(value);\n};\n\nconst exceptionLocales = new Set(['ar', 'fa', 'bn']);\n\n/**\n * Adjusts number formatting for exception locales, defaulting to Western Arabic numeral system.\n * @param {string} locale - The user's local (Example: 'en', 'de', etc.).\n * @return {string} - Adjusted locale for number formatters.\n */\nexport const numberFormatterLocal = (locale: string): string =>\n  exceptionLocales.has(locale) ? 'ar-u-nu-latn' : locale;\n","// extracted by mini-css-extract-plugin\nexport default {\"overscrollable\":\"gy_gz\",\"overscrollable_horizontal\":\"gy_gA\",\"overscrollable_center\":\"gy_gB\",\"overscrollable__body\":\"gy_gC\",\"overscrollable__body_overflowBottom\":\"gy_gE\",\"overscrollable__body_overflowTop\":\"gy_gF\",\"overscrollable__footer\":\"gy_gG\"};","import type { HTMLAttributes, ReactNode, UIEvent } from 'react';\nimport { forwardRef, useCallback, useLayoutEffect, useRef, useState } from 'react';\n\nimport { useModifiers } from '../../styles/hooks/useModifiers';\n\nimport styles from './overscrollable.module.css';\n\nexport interface OverscrollableProps extends HTMLAttributes<HTMLDivElement> {\n  footer?: string | ReactNode;\n  horizontal?: boolean;\n  center?: boolean;\n  scrollToTop?: boolean;\n}\n\nconst Overscrollable = forwardRef<HTMLDivElement, OverscrollableProps>(function OverscrollableFunc(\n  { children, className = '', footer, horizontal, center, scrollToTop, ...rest },\n  forwardedRef\n) {\n  const fallbackRef = useRef<HTMLDivElement>(null);\n  const ref = forwardedRef || fallbackRef;\n  const [isTopOverflowing, setIsTopOverflowing] = useState(false);\n  const [isBottomOverflowing, setIsBottomOverflowing] = useState(false);\n\n  const mods = useModifiers(styles, 'overscrollable', {\n    horizontal: horizontal,\n    center: center,\n  });\n\n  const resizeObserver = useRef(\n    new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        const target = entry.target as HTMLDivElement;\n        handleScroll(target);\n      });\n    })\n  );\n\n  const handleScroll = useCallback((target: HTMLDivElement): void => {\n    const overflowTop = target.scrollTop;\n    const overflowBottom = target.scrollHeight - target.scrollTop - target.clientHeight;\n\n    setIsTopOverflowing(overflowTop > 1);\n    setIsBottomOverflowing(overflowBottom > 1);\n  }, []);\n\n  useLayoutEffect(() => {\n    if (ref && 'current' in ref && ref.current) {\n      resizeObserver.current.observe(ref.current);\n      if (scrollToTop) ref.current.scrollTo({ top: 0, behavior: 'instant' });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scrollToTop]);\n\n  return (\n    <div className={`${styles.overscrollable} ${mods}`}>\n      <div\n        className={`${styles.overscrollable__body} ${\n          isTopOverflowing ? styles.overscrollable__body_overflowTop : ''\n        }  ${isBottomOverflowing ? styles.overscrollable__body_overflowBottom : ''} ${className}`}\n        ref={ref}\n        {...rest}\n        onScroll={(event: UIEvent<HTMLDivElement>): void => handleScroll(event.target as HTMLDivElement)}\n      >\n        {children}\n      </div>\n      {footer ? <div className={styles.overscrollable__footer}>{footer}</div> : null}\n    </div>\n  );\n});\n\nOverscrollable.displayName = 'Overscrollable';\n\nexport { Overscrollable };\n","import type { AllowedGlobals } from './window';\n\nconst ROOT_DIRECTORIES = ['/desktop', '/apps', '/MR'];\nconst rootDirectoryRegex = new RegExp(`(${ROOT_DIRECTORIES.join('|')})`);\nexport const GAME_VERSION = process.env.GAME_VERSION || '';\nexport const GAME_TYPE = process.env.GAME_TYPE || '';\n\nexport const getStaticBaseUrl = (): { base: string; directory: string } => {\n  const fullPath = window.location.origin + window.location.pathname;\n\n  // Split the path by any of the root directories\n  const pathParts = fullPath.split(rootDirectoryRegex);\n\n  if (pathParts.length < 2) {\n    return { base: window.location.origin, directory: '' };\n  } else {\n    let directory = pathParts.slice(1).join('');\n\n    if ((window as AllowedGlobals).legacyMode && directory.includes('/main.html')) {\n      directory = directory.replace('/main.html', '');\n    }\n\n    // if directory has trailing slash, remove it\n    const cleanedDirectory = directory.endsWith('/') ? directory.slice(0, -1) : directory;\n    return {\n      base: pathParts[0] || window.location.origin,\n      directory: cleanedDirectory,\n    };\n  }\n};\n\n/**\n * Sets the paths for dynamic chunks based on the static base URL and game version.\n * This function should be called in the entry point of the application (index.tsx) to establish proper chunks loading when app use versioned deployements approach.\n * @returns {void}\n */\nexport const setChunksPublicPath = (): void => {\n  if (!GAME_VERSION || !GAME_TYPE) return;\n  const { base } = getStaticBaseUrl();\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  __webpack_public_path__ = `${base}/apps/${GAME_TYPE}/${GAME_VERSION}/`;\n};\n\n/**\n * Constructs a static resource URL based on the base URL and game version (if exists).\n * This function takes a resource URL and appends it to the base URL and game version\n * if the `GAME_VERSION` is defined (from Webpack config). If `GAME_VERSION` is not defined, it returns the\n * original resource URL.\n *\n * @param {string} resourceUrl - The URL of the resource to be appended.\n * @returns {string} The constructed static resource URL or the original resource URL if `GAME_VERSION` is not defined.\n */\nexport const getStaticResourceUrl = (resourceUrl: string): string => {\n  if (!GAME_VERSION || !GAME_TYPE) return resourceUrl;\n  const { base } = getStaticBaseUrl();\n  return `${base}/apps/${GAME_TYPE}/${GAME_VERSION}/${resourceUrl}`;\n};\n","import type { ReactNode, ReactPortal } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport class Curtain {\n  private static curtain = document.querySelector('.curtain');\n\n  public static resurrect(): void {\n    if (this.curtain) {\n      this.curtain.classList.remove('curtain_dead');\n      this.curtain.classList.add('curtain_undead');\n      this.curtain.classList.remove('curtain_lifted');\n    }\n  }\n\n  public static renderContent(children: ReactNode): ReactPortal | null {\n    if (this.curtain) {\n      const portal = document.querySelector('.curtain__portal');\n      if (portal) {\n        return createPortal(children, portal);\n      }\n    }\n    return null;\n  }\n\n  public static remove(): void {\n    if (this.curtain && document.querySelector('.curtain')) {\n      document.body.removeChild(this.curtain);\n    }\n  }\n}\n","export enum CoreConstants {\n  SeatNumber = 'seatNumber',\n  SelectedTableType = 'selectedTableType',\n}\n\nexport enum ScreenNameConstants {\n  SCREEN_NAME_MIN_LENGTH = '2',\n  SCREEN_NAME_MAX_LENGTH = '20',\n}\n\nexport const RESTRICTED_PAGE_URL: string = '/gsstatic/location-restrictions.html';\nexport const CRASH_GAMES = ['HIGHFLYER', 'SPACEMAN', 'BIGBASS'];\n","import type { Subtitle, SubtitlesPositions, SubtitlesSize } from '../../../components/subtitles/types';\nimport { useCoreSelector } from '../../CoreStore';\n\nimport type { SubtitlesGroup } from './types';\n\nexport const useSubtitlesSlice = {\n  getGroup: (): SubtitlesGroup => {\n    return useCoreSelector(({ subtitles }) => subtitles.group);\n  },\n  getIsEnabled: (): boolean => {\n    return useCoreSelector(({ subtitles }) => subtitles.isEnabled);\n  },\n  getIsOnboarded: (): boolean => {\n    return useCoreSelector(({ subtitles }) => subtitles.isOnboarded);\n  },\n  getPositions: (): SubtitlesPositions | null => {\n    return useCoreSelector(({ config, subtitles }) => {\n      const gameType = config.session?.gametype;\n      return (gameType && subtitles.positionsRaw?.[gameType]) || null;\n    });\n  },\n  getSizes: (): SubtitlesSize => {\n    return useCoreSelector(({ subtitles }) => subtitles.sizes);\n  },\n  getSubtitle: (): Subtitle => {\n    return useCoreSelector(({ subtitles }) => subtitles.subtitle);\n  },\n};\n","//new Function construction is used to avoid the build process to remove the code (webpack optimization)\nconst ENV_KEY = 'uat';\nconst PROD_ENV_NAME = 'prod';\nconst UAT_ENV_NAME = 'uat';\n\n/**\n * Returns the input key as a string.\n * Note: This function does not retrieve external environment values, but echoes the key itself (from @pp/builder/envs).\n * @param {string} key - The key to be returned as a string.\n * @returns {string} - The same key passed as input.\n */\nexport const getEnvValue = (key: string): string => new Function(`return \"${key}\"`)();\n\n// See ENV_KEY to deployment target mapping in .gitlab/ci/shared/utils/replace-env.sh\nexport const isPreliveEnv = new Function(`return \"${ENV_KEY}\" === \"${PROD_ENV_NAME}\";`); // Deployment to pre-live S3 bucket\nexport const isUatEnv = new Function(`return \"${ENV_KEY}\" === \"${UAT_ENV_NAME}\";`); // Deployment to uat S3 bucket\n\nexport const shouldEnableProdLogger = new Function(`return ${isPreliveEnv()} || ${isUatEnv()};`);\n","export interface SubtitlesConfig {\n  defaultPositions: SubtitlesPositions;\n}\n\nexport interface Subtitle {\n  text: string;\n  isFinal?: boolean;\n}\n\nexport enum SubtitlesFramework {\n  SCALED = 'scaled',\n  RESPONSIVE = 'responsive',\n}\n\nexport enum SubtitlesDevice {\n  DESKTOP = 'desktop',\n  MOBILE = 'mobile',\n}\n\nexport enum SubtitlesTextSize {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  LARGE = 'large',\n}\n\nexport type SubtitlesSize = Record<SubtitlesDevice, SubtitlesTextSize>;\n\nexport enum SubtitlesViewport {\n  DESKTOP = 'desktop',\n  PORTRAIT = 'portrait',\n  LANDSCAPE = 'landscape',\n}\n\nexport const VIEWPORT_DEVICE_MAP = {\n  [SubtitlesViewport.DESKTOP]: SubtitlesDevice.DESKTOP,\n  [SubtitlesViewport.PORTRAIT]: SubtitlesDevice.MOBILE,\n  [SubtitlesViewport.LANDSCAPE]: SubtitlesDevice.MOBILE,\n};\n\nexport interface SubtitlesAlertMessages {\n  onboarding: string;\n}\n\nexport type SubtitlesPosition = Record<'x' | 'y', number>; // Value between 0 and 1\n\nexport type SubtitlesPositions = Record<SubtitlesViewport, SubtitlesPosition>;\n\nexport type PositionAlignment = 'start' | 'center' | 'end';\n\nexport type CenterPositionMarker = [centerBeginMarker: number, centerFinishMarker: number];\n\nexport type SubtitlesPositionInfo = {\n  xAlign: PositionAlignment;\n  yAlign: PositionAlignment;\n  xValue: number;\n  yValue: number;\n};\n\nexport type Vector = Record<'x' | 'y', number>;\n\nexport interface SubtitlesDragObject {\n  dragging: boolean;\n  // When drag starts, stores the initial cursor position.\n  originVector: Vector | null;\n  // When dragging, stores the cursor movement from the initial cursor position (originVector).\n  deltaVector: Vector | null;\n  // When dragging, stores the current position information to save on drag end.\n  positionInfo: SubtitlesPositionInfo | null;\n  // When drag starts, stores the offset between initial position and cursor position,\n  // will be used to align the subtitles w.r.to the cursor position on subtitle change during dragging.\n  originOffset: Vector | null;\n}\n\nexport type PositionStyle = Record<\n  'top' | 'right' | 'bottom' | 'left' | 'marginTop' | 'marginLeft' | 'alignItems' | 'justifyContent',\n  string | undefined\n>;\n","import { useCoreSelector } from '../../CoreStore';\n\nimport type { NickNameInfoProps } from './types';\n\nexport const useNickNameInfoSlice = {\n  getIsNickNameEditOpen: (): boolean => useCoreSelector(({ nickNameInfo }) => nickNameInfo.isNickNameEditOpen),\n  getNickNameInfo: (): NickNameInfoProps => useCoreSelector(({ nickNameInfo }) => nickNameInfo.nickNameInfo),\n};\n","export type ChipWeights = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\n\nexport enum ChipSelectionOrigin {\n  User = 'User',\n  System = 'System',\n  PlayerConfig = 'PlayerConfig',\n}\n\nexport interface ChipValueType {\n  color?: string;\n  value: number;\n  weight: ChipWeights;\n  selectedBy?: ChipSelectionOrigin;\n  disabled?: boolean;\n}\n","import type { Promotion } from '../../../api/fetchers/promotionsV2/types/promotions';\nimport { PromotionOptedStatus, PromotionType } from '../../../api/fetchers/promotionsV2/types/promotions';\n\nimport type { TopTournamentPoints, PromoPoint } from './types';\nimport { PromosPopup } from './types';\n\nexport const isPromoActiveNow = (promo: Promotion): boolean => {\n  const nowEpoch = Date.now() / 1000;\n  const { fromEpoch, toEpoch } = promo.activeDuration;\n  return fromEpoch <= nowEpoch && nowEpoch <= toEpoch;\n};\n\nexport const isPromoOpted = (promo: Promotion): boolean => {\n  return (\n    (!promo.consentRequired && promo.opted === PromotionOptedStatus.Pop) ||\n    promo.opted === PromotionOptedStatus.Opted ||\n    promo.opted == PromotionOptedStatus.NoPop\n    // consider no_pop promotions as opted\n  );\n};\n\nexport const displayPromoForConsent = (promo: Promotion): boolean => {\n  return promo.opted === PromotionOptedStatus.Pop;\n};\n\nexport const updatePromosPopup = (\n  showPromosConsentModal: boolean,\n  showWinNotification: boolean\n): PromosPopup | null => {\n  if (showPromosConsentModal) return PromosPopup.PromosConsent;\n  if (showWinNotification) return PromosPopup.PromosWinNotification;\n  return null;\n};\n\nexport const getTopTournament = (activePoints: Array<PromoPoint>): TopTournamentPoints | undefined => {\n  const filteredPoints = activePoints\n    .filter((p) => p.promoType === PromotionType.Tournament && !p.isRoundLimitExceeded)\n    .sort((t1, t2) => t1.toEpoch - t2.toEpoch);\n  return filteredPoints.reduce((acc, point) => {\n    if (!acc) return point;\n    if (point.winningStreak > acc.winningStreak) {\n      return point;\n    }\n    return acc;\n  }, filteredPoints[0]);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input__wrapper\":\"jy_jz\",\"input__container\":\"jy_jA\",\"input__container_animatedError\":\"jy_jB\",\"wiggleAnimation\":\"jy_jC\",\"input\":\"jy_eI\",\"input__label\":\"jy_jE\",\"input__supportingText\":\"jy_jF\",\"input__container_error\":\"jy_jG\",\"input__prefix\":\"jy_jH\",\"input__prefix_disabled\":\"jy_jI\",\"input__postfix\":\"jy_jJ\",\"input__supportingText_error\":\"jy_jK\",\"input__container_disabled\":\"jy_jL\"};","import type { FunctionComponent, InputHTMLAttributes, ReactNode, RefObject } from 'react';\nimport { useId, useRef } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\n\nimport styles from './BaseInput.module.css';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'prefix' | 'onSubmit' | 'label'> {\n  /** Class to be added to the container */\n  containerClass?: string;\n\n  /** Error message translation key to be displayed below the input, takes priority over `supportingText` */\n  errorMessage?: ReactNode;\n\n  /** Ref to the input element */\n  inputRef?: RefObject<HTMLInputElement>;\n\n  /**\n   * @deprecated since 0.44.4\n   * Use standard HTML `disabled` attribute instead\n   * */\n  isDisabled?: boolean;\n\n  /** Class to be added to the input */\n  isErrorAnimated?: boolean;\n\n  /** Label to be displayed above the input */\n  label?: ReactNode;\n\n  /**\n   * @deprecated since 0.44.4\n   * Postfix to be displayed after the input value\n   * */\n  postfix?: ReactNode;\n\n  /** Prefix to be displayed before the input value */\n  prefix?: ReactNode;\n\n  /** Supporting text to be displayed below the input */\n  supportingText?: ReactNode;\n}\n\n/**\n * # BaseInput\n *\n * A generic stylized input field, that can be customized with a prefix/postfix\n * Built on the base of: `<input />`\n * */\nexport const BaseInput: FunctionComponent<InputProps> = ({\n  className = '',\n  containerClass = '',\n  disabled,\n  errorMessage,\n  id,\n  inputRef,\n  isDisabled,\n  isErrorAnimated = false,\n  label,\n  onChange,\n  placeholder,\n  postfix,\n  prefix,\n  supportingText,\n  value,\n  ...rest\n}) => {\n  const generatedId = useId();\n  const idToUse = id || generatedId;\n\n  const localRef = useRef<HTMLInputElement>(null);\n  const refToUse = inputRef || localRef;\n\n  const mods = useModifiers(\n    styles,\n    'input__container',\n    {\n      disabled: isDisabled || disabled,\n      error: !!errorMessage,\n      animatedError: !!errorMessage && isErrorAnimated,\n    },\n    { withBaseClass: true }\n  );\n\n  const handleContainerClick = (): void => {\n    inputRef?.current?.focus();\n  };\n\n  return (\n    <div className={styles.input__wrapper}>\n      {label ? (\n        <label htmlFor={idToUse} className={styles.input__label}>\n          {label}\n        </label>\n      ) : null}\n      <div className={`${mods} ${containerClass}`} onClick={handleContainerClick}>\n        {prefix ? <span className={styles.input__prefix}>{prefix}</span> : null}\n        <input\n          data-testid=\"input\"\n          className={`${styles.input} ${className}`}\n          disabled={isDisabled || disabled}\n          id={idToUse}\n          onChange={onChange}\n          placeholder={placeholder} // todo: add translation key, move out logic to chat footer component\n          ref={refToUse}\n          value={value}\n          {...rest}\n        />\n        {postfix ? <div className={styles.input__postfix}>{postfix}</div> : null}\n      </div>\n      {errorMessage ? (\n        <div\n          data-testid=\"input-error\"\n          className={`${styles.input__supportingText} ${styles.input__supportingText_error}`}\n        >\n          {errorMessage}\n        </div>\n      ) : null}\n      {!errorMessage && supportingText ? (\n        <div data-testid=\"input-supporting-text\" className={styles.input__supportingText}>\n          {supportingText}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n","import { Version } from './Version';\n\n/**\n * Appended build hash to the translation fetch request.\n * Translation files from 'assets/translations' are cached in the browser using the build hash,\n * while '/apps/translations' have proper caching in the header.\n */\nexport const buildHashParam =\n  Version.buildHash && TRANSLATION_PATH === 'assets' ? { params: { buildHash: Version.buildHash } } : {}; // Avoids using build hash in Storybook\n","import { getStaticBaseUrl } from './getStaticBaseUrl';\n\nexport enum TranslationType {\n  UI = 'ui',\n  Help = 'help',\n}\n\n/**\n * Construct the translation path based on the translation type and source.\n *\n * @param {TranslationType} type - The type of translation ('ui' or 'help').\n * @returns {string} - The path to the translation file.\n *\n * Depending on the value of TRANSLATION_PATH set in the manifest:\n * - `assets` (default) sets the base path to '/assets/translations'.\n * - `apps` sets the base path to '/apps/translations/1.0.0'.\n * - `storybook` sets path to production bucket.\n * - local build defaults to the '/assets/translations' path.\n */\nexport function getTranslationPath(type: TranslationType): string {\n  const { base, directory } = getStaticBaseUrl();\n\n  if (TRANSLATION_PATH === 'storybook') {\n    return `https://client.pragmaticplaylive.net/apps/translations/1.0.0/${type}`;\n  }\n\n  if (TRANSLATION_PATH === 'assets' || window.location.protocol === 'http:') {\n    return `${base}${directory}/assets/translations/${type}`;\n  }\n\n  return `${base}/apps/translations/1.0.0/${type}`;\n}\n","class BeforeUnloadManager {\n  private static instance: BeforeUnloadManager;\n  private callbacks: (() => void)[] = [];\n\n  private constructor() {\n    window.addEventListener('beforeunload', this.handleBeforeUnload.bind(this));\n  }\n\n  public static getInstance(): BeforeUnloadManager {\n    if (!BeforeUnloadManager.instance) {\n      BeforeUnloadManager.instance = new BeforeUnloadManager();\n    }\n    return BeforeUnloadManager.instance;\n  }\n\n  /**\n   * @param callback The callback to be executed before the page is unloaded\n   * @param priority Should the callback be executed before other callbacks?\n   */\n  public registerCallback(callback: () => void, priority = false): void {\n    if (priority) {\n      this.callbacks.unshift(callback);\n    } else {\n      this.callbacks.push(callback);\n    }\n  }\n\n  /** @param callback exact reference of the registered callback function */\n  public removeCallback(callback: () => void): void {\n    const index = this.callbacks.indexOf(callback);\n    if (index !== -1) {\n      this.callbacks.splice(index, 1);\n    }\n  }\n\n  private handleBeforeUnload(): void {\n    for (const callback of this.callbacks) {\n      try {\n        callback();\n      } catch (error) {\n        console.error('Error executing beforeunload callback:', error);\n      }\n    }\n  }\n}\n\nexport const OnBeforeUnload = BeforeUnloadManager.getInstance();\n","export interface IManifest {\n  endpoints: {\n    userInfo: string;\n    playerConfig: string;\n    casinoConfig: string;\n    tableConfig: string;\n  };\n  useGtag: boolean;\n}\n\n/*\n * # Manifest Supplier\n *\n * A singleton class that provides the manifest object, handles amendment of the manifest object and provides a method to retrieve the manifest object.\n * */\nexport class CoreManifestSupplierClass {\n  private static instance: CoreManifestSupplierClass;\n\n  private manifest: IManifest = {\n    endpoints: {\n      userInfo: ENDPOINT_USER_INFO,\n      playerConfig: ENDPOINT_PLAYER_CONFIG,\n      casinoConfig: ENDPOINT_CASINO_CONFIG,\n      tableConfig: ENDPOINT_TABLE_CONFIG,\n    },\n    useGtag: USE_GTAG,\n  };\n\n  public static getInstance(): CoreManifestSupplierClass {\n    if (!CoreManifestSupplierClass.instance) {\n      CoreManifestSupplierClass.instance = new CoreManifestSupplierClass();\n    }\n    return CoreManifestSupplierClass.instance;\n  }\n\n  getManifest(): IManifest {\n    return this.manifest;\n  }\n}\n\nexport const CoreManifestSupplier = CoreManifestSupplierClass.getInstance();\n\nexport const CoreManifest = CoreManifestSupplier.getManifest();\n","import { IManifest, CoreManifest } from '../manifest';\n\nimport type { IEndpoint } from './types';\n\n/*\n * # Resolve Endpoint\n *\n * A function that resolves the endpoint version from the manifest and returns the endpoint object.\n * */\nexport const resolveEndpoint = <PossibleVersions extends string, ReturnValue, Options>(\n  endpoint: keyof IManifest['endpoints'],\n  endpoints: Record<PossibleVersions, IEndpoint<ReturnValue, Options>>\n): IEndpoint<ReturnValue, Options> => {\n  const version = CoreManifest.endpoints[endpoint] as PossibleVersions;\n  if (!endpoints[version]) {\n    throw new Error(`This version of core does not support the endpoint ${endpoint} version ${version}`);\n  }\n  return endpoints[version];\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchGameHelp, type IFetchHelpParams } from '../../api/fetchers/help/fetcher';\n\n// Use this action to fetch game-specif and common help files\nexport const fetchHelpAction = createAsyncThunk('help/fetchHelp', (params: IFetchHelpParams) => fetchGameHelp(params));\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: {\n  isDegraded: boolean;\n} = {\n  isDegraded: false,\n};\n\nexport const performanceSlice = createSlice({\n  name: 'performance',\n  initialState,\n  reducers: {\n    degrade: (state) => {\n      state.isDegraded = true;\n    },\n  },\n});\n\nexport const performanceActions = performanceSlice.actions;\n","import { ForbiddenError } from '../../errors/ForbiddenError';\nimport { NetworkError } from '../../errors/NetworkError';\nimport { Fetcher } from '../../Fetcher';\n\nimport type {\n  IJwtResponse,\n  IPromotionsData,\n  IPromotionResponse,\n  IPromoPointsResponse,\n  IPromoPointsData,\n} from './types';\n\nconst PROMO_ENDPOINT = '/api/v2/fetchPromotionsInfo';\n\nexport interface FetchPromotionParams {\n  envGs: string;\n  envPromo: string;\n  jwtToken: string;\n  lang: string;\n  userId: string;\n  JSESSIONID: string;\n  operatorGameId: string;\n  force?: boolean;\n}\n\nexport interface FetchPromotionTranslationParams {\n  url: string;\n  buildHashParam: { params?: { buildHash: string } };\n}\n\nexport interface PostPromoScreenNameParams {\n  envPromo: string;\n  jwtToken: string;\n}\n\nexport interface FetchPromoPointsParams {\n  envPromo: string;\n  jwtToken: string;\n}\n\ninterface ITranslation {\n  [key: string]: string;\n}\n\ninterface IFetchTranslationResponse {\n  game: ITranslation;\n}\n\nexport const fetchPromotions = ({\n  envPromo,\n  jwtToken,\n  operatorGameId,\n  lang,\n  force = false,\n}: FetchPromotionParams): Promise<IPromotionsData> => {\n  return Fetcher.fetch<IPromotionResponse>(envPromo + PROMO_ENDPOINT, {\n    force: force,\n    headers: {\n      Authorization: `Bearer ${jwtToken}`,\n    },\n    params: {\n      detailed: 'true',\n      lang,\n    },\n  }).then((response: IPromotionResponse) => {\n    if (response.obType == 'ERROR') {\n      if (response.data.indexOf('Unsupported') === 0) {\n        throw new ForbiddenError(response.data);\n      } else {\n        throw new NetworkError('fetchPromotions', response.data, PROMO_ENDPOINT);\n      }\n    } else if (response.obType == 'PROMOTIONS') {\n      const regEx = new RegExp(`\\\\b${operatorGameId}\\\\b`);\n      return {\n        pds: response.data.pds.filter((promo) => promo.opt !== 'NA' && regEx.exec(promo.gms)),\n        tms: response.data.tms.filter((promo) => promo.opt !== 'NA' && regEx.exec(promo.gms)),\n        cbs: response.data.cbs.filter((promo) => promo.opt !== 'NA' && regEx.exec(promo.gms)),\n      };\n    }\n    throw new Error('Unknown `obType` field');\n  });\n};\n\nexport const fetchPromoTranslations = ({\n  url,\n  buildHashParam,\n}: FetchPromotionTranslationParams): Promise<ITranslation> => {\n  return Fetcher.fetch<IFetchTranslationResponse>(url, buildHashParam).then((response) => {\n    return response.game;\n  });\n};\n\nexport const postPromoScreenName = ({ envPromo, jwtToken }: PostPromoScreenNameParams): Promise<void> => {\n  return Fetcher.fetch<void>(envPromo + '/api/updateScreenName', {\n    headers: {\n      Authorization: `Bearer ${jwtToken}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n};\n\nexport const getJwtTokenForPromo = ({ envGs, userId, JSESSIONID }: FetchPromotionParams): Promise<string> => {\n  return Fetcher.fetch<IJwtResponse>(envGs + '/api/ui/updateJwtToken', {\n    params: {\n      userId,\n      JSESSIONID,\n    },\n  }).then((response: IJwtResponse) => response.jwtToken);\n};\n\nexport const fetchPromoPoints = ({ envPromo, jwtToken }: FetchPromoPointsParams): Promise<IPromoPointsData> => {\n  return Fetcher.fetch<IPromoPointsResponse>(envPromo + '/api/fetchinstantpoints', {\n    force: true,\n    headers: {\n      Authorization: `Bearer ${jwtToken}`,\n    },\n  }).then((response) => {\n    const parsedResponse: IPromoPointsData = {};\n    Object.entries(response).forEach(([key, item]) => {\n      parsedResponse[key] = {\n        type: item.type,\n        lastGameId: item.lastGameId,\n        isRoundLimitExceeded: item.irle,\n        ts: item.ts,\n        sb: item.sb,\n        winStreak: item.ws,\n        lastWonScore: item.lws,\n      };\n    });\n    return parsedResponse;\n  });\n};\n","import type { UserInfoType } from '../api/fetchers/userInfo/types';\nimport { CoreRootState } from '../store/CoreStore';\nimport type { ChipValueType, ChipWeights } from '../store/slices/chips/types';\n\n// Finds the largest chip based on the available balance\nexport const selectMaxAffordableChip = (\n  chips: ChipValueType[],\n  selectedChip: ChipValueType,\n  userInfo: UserInfoType | null,\n  totalBet: number = 0\n): ChipValueType => {\n  const balance = userInfo?.balance.amount ?? 0;\n  const bonus = userInfo?.balance.bonus ?? 0;\n  const availableBalance = balance + bonus - totalBet;\n  const shouldShiftChip = selectedChip.value > availableBalance; // condition to shift active chip left\n\n  if (shouldShiftChip) {\n    for (let i = chips.length - 1; i >= 0; i--) {\n      if (availableBalance >= chips[i].value) {\n        return chips[i];\n      }\n    }\n    return chips[0]; // return the smallest chip if none of the chips are affordable\n  } else {\n    return selectedChip;\n  }\n};\n\nexport const getChipIndexFromWeight = (weight: ChipWeights): number => weight - 1;\n\nexport const getChipWeightFromIndex = (index: number): ChipWeights => (index + 1) as ChipWeights;\n\nexport const getChipFromValue = (chips: ChipValueType[], value: number): ChipValueType => {\n  for (let i = chips.length - 1; i >= 0; i--) {\n    const chip = chips[i];\n    if (chip && value >= chip.value) {\n      return chip;\n    }\n  }\n\n  return chips[0] || { value: 0, weight: 1, color: undefined };\n};\n\nexport const getChipFallbackWeight = (chipAmounts: number[], targetValue: number): ChipWeights => {\n  const index = chipAmounts.findIndex((value) => value >= targetValue);\n  const weight = index === -1 ? (chipAmounts.length as ChipWeights) : ((index + 1) as ChipWeights);\n\n  return weight;\n};\n\nexport const getTotalBalanceFromState = (state: CoreRootState): number => {\n  const balance = state.gameState.userInfo?.balance;\n  return balance ? balance.amount + balance.bonus : 0;\n};\n","import type { ComponentType, FunctionComponent, ReactElement, ReactNode } from 'react';\n\nimport { useFeatureContext } from './FeatureConfigProvider';\n\ninterface FeatureProps {\n  name: string;\n  children: ReactNode | ((isFeatureEnabled: boolean) => ReactNode);\n}\n\n// Custom Hook API\nexport const useFeature = (name: string): boolean => {\n  const { features } = useFeatureContext();\n  return features?.[name] ?? false;\n};\n\n// Render Prop API\nexport const Feature: FunctionComponent<FeatureProps> = ({ name, children }) => {\n  const isFeatureEnabled = useFeature(name);\n  if (typeof children === 'function') return children(isFeatureEnabled);\n  if (!isFeatureEnabled) return null;\n  return children;\n};\n\n// High Order Component API\nexport const withFeature = <Props extends Record<string, unknown>>(\n  featureName: string,\n  Component: ComponentType<Props>\n): FunctionComponent<Props> => {\n  const WithFeature: FunctionComponent<Props> = (props): ReactElement => (\n    <Feature name={featureName}>\n      <Component {...props} />\n    </Feature>\n  );\n\n  WithFeature.displayName = `WithFeature(${Component.displayName || Component.name})`;\n\n  return WithFeature;\n};\n","import type { FC } from 'react';\n\nimport type { FormattedTextProps } from '../types';\n\nexport const HelpText: FC<FormattedTextProps> = ({ children, dynamicValues }) => {\n  const formattedContent = parseMarkdown(children, dynamicValues);\n\n  return <span dangerouslySetInnerHTML={{ __html: formattedContent }} />;\n};\n\n// Utils\nconst markdownBoldRegex = /\\*\\*(.*?)\\*\\*/g;\nconst markdownUnderlinedReg = /__(.*?)__/g;\n\nconst parseMarkdown = (text: string, dynamicValues?: Record<string, string | number>): string => {\n  let formattedText = text\n    .replace(markdownBoldRegex, '<b>$1</b>') // Replace ** with <b></b> for bold text\n    .replace(markdownUnderlinedReg, '<u>$1</u>'); // Replace __ with <u></u> for underlined text\n\n  // Substitute dynamic values\n  if (dynamicValues) {\n    Object.keys(dynamicValues).forEach((key) => {\n      const value = dynamicValues[key];\n      const regex = new RegExp(`@@${key}@@`, 'g');\n      formattedText = formattedText.replace(regex, value.toString());\n    });\n  }\n\n  return formattedText;\n};\n","import type { Campaign } from '../../../api/fetchers/promotionsV2/types/campaign';\nimport { CampaignType } from '../../../api/fetchers/promotionsV2/types/campaign';\nimport type {\n  PrizedropPrizeDetails,\n  Promotion,\n  TournamentPrizeDetails,\n} from '../../../api/fetchers/promotionsV2/types/promotions';\nimport { PromoRoundType, PromotionType } from '../../../api/fetchers/promotionsV2/types/promotions';\nimport type { Trophy } from '../../../store/slices/promotionsV2/types';\nimport { CoBrandProms, PromoBackgroundModifiers, TimerStatusType } from '../types';\n\n/* \n  Get promo background modifier\n*/\nexport const getPromoBgColor = (brandName: string): PromoBackgroundModifiers | string => {\n  switch (brandName.toUpperCase()) {\n    case CoBrandProms.DDW: {\n      return PromoBackgroundModifiers.Blue;\n    }\n    case CoBrandProms.BronzeBlackJack:\n    case CoBrandProms.SilverBlackJack:\n    case CoBrandProms.GoldBlackJack:\n    case CoBrandProms.PrivateBlackJack: {\n      return brandName;\n    }\n    default: {\n      return PromoBackgroundModifiers.Grey;\n    }\n  }\n};\n\nexport const getIsPromoStarted = (status: TimerStatusType): boolean => {\n  return status !== TimerStatusType.STARTING;\n};\n\nexport const getPrizes = (promotion: Promotion): TournamentPrizeDetails['prizes'] | PrizedropPrizeDetails['prizes'] => {\n  switch (promotion.type) {\n    case PromotionType.Tournament: {\n      return (promotion.prizeDetails as unknown as TournamentPrizeDetails).prizes;\n    }\n    case PromotionType.Prizedrop: {\n      return (promotion.prizeDetails as unknown as PrizedropPrizeDetails).prizes;\n    }\n    default: {\n      return [];\n    }\n  }\n};\n\nexport const scalePopUp = (wrapper: HTMLElement): void => {\n  const modalContainer = wrapper.querySelector('div');\n  if (!modalContainer) return;\n  const scale = Math.max(\n    1,\n    modalContainer.clientWidth / wrapper.offsetWidth,\n    modalContainer.clientHeight / wrapper.offsetHeight\n  );\n  modalContainer.style.transform = scale > 1 ? `scale(${1 / scale - 0.2})` : '';\n  modalContainer.style.transition = 'transform .3s ease-in-out';\n};\n\nexport const getRoundLimitMessage = (roundType: PromoRoundType | null): string => {\n  switch (roundType) {\n    case PromoRoundType.Daily:\n      return 'DAILY_TOURNAMENT_LIMIT';\n    case PromoRoundType.Total:\n      return 'TOTAL_TOURNAMENT_LIMIT';\n    default:\n      return '';\n  }\n};\n\nexport const mapToNewTrophy = (oldTrophy: {\n  minBet: string;\n  showTrophyTooltip: boolean;\n  isRoundLimitExceed: boolean;\n  visibility: 'active' | 'inactive' | 'none';\n  roundLimitExceededMessage: string;\n}): Trophy => {\n  return {\n    enable: ['active', 'inactive'].includes(oldTrophy.visibility),\n    isActive: oldTrophy.visibility === 'active',\n    toolTipContent: oldTrophy.isRoundLimitExceed ? oldTrophy.roundLimitExceededMessage : 'PROMO_BET_BELOWMIN',\n    minBet: oldTrophy.minBet,\n  };\n};\n\nexport const sortByEarlyExpiry = (promotions: Campaign[]): Campaign[] => {\n  const sortedPromotionsByExpiryTime = [...promotions].sort((a, b) => {\n    const e1 = a.campaignType === CampaignType.BonusPromo ? a.bonus.claimEndsIn : a.activeDuration.toEpoch;\n    const e2 = b.campaignType === CampaignType.BonusPromo ? b.bonus.claimEndsIn : b.activeDuration.toEpoch;\n\n    return e1 > e2 ? 1 : -1;\n  });\n  return sortedPromotionsByExpiryTime;\n};\n","var n,l,u,t,i,o,r,f,e,c,s,a,h={},v=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function w(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return g(l,f,i,o,null)}function g(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function m(){return{current:null}}function b(n){return n.children}function k(n,l){this.props=n,this.context=l}function x(n,l){if(null==l)return n.__?x(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?x(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function S(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!M.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(M)}function M(){var n,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,c=[],s=[],t.__P&&((o=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),O(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[e]:null,c,null==e?x(r):e,!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,j(c,o,s),o.__e!=e&&C(o)),i.length>u&&i.sort(f));M.__r=0}function P(n,l,u,t,i,o,r,f,e,c,s){var a,p,y,d,w,_=t&&t.__k||v,g=l.length;for(u.__d=e,$(u,l,_),e=u.__d,a=0;a<g;a++)null!=(y=u.__k[a])&&(p=-1===y.__i?h:_[y.__i]||h,y.__i=a,O(n,y,p,i,o,r,f,e,c,s),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),65536&y.__u||p.__k===y.__k?e=I(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=w}function $(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=l[t])&&\"boolean\"!=typeof i&&\"function\"!=typeof i?(r=t+a,(i=n.__k[t]=\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(b,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=n,i.__b=n.__b+1,o=null,-1!==(f=i.__i=L(i,u,r,s))&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f==r-1?a--:f==r+1?a++:(f>r?a--:a++,i.__u|=65536))):i=n.__k[t]=null;if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o))}function I(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=I(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=x(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(y(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type&&0==(131072&e.__u))return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||p.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"===l||\"onFocusIn\"===l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=e,n.addEventListener(l,o?s:c,o)):n.removeEventListener(l,o?s:c,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=e++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,f,e,c,s){var a,h,v,p,w,_,g,m,x,C,S,M,$,I,H,L,T=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(m=u.props,x=\"prototype\"in T&&T.prototype.render,C=(a=T.contextType)&&i[a.__c],S=a?C?C.props.value:a.__:i,t.__c?g=(h=u.__c=t.__c).__=h.__E:(x?u.__c=h=new T(m,S):(u.__c=h=new k(m,S),h.constructor=T,h.render=q),C&&C.sub(h),h.props=m,h.state||(h.state={}),h.context=S,h.__n=i,v=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,T.getDerivedStateFromProps(m,h.__s))),p=h.props,w=h.state,h.__v=u,v)x&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==T.getDerivedStateFromProps&&m!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,S),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,S)||u.__v===t.__v)){for(u.__v!==t.__v&&(h.props=m,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,S),x&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(p,w,_)})}if(h.context=S,h.props=m,h.__P=n,h.__e=!1,$=l.__r,I=0,x){for(h.state=h.__s,h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++I<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),x&&!v&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(p,w)),P(n,y(L=null!=a&&a.type===b&&null==a.key?a.props.children:a)?L:[L],u,t,i,o,r,f,e,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&f.push(h),g&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r){for(u.__u|=c?160:128;e&&8===e.nodeType&&e.nextSibling;)e=e.nextSibling;r[r.indexOf(e)]=null,u.__e=e}else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(u,t,i,o,r,f,e,c,s){var a,v,p,d,_,g,m,b=i.props,k=t.props,C=t.type;if(\"svg\"===C?r=\"http://www.w3.org/2000/svg\":\"math\"===C?r=\"http://www.w3.org/1998/Math/MathML\":r||(r=\"http://www.w3.org/1999/xhtml\"),null!=f)for(a=0;a<f.length;a++)if((_=f[a])&&\"setAttribute\"in _==!!C&&(C?_.localName===C:3===_.nodeType)){u=_,f[a]=null;break}if(null==u){if(null===C)return document.createTextNode(k);u=document.createElementNS(r,C,k.is&&k),c&&(l.__m&&l.__m(t,f),c=!1),f=null}if(null===C)b===k||c&&u.data===k||(u.data=k);else{if(f=f&&n.call(u.childNodes),b=i.props||h,!c&&null!=f)for(b={},a=0;a<u.attributes.length;a++)b[(_=u.attributes[a]).name]=_.value;for(a in b)if(_=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)p=_;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;A(u,a,null,_,r)}for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?m=_:c&&\"function\"!=typeof _||b[a]===_||A(u,a,_,b[a],r);if(v)c||p&&(v.__html===p.__html||v.__html===u.innerHTML)||(u.innerHTML=v.__html),t.__k=[];else if(p&&(u.innerHTML=\"\"),P(u,y(d)?d:[d],t,i,o,\"foreignObject\"===C?\"http://www.w3.org/1999/xhtml\":r,f,e,f?f[0]:i.__k&&x(i,0),c,s),null!=f)for(a=f.length;a--;)w(f[a]);c||(a=\"value\",\"progress\"===C&&null==g?u.removeAttribute(\"value\"):void 0!==g&&(g!==u[a]||\"progress\"===C&&!g||\"option\"===C&&g!==b[a])&&A(u,a,g,b[a],r),a=\"checked\",void 0!==m&&m!==u[a]&&A(u,a,m,b[a],r))}return u}function N(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function V(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&V(i[o],u,t||\"function\"!=typeof n.type);t||w(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],O(t,u=(!o&&i||t).__k=_(b,null,[u]),r||h,h,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),j(f,u,e)}function D(n,l){B(n,l,D)}function E(l,u,t){var i,o,r,f,e=d({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),g(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+a++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.forEach(function(n){n.__e=!0,S(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=v.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),S(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),S(this))},k.prototype.render=b,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},M.__r=0,e=0,c=F(!1),s=F(!0),a=0;export{k as Component,b as Fragment,E as cloneElement,G as createContext,_ as createElement,m as createRef,_ as h,D as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","// extracted by mini-css-extract-plugin\nexport default {\"tooltip__trigger\":\"ip_iq\",\"tooltip\":\"ip_ir\",\"tooltip_hoverOnly\":\"ip_is\",\"tooltip_top\":\"ip_it\",\"tooltip_right\":\"ip_iu\",\"tooltip_bottom\":\"ip_iv\",\"tooltip_left\":\"ip_iw\",\"tooltip__after\":\"ip_ix\"};","import type { FunctionComponent, HTMLAttributes, ReactElement, RefObject } from 'react';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { useMedia } from '../../hooks/useMedia';\nimport { useModifiers } from '../../styles/hooks/useModifiers';\nimport { L12nText } from '../text/L12nText';\n\nimport styles from './Tooltip.module.css';\n\nexport enum TooltipPositions {\n  Top = 'top',\n  Right = 'right',\n  Left = 'left',\n  Bottom = 'bottom',\n}\n\nexport interface TooltipProps extends HTMLAttributes<HTMLDivElement> {\n  /** Attributes for the L12nText translation */\n  attrs?: string[];\n  /** If true, the tooltip will be disabled */\n  disabled?: boolean;\n  /** Offset from the target element\n   * @default 0\n   */\n  displayOffset?: number;\n  /** If true, the tooltip will be displayed on touch\n   * @default false\n   */\n  displayOnTouch?: boolean;\n  /** Time in milliseconds after which the tooltip will be hidden\n   * @default 2000\n   */\n  displayTimer?: number;\n  /** If true, the tooltip will be displayed on trigger */\n  displayTrigger?: boolean;\n  /**  Position of the tooltip relative to the target element\n   * @default TooltipPositions.Top\n   */\n  position?: TooltipPositions;\n  /** Target refference which will be used for pointer detection */\n  targetRef?: RefObject<HTMLDivElement>;\n  /** key for the L12nText translation */\n  text: string;\n  /** If true, the tooltip will be displayed with native scrolling\n   * @default false\n   */\n  withNativeScrolling?: boolean;\n}\n\n/**\n * Tooltip component wraps the child component and has a rectangular hitbox over the component.\n * To get more accurate hitbox use withTooltip() in combination with forwardRef.\n */\nexport const Tooltip: FunctionComponent<TooltipProps> = ({\n  attrs,\n  children,\n  disabled = false,\n  displayOffset = 0,\n  displayOnTouch = false,\n  displayTimer = 2000,\n  displayTrigger,\n  position = TooltipPositions.Top,\n  targetRef,\n  text,\n  withNativeScrolling = false,\n  ...rest\n}): ReactElement => {\n  const timeoutRef = useRef<number | null>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n  const anchorRef = useRef<HTMLDivElement>(null);\n\n  const [isTooltipVisible, setIsTooltipVisible] = useState(false);\n  const [domReady, setDomReady] = useState(false);\n\n  const isTouchDevice: boolean = useMedia(\n    '(hover: hover) and (pointer: coarse),' +\n      '(hover: none) and (pointer: coarse),' +\n      '(hover: hover) and (pointer: none),' +\n      '(hover: none) and (pointer: none)'\n  );\n\n  const displayTooltip = useCallback(() => {\n    setIsTooltipVisible(true);\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = window.setTimeout(() => {\n      setIsTooltipVisible(false);\n    }, displayTimer);\n  }, [displayTimer]);\n\n  useEffect(() => {\n    if (displayTrigger) {\n      displayTooltip();\n    }\n  }, [displayTooltip, displayTrigger]);\n\n  const handleChildClick = (): void => {\n    if (displayOnTouch && isTouchDevice) {\n      displayTooltip();\n    }\n  };\n\n  const onPointerLeave = (): void => {\n    if (!isTouchDevice) {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      setIsTooltipVisible(false);\n    }\n  };\n\n  const onPointerEnter = (): void => {\n    if (!isTouchDevice) {\n      showTooltip();\n    }\n  };\n\n  const showTooltip = (): void => {\n    setIsTooltipVisible(true);\n  };\n\n  const handleBlur = (): void => {\n    if (displayOnTouch && isTouchDevice) {\n      setIsTooltipVisible(false);\n    }\n  };\n\n  // Add/remove listeners to the targetRef element for accurate hit detection\n  useEffect(() => {\n    const childEl = targetRef?.current;\n\n    if (childEl) {\n      childEl.addEventListener('pointerenter', onPointerEnter);\n      childEl.addEventListener('pointerleave', onPointerLeave);\n      childEl.addEventListener('onblur', handleBlur);\n    }\n\n    return () => {\n      if (!childEl) return;\n      childEl?.removeEventListener('pointerenter', onPointerEnter);\n      childEl?.removeEventListener('pointerleave', onPointerLeave);\n      childEl?.removeEventListener('onblur', handleBlur);\n    };\n  }, [targetRef, domReady]);\n\n  const calculatePosition = (\n    originalTarget: number,\n    dimension: number,\n    padding: number,\n    windowDimension: number\n  ): number => {\n    return Math.min(Math.max(originalTarget, padding), windowDimension - padding - dimension);\n  };\n\n  const setTooltipStyle = (offset: number, left: string, top: string): void => {\n    if (!tooltipRef.current) return;\n    tooltipRef.current.style.setProperty('--tooltipOffset', `${offset}px`);\n    tooltipRef.current.style.setProperty('left', left);\n    tooltipRef.current.style.setProperty('top', top);\n  };\n\n  const windowPadding = 2; //distance between window and tooltip\n  useEffect(() => {\n    if (anchorRef.current && tooltipRef.current && !disabled) {\n      const anchorRect = anchorRef.current.getBoundingClientRect();\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n      tooltipRef.current.style.removeProperty('--tooltipOffset');\n\n      const windowScrollOffset = withNativeScrolling ? window.scrollY : 0;\n\n      let xPosition: number = 0;\n      let yPosition: number = 0;\n\n      switch (position) {\n        case TooltipPositions.Top:\n        case TooltipPositions.Bottom:\n          const originalTargetX = anchorRect.x + anchorRect.width / 2 - tooltipRect.width / 2;\n          xPosition = calculatePosition(originalTargetX, tooltipRect.width, windowPadding, window.innerWidth);\n          const xOffset = (xPosition - originalTargetX) * -1;\n\n          yPosition =\n            position === TooltipPositions.Top\n              ? anchorRect.y - tooltipRect.height - displayOffset\n              : anchorRect.y + anchorRect.height + displayOffset;\n\n          setTooltipStyle(xOffset, `${xPosition}px`, `${yPosition + windowScrollOffset}px`);\n          break;\n\n        case TooltipPositions.Left:\n        case TooltipPositions.Right:\n          const originalTargetY = anchorRect.y + anchorRect.height / 2 - tooltipRect.height / 2;\n          yPosition = calculatePosition(originalTargetY, tooltipRect.height, windowPadding, window.innerHeight);\n          const yOffset = (yPosition - originalTargetY) * -1;\n\n          xPosition =\n            position === TooltipPositions.Left\n              ? anchorRect.x - tooltipRect.width - displayOffset\n              : anchorRect.x + anchorRect.width + displayOffset;\n\n          setTooltipStyle(yOffset, `${xPosition}px`, `${yPosition + windowScrollOffset}px`);\n          break;\n      }\n\n      tooltipRef.current.style.setProperty('opacity', '1');\n    }\n  }, [disabled, displayOffset, isTooltipVisible, position, text, withNativeScrolling]);\n\n  useEffect(() => {\n    setDomReady(true);\n  }, []);\n\n  const handleResize = () => {\n    // Recalculate tooltip position on window resize\n    if (isTooltipVisible && !disabled && tooltipRef.current) {\n      const anchorEl = targetRef?.current;\n      if (anchorEl) {\n        showTooltip(); // Show tooltip when resizing\n\n        const resizeObserver = new ResizeObserver(() => {\n          const rect = anchorEl.getBoundingClientRect();\n          const positionUpdated = calculateTooltipPosition(rect);\n          if (positionUpdated) {\n            updateTooltipStyle(rect);\n          }\n        });\n\n        resizeObserver.observe(anchorEl);\n\n        return () => {\n          resizeObserver.disconnect();\n        };\n      }\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [isTooltipVisible, disabled]);\n\n  const calculateTooltipPosition = (anchorRect: DOMRect): boolean => {\n    if (!tooltipRef.current) return false;\n\n    const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n    const originalTargetX = anchorRect.x + anchorRect.width / 2 - tooltipRect.width / 2;\n    const xPosition = calculatePosition(originalTargetX, tooltipRect.width, windowPadding, window.innerWidth);\n    const xOffset = (xPosition - originalTargetX) * -1;\n\n    const originalTargetY = anchorRect.y + anchorRect.height / 2 - tooltipRect.height / 2;\n    const yPosition =\n      position === TooltipPositions.Top\n        ? anchorRect.y - tooltipRect.height - displayOffset\n        : anchorRect.y + anchorRect.height + displayOffset;\n    const yOffset = (yPosition - originalTargetY) * -1;\n\n    tooltipRef.current.style.removeProperty('--tooltipOffset');\n    tooltipRef.current.style.removeProperty('--tooltipOffset');\n\n    switch (position) {\n      case TooltipPositions.Top:\n      case TooltipPositions.Bottom:\n        setTooltipStyle(xOffset, `${xPosition}px`, `${yPosition + window.scrollY}px`);\n        break;\n\n      case TooltipPositions.Left:\n      case TooltipPositions.Right:\n        setTooltipStyle(yOffset, `${xPosition}px`, `${yPosition + window.scrollY}px`);\n        break;\n    }\n\n    return true;\n  };\n\n  const updateTooltipStyle = (anchorRect: DOMRect): void => {\n    if (!tooltipRef.current) return;\n\n    const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n    const originalTargetX = anchorRect.x + anchorRect.width / 2 - tooltipRect.width / 2;\n    const xPosition = calculatePosition(originalTargetX, tooltipRect.width, windowPadding, window.innerWidth);\n    const xOffset = (xPosition - originalTargetX) * -1;\n\n    const yPosition =\n      position === TooltipPositions.Top\n        ? anchorRect.y - tooltipRect.height - displayOffset\n        : anchorRect.y + anchorRect.height + displayOffset;\n    tooltipRef.current.style.setProperty('--tooltipOffset', `${xOffset}px`);\n    tooltipRef.current.style.setProperty('left', `${xPosition}px`);\n    tooltipRef.current.style.setProperty('top', `${yPosition + window.scrollY}px`);\n  };\n\n  const root = document.getElementById('tooltipRoot');\n\n  const mods = useModifiers(styles, 'tooltip', {\n    left: position === TooltipPositions.Left,\n    right: position === TooltipPositions.Right,\n    top: position === TooltipPositions.Top,\n    bottom: position === TooltipPositions.Bottom,\n    hoverOnly: !displayOnTouch,\n    visible: isTooltipVisible,\n  });\n\n  const tooltipPortal = useCallback(() => {\n    if (disabled || !isTooltipVisible || !root || !domReady) return null;\n    return createPortal(\n      <div data-testid=\"tooltip\" className={`${styles.tooltip} ${mods}`} ref={tooltipRef}>\n        <L12nText tk={text} dynamicValues={attrs} />\n        <span className={styles.tooltip__after} />\n      </div>,\n      root\n    );\n  }, [attrs, disabled, domReady, isTooltipVisible, mods, root, text]);\n\n  return (\n    <div\n      className={`${styles.tooltip__trigger}`}\n      // If targetRef is not provided it means that the tooltip wrapper must serve as hitbox\n      onPointerEnter={!targetRef ? onPointerEnter : undefined}\n      onPointerLeave={!targetRef ? onPointerLeave : undefined}\n      onBlur={!targetRef ? handleBlur : undefined}\n      tabIndex={-1}\n      {...rest}\n    >\n      <div style={{ height: '100%' }} onClick={handleChildClick} ref={anchorRef}>\n        {children}\n      </div>\n      {tooltipPortal()}\n    </div>\n  );\n};\n","import type { FC } from 'react';\n\nimport type { CarTypeProps } from '../types';\n\nimport styles from './CardMiniType.module.css';\n\nexport const CardMiniType: FC<CarTypeProps> = ({ suite, value, isRedSuite }) => {\n  const fill = isRedSuite ? '#ff2436' : 'black';\n\n  return (\n    <g>\n      <text x=\"50%\" y=\"102\" textAnchor=\"middle\" fill={fill} className={styles.value}>\n        {value === '10' ? '\\u2789' : value}\n      </text>\n\n      <text x=\"50%\" y=\"204\" textAnchor=\"middle\" fill={fill} className={styles.suite}>\n        {suite}\n      </text>\n    </g>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"LM_LL\",\"suite\":\"LM_LK\"};","import type { FC } from 'react';\nimport { useId } from 'react';\n\nimport type { CarTypeProps } from '../types';\n\nimport styles from './CardType.module.css';\n\nexport const CardType: FC<CarTypeProps> = ({ isRedSuite, suite, value }) => {\n  const fill = isRedSuite ? '#ff2436' : 'black';\n  const id = useId();\n  const valueId = `${id}-value`;\n  const suiteId = `${id}-suite`;\n\n  return (\n    <g>\n      <text id={valueId} x=\"12\" y=\"78\" textAnchor=\"start\" className={styles.value} fill={fill}>\n        {value === '10' ? '\\u2789' : value}\n      </text>\n      <text id={suiteId} fill={fill} x=\"156\" y=\"78\" textAnchor=\"end\" className={styles.suite}>\n        {suite}\n      </text>\n\n      <use href={`#${valueId}`} transform=\"rotate(180 82 114)\" />\n      <use href={`#${suiteId}`} transform=\"rotate(180 82 114)\" />\n    </g>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"suite\":\"LJ_LK\",\"value\":\"LJ_LL\"};","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"HF_El\",\"card__front\":\"HF_HG\",\"card_isBack\":\"HF_HH\"};","import type { FunctionComponent } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\n\nimport { CardMiniType } from './cardMiniType/CardMiniType';\nimport { CardType } from './cardType/CardType';\nimport type { CardValue } from './types';\nimport { CardSuite } from './types';\nimport { getSuiteElement } from './utils';\n\nimport styles from './Card.module.css';\n\nexport interface CardProps {\n  /** Value of a card. It is a string of 1-10, J, Q, K, A */\n  value: CardValue;\n  /** Card shape */\n  suite: CardSuite;\n  /** If set, card is displayed with the back side */\n  isBack?: boolean;\n  /** If set, card is displayed in a minified version, with only one symbol of value and shape */\n  isMini?: boolean;\n  /** Additional class names to apply to the card */\n  className?: string;\n}\n\n/**\n * Card component that can be used for representing game cards on UI\n */\nexport const Card: FunctionComponent<CardProps> = ({ isBack, value, suite, isMini, className = '' }) => {\n  const cardMods = useModifiers(styles, 'card', { isBack }, { withBaseClass: true, extraClassName: className });\n  const suiteElem = getSuiteElement(suite);\n  const isRedSuite = suite === CardSuite.Diamonds || suite === CardSuite.Hearts;\n\n  return (\n    <div className={cardMods}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className={styles.card__front} fill=\"none\" viewBox=\"0 0 165 228\">\n        <rect x=\"2.3\" y=\"2.3\" width=\"160.4\" height=\"223.4\" stroke=\"#E3E3E3\" strokeWidth=\"4.6\" fill=\"white\" rx=\"13\" />\n        {isMini ? (\n          <CardMiniType value={value} suite={suiteElem} isRedSuite={isRedSuite} />\n        ) : (\n          <CardType value={value} suite={suiteElem} isRedSuite={isRedSuite} />\n        )}\n      </svg>\n    </div>\n  );\n};\n\nCard.displayName = 'Card_Component';\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport type {\n  PrizedropPrizeDetails,\n  PrizeDropWinSocketResponse,\n  Promotion,\n  PromotionType,\n  TournamentUserPrizeDetails,\n  WinNotificationType,\n} from '../../../api/fetchers/promotionsV2/types/promotions';\nimport { PromotionClientMode } from '../../../api/fetchers/promotionsV2/types/promotions';\nimport { fetchAssignedTablesAction } from '../../../store/apiActions/fetchAssignedTablesAction';\nimport {\n  fetchCashbackScoreAction,\n  fetchPromotionsAction,\n  fetchPromotionsJwtAction,\n  fetchLeaderboardAction,\n  fetchLeaderboardAroundMeAction,\n  fetchPromotionsPointsAction,\n  fetchPrizesAndWinnersAction,\n  postPromoConsentAction,\n  fetchRoundHistoryAction,\n  fetchRoundHistoryByWSAction,\n} from '../../apiActions/fetchPromotionsActionV2';\n\nimport type { PromotionPointsJSON } from './../../../api/fetchers/promotionsV2/types/promotionsApi';\nimport type { PromoPoint, PromosHydrationData, PromotionsV2State } from './types';\nimport { PromosPopup } from './types';\nimport { isPromoOpted, displayPromoForConsent, getTopTournament, updatePromosPopup, isPromoActiveNow } from './utils';\n\nexport const promotionsV2Slice = createSlice({\n  name: 'promotionsV2',\n  initialState: {\n    promotions: [],\n    points: [],\n    promosPopup: null,\n    showPromoEar: false,\n    selectedPromoId: null,\n    isOptPromosLoading: false,\n    assignedTables: null,\n    isNewPromoAvailable: false,\n    winNotifications: [],\n    roundHistory: [],\n    roundHistoryByWs: [],\n    isRoundHistoryLoading: false,\n    showDetailsModal: false,\n    showScorePopup: false,\n    isPromotionsInitialised: false,\n  } as PromotionsV2State,\n  reducers: {\n    hydrateSlice: (state, action: PayloadAction<PromosHydrationData>) => {\n      state.userId = action.payload.userId ?? state.userId;\n      state.gameId = action.payload.gameId ?? state.gameId;\n      state.lang = action.payload.lang ?? state.lang;\n      state.currency = action.payload.currency ?? state.currency;\n      state.screenName = action.payload.screenName ?? state.screenName;\n      state.casinoRegion = action.payload.casinoRegion ?? state.casinoRegion;\n      state.envGs = action.payload.envGs ?? state.envGs;\n      state.envPromo = action.payload.envPromo ?? state.envPromo;\n      state.jwtToken = action.payload.jwtToken ?? state.jwtToken;\n      state.jsessionId = action.payload.jsessionId ?? state.jsessionId;\n      state.isBetOpenStatus = action.payload.isBetOpenStatus ?? state.isBetOpenStatus;\n      state.totalBet = action.payload.totalBet ?? state.totalBet;\n      state.prizeDropWinMessage = action.payload.prizeDropWinMessage ?? state.prizeDropWinMessage;\n      state.isResponsive = action.payload.isResponsive ?? state.isResponsive;\n    },\n    pushPopup: (state, action: PayloadAction<PromosPopup>) => {\n      state.promosPopup = action.payload;\n    },\n    dismissPopup: (state) => {\n      state.promosPopup = null;\n    },\n    setShowDetailsModal: (state) => {\n      state.showDetailsModal = !state.showDetailsModal;\n    },\n    setShowScorePopup: (state) => {\n      //clear round history\n      if (!state.showScorePopup) {\n        state.roundHistory = [];\n        state.roundHistoryByWs = [];\n      }\n      state.showScorePopup = !state.showScorePopup;\n    },\n    setSelectedPromoId: (state, action: PayloadAction<number>) => {\n      state.selectedPromoId = action.payload;\n    },\n    setPrizeDropSocketResponse: (state, action: PayloadAction<PrizeDropWinSocketResponse>) => {\n      const message = action.payload;\n      const promo = state.promotions.find((promo) => promo.id == Number(message.pdid));\n      if (promo) {\n        const winDetails: WinNotificationType = {\n          promoType: promo.type,\n          promoId: promo.id,\n          name: promo.name,\n          brandName: promo.brandName,\n          isAsia: promo.isAsian,\n          winType: message.prizeType,\n          prize: message.prizeType === 'G' ? message.textPrize : message.amount,\n          endDate: promo.activeDuration.toEpoch,\n          ruleDetails: promo.ruleDetails,\n          autoPay: message.autoPay,\n          minBetLimit: promo.prizeDetails.minimumBetLimit,\n          extraData: {\n            bet: Number(message.bet),\n            multiplier: Number(message.mul),\n            prizes: (promo.prizeDetails as PrizedropPrizeDetails).prizes,\n          },\n        };\n        state.winNotifications = [winDetails];\n        state.promosPopup = PromosPopup.PromosWinNotification;\n      }\n    },\n    setWinNotifications: (state, action: PayloadAction<WinNotificationType[]>) => {\n      state.winNotifications = action.payload;\n      state.promosPopup = state.winNotifications.length > 0 ? PromosPopup.PromosWinNotification : null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchPromotionsAction.fulfilled, (state, { payload }) => {\n        const promotions = payload.promotions.filter((promo) => promo.clientMode === PromotionClientMode.Display);\n        const haveOptedPromos = promotions.some((p) => isPromoOpted(p));\n        const showPromosConsentModal = promotions.some((p) => displayPromoForConsent(p));\n        state.isPromotionsInitialised = true;\n        state.promotions = promotions;\n        state.winNotifications = payload.winNotifications;\n        state.showPromoEar = haveOptedPromos;\n        state.promosPopup = updatePromosPopup(showPromosConsentModal, state.winNotifications.length > 0);\n      })\n      .addCase(fetchPromotionsAction.rejected, (state) => {\n        state.isPromotionsInitialised = true;\n      })\n      .addCase(fetchPromotionsJwtAction.fulfilled, (state, { payload }) => {\n        state.jwtToken = payload;\n      })\n      .addCase(postPromoConsentAction.fulfilled, (state, { payload }) => {\n        payload.promotions.forEach((promo: Promotion) => {\n          const index = state.promotions.findIndex((_promo) => promo.id === _promo.id);\n          if (index > -1) {\n            state.promotions[index] = promo;\n          }\n        });\n        state.isOptPromosLoading = false;\n\n        const haveOptedPromos = state.promotions.some((p) => isPromoOpted(p));\n        const showPromosConsentModal = state.promotions.some((p) => displayPromoForConsent(p));\n\n        state.showPromoEar = haveOptedPromos;\n        state.promosPopup = updatePromosPopup(showPromosConsentModal, state.winNotifications.length > 0);\n      })\n      .addCase(postPromoConsentAction.pending, (state) => {\n        state.isOptPromosLoading = true;\n      })\n      .addCase(fetchAssignedTablesAction.fulfilled, (state, action) => {\n        state.assignedTables = action.payload;\n      })\n      .addCase(fetchLeaderboardAction.fulfilled, (state, { payload }) => {\n        if (payload) {\n          const index = state.promotions.findIndex((_promo) => payload.tournamentId === _promo.id);\n          if (index > -1) {\n            (state.promotions[index]?.userPrizeDetails as TournamentUserPrizeDetails).leaderboard = payload.leaderboard;\n          }\n        }\n      })\n      .addCase(fetchLeaderboardAroundMeAction.fulfilled, (state, { payload }) => {\n        if (payload) {\n          const index = state.promotions.findIndex((_promo) => payload.tournamentId === _promo.id);\n          if (index > -1) {\n            (state.promotions[index]?.userPrizeDetails as TournamentUserPrizeDetails).leaderboard_aroundMe =\n              payload.leaderboardAroundMe;\n          }\n        }\n      })\n      .addCase(fetchPrizesAndWinnersAction.fulfilled, (state, { payload }) => {\n        if (payload) {\n          const index = state.promotions.findIndex((_promo) => payload.prizeDropId === _promo.id);\n          if (index > -1) {\n            const promo = state.promotions[index] as Promotion<PromotionType.Prizedrop>;\n            if (promo) {\n              promo.prizeDetails.prizes = payload.prizes;\n              promo.userPrizeDetails = payload.winners;\n            }\n          }\n        }\n      })\n      .addCase(fetchCashbackScoreAction.fulfilled, (state, { payload }) => {\n        if (payload?.score) {\n          const index = state.promotions.findIndex((_promo) => payload.cahbackId === _promo.id);\n          if (index > -1) {\n            const promo = state.promotions[index] as Promotion<PromotionType.Cashback>;\n            if (promo) {\n              promo.userPrizeDetails.cashbackPercentage = payload.score.cashbackPercentage;\n              promo.userPrizeDetails.cashbackScore = payload.score.cashbackScore;\n              promo.userPrizeDetails.roundLimitExceeded = payload.score.roundLimitExceeded;\n              promo.userPrizeDetails.totalScore = payload.score.totalScore;\n            }\n          }\n        }\n      })\n      .addCase(fetchPromotionsPointsAction.fulfilled, (state, { payload }) => {\n        const activePoints: Array<PromoPoint> = [];\n        const { data } = payload;\n        for (const promoId in data) {\n          const _promoId = Number(promoId);\n          const promo = state.promotions.find((promo) => promo.id === _promoId);\n          if (promo) {\n            if (isPromoActiveNow(promo)) {\n              activePoints.push({\n                ...(data[promoId] as PromotionPointsJSON),\n                id: _promoId,\n                toEpoch: promo.activeDuration.toEpoch,\n                minimumBetLimit: promo.prizeDetails.minimumBetLimit,\n              });\n            }\n          }\n        }\n        const topTournament = getTopTournament(activePoints);\n\n        state.isNewPromoAvailable = payload.isNewPromoAvailable;\n        state.points = activePoints;\n        state.topTournament = topTournament;\n      })\n      .addCase(fetchRoundHistoryAction.fulfilled, (state, { payload }) => {\n        state.isRoundHistoryLoading = false;\n        state.roundHistory.push(...payload);\n      })\n      .addCase(fetchRoundHistoryByWSAction.fulfilled, (state, { payload }) => {\n        state.isRoundHistoryLoading = false;\n        state.roundHistoryByWs.push(...payload);\n      })\n      .addCase(fetchRoundHistoryAction.pending, (state) => {\n        state.isRoundHistoryLoading = true;\n      })\n      .addCase(fetchRoundHistoryByWSAction.pending, (state) => {\n        state.isRoundHistoryLoading = true;\n      });\n  },\n});\n\nexport const promotionsV2Actions = promotionsV2Slice.actions;\n","import { useCoreSelector } from '../../CoreStore';\nimport type { BetType } from '../bets/types';\n\nimport type { AutoplayLimits, AutoplayStatus } from './types';\n\nexport const useAutoplaySlice = {\n  isInProgress: (): boolean => {\n    return useCoreSelector(({ autoplay }) => autoplay.isInProgress);\n  },\n  getAutoplayStatus: (): AutoplayStatus => {\n    return useCoreSelector(({ autoplay }) => autoplay.autoplayStatus);\n  },\n  isOpen: (): boolean => {\n    return useCoreSelector(({ autoplay }) => autoplay.isOpen);\n  },\n  getRemainingCount: (): number => {\n    return useCoreSelector(({ autoplay }) => autoplay.roundsLeft);\n  },\n  getSavedBet: (): BetType | null => {\n    return useCoreSelector(({ autoplay }) => autoplay.savedBet);\n  },\n  isLaunchedMidRound: (): boolean => {\n    return useCoreSelector(({ autoplay }) => autoplay.isLaunchedMidRound);\n  },\n  getAutoplayLimits: (): AutoplayLimits => {\n    return {\n      singleWinLimit: useCoreSelector(({ autoplay }) => autoplay.singleWinLimit),\n      balanceDecreaseLimit: useCoreSelector(({ autoplay }) => autoplay.balanceDecreaseLimit),\n      balanceIncreaseLimit: useCoreSelector(({ autoplay }) => autoplay.balanceIncreaseLimit),\n    };\n  },\n  hasPendingAutoplayBet: (): boolean => {\n    return useCoreSelector(({ autoplay }) => autoplay.pendingAutoplayBet);\n  },\n};\n","import { Logger } from '../../../logger/Logger';\n\nimport type { CardItem, CardValue } from './types';\nimport { CardSuite } from './types';\n\nexport const cards = {\n  suite: [\n    CardSuite.Clubs,\n    CardSuite.Diamonds,\n    CardSuite.Hearts,\n    CardSuite.Spades,\n  ] /*Do not change order due to History*/,\n  value: ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'],\n};\n\nexport const getCardInfo = (cardNumber: number): CardItem | null => {\n  if (cardNumber < 0 || cardNumber > 51) {\n    return null;\n  }\n  const valueIndex = cardNumber % 13;\n  const suiteIndex = Math.floor(cardNumber / 13);\n\n  const value = cards.value[valueIndex] as CardValue;\n  const suite = cards.suite[suiteIndex] as CardSuite;\n\n  if (!value || !suite) {\n    return null;\n  }\n\n  return { value, suite };\n};\n\nexport const getSuiteElement = (suite: CardSuite): string => {\n  switch (suite) {\n    case CardSuite.Clubs:\n      return '\\u2663';\n    case CardSuite.Diamonds:\n      return '\\u2666';\n    case CardSuite.Hearts:\n      return '\\u2665';\n    case CardSuite.Spades:\n      return '\\u2660';\n    default:\n      Logger.logFailure('invalidSuite', { additional: suite });\n      return '';\n  }\n};\n","import { getChipFromValue, getChipIndexFromWeight } from '../../../utils/chips';\nimport { useCoreSelector } from '../../CoreStore';\n\nimport type { ChipValueType } from './types';\n\nexport const useChipSlice = {\n  getSelectedChip: (): ChipValueType => {\n    return useCoreSelector((state) => {\n      const chips = state.chips.chips;\n      const selectedChipWeight = state.chips.selectedChip?.weight;\n      const selectedChipFromConfig = state.config.playerConfig?.selectedChipIndex;\n      // Fallback for invalid selected chip in player config\n      const selectedChipFromConfigFallback =\n        selectedChipFromConfig && selectedChipFromConfig < chips.length ? selectedChipFromConfig : 0;\n\n      const selectedChipIndex = selectedChipWeight\n        ? getChipIndexFromWeight(selectedChipWeight)\n        : selectedChipFromConfigFallback;\n\n      return chips[selectedChipIndex];\n    });\n  },\n  getChips: (): ChipValueType[] => {\n    return useCoreSelector((state) => state.chips.chips);\n  },\n  getChipByValue: (value: number): ChipValueType => {\n    return useCoreSelector((state) => {\n      const { chips } = state.chips;\n      return getChipFromValue(chips, value);\n    });\n  },\n  getAreChipsReady: (): boolean => {\n    return useCoreSelector((state) => state.chips.chipsReady);\n  },\n  isClipChipStackOpened: (): boolean => {\n    return useCoreSelector((state) => state.chips.isClipChipStackOpened);\n  },\n  isRevolverChipStackOpened: (): boolean => {\n    return useCoreSelector((state) => state.chips.isRevolverChipStackOpened);\n  },\n};\n","export interface Platform {\n  IS_IOS: boolean;\n  IS_ANDROID_OS: boolean;\n  IS_DESKTOP: boolean;\n  // IS_WINDOWS: boolean;// TODO: Implement this\n  // IS_MAC: boolean;\n  // IS_OTHER: boolean;\n}\n\nexport interface Device {\n  IS_IPHONE: boolean;\n  // IS_IPAD: boolean; // TODO: Implement this\n  // IS_ANDROID: boolean;\n}\n\nexport interface Browser {\n  IS_CHROME: boolean;\n  // IS_FIREFOX: boolean; // TODO: Implement this\n  // IS_SAFARI: boolean;\n  // IS_EDGE: boolean;\n  // IS_OPERA: boolean;\n  // IS_OTHER: boolean;\n}\n\n/**\n * DeviceInfoCustomFlags are custom complex flags that are constructed out of other DeviceInfoInterface flags.\n * These flags are used to detect a browser/OS/version combinations.\n */\nexport interface DeviceInfoCustomFlags {\n  IS_IOS_CHROME?: boolean;\n}\n\nexport interface DeviceInfoInterface {\n  device: Device;\n  platform: Platform;\n  browser: Browser;\n  customFlags: DeviceInfoCustomFlags;\n}\n\nexport const DeviceInfoDefaults: DeviceInfoInterface = {\n  device: {\n    IS_IPHONE: false,\n    // IS_IPAD: false, // TODO: Implement this\n    // IS_ANDROID: false,\n  },\n  platform: {\n    IS_IOS: false,\n    IS_ANDROID_OS: false,\n    IS_DESKTOP: false,\n    // IS_WINDOWS: false, // TODO: Implement this\n    // IS_MAC: false,\n    // IS_OTHER: false,\n  },\n  browser: {\n    IS_CHROME: false,\n    // IS_FIREFOX: false, // TODO: Implement this\n    // IS_SAFARI: false,\n    // IS_EDGE: false,\n    // IS_OPERA: false,\n    // IS_OTHER: false,\n  },\n  customFlags: {},\n};\n","import type { Browser, Device, DeviceInfoCustomFlags, DeviceInfoInterface, Platform } from './deviceInfoTypes';\nimport { DeviceInfoDefaults } from './deviceInfoTypes';\nimport { generateCustomFlags } from './utils/generateCustomFlags';\nimport { getBrowser } from './utils/getBrowser';\nimport { getDevice } from './utils/getDevice';\nimport { getPlatform } from './utils/getPlatform';\n\n/**\n * DeviceInfo is a singleton that provides information about the device, browser and feature support.\n */\nclass DeviceInfoClass {\n  private initialized: boolean = false;\n  private deviceInfo: DeviceInfoInterface = DeviceInfoDefaults;\n\n  init(userAgent: string = navigator.userAgent || navigator.vendor): void {\n    // Stage 1 -  Parse User Agent and generate flags.\n    this.deviceInfo.platform = getPlatform(userAgent);\n    this.deviceInfo.device = getDevice(userAgent);\n    this.deviceInfo.browser = getBrowser(userAgent);\n\n    // Stage 2 - Depends of Stage 1\n    // TODO: Add feature checks (touch, multITouchObg, webgl, webaudio etc.)\n    // TODO: Generate deviceInfo flags. E.g. isMobile, isTablet, isDesktop etc.\n    this.deviceInfo.customFlags = generateCustomFlags(this.deviceInfo);\n\n    this.initialized = true;\n  }\n\n  private initCheck(): boolean {\n    if (!this.initialized) {\n      console.error('DeviceInfo is not initialized. Please call DeviceInfo.init() first.');\n    }\n\n    return this.initialized;\n  }\n\n  getPlatform(): Platform {\n    this.initCheck();\n    return this.deviceInfo.platform;\n  }\n\n  getDevice(): Device {\n    this.initCheck();\n    return this.deviceInfo.device;\n  }\n\n  getBrowser(): Browser {\n    this.initCheck();\n    return this.deviceInfo.browser;\n  }\n\n  getCustomFlags(): DeviceInfoCustomFlags {\n    this.initCheck();\n    return this.deviceInfo.customFlags;\n  }\n\n  /**\n   * Used in unit tests to reset the singleton instance.\n   */\n  dispose(): void {\n    this.deviceInfo = {} as DeviceInfoInterface;\n    this.initialized = false;\n  }\n}\n\nexport const DeviceInfo = new DeviceInfoClass();\n","import { Platform, DeviceInfoDefaults } from '../deviceInfoTypes';\n\nexport function getPlatform(ua: NavigatorID['userAgent']): Platform {\n  const platform = {\n    ...DeviceInfoDefaults.platform,\n    IS_IOS: /iPad|iPhone|iPod/.test(ua),\n    IS_ANDROID_OS: /Android/.test(ua),\n    IS_DESKTOP: !(/iPad|iPhone|iPod/.test(ua) || /Android/.test(ua)),\n  };\n\n  return platform;\n}\n","import { DeviceInfoInterface, DeviceInfoCustomFlags } from '../deviceInfoTypes';\n\nexport function generateCustomFlags(DI: DeviceInfoInterface): DeviceInfoCustomFlags {\n  return {\n    /**\n     * Add your custom flags here and make sure to update DeviceInfoCustomFlags.\n     */\n    IS_IOS_CHROME: DI.platform.IS_IOS && DI.browser.IS_CHROME,\n  };\n}\n","import { Device, DeviceInfoDefaults } from '../deviceInfoTypes';\n\nexport function getDevice(ua: NavigatorID['userAgent']): Device {\n  const device = {\n    ...DeviceInfoDefaults.device,\n    IS_IPHONE: /iPhone/.test(ua),\n  };\n\n  return device;\n}\n","import { Browser, DeviceInfoDefaults } from '../deviceInfoTypes';\n\nexport function getBrowser(ua: NavigatorID['userAgent']): Browser {\n  const browser = {\n    ...DeviceInfoDefaults.browser,\n    IS_CHROME: /CriOS/.test(ua), // Temporary only mobile chrome is detected. TODO: Implement desktop chrome detection\n  };\n\n  return browser;\n}\n","import { useCallback, useMemo } from 'react';\n\nimport { CrossOriginCommunication } from '../controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { OutgoingMessage } from '../controllers/crossOriginCommunication/types';\nimport { useConfigSlice } from '../store/slices/config/selectors';\n\nimport { useMedia } from './useMedia';\n\nexport const useCashierCallbackConnected = (): (() => void) | undefined => {\n  const cashierIframeEvent = useConfigSlice.getCashierIframeEvent();\n  const cashierPopupEnabled = useConfigSlice.getCashierPopupEnabled();\n  const cashierUrl = useConfigSlice.getCashierUrl();\n  const cashierUrlMobile = useConfigSlice.getCashierUrlMobile();\n  const cashierUrlFirst = useConfigSlice.getCashierUrlFirst();\n\n  const isTouch = useMedia('(pointer: coarse)');\n\n  const cashierUrlToUse = useMemo(() => {\n    if (isTouch && cashierUrlMobile) return cashierUrlMobile;\n    if (cashierUrlFirst) return cashierUrlFirst;\n    return cashierUrl;\n  }, [cashierUrl, cashierUrlFirst, cashierUrlMobile, isTouch]);\n\n  const isEnabled = useMemo(() => {\n    if (!cashierPopupEnabled) return false;\n    return !(!cashierIframeEvent && !cashierUrlToUse);\n  }, [cashierIframeEvent, cashierPopupEnabled, cashierUrlToUse]);\n\n  const callback = useCallback(() => {\n    if (cashierIframeEvent) {\n      CrossOriginCommunication.dispatch(OutgoingMessage.OpenCashier);\n    } else if (cashierUrlToUse) {\n      window.open(cashierUrlToUse, '_blank');\n    }\n  }, [cashierIframeEvent, cashierUrlToUse]);\n\n  return isEnabled ? callback : undefined;\n};\n","export enum BonusStatus {\n  Pending = 'pending', // No action from Player and not claimed\n  Active = 'active', // Successfully claimed\n  Expired = 'expired', // Expiry date reached and player didn't claim\n  Wagered = 'wagered', // Bonus is exhausted\n  Cancelled = 'cancelled', // Cancel action from operator\n}\n\nexport enum CampaignStatus {\n  Created = 'created',\n  InPrgress = 'in_progress',\n  Given = 'given',\n  Cancelled = 'cancelled',\n  Completed = 'completed',\n}\n\nexport enum BonusApiStatus {\n  Success = 'success',\n  Error = 'error',\n}\n","import { useCoreSelector } from '../../CoreStore';\n\nexport const useInitializationSlice = {\n  getAreBlockingResourcesReady: (): boolean =>\n    useCoreSelector(({ initialization }) => initialization.areBlockingResourcesReady),\n  getIsReadyToRender: (): boolean => useCoreSelector(({ initialization }) => initialization.isReadyToRender),\n  getIsLayoutRendered: (): boolean => useCoreSelector(({ initialization }) => initialization.isLayoutRendered),\n  getError: (): Error | null => useCoreSelector(({ initialization }) => initialization.error),\n};\n","import { useEffect, useMemo } from 'react';\n\nimport { useCoreDispatch, useCoreSelector } from '../../CoreStore';\nimport type { AssignedTablesType } from '../../../api/fetchers/assignedTables/types';\nimport type {\n  IActivePromo,\n  ICashbackData,\n  IPrizeDropData,\n  IPromoBet,\n  IPromoInformation,\n  IPromoPointsData,\n  ITournamentData,\n} from '../../../api/fetchers/promotions/types';\nimport { PromoRoundType } from '../../../api/fetchers/promotions/types';\nimport { useCurrencyFormatterConnected } from '../../../hooks/useCurrencyFormatterConnected';\nimport { useBetSlice } from '../bets/selectors';\nimport { useGameStateSlice } from '../game/selectors';\n\nimport { promotionActions } from './slice';\nimport type { PromotionState, TopTournamentType, TrophyDisplayData } from './types';\n\nexport const usePromotionSlice = {\n  getPromotions: (): PromotionState => {\n    return useCoreSelector(({ promotions }) => promotions);\n  },\n  getAssignedTables: (): AssignedTablesType | null => {\n    return useCoreSelector(({ promotions }) => promotions.assignedTables);\n  },\n  getPromoPoints: (): IPromoPointsData | null => {\n    return useCoreSelector(({ promotions }) => promotions.promoPoints);\n  },\n  getTopTournament: (): TopTournamentType | undefined => {\n    return useCoreSelector(({ promotions }) => promotions.topTournament);\n  },\n  getWinStreak: (): number | undefined => {\n    return useCoreSelector(({ promotions }) => promotions.topTournament?.winStreak);\n  },\n  getPromotionTranslations: (): Record<string, string> | undefined => {\n    return useCoreSelector(({ promotions }) => promotions.translations);\n  },\n  getPrizeDrops: (): IPrizeDropData[] => {\n    return useCoreSelector(({ promotions }) => promotions.prizeDrops);\n  },\n  getWinPopup: (): IPromoInformation | null => {\n    return useCoreSelector(({ promotions }) => promotions.winPopup);\n  },\n  getTournaments: (): ITournamentData[] => {\n    return useCoreSelector(({ promotions }) => promotions.tournaments);\n  },\n  getCashbacks: (): ICashbackData[] => {\n    return useCoreSelector(({ promotions }) => promotions.cashbacks);\n  },\n  getMinTournamentBet: (): number | null => {\n    const allTournaments = useCoreSelector(({ promotions }) => promotions.tournaments);\n    const allPrizeDrops = useCoreSelector(({ promotions }) => promotions.prizeDrops);\n    const allCashbacks = useCoreSelector(({ promotions }) => promotions.cashbacks);\n\n    const time = Date.now() / 1000;\n\n    const tEnabled = allTournaments.reduce<number | null>((minBet: number | null, tournament: ITournamentData) => {\n      if (tournament.opt == 'not_opted' || tournament.sd > time || tournament.ed < time) return minBet;\n\n      const bet =\n        tournament.TOURNAMENT.mbl?.find((acc: IPromoBet) => acc.cur == 'EUR')?.bet ||\n        tournament.TOURNAMENT.mbl?.[0]?.bet ||\n        null;\n\n      return bet && minBet && minBet < bet ? minBet : bet;\n    }, null);\n\n    if (tEnabled) return tEnabled;\n\n    const pEnabled = allPrizeDrops.reduce<number | null>((minBet: number | null, prizeDrop: IPrizeDropData) => {\n      if (prizeDrop.opt == 'not_opted' || prizeDrop.sd > time || prizeDrop.ed < time) return minBet;\n\n      const bet =\n        prizeDrop.PRIZEDROP.mbl?.find((acc: IPromoBet) => acc.cur == 'EUR')?.bet ||\n        prizeDrop.PRIZEDROP.mbl?.[0]?.bet ||\n        null;\n\n      return bet && minBet && minBet < bet ? minBet : bet;\n    }, null);\n\n    if (pEnabled) return pEnabled;\n\n    const cEnabled = allCashbacks.reduce<number | null>((minBet: number | null, cashback: ICashbackData) => {\n      if (cashback.opt == 'not_opted' || cashback.sd > time || cashback.ed < time) return minBet;\n\n      const bet =\n        cashback.CASHBACK.mbl?.find((acc: IPromoBet) => acc.cur == 'EUR')?.bet ||\n        cashback.CASHBACK.mbl?.[0]?.bet ||\n        null;\n\n      return bet && minBet && minBet < bet ? minBet : bet;\n    }, null);\n\n    return cEnabled;\n  },\n  getShowTrophyTooltip: (): boolean => {\n    return useCoreSelector(({ promotions }) => promotions.showTrophyTooltip);\n  },\n  getIsRoundLimitExceed: (): boolean => {\n    return useCoreSelector(({ promotions }) => promotions.isRoundLimitExceed);\n  },\n  getWasTrophyTooltipShown: (): boolean => {\n    return useCoreSelector(({ promotions }) => promotions.wasTrophyTooltipShown);\n  },\n  getRoundLimitExceededMessage: (): string => {\n    return useCoreSelector(({ promotions }) => {\n      const currentDate = Date.now();\n      const activePromos = promotions.activePromos.filter((promo) => {\n        const startDate = promo.sd * 1000;\n        const endDate = promo.ed * 1000;\n        return currentDate >= startDate && currentDate < endDate;\n      });\n      if (!activePromos || activePromos.length === 0) return '';\n\n      const earliestPromo = activePromos.reduce<IActivePromo>((earliest, promo) => {\n        return promo.ed < earliest.ed ? promo : earliest;\n      }, activePromos[0]!);\n      let roundType: PromoRoundType;\n      if (earliestPromo.tid) {\n        roundType = (earliestPromo as ITournamentData).TOURNAMENT_DETAILS.roundsType;\n      } else if (earliestPromo.pdid) {\n        roundType = (earliestPromo as IPrizeDropData).PRIZEDROP_DETAILS.roundsType;\n      } else {\n        roundType = (earliestPromo as ICashbackData).CASHBACK_DETAILS.roundsType;\n      }\n\n      switch (roundType) {\n        case PromoRoundType.Daily:\n          return 'DAILY_TOURNAMENT_LIMIT';\n        case PromoRoundType.Total:\n          return 'TOTAL_TOURNAMENT_LIMIT';\n        default:\n          return 'DAILY_TOURNAMENT_LIMIT';\n      }\n    });\n  },\n};\n\n// TODO move me to slice or to composite hooks\nexport const useTrophyIcon = (): TrophyDisplayData => {\n  const dispatch = useCoreDispatch();\n  const isBetsOpen = useGameStateSlice.isBetsOpenStatus();\n  const totalBet = useBetSlice.totalBet();\n  const currencyFormatter = useCurrencyFormatterConnected();\n\n  const showTrophyTooltip = usePromotionSlice.getShowTrophyTooltip();\n  const wasTrophyTooltipShown = usePromotionSlice.getWasTrophyTooltipShown();\n  const minTournamentBet = usePromotionSlice.getMinTournamentBet();\n  const isRoundLimitExceed = usePromotionSlice.getIsRoundLimitExceed();\n  const roundLimitExceededMessage = usePromotionSlice.getRoundLimitExceededMessage();\n\n  useEffect(() => {\n    if (!isBetsOpen && minTournamentBet && totalBet && (minTournamentBet > totalBet || isRoundLimitExceed)) {\n      if (!wasTrophyTooltipShown) {\n        dispatch(promotionActions.changeShowTrophyTooltip(true));\n      }\n    } else {\n      dispatch(promotionActions.changeShowTrophyTooltip(false));\n    }\n  }, [dispatch, minTournamentBet, totalBet, isBetsOpen, isRoundLimitExceed]);\n\n  return useMemo(() => {\n    const trophy: TrophyDisplayData = {\n      visibility: 'none',\n      minBet: '',\n      showTrophyTooltip: showTrophyTooltip,\n      isRoundLimitExceed: isRoundLimitExceed,\n      roundLimitExceededMessage: roundLimitExceededMessage,\n    };\n\n    if (!isBetsOpen && minTournamentBet && totalBet) {\n      if (minTournamentBet <= totalBet && !isRoundLimitExceed) {\n        trophy.visibility = 'active';\n      } else {\n        const formattedMinBet = currencyFormatter(minTournamentBet);\n        trophy.minBet = formattedMinBet ? formattedMinBet : '';\n        trophy.visibility = 'inactive';\n      }\n    }\n    return trophy;\n  }, [\n    showTrophyTooltip,\n    isBetsOpen,\n    minTournamentBet,\n    totalBet,\n    isRoundLimitExceed,\n    currencyFormatter,\n    roundLimitExceededMessage,\n  ]);\n};\n","import { useCoreSelector } from '../../CoreStore';\n\nimport type { CustomPopup } from './types';\n\nexport const usePopupSlice = {\n  currentPopup: (): string | null => {\n    return useCoreSelector(({ popup }) => popup.currentPopup?.popupName || null);\n  },\n  currentPopupData: (): Record<string, unknown> | null => {\n    return useCoreSelector(({ popup }) => popup.currentPopup?.popupData || null);\n  },\n  customPopup: (): CustomPopup | null => {\n    return useCoreSelector(({ popup }) => popup.customPopup);\n  },\n};\n","export const isCurrentBrowserIOS =\n  /iPad|iPhone|iPod/.test(navigator.userAgent) ||\n  (navigator.userAgent.includes('Macintosh') && 'ontouchend' in document) ||\n  !('MediaSource' in window && MediaSource?.isTypeSupported('video/mp4; codecs=\"avc1.640028, mp4a.40.2\"'));\n\nexport const isCurrentBrowserMacOSSafari =\n  /^((?!chrome|android).)*safari/i.test(navigator.userAgent) && !('ontouchend' in document);\n","import { useConfigSlice } from '../slices/config/selectors';\n\nexport const useSessionBalanceConfig = (): boolean => {\n  const isSessionBalanceEnabled = useConfigSlice.casinoConfig()?.isSessionBalanceEnabled;\n  const compliance = useConfigSlice.compliance();\n  const sessionBalance = compliance?.sessionBalance;\n\n  return !!(sessionBalance && isSessionBalanceEnabled);\n};\n","import { createContext } from 'react';\n\nexport const PassiveComponentContext = createContext(false);\n","import type { BalanceType } from '../../../api/fetchers/userInfo/types';\nimport { roundNumber } from '../../../utils/number';\n\n/**\n * Computes the balance and bonus based on the given parameters.\n *\n * @param {BalanceType} balance - The current balance of the user.\n * @param {number} totalBet - The total bet amount.\n * @param {number} decimals - The number of digits to round the balance and bonus to.\n * @param {number} [winResult] - The win result amount. Optional.\n *\n * @returns {BalanceType} - The new balance and bonus.\n */\nexport const computeBalance = (\n  balance: BalanceType,\n  totalBet: number,\n  decimals: number,\n  winResult?: number\n): BalanceType => {\n  const balanceDiff = balance.amount - totalBet;\n  const bonusDiff = Math.min(balanceDiff, 0);\n  const newBonus = balance.bonus + bonusDiff;\n  let newBalance = Math.max(balanceDiff, 0);\n  if (winResult) {\n    newBalance += winResult;\n  }\n  return {\n    ...balance,\n    amount: roundNumber(newBalance, decimals),\n    bonus: roundNumber(newBonus, decimals),\n  };\n};\n","import { useMemo } from 'react';\n\nimport type { BalanceType } from '../../api/fetchers/userInfo/types';\nimport { useBetSlice } from '../slices/bets/selectors';\nimport { useGameStateSlice } from '../slices/game/selectors';\nimport { computeBalance } from './helpers/computeBalance';\n\n/**\n * useCompositeBalance - get correct balance for UI to display\n *\n * does not update the value during active game rounds or when bets are closed or not allowed\n *\n * does update balance when making bets or win result balance request is taking too long\n */\nexport const useCompositeBalance = (): BalanceType | undefined => {\n  const balance = useGameStateSlice.balance();\n  const decimals = useGameStateSlice.getCurrencyInfo()?.digitsNumber || 2;\n  const betTimestamp = useBetSlice.getUpdateTimestamp();\n  const isBetsOpenStatus = useGameStateSlice.isBetsOpenStatus();\n  const isLoadedInActiveRound = useGameStateSlice.isLoadedInActiveRound();\n  const totalBet = useBetSlice.totalBet();\n  const winResult = useGameStateSlice.winResult();\n\n  return useMemo(() => {\n    if (!balance) return;\n\n    const balanceTimestamp = balance.updateTimestamp;\n    const winResultTimestamp = winResult?.updateTimestamp ?? 0;\n    /**\n     * isLoadedInActiveRound - the server is sending in balance with the deducted bet in case of restore, so no need to do it manually as we do it otherwise.\n     * isBetsOpenStatus - extra check for game state that the bets are actually closed and balance response from the server already should have the correct balance in response.\n     * winResult - if we get in state where we have a win result, but the balance request has completed sooner and already should have the correct balance in response.\n     */\n    if (\n      isLoadedInActiveRound ||\n      (!isBetsOpenStatus && betTimestamp < balanceTimestamp) ||\n      (winResult && winResultTimestamp < balanceTimestamp)\n    ) {\n      return balance;\n    }\n\n    return computeBalance(\n      balance,\n      totalBet,\n      decimals,\n      /**\n       * If the win result is the freshest of actions that affect balance - add it to the new balance amount (without subtracting totalBet).\n       */\n      winResult && winResultTimestamp > balanceTimestamp ? winResult.amount : undefined\n    );\n  }, [balance, betTimestamp, decimals, isBetsOpenStatus, isLoadedInActiveRound, totalBet, winResult]);\n};\n","export enum LoggerEndpoint {\n  Event = 'event',\n  UniqueEvent = 'uniqueEvent',\n  Duration = 'duration',\n  Failure = 'failure',\n  FailedTranslation = 'failedTranslations',\n  SearchQueries = 'searchQueries',\n}\n\nexport enum BatchCategory {\n  Events = 'events',\n  Durations = 'durations',\n  Failures = 'failures',\n  UniqueEvents = 'uniqueEvents',\n  FailedTranslations = 'failedTranslations',\n  SearchQueries = 'searchQueries',\n}\n\nexport enum VideoStatsDetails {\n  VideoSessionDetails = 'video_session_details',\n  VideoPlaybackDetails = 'video_playback_details',\n  StorePlayerDetails = 'store_player_details',\n}\n","import { getStaticBaseUrl } from '../../../utils/getStaticBaseUrl';\n\n/**\n * Construct the feature-config path based on URL:\n * - builder version will have base path to '/apps/feature-flags/1.0.0/${type}.json'.\n * - local build will proxy url via builder.\n * ?2 is needed to resolve caching issue UIC-738\n */\nexport function getFeatureURL(type: string): string {\n  const { base } = getStaticBaseUrl();\n\n  return `${base}/apps/feature-flags/1.0.0/${type}.json?2`;\n}\n","export interface FeatureConfigList {\n  streamDebug?: boolean;\n  newMobileLayout?: boolean;\n  isPromotionsV2?: boolean;\n  enableFreeChips?: boolean;\n  [featureName: string]: boolean | undefined;\n}\n\nexport enum FeatureConfigReducerActions {\n  START,\n  SUCCESS,\n  FAILED,\n}\n\nexport type FeatureConfigActionNames =\n  | [FeatureConfigReducerActions.START, undefined]\n  | [FeatureConfigReducerActions.SUCCESS, FeatureConfigList]\n  | [FeatureConfigReducerActions.FAILED, Error];\n\nexport type FeatureConfigReducerAction<\n  Tuple extends [FeatureConfigReducerActions, unknown] = FeatureConfigActionNames,\n> = Tuple extends [infer Action, infer Payload]\n  ? Payload extends NonNullable<Payload>\n    ? { type: Action; payload: Payload }\n    : { type: Action }\n  : never;\n","import type { FunctionComponent, PropsWithChildren } from 'react';\nimport { createContext, useEffect, useReducer, useContext } from 'react';\n\nimport { Fetcher } from '../../api/Fetcher';\nimport { UserSession } from '../../config/UserSession';\n\nimport { getFeatureURL } from './helper/getFeatureURL';\nimport type { FeatureConfigList, FeatureConfigReducerAction } from './types';\nimport { FeatureConfigReducerActions } from './types';\n\nexport interface FeatureConfigState {\n  isFetching: boolean;\n  error?: Error;\n  features?: FeatureConfigList;\n}\n\nconst initialContextValue: FeatureConfigState = { isFetching: false };\nconst FeatureConfigContext = createContext(initialContextValue);\n\nexport const useFeatureContext = (): FeatureConfigState => useContext(FeatureConfigContext);\n\nconst featuresFromSession = (): Record<string, boolean> => {\n  const fromSession: Record<string, boolean> = { isPromotionsV2: true };\n  const session = UserSession.getSession();\n\n  for (const key in session) {\n    if (key.startsWith('feature-')) {\n      const feature = key.replace('feature-', '');\n      fromSession[feature] = session[key] === 'true';\n    }\n  }\n\n  return fromSession;\n};\n\nconst featureConfigReducer = (_state: FeatureConfigState, action: FeatureConfigReducerAction): FeatureConfigState => {\n  switch (action.type) {\n    case FeatureConfigReducerActions.START:\n      return { isFetching: true };\n    case FeatureConfigReducerActions.SUCCESS:\n      return { isFetching: false, features: Object.assign(action.payload, featuresFromSession()) };\n    case FeatureConfigReducerActions.FAILED:\n      return { isFetching: false, error: action.payload };\n    default:\n      throw new Error('Unhandled action type');\n  }\n};\n\ninterface FeatureConfigLProviderProps extends PropsWithChildren {\n  configs?: string | string[];\n}\n\nexport const FeatureConfigProvider: FunctionComponent<FeatureConfigLProviderProps> = ({ configs, children }) => {\n  const [state, dispatch] = useReducer(featureConfigReducer, initialContextValue);\n\n  useEffect(() => {\n    if (!configs) {\n      dispatch({ type: FeatureConfigReducerActions.SUCCESS, payload: {} });\n    } else {\n      const configsToLoad = configs instanceof Array ? configs.map(getFeatureURL) : [getFeatureURL(configs)];\n      dispatch({ type: FeatureConfigReducerActions.START });\n      Promise.all(configsToLoad.map((url) => Fetcher.fetch<FeatureConfigList>(url)))\n        .then((payload: FeatureConfigList[]) => {\n          dispatch({\n            type: FeatureConfigReducerActions.SUCCESS,\n            payload: Object.assign.apply<null, FeatureConfigList[], FeatureConfigList>(null, payload),\n          });\n        })\n        .catch((payload: Error) => {\n          dispatch({ type: FeatureConfigReducerActions.FAILED, payload });\n        });\n    }\n  }, [configs]);\n\n  return <FeatureConfigContext.Provider value={state}>{children}</FeatureConfigContext.Provider>;\n};\n","import type { FunctionComponent } from 'react';\n\nimport * as Set1 from './set_1';\nimport * as Set2 from './set_2';\nimport * as Set3 from './set_3';\n\n// Should Tree-Shaking\nconst MultiSet = Object.assign({}, Set1, Set2, Set3);\nconst SvgOutput = Object.keys(MultiSet).reduce((output: string, key: string) => {\n  if (typeof MultiSet[key as keyof typeof MultiSet] === 'string') {\n    return (\n      output +\n      MultiSet[key as keyof typeof MultiSet].replace(/xmlns=\"[^\"]+\"/, `id=\"icon-${key}\"`).replace(/svg/g, 'symbol')\n    );\n  } else {\n    return output;\n  }\n}, '');\n\nexport const IconRoot: FunctionComponent<{ html?: string }> = ({ html = SvgOutput }) => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'none' }} dangerouslySetInnerHTML={{ __html: html }} />\n  );\n};\n","import { SubtitlesDevice, SubtitlesPositions, SubtitlesSize, SubtitlesTextSize, SubtitlesViewport } from './types';\n\nexport const SUBTITLES_DEFAULT_POSITIONS: SubtitlesPositions = {\n  [SubtitlesViewport.DESKTOP]: {\n    x: 0.5, // center horizontally (960 / 1920)\n    y: 0.5, // center vertically (540 / 1080)\n  },\n  [SubtitlesViewport.LANDSCAPE]: {\n    x: 0.0075, // 5px from container's left edge (5 / 667)\n    y: 0.07042, // 25px from container's top edge (25 / 355), 355 = 375 - 20 (mobile status bar height)\n  },\n  [SubtitlesViewport.PORTRAIT]: {\n    x: 0.01867, // 7px from container's left edge (7 / 375)\n    y: 0.03709, // 24px from container's top edge (24 / 647), 647 = 667 - 20 (mobile status bar height)\n  },\n};\n\nexport const SUBTITLES_DEFAULT_SIZES: SubtitlesSize = {\n  [SubtitlesDevice.DESKTOP]: SubtitlesTextSize.LARGE,\n  [SubtitlesDevice.MOBILE]: SubtitlesTextSize.MEDIUM,\n};\n\n// Subtitles languages supported by translation service.\nexport const SUBTITLES_SUPPORTED_LANGUAGES = [\n  'af',\n  'am',\n  'ar',\n  'as',\n  'az',\n  'ba',\n  'bg',\n  'bho',\n  'bn',\n  'bo',\n  'brx',\n  'bs',\n  'ca',\n  'cs',\n  'cy',\n  'da',\n  'de',\n  'doi',\n  'dsb',\n  'dv',\n  'el',\n  'en',\n  'es',\n  'et',\n  'eu',\n  'fa',\n  'fi',\n  'fil',\n  'fj',\n  'fo',\n  'fr',\n  'fr-CA',\n  'ga',\n  'gl',\n  'gom',\n  'gu',\n  'ha',\n  'he',\n  'hi',\n  'hne',\n  'hr',\n  'hsb',\n  'ht',\n  'hu',\n  'hy',\n  'id',\n  'ig',\n  'ikt',\n  'is',\n  'it',\n  'iu',\n  'iu-Latn',\n  'ja',\n  'ka',\n  'kk',\n  'km',\n  'kmr',\n  'kn',\n  'ko',\n  'ks',\n  'ku',\n  'ky',\n  'ln',\n  'lo',\n  'lt',\n  'lug',\n  'lv',\n  'lzh',\n  'mai',\n  'mg',\n  'mi',\n  'mk',\n  'ml',\n  'mn-Cyrl',\n  'mn-Mong',\n  'mni',\n  'mr',\n  'ms',\n  'mt',\n  'mww',\n  'my',\n  'nb',\n  'ne',\n  'nl',\n  'nso',\n  'nya',\n  'or',\n  'otq',\n  'pa',\n  'pl',\n  'prs',\n  'ps',\n  'pt',\n  'pt-PT',\n  'ro',\n  'ru',\n  'run',\n  'rw',\n  'sd',\n  'si',\n  'sk',\n  'sl',\n  'sm',\n  'sn',\n  'so',\n  'sq',\n  'sr-Cyrl',\n  'sr-Latn',\n  'st',\n  'sv',\n  'sw',\n  'ta',\n  'te',\n  'th',\n  'ti',\n  'tk',\n  'tlh-Latn',\n  'tlh-Piqd',\n  'tn',\n  'to',\n  'tr',\n  'tt',\n  'ty',\n  'ug',\n  'uk',\n  'ur',\n  'uz',\n  'vi',\n  'xh',\n  'yo',\n  'yua',\n  'yue',\n  'zh-Hans',\n  'zh-Hant',\n  'zu',\n];\n","import type { FunctionComponent } from 'react';\n\nimport styles from './Dots.module.css';\n\ninterface DotsProps {\n  dots: boolean;\n  activeIndex: number;\n  goTo: (index: number) => void;\n  slideCount: number;\n}\n\nexport const Dots: FunctionComponent<DotsProps> = ({ dots, activeIndex, goTo, slideCount }) => {\n  if (!dots) {\n    return;\n  }\n\n  return (\n    <div className={styles.swiperDotsWrapper}>\n      <ul className={styles.swiperDots}>\n        {Array.from({ length: slideCount }, (_, k) => k).map((el) => {\n          return (\n            <li key={el}>\n              <button\n                type=\"button\"\n                className={\n                  styles.swiperDotsItem +\n                  ' ' +\n                  (el === activeIndex ? styles.swiperDotBtnActive : '') +\n                  ' ' +\n                  (el + 1 === activeIndex || el - 1 === activeIndex ? styles.swiperDotNeighbor : '')\n                }\n                tabIndex={-1}\n                onClick={() => goTo(el)}\n              >\n                <span className={styles.swiperDotInner} />\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"swiperDotsWrapper\":\"nv_nw\",\"swiperDots\":\"nv_nx\",\"swiperDotsItem\":\"nv_ny\",\"swiperDotInner\":\"nv_nz\",\"swiperDotBtnActive\":\"nv_nA\",\"swiperDotNeighbor\":\"nv_nB\"};","// extracted by mini-css-extract-plugin\nexport default {\"swiper__wrapper\":\"iy_ex\",\"swiper__container\":\"iy_ey\",\"swiper__item\":\"iy_eC\"};","import type { ForwardRefExoticComponent, MouseEventHandler, ReactNode, RefAttributes } from 'react';\nimport { Children, forwardRef, useCallback, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\n\nimport { useModifiers } from '../../styles/hooks/useModifiers';\n\nimport { Dots } from './dots/Dots';\n\nimport styles from './Swiper.module.css';\n\nexport interface SwiperProps {\n  children: ReactNode;\n  className?: string;\n  onActiveChange?: (index: number) => void;\n  dots?: boolean;\n  slideContainerClassName?: string;\n}\n\nexport interface ISwiperHandle {\n  goTo: (index: SlideIndex) => void;\n}\n\ntype SlideIndex = number | 'next' | 'previous';\n\ninterface IMoveObject {\n  scrollLeft: number;\n  isStartMove: boolean;\n  isStopClick: boolean;\n  startX: number;\n  moveLength: number;\n}\n\nconst THRESHOLD_MOVE = 10;\nconst THRESHOLD_UP = 50;\n\nexport const Swiper: ForwardRefExoticComponent<SwiperProps & RefAttributes<ISwiperHandle>> = forwardRef<\n  ISwiperHandle,\n  SwiperProps\n>(function SwipeScroll(\n  { children, className = '', onActiveChange, dots = false, slideContainerClassName = '' }: SwiperProps,\n  ref\n) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [slideCount, setSlideCount] = useState(0);\n  const [slideWidth, setSlideWidth] = useState(0);\n\n  const [moveObject, setMoveObject] = useState<IMoveObject>({\n    scrollLeft: 0,\n    isStartMove: false,\n    isStopClick: false,\n    startX: 0,\n    moveLength: 0,\n  });\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  const mods = useModifiers(\n    styles,\n    'swiper__container',\n    {},\n    {\n      withBaseClass: true,\n    }\n  );\n\n  const goTo = useCallback(\n    (index: SlideIndex): void => {\n      if (!containerRef.current) return;\n      const swiperElement = containerRef.current;\n      const scrollTo = (index: number): void => {\n        swiperElement.scrollTo({ left: slideWidth * index, behavior: 'smooth' });\n      };\n\n      if (index === 'next' || index === 'previous') {\n        if (index === 'next' && activeIndex < slideCount - 1) {\n          const nextIndex = activeIndex + 1;\n          scrollTo(nextIndex);\n        }\n        if (index === 'previous' && activeIndex > 0) {\n          const previousIndex = activeIndex - 1;\n          scrollTo(previousIndex);\n        }\n      } else if (index >= 0 && index < slideCount) {\n        scrollTo(index);\n        setActiveIndex(index);\n      }\n    },\n    [activeIndex, slideCount, slideWidth]\n  );\n\n  const handleClick: MouseEventHandler<HTMLDivElement> = (event) => {\n    if (moveObject.isStopClick) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  };\n\n  const handleMouseDown: MouseEventHandler<HTMLDivElement> = (event) => {\n    const container = containerRef.current;\n    if (!container) return;\n    const scrollLeft = container.scrollLeft;\n    container.style.scrollSnapType = 'none';\n\n    setMoveObject((prev) => ({\n      ...prev,\n      scrollLeft,\n      isStartMove: true,\n      startX: event.clientX,\n      moveLength: 0,\n    }));\n  };\n\n  const handleMouseMove: MouseEventHandler<HTMLDivElement> = (event) => {\n    if (!moveObject.isStartMove) return;\n\n    const container = containerRef.current;\n    if (!container) return;\n\n    const moveLength = moveObject.startX - event.clientX;\n    const nextScrollPosition = moveObject.scrollLeft + moveLength;\n\n    if (\n      THRESHOLD_MOVE > Math.abs(moveLength) ||\n      nextScrollPosition < 0 ||\n      (moveLength > 0 && activeIndex === slideCount - 1)\n    ) {\n      return;\n    }\n\n    container.scrollTo({ left: nextScrollPosition, behavior: 'auto' });\n\n    setMoveObject((prev) => ({\n      ...prev,\n      isStopClick: true,\n      moveLength,\n    }));\n  };\n\n  const handleMouseUp: MouseEventHandler<HTMLDivElement> = () => {\n    const container = containerRef.current;\n\n    if (!container || !moveObject.isStartMove) return;\n    if (Math.abs(moveObject.moveLength) < THRESHOLD_UP) {\n      goTo(activeIndex);\n    } else if (moveObject.moveLength > 0) {\n      goTo('next');\n    } else if (moveObject.moveLength < 0) {\n      goTo('previous');\n    }\n\n    timerRef.current = setTimeout(() => {\n      container.style.scrollSnapType = 'x mandatory';\n    }, 800);\n\n    setMoveObject({\n      scrollLeft: 0,\n      isStartMove: false,\n      isStopClick: false,\n      startX: 0,\n      moveLength: 0,\n    });\n  };\n\n  const newChildren = useMemo(() => {\n    return Children.map(children, (child, index) => (\n      <div data-id={index} className={styles.swiper__item}>\n        {child}\n      </div>\n    ));\n  }, [children]);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      goTo(index: SlideIndex): void {\n        goTo(index);\n      },\n    }),\n    [goTo]\n  );\n\n  useEffect(() => {\n    if (onActiveChange) {\n      onActiveChange(activeIndex);\n    }\n  }, [activeIndex, onActiveChange]);\n\n  const setInitial = useCallback(() => {\n    if (!containerRef.current) return;\n\n    const container = containerRef.current;\n    const containerWidth = container.clientWidth;\n\n    setSlideWidth(containerWidth);\n    setSlideCount(container.children.length);\n\n    goTo(activeIndex);\n  }, [activeIndex, goTo]);\n\n  useEffect(() => {\n    setInitial();\n    const handleWindowResize = setInitial;\n    window.addEventListener('resize', handleWindowResize, { passive: true });\n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n      if (timerRef.current) clearTimeout(timerRef.current);\n    };\n  }, [setInitial]);\n\n  const callBackObserver = useCallback((entries: IntersectionObserverEntry[]) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        const id = entry.target.getAttribute('data-id');\n        setActiveIndex(Number(id));\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n    const observer = new IntersectionObserver(callBackObserver, {\n      root: container,\n      threshold: 0.96, //set to 0.96 to prevent flickering\n      rootMargin: '0px',\n    });\n\n    container.childNodes.forEach((child) => {\n      observer.observe(child as HTMLElement);\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [callBackObserver]);\n\n  return (\n    <div\n      className={`${className} ${styles.swiper__wrapper}`}\n      onClickCapture={handleClick}\n      onMouseDown={handleMouseDown}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseUp}\n      onMouseUp={handleMouseUp}\n    >\n      <div className={`${mods} ${slideContainerClassName}`} ref={containerRef}>\n        {newChildren}\n      </div>\n      <Dots dots={dots} activeIndex={activeIndex} goTo={goTo} slideCount={slideCount} />\n    </div>\n  );\n});\n","import { shouldEnableProdLogger } from '../utils';\n\ntype ConsoleMethod = 'debug' | 'log' | 'warn' | 'error';\ntype LogLevel = 'verbose' | 'info' | 'warning' | 'error';\n\nclass DebugConsole {\n  private readonly enabled: boolean;\n\n  constructor() {\n    this.enabled = !shouldEnableProdLogger();\n\n    this.logInfo.bind(this);\n    this.log.bind(this);\n  }\n\n  log(\n    message: string,\n    options?: {\n      level: LogLevel;\n    }\n  ): void {\n    const methodMap: Record<LogLevel, ConsoleMethod> = {\n      verbose: 'debug',\n      info: 'log',\n      warning: 'warn',\n      error: 'error',\n    };\n    const method = methodMap[options?.level ?? 'info'];\n    if (this.enabled) {\n      console[method](message);\n    }\n  }\n\n  /**\n   * @deprecated Use log method instead\n   * */\n  logInfo(logger_name: string, _log_level: string, info: string): void {\n    this.log(`${logger_name}: ${info}`, { level: 'verbose' });\n  }\n}\n\nexport const CoreDebugConsole = new DebugConsole();\n","import { useCallback } from 'react';\n\nimport { buildHashParam } from '../../utils/buildHash';\nimport { getTranslationPath, TranslationType } from '../../utils/translations';\nimport {\n  fetchPromoPointsAction,\n  fetchPromotionAction,\n  fetchPromotionTranslationAction,\n} from '../apiActions/fetchPromotionAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\nimport { useSettingsSlice } from '../slices/settings/selectors';\n\nexport const usePromotionFetcher = () => {\n  const dispatch = useCoreDispatch();\n  const env = useConfigSlice.env();\n  const lang = useSettingsSlice.currentLanguage();\n  const gsAddress = useConfigSlice.gsAddress();\n  const jwtToken = useConfigSlice.jwtToken();\n  const userId = useConfigSlice.userId();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const operatorGameId = useConfigSlice.tableConfig()?.operatorGameId;\n\n  return useCallback(\n    (force: boolean = false) => {\n      if (jwtToken && gsAddress && userId && JSESSIONID && operatorGameId && lang && env) {\n        return dispatch(\n          fetchPromotionAction({\n            envGs: gsAddress,\n            envPromo: env.promoService,\n            lang,\n            jwtToken,\n            userId,\n            JSESSIONID,\n            operatorGameId,\n            force,\n          })\n        );\n      }\n    },\n    [jwtToken, gsAddress, userId, JSESSIONID, operatorGameId, lang, env, dispatch]\n  );\n};\n\nconst uiTranslationsPath = getTranslationPath(TranslationType.UI);\n\nexport const usePromotionTranslationFetcher = () => {\n  const dispatch = useCoreDispatch();\n  const currentLanguage = useSettingsSlice.currentLanguage();\n\n  return useCallback(() => {\n    if (currentLanguage) {\n      return dispatch(\n        fetchPromotionTranslationAction({\n          url: `${uiTranslationsPath}/${currentLanguage}/promo.json`,\n          buildHashParam,\n        })\n      );\n    }\n  }, [currentLanguage, dispatch]);\n};\n\nexport const usePromoPointsFetcher = (): (() => void) => {\n  const dispatch = useCoreDispatch();\n  const env = useConfigSlice.env();\n  const jwtToken = useConfigSlice.jwtToken();\n\n  return useCallback(() => {\n    if (env && jwtToken) {\n      dispatch(\n        fetchPromoPointsAction({\n          envPromo: env.promoService,\n          jwtToken: jwtToken,\n        })\n      );\n    }\n  }, [env, jwtToken, dispatch]);\n};\n","/**\n * Represents the version information of the application.\n * @implements {Version}\n */\nexport class Version {\n  /**\n   * The version of the project.\n   */\n  static projectVersion: string;\n  /**\n   * The version of the core library project is build upon.\n   */\n  static coreVersion: string;\n  /**\n   * The build number of the project. Usually, it is an id of pipeline that build the project.\n   */\n  static buildNumber: string;\n  /**\n   * Human-readable version of the application. It is a combination of project version, core version and build number.\n   */\n  static displayVersion: string;\n  /**\n   * The hash of the build, which is a combination of project version, core version and build number.\n   */\n  static buildHash: string;\n\n  /**\n   * Initializes the Version class.\n   */\n  static initialize(): void {\n    const rootDataSet = document.getElementById('root')?.dataset;\n    const loaderTag = document.querySelector('script[data-gametype]');\n\n    if (!rootDataSet) {\n      console.warn('Root dataset is not found!');\n    }\n\n    this.projectVersion = rootDataSet?.gameVersion ?? '';\n    this.coreVersion = rootDataSet?.coreVersion ?? '';\n    this.buildNumber = rootDataSet?.buildNumber ?? '';\n    this.displayVersion = this.getDisplayVersion();\n    this.buildHash = this.getBuildHash();\n\n    if (rootDataSet?.localCore === 'true') {\n      console.warn('%cLOCAL CORE VERSION IS USED!', 'font-size: 40px;');\n    }\n    console.log(`Application version: ${this.displayVersion}`);\n    if (loaderTag) {\n      const loaderVersion = loaderTag.getAttribute('data-loader-version');\n      console.log(`Loader version: ${loaderVersion}`);\n    }\n  }\n\n  /**\n   * Generates the build hash.\n   * @private\n   * @returns {string} The build hash.\n   */\n  private static getBuildHash(): string {\n    return `${this.projectVersion}-${this.coreVersion}-${this.buildNumber}`;\n  }\n\n  /**\n   * Generates the complete version string.\n   * @private\n   * @returns {string} The complete version string.\n   */\n  private static getDisplayVersion(): string {\n    if (!this.coreVersion || !this.projectVersion || !this.buildNumber) {\n      return '';\n    }\n    return `${this.projectVersion} (${this.coreVersion}) ${this.buildNumber}`;\n  }\n}\n\n// Initialize the Version class\nVersion.initialize();\n","class LocalStorageClass {\n  private storageAvailable = false;\n\n  constructor() {\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      localStorage.setItem('availabilityTest', 'test');\n      // eslint-disable-next-line no-restricted-syntax\n      if (localStorage.getItem('availabilityTest') === 'test') {\n        this.storageAvailable = true;\n      }\n      // eslint-disable-next-line no-restricted-syntax\n      localStorage.removeItem('availabilityTest');\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key: 'availabilityTest' });\n    }\n  }\n\n  isAvailable(): boolean {\n    return this.storageAvailable;\n  }\n\n  remove(key: string): void {\n    if (!this.storageAvailable) return;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      localStorage.removeItem(key);\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key });\n    }\n  }\n\n  set(key: string, payload: string | number): void {\n    if (!this.storageAvailable) return;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      localStorage.setItem(key, payload.toString());\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key, payload: payload.toString() });\n    }\n  }\n\n  setJson(key: string, payload: Record<string, string>): void {\n    try {\n      this.set(key, JSON.stringify(payload));\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key, payload });\n    }\n  }\n\n  get(key: string): string | null | undefined {\n    if (!this.storageAvailable) return null;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      return localStorage.getItem(key);\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key });\n    }\n  }\n\n  getJson<Payload = Record<string, string>>(key: string): Payload | null | undefined {\n    if (!this.storageAvailable) return null;\n    try {\n      // eslint-disable-next-line no-restricted-syntax\n      const value = localStorage.getItem(key);\n      if (value) {\n        return JSON.parse(value);\n      }\n    } catch (error) {\n      this.handleLocalStorageError(error as Error, { key });\n    }\n  }\n\n  private readonly handleLocalStorageError = (\n    error: Error,\n    options: {\n      key: string;\n      payload?: string | Record<string, string>;\n    }\n  ): void => {\n    console.log(error, options);\n  };\n}\n\nexport const LocalStorage = new LocalStorageClass();\n","export class ParseXml {\n  public static parseNode = (node: Node): string | undefined | Record<string, unknown> | null => {\n    const childAttributes: Node[] = node instanceof Element ? Array.prototype.slice.call(node.attributes) : [];\n    const childNodes: Node[] = Array.prototype.slice.call(node.childNodes).concat(childAttributes);\n    if (childNodes.length === 0) {\n      return node.nodeValue;\n    } else if (childNodes.length === 1 && childNodes[0].nodeType === Node.TEXT_NODE) {\n      return childNodes[0].nodeValue?.trim();\n    } else if (childNodes[0].nodeType === Node.TEXT_NODE && childAttributes.length > 0) {\n      const attribures = childAttributes.reduce((acc, node) => {\n        return { ...acc, [node.nodeName]: node.nodeValue };\n      }, {});\n      return { value: childNodes[0].nodeValue, ...attribures };\n    } else {\n      const obj: Record<string, unknown> = {};\n      childNodes.forEach((childNode) => {\n        const childName = childNode.nodeName;\n        const childValue = obj[childName];\n        if (childValue !== undefined) {\n          if (Array.isArray(childValue)) {\n            childValue.push(ParseXml.parseNode(childNode));\n          } else {\n            obj[childName] = [childValue, ParseXml.parseNode(childNode)];\n          }\n        } else if (childName !== '#text') {\n          obj[childName] = ParseXml.parseNode(childNode);\n        }\n      });\n      return obj;\n    }\n  };\n\n  public static parseString = <T>(str: string): T => {\n    return this.parseNode(new DOMParser().parseFromString(str.replace(/&AMP;/g, '&amp;').trim(), 'text/xml')) as T;\n  };\n}\n","export enum AudioEvents {\n  PLAY = 'pp-play-sound',\n  PAUSE = 'pp-pause-sound',\n  STOP = 'pp-stop-sound',\n}\n\nexport interface AudioEventPlayDetailType {\n  name: string;\n  channel: string;\n  loop?: boolean;\n  start?: number;\n  delay?: number;\n  duration?: number;\n}\n\nexport interface AudioEventStopDetailType {\n  name: string;\n}\n\nexport interface SoundResourceType {\n  name: string;\n  url: string;\n}\n","import type { AnyAction, ThunkDispatch } from '@reduxjs/toolkit';\n\nimport type { AssignedTablesType } from '../../../api/fetchers/assignedTables/types';\nimport type {\n  PrizeDropWinSocketResponse,\n  Promotion,\n  RoundHistoryByWSType,\n  RoundHistoryType,\n  WinNotificationType,\n} from '../../../api/fetchers/promotionsV2/types/promotions';\nimport type { PromotionPointsJSON } from '../../../api/fetchers/promotionsV2/types/promotionsApi';\n\n/*\n  PromotionsV2 slice will be used in a standalone Promotions component with its own\n  own redux store.\n    - It needs to hold required user details, information to make api calls/refresh jwt.\n      `PromosHydrationData` represents this data and is loaded into the slice.\n    - Use `PromosCoreState` and `PromosCoreDispatch` instead of `CoreRootState` and \n      `CoreDispatch` to type State and Dispatch inside the new promotions component.\n*/\nexport type PromosCoreState<S = object> = S & { promotionsV2: PromotionsV2State };\n\nexport type PromosCoreDispatch<S = object> = ThunkDispatch<PromosCoreState<S>, unknown, AnyAction>;\n\nexport type PromosHydrationData = Omit<PromotionsV2State, keyof PromosData>;\n\nexport type PromotionsV2State = PromosData &\n  Partial<PromosUserData> &\n  Partial<PromosGameData> &\n  Partial<PromosApiAuthData> &\n  Partial<PromosJwtAuthData> &\n  Partial<PrizeDropWinMessageData>;\n\nexport interface PrizeDropWinMessageData {\n  prizeDropWinMessage: PrizeDropWinSocketResponse;\n}\n\nexport interface PromosData {\n  promotions: Array<Promotion>; // promotions\n  promosPopup: PromosPopup | null; // to show active popup\n  showPromoEar: boolean; // to show ear\n  isOptPromosLoading: boolean;\n  topTournament?: TopTournamentPoints; // win Streak\n  points: Array<PromoPoint>;\n  selectedPromoId: number | null;\n  assignedTables: AssignedTablesType | null;\n  isNewPromoAvailable: boolean;\n  winNotifications: Array<WinNotificationType>;\n  roundHistory: Array<RoundHistoryType>;\n  roundHistoryByWs: Array<RoundHistoryByWSType>;\n  isRoundHistoryLoading: boolean;\n  showDetailsModal: boolean;\n  showScorePopup: boolean;\n  isPromotionsInitialised: boolean;\n}\n\nexport interface PromosUserData {\n  userId: string;\n  lang: string;\n  screenName: string;\n  casinoRegion: string;\n}\n\nexport interface PromosGameData {\n  gameId: string;\n  currency: string;\n  isBetOpenStatus: boolean;\n  totalBet: number;\n  isResponsive?: boolean;\n}\n\nexport interface PromosApiAuthData {\n  envPromo: string;\n  jwtToken: string;\n}\n\nexport interface PromosJwtAuthData {\n  envGs: string;\n  jsessionId: string;\n}\n\nexport enum PromosPopup {\n  PromosConsent = 'PromosConsent',\n  PromosDetails = 'PromosDetails',\n  PromosWinNotification = 'PromosWinNotification',\n}\n\nexport interface PromoPoint extends PromotionPointsJSON {\n  id: number;\n  toEpoch: number;\n  minimumBetLimit: number;\n}\nexport interface TopTournamentPoints extends PromoPoint {}\n\nexport interface Trophy {\n  enable: boolean;\n  isActive?: boolean;\n  toolTipContent?: string;\n  minBet?: string;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"rangeInput\":\"pc_kQ\",\"rangeInput_disabled\":\"pc_kR\",\"rangeInput_vertical\":\"pc_kS\",\"rangeInput__sliderInput\":\"pc_kT\",\"rangeInput__sliderTrack\":\"pc_kU\",\"rangeInput__sliderYardStick\":\"pc_kV\",\"rangeInput__sliderThumb\":\"pc_kW\",\"rangeInput__sliderProgress\":\"pc_kX\"};","import type { CSSProperties, FocusEvent, HTMLAttributes, MouseEvent as ReactMouseEvent } from 'react';\nimport { forwardRef, useEffect, useRef } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\n\nimport styles from './RangeInput.module.css';\n\nexport interface RangeInputProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange' | 'onDrag' | 'onKeyDown'> {\n  max: number;\n  min: number;\n  onChange: (value: number) => void;\n  onDrag: (value: number) => void;\n  step: number;\n  value: number;\n  disabled?: boolean;\n  onDragEnd?: () => void;\n  onDragStart?: () => void;\n  onKeyDown?: (event: KeyboardEvent) => void;\n  vertical?: boolean;\n}\n\nconst RangeInput = forwardRef<HTMLDivElement, RangeInputProps>(function RangeInputFunc(\n  { value, min, max, onChange, onDrag, onDragStart, onDragEnd, step, onKeyDown, vertical, disabled, ...rest },\n  handleRef\n) {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const valueRef = useRef<number>(value);\n\n  useEffect(() => {\n    valueRef.current = value;\n  }, [value]);\n\n  const valueToProgress = (value: number): number => (value - min) / (max - min);\n  const progressToValue = (progress: number): number => progress * (max - min) + min;\n\n  const roundToStep = (value: number, step: number): number => {\n    return Math.round(value / step) * step;\n  };\n\n  const handleDrag = (event: ReactMouseEvent<HTMLDivElement>): void => {\n    if (disabled) {\n      return;\n    }\n    const { clientY, clientX } = event;\n\n    const wrapperBounds = wrapperRef.current?.getBoundingClientRect();\n    const sliderSize = (vertical ? wrapperBounds?.height : wrapperBounds?.width) ?? 0;\n    // minus origin so that logic won't break on transforms\n    let lastDragPosition = vertical ? clientY - (wrapperBounds?.top || 0) : clientX - (wrapperBounds?.left || 0);\n\n    onDragStart?.();\n\n    const clamp = (value: number, firstBoundary: number, secondBoundary: number): number => {\n      if (firstBoundary < secondBoundary) {\n        return Math.min(Math.max(value, firstBoundary), secondBoundary);\n      }\n      return Math.min(Math.max(value, secondBoundary), firstBoundary);\n    };\n\n    const getProgressFromPosition = (): number => {\n      return vertical ? 1 - lastDragPosition / sliderSize : lastDragPosition / sliderSize;\n    };\n\n    const handleMove = (event: PointerEvent): void => {\n      const position = vertical\n        ? event.clientY - (wrapperBounds?.top ?? 0)\n        : event.clientX - (wrapperBounds?.left ?? 0);\n      lastDragPosition = clamp(position, 0, sliderSize);\n      const value = progressToValue(getProgressFromPosition());\n      const result = value === max ? max : roundToStep(value, step);\n      onDrag(result);\n    };\n\n    handleMove(event as never);\n\n    window.addEventListener('pointermove', handleMove, { passive: true });\n\n    const handlePointerUp = (): void => {\n      window.removeEventListener('pointermove', handleMove);\n      window.removeEventListener('pointerup', handlePointerUp);\n      window.removeEventListener('touchend', handlePointerUp);\n\n      const value = progressToValue(getProgressFromPosition());\n      const result = value === max ? max : roundToStep(value, step);\n      onChange(result);\n      onDragEnd?.();\n    };\n\n    window.addEventListener('pointerup', handlePointerUp);\n    window.addEventListener('touchend', handlePointerUp);\n  };\n\n  const handleFocus = (event: FocusEvent<HTMLDivElement>): void => {\n    const { target } = event;\n\n    const performStep = (scale: 1 | -1): void => {\n      const fullSteps = Math.round(valueRef.current / step);\n      const newValue = fullSteps * step + step * scale;\n      onChange(Math.min(Math.max(newValue, min), max));\n    };\n\n    const handleKeyDown = (event: KeyboardEvent): void => {\n      if (event.key === 'ArrowLeft' || event.key === 'ArrowDown') {\n        performStep(-1);\n      } else if (event.key === 'ArrowRight' || event.key === 'ArrowUp') {\n        performStep(1);\n      } else if (event.key === 'Home') {\n        onChange(min);\n      } else if (event.key === 'End') {\n        onChange(max);\n      }\n      onKeyDown?.(event);\n    };\n    target.addEventListener('keydown', handleKeyDown);\n    const handleBlur = (): void => {\n      target.removeEventListener('keydown', handleKeyDown);\n      target.removeEventListener('blur', handleBlur);\n    };\n    target.addEventListener('blur', handleBlur);\n  };\n\n  const mods = useModifiers(styles, 'rangeInput', { disabled, vertical }, { withBaseClass: true });\n\n  return (\n    <div className={mods} {...rest}>\n      <div className={styles.rangeInput__sliderYardStick} ref={wrapperRef} />\n      <div\n        className={styles.rangeInput__sliderTrack}\n        style={{ '--sliderProgress': valueToProgress(value) } as CSSProperties}\n        onPointerDown={handleDrag}\n      >\n        <div className={styles.rangeInput__sliderProgress} />\n        <div\n          className={styles.rangeInput__sliderThumb}\n          aria-valuemax={max}\n          aria-valuemin={min}\n          aria-valuenow={value}\n          onFocus={handleFocus}\n          ref={handleRef}\n          role=\"slider\"\n          tabIndex={disabled ? -1 : 0}\n        />\n      </div>\n    </div>\n  );\n});\n\nRangeInput.displayName = 'RangeInput';\n\nexport { RangeInput };\n","import { useCallback } from 'react';\n\nimport { CurrencyFormatter, CurrencyFormatterOptions } from '../formatters/CurrencyFormatter';\nimport { useHideCurrency } from '../store/compositeSelectors/useHideCurrency';\nimport { useGameStateSlice } from '../store/slices/game/selectors';\nimport { useSettingsSlice } from '../store/slices/settings/selectors';\n\nexport const useCurrencyFormatterConnected = (\n  options?: Omit<CurrencyFormatterOptions, 'currency'>\n): ((value: number) => string | null) => {\n  const currency = useGameStateSlice.getCurrency();\n  const currentLanguage = useSettingsSlice.currentLanguage();\n\n  const hideCurrency = useHideCurrency();\n\n  return useCallback(\n    (value) => {\n      if (!currency) return null;\n      return CurrencyFormatter.format(value, currentLanguage, { ...options, currency, hideCurrency });\n    },\n    //TODO: review dependencies\n    [currency, hideCurrency, options]\n  );\n};\n","import { CardSuite } from '../../../../../game/card/types';\n\ninterface CardDetails {\n  pos: string;\n  sc: string;\n  selected: string;\n  winCard: string;\n}\n\nexport interface CardResultSet {\n  card: CardDetails[];\n  number: string;\n}\n\nexport enum DrawStage {\n  First_Draw = 'firstDraw',\n  Second_Draw = 'secondDraw',\n  Final_Hand = 'finalHand',\n}\n\nexport const getCardValue = (value: string | undefined): string | undefined => {\n  switch (value) {\n    case '1':\n      return 'A';\n    case '0':\n      return '10';\n    default:\n      return value;\n  }\n};\n\nenum CardSuiteSymbol {\n  Hearts = 'H',\n  Clubs = 'C',\n  Spades = 'S',\n  Diamonds = 'D',\n}\n\nexport const getSuite = (suite: string | undefined): string | undefined => {\n  switch (suite) {\n    case CardSuiteSymbol.Hearts:\n      return CardSuite.Hearts;\n    case CardSuiteSymbol.Clubs:\n      return CardSuite.Clubs;\n    case CardSuiteSymbol.Spades:\n      return CardSuite.Spades;\n    case CardSuiteSymbol.Diamonds:\n      return CardSuite.Diamonds;\n  }\n};\n\nexport const normalizeCardResults = (cardResults: CardResultSet | undefined): CardResultSet | undefined => {\n  if (!cardResults?.card) return cardResults;\n\n  return {\n    ...cardResults,\n    card: Array.isArray(cardResults.card) ? cardResults.card : [cardResults.card],\n  };\n};\n","import { useCallback } from 'react';\n\nimport { fetchCasinoConfigAction } from '../apiActions/fetchCasinoConfigAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\n\nexport const useCasinoConfigFetcher = (essential: boolean, language?: string): (() => void) => {\n  const dispatch = useCoreDispatch();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.baseUrl();\n\n  return useCallback((): void => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(fetchCasinoConfigAction({ JSESSIONID, baseUrl, essential, language }));\n    }\n  }, [JSESSIONID, baseUrl, dispatch, essential, language]);\n};\n","import { useCallback } from 'react';\n\nimport { fetchEnvAction } from '../apiActions/fetchEnvAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\n\nexport const useEnvFetcher = (essential: boolean): (() => void) => {\n  const dispatch = useCoreDispatch();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.baseUrl();\n\n  return useCallback(() => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(\n        fetchEnvAction({\n          url: baseUrl,\n          JSESSIONID,\n          essential,\n        })\n      );\n    }\n  }, [JSESSIONID, baseUrl, dispatch, essential]);\n};\n","import { useCallback } from 'react';\n\nimport { useFeature } from '../../components/featureConfig/FeatureConfigFlags';\nimport { fetchPlayerConfigAction } from '../apiActions/fetchPlayerConfigAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\n\nexport const usePlayerConfigFetcher = (essential: boolean): (() => void) => {\n  const dispatch = useCoreDispatch();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const operatorGameId = useConfigSlice.tableConfig()?.operatorGameId;\n  const baseUrl = useConfigSlice.baseUrl();\n  const isUKfeaturesEnabled = useFeature('isUKfeaturesEnabled');\n\n  return useCallback(() => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(\n        fetchPlayerConfigAction({\n          JSESSIONID,\n          baseUrl,\n          parserOptions: {\n            operatorGameId,\n            featureFlags: {\n              isUKfeaturesEnabled,\n            },\n          },\n          essential,\n        })\n      );\n    }\n  }, [JSESSIONID, baseUrl, dispatch, operatorGameId, isUKfeaturesEnabled, essential]);\n};\n","import { useCallback } from 'react';\n\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\n\nexport const useUserInfoFetcher = (essential: boolean): ((force?: boolean) => void) => {\n  const dispatch = useCoreDispatch();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.baseUrl();\n\n  return useCallback(\n    (force?: boolean) => {\n      if (JSESSIONID && baseUrl) {\n        dispatch(\n          fetchUserInfoAction({\n            JSESSIONID,\n            force,\n            baseUrl,\n            essential, // Balance fetching should always be essential\n          })\n        );\n      }\n    },\n    [JSESSIONID, baseUrl, dispatch, essential]\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tabs\":\"jV_jW\",\"tabs_isOneWidth\":\"jV_jX\",\"tabs__header__item\":\"jV_jY\",\"tabs_game\":\"jV_jZ\",\"tabs__header\":\"jV_j0\",\"tabs__content\":\"jV_j1\",\"tabs_renderInactive\":\"jV_ka\",\"tabs__content_block\":\"jV_kb\",\"tabs__content_block_visible\":\"jV_kc\",\"tabs__header__item_active\":\"jV_ke\"};","import type { FC, ReactElement } from 'react';\nimport { useRef, useState } from 'react';\n\nimport { useAudioTrigger } from '../../controllers/audioController/hooks';\nimport { useModifiers } from '../../styles/hooks/useModifiers';\n\nimport styles from './Tabs.module.css';\n\nexport interface TabProps {\n  content: ReactElement;\n  label: ReactElement;\n}\n\nexport interface TabsProps {\n  tabs: TabProps[];\n  initActiveTab?: number;\n  gameStyle?: boolean;\n  className?: string;\n  classNameContainer?: string;\n  classNameLabel?: string;\n  isOneWidth?: boolean;\n  renderInactive?: boolean;\n}\n\nexport const Tabs: FC<TabsProps> = ({\n  tabs,\n  gameStyle,\n  className,\n  classNameContainer,\n  classNameLabel,\n  initActiveTab = 0,\n  isOneWidth,\n  renderInactive,\n}) => {\n  const [activeTab, setActiveTab] = useState(initActiveTab);\n  const ref = useRef<HTMLDivElement>(null);\n  const mods = useModifiers(styles, 'tabs', { renderInactive }, { withBaseClass: true });\n  const headerMods = useModifiers(styles, 'tabs__header', { isOneWidth }, { withBaseClass: true });\n\n  const audioTrigger = useAudioTrigger();\n\n  return (\n    <div className={`${mods} ${gameStyle && styles.tabs_game} ${className}`}>\n      <div className={`${headerMods} ${classNameLabel}`} data-testid=\"tabs-header\">\n        {tabs.map((tab, i) => (\n          <div\n            data-testid={activeTab === i ? 'tab-active' : 'tab'}\n            key={i}\n            className={`${styles.tabs__header__item} ${activeTab === i ? styles.tabs__header__item_active : ''}`}\n            onClick={(): void => {\n              setActiveTab(i);\n              if (ref.current) {\n                ref.current.scrollTo(0, 0);\n              }\n              audioTrigger.play({ name: 'menuClick' });\n            }}\n          >\n            {tab.label}\n          </div>\n        ))}\n      </div>\n\n      <div className={`${styles.tabs__content} ${classNameContainer}`} ref={ref}>\n        {renderInactive\n          ? tabs.map((tab, i) => (\n            <div\n              className={`${styles.tabs__content_block} ${i === activeTab ? styles.tabs__content_block_visible : ''}`}\n              key={i}\n            >\n              {tab.content}\n            </div>\n          ))\n          : tabs[activeTab]?.content}\n      </div>\n    </div>\n  );\n};\n","import { LogTarget } from './types';\n\nexport const LogTargets: Record<string, LogTarget> = {\n  performance: 'server',\n  click: 'server',\n  errors: 'server',\n};\n","import { FetchErrorName } from './types';\n\nexport class ParsingError extends Error {\n  public name = FetchErrorName.ParsingError;\n  public error?: string;\n  public endpoint?: string;\n  public url?: string;\n\n  public constructor(message: string, error?: string, endpoint?: string, url?: string) {\n    super(message);\n    Object.setPrototypeOf(this, ParsingError.prototype);\n    this.error = error;\n    this.endpoint = endpoint;\n    this.url = url;\n  }\n}\n","import { UserSession } from '../config/UserSession';\nimport { SessionStorage } from '../storage/session/SessionStorage';\nimport { OnBeforeUnload } from '../utils/BeforeUnloadManager';\n\nimport { GtagLogger } from './GtagLogger';\nimport { Logger } from './Logger';\n\nclass CoreTelemetryControllerBase {\n  private initialTelemetryLogged: boolean = false;\n\n  private longTaskCount: number = 0;\n  private longTaskDuration: number = 0;\n\n  private gameState: string = '';\n\n  setGameState(state: string): void {\n    this.gameState = state;\n  }\n\n  constructor() {\n    // setting up telemetry observers, which will logg events in runtime\n    this.setupGenericErrorLogging();\n    this.setupPreviousSessionHandlers();\n    this.setupLongTaskLogging();\n    this.setupSessionLogging();\n\n    // initial logging on app start\n    this.logSessionStorageAvailability();\n  }\n\n  /*\n   * Called when the app is loaded and ready\n   * */\n  logInitialTelemetry(): void {\n    if (this.initialTelemetryLogged) return;\n    this.initialTelemetryLogged = true;\n\n    this.logPerformance();\n    this.logReady();\n    this.logLanguage();\n    this.logSystemInfo();\n\n    this.logGtag();\n  }\n\n  /* Setup */\n  private setupGenericErrorLogging(): void {\n    window.addEventListener('error', (event) => {\n      Logger.logFailure(`${event.error?.name}`, {\n        place: 'general',\n        additional: event.message,\n      });\n      Logger.logException(event.error);\n    });\n  }\n\n  private setupPreviousSessionHandlers(): void {\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        SessionStorage.setJson('previousSession', {\n          sessionBitMask: '0',\n        });\n      }\n    });\n\n    OnBeforeUnload.registerCallback(() => {\n      SessionStorage.setJson('previousSession', {\n        sessionBitMask: '0',\n      });\n    });\n  }\n\n  private setupLongTaskLogging(): void {\n    try {\n      const observer = new PerformanceObserver((list) => {\n        list.getEntries().forEach((entry) => {\n          this.longTaskCount += 1;\n          this.longTaskDuration += entry.duration;\n        });\n      });\n\n      observer.observe({ type: 'longtask', buffered: true });\n\n      Logger.logEvent('performanceLongTaskTiming', {\n        additional: 'available',\n      });\n    } catch (error) {\n      Logger.logEvent('performanceLongTaskTiming', {\n        additional: 'unavailable',\n      });\n    }\n\n    OnBeforeUnload.registerCallback(() => {\n      Logger.logDuration(\n        'performance',\n        'performanceLongTaskTiming',\n        Date.now(),\n        this.longTaskDuration,\n        '',\n        false,\n        this.longTaskCount\n      );\n    }, true);\n  }\n\n  private setupSessionLogging(): void {\n    OnBeforeUnload.registerCallback(() => {\n      Logger.logDuration('performance', 'session', Date.now(), Math.round(performance.now()), this.gameState, false, 0);\n    }, true);\n  }\n\n  /* Logging */\n  private logSessionStorageAvailability(): void {\n    Logger.logEvent('sessionStorage', {\n      additional: SessionStorage.isAvailable() ? 'available' : 'unavailable',\n    });\n  }\n\n  private logPerformance(): void {\n    let performanceEntries = performance\n      .getEntriesByType('resource')\n      .filter((log) => (log as PerformanceResourceTiming).initiatorType == 'script' && log.name.endsWith('/bundle.js'));\n\n    performanceEntries.forEach((entry) => {\n      const size = (entry as PerformanceResourceTiming).transferSize;\n      Logger.updateBandwidth(Math.round((size / entry.duration) * 1000));\n    });\n\n    performanceEntries = performance\n      .getEntriesByType('resource')\n      .filter((log) => (log as PerformanceResourceTiming).initiatorType == 'fetch');\n\n    let perfMeasured: boolean = false;\n    const metricNameRegEx = /\\/([\\w.]+)\\?/;\n    performanceEntries.forEach((entry) => {\n      const metricName = metricNameRegEx.exec(entry.name)?.[1];\n\n      if (metricName) {\n        Logger.logDuration('performance', metricName, Date.now(), Math.round(entry.duration), '', false);\n      }\n      if (!perfMeasured && entry.name.indexOf('/bundle.')) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        const transferSize = entry.transferSize;\n        const isFromCache = transferSize <= 500;\n        Logger.logEvent('loaded_from_cache', {\n          loggerName: 'performance',\n          additional: '' + isFromCache,\n          bandwidth: transferSize,\n        });\n        perfMeasured = true;\n      }\n    });\n  }\n\n  private logReady(): void {\n    Logger.logDuration('performance', 'ready', Date.now(), Math.round(performance.now()), '', false);\n\n    const loadingStartContext = {\n      standalone: window.parent === window,\n      initial: !SessionStorage.get('previousSession'),\n    };\n    Logger.logEvent('ready', {\n      additional: `${loadingStartContext.initial ? 'initial' : 'refresh'}_${\n        loadingStartContext.standalone ? 'standalone' : 'iframe'\n      }`,\n      instant: true,\n    });\n    Logger.logUniqueEvent('ready');\n  }\n\n  private logLanguage(): void {\n    const userSession = UserSession.getSession();\n    const uiLang = userSession?.lang ?? null;\n    Logger.logEvent('language_' + uiLang, {\n      additional: navigator.language,\n    });\n  }\n\n  private logSystemInfo(): void {\n    if (window.navigator.hardwareConcurrency) {\n      Logger.logEvent('system_core_count', {\n        additional: '' + window.navigator.hardwareConcurrency,\n      });\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const connection = window.navigator.connection;\n    if (connection) {\n      if (connection.effectiveType) {\n        Logger.logEvent('system_connection_type', {\n          additional: connection.effectiveType,\n        });\n      }\n      if (connection.rtt) {\n        Logger.logEvent('system_connection_rtt', {\n          additional: connection.rtt,\n        });\n      }\n    }\n  }\n\n  private logGtag(): void {\n    const loadingTimeForGtag = performance.measure('loadingTimeForGtag', 'loadStartForGtag');\n    if (loadingTimeForGtag?.duration) {\n      GtagLogger.logEvent('game-loaded', loadingTimeForGtag.duration / 1000);\n    } else {\n      GtagLogger.logEvent('game-loaded', 0);\n    }\n  }\n}\n\nexport const CoreTelemetryController = new CoreTelemetryControllerBase();\n","import { UnauthorizedError } from '../../errors/UnauthorizedError';\nimport { resolveEndpoint } from '../../resolveEndpoint';\nimport type { IEndpoint } from '../../types';\n\nimport { IUserInfoResponseUI, IUserInfoResponseWALLET, UserInfoType, UserInfoVersion } from './types';\n\nexport const userInfoEndpoint: IEndpoint<UserInfoType, { totalBalance: boolean }> = resolveEndpoint('userInfo', {\n  [UserInfoVersion.UI]: {\n    url: '/api/ui/balance',\n    parser: (rawResponse, { totalBalance }): UserInfoType => {\n      const response = rawResponse as IUserInfoResponseUI;\n      if (response['errorCode'] === 1) {\n        throw new UnauthorizedError('userInfoEndpoint: ' + response['description']);\n      }\n      return {\n        casinoId: response.casinoId,\n        userId: response.userId,\n        userType: response.userType,\n        screenName: response.screenName,\n        country: response.countryCode,\n        enrolmentDate: response.enrollmentDate,\n        hasActiveBets: response.hasActiveBets,\n        ranking: response.ranking,\n        points: response.points,\n        balance: {\n          amount: totalBalance ? Number(response.balance) + Number(response.bonusBalance) : Number(response.balance),\n          bonus: totalBalance ? 0 : Number(response.bonusBalance),\n          currency: response.currency,\n          currencySymbol: response.currencyCode,\n          currencySymbolBefore: response.currencySymbolBefore,\n          updateTimestamp: Date.now(),\n        },\n      };\n    },\n    format: 'json',\n  },\n  [UserInfoVersion.WALLET]: {\n    url: '/api/wallet/balance',\n    parser: (rawResponse, { totalBalance }): UserInfoType => {\n      const response = rawResponse as IUserInfoResponseWALLET;\n      if (response['errorCode'] === 1) {\n        throw new UnauthorizedError('userInfoEndpoint: ' + response['description']);\n      }\n      return {\n        casinoId: response.casinoId,\n        userId: response.userId,\n        userType: response.userType,\n        screenName: response.screenName,\n        country: response.countryCode,\n        enrolmentDate: response.enrollmentDate,\n        hasActiveBets: response.hasActiveBets,\n        ranking: response.ranking,\n        points: response.points,\n        balance: {\n          amount: totalBalance ? Number(response.balance) + Number(response.bonusBalance) : Number(response.balance),\n          bonus: totalBalance ? 0 : Number(response.bonusBalance),\n          currency: response.currency,\n          currencySymbol: response.currencyCode,\n          currencySymbolBefore: response.currencySymbolBefore,\n          updateTimestamp: Date.now(),\n        },\n      };\n    },\n    format: 'json',\n  },\n});\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport { userInfoEndpoint } from './endpoints';\nimport { UserInfoType } from './types';\n\nexport interface FetchUserInfoParams {\n  JSESSIONID: string;\n  force?: boolean;\n  baseUrl: string;\n  totalBalance?: boolean;\n}\n\nexport const fetchUserInfo = ({\n  JSESSIONID,\n  force,\n  baseUrl,\n  totalBalance,\n}: FetchUserInfoParams): Promise<UserInfoType> => {\n  const url = `${baseUrl}${userInfoEndpoint.url}`;\n  return Fetcher.fetch(url, {\n    force,\n    params: {\n      JSESSIONID,\n    },\n    format: 'json',\n  }).then((resUserInfo) => {\n    updateApiMask(ApiMask.Balance);\n    return userInfoEndpoint.parser(resUserInfo, { totalBalance: !!totalBalance });\n  });\n};\n","export interface BalanceType {\n  amount: number;\n  bonus: number;\n  currency: string;\n  currencySymbol: string;\n  currencySymbolBefore: boolean;\n  updateTimestamp: number;\n}\n\nexport interface UserInfoType {\n  casinoId: string;\n  userId: string;\n  userType: string;\n  screenName: string;\n  country: string;\n  enrolmentDate: string;\n  hasActiveBets: boolean;\n  ranking: number | string;\n  points: number | string;\n  balance: BalanceType;\n}\n\nexport enum UserInfoVersion {\n  UI = 'ui',\n  WALLET = 'wallet',\n}\n\nexport interface IUserInfoResponseUI {\n  balance: number | string;\n  bonusBalance: number | string;\n  casinoId: string;\n  countryCode: string;\n  currency: string;\n  currencyCode: string;\n  currencySymbolBefore: boolean;\n  enrollmentDate: string;\n  hasActiveBets: boolean;\n  points: number | string;\n  ranking: number | string;\n  screenName: string;\n  userId: string;\n  userType: string;\n  errorCode?: number;\n  description?: string;\n}\n\nexport interface IUserInfoResponseWALLET {\n  balance: number;\n  blockSafebets: false;\n  bonusBalance: number;\n  casinoId: string;\n  countryCode: string;\n  currency: string;\n  currencyCode: string;\n  currencySymbolBefore: boolean;\n  currentPlaythrough: null;\n  enrollmentDate: string;\n  hasActiveBets: boolean;\n  points: number;\n  ranking: number;\n  requiredPlaythrough: null;\n  screenName: string;\n  thirdpartySession: null;\n  totalBalance: number;\n  userId: string;\n  userType: string;\n  errorCode?: number;\n  description?: string;\n}\n","import { Jurisdiction } from \"./types\";\n\nexport const getJurisdictionData = (jurisdiction: string): Jurisdiction => {\n    if (!jurisdiction) {\n        return { disableChat: false, showTableLimitsPopup: false };\n    }\n    const JurisdictionOptions = jurisdiction.split(',').map((value: string) => value.toLowerCase());\n    return {\n        disableChat: JurisdictionOptions.includes(`disable_chat`) ?? false,\n        showTableLimitsPopup: JurisdictionOptions.includes(`show_table_limits_popup`) ?? false,\n    };\n};","import { ForbiddenError } from '../../errors/ForbiddenError';\nimport { ForbiddenErrors } from '../../errors/types';\n\nimport type { IServerTableConfigResponse, ParseBetLimitsType, PayoutType, TableConfigType } from './types';\nimport { getJurisdictionData } from './utils';\n\nconst chipColorCodesNormalizer = (colorCodes: string | string[] | undefined): string[] => {\n  if (typeof colorCodes === 'string') {\n    return colorCodes.split(',');\n  }\n\n  return Array.isArray(colorCodes) ? colorCodes : [];\n};\n\nconst parsePayouts = (betCode: IServerTableConfigResponse['betCode']): PayoutType[] => {\n  if (!betCode) {\n    return [];\n  } else {\n    const bets = Object.keys(betCode);\n    const payouts: PayoutType[] = [];\n    bets.forEach((bet) => {\n      if (betCode[bet] !== undefined) {\n        payouts.push({\n          code: parseInt(bet),\n          payout: Number(betCode[bet]),\n        });\n      }\n    });\n    return payouts;\n  }\n};\n\nexport const mainTableConfigParser = ({\n  resResult,\n  parseBetLimits,\n}: {\n  resResult: IServerTableConfigResponse;\n  parseBetLimits: ParseBetLimitsType;\n}): TableConfigType => {\n  if (resResult.params?.errorCode?.toString() === '1052') {\n    throw new ForbiddenError(ForbiddenErrors.TABLE_BLOCKED_FOR_COUNTRY);\n  }\n  if (\n    !resResult.params ||\n    !resResult.betCode ||\n    !resResult.operatorGameId ||\n    !resResult.tableId ||\n    !resResult.tableName\n  ) {\n    throw new Error('Table config does not have required data');\n  }\n  try {\n    return {\n      aamsSessionId: resResult.params.aamsSessionId,\n      aamsTicket: resResult.params.aamsTicket,\n      betCode: resResult.betCode,\n      betLimits: parseBetLimits(resResult.params),\n      bettingTime: resResult.params.betting_time,\n      chipAmounts: resResult.params.chip_amounts\n        ? resResult.params.chip_amounts.split(',').map((el: string) => Number.parseFloat(el))\n        : [],\n      chipColorCodes: chipColorCodesNormalizer(resResult.params.chip_color_codes),\n      dedicatedLanguage: resResult.params.dedicatedLanguage,\n      defaultChipOrder: resResult.params.default_chip_order,\n      enableVideoStats: resResult.params.enable_video_stats,\n      gameStatsAddress: resResult.params.gamestats_address,\n      gameTypeId: resResult.params.gametype_id,\n      gsAddress: resResult.params.gs_address,\n      hlsLocation: resResult.params.hls_location,\n      hideLobby: resResult.params.hide_lobby,\n      idleLimit: resResult.params.idle_limit_games,\n      isPrizeDropBetDataSendEnabled: resResult.params.isPrizeDropBetDataSendEnabled,\n      isPromoBetDataSendEnabled: resResult.params.isPromoBetDataSendEnabled,\n      openHours: resResult.params.open_hours,\n      openTime: resResult.params.openTime,\n      operatorGameId: resResult.operatorGameId,\n      operatorTheme: resResult.params.operator_theme,\n      perPayoutBetMaxLimit: resResult.params.per_bet_payout_max,\n      payouts: parsePayouts(resResult.betCode),\n      retrieveVideoQuality: resResult.params.retrive_video_quality,\n      sessionLaunchTimePerTable: resResult.params.session_launch_time_per_table,\n      storeVideoQuality: resResult.params.store_video_quality,\n      subtitlesAvailable: resResult.params.subtitles_available === true,\n      tableBetLimit: {\n        max: resResult.params.table_bet_max_limit,\n        min: resResult.params.table_bet_min_limit,\n      },\n      tableClosed: resResult.params.table_closed ?? true,\n      tableName: resResult.tableName,\n      tableType: resResult.params.table_type,\n      videoLocation: resResult.params.video_location,\n      videoPlayerVersion: resResult.params.video_player_version,\n      winMessageBranding: resResult.params.youwinfeature,\n      wsAddress: resResult.params.ws_address,\n      broadcasterWsAddress: resResult.params.broadcaster_ws + '/broadcast',\n      broadcasterEnabled: resResult.params.broadcaster_enabled,\n      chatVisibleByDefault: resResult.params.chatVisibleByDefault,\n      isInfiniteAutoPlayEnabled: resResult.params.isInfiniteAutoPlayEnabled,\n      maxMultiplier: resResult.params.max_multiplier,\n      payoutBetMaxLimit: resResult.params.payout_bet_max_limit,\n      customMultiplierCap: resResult.params.custommultipliercap,\n      tablePayoutMax: resResult.params.table_payout_max,\n      canvasEnabled: resResult.params.canvasEnabled,\n      euroTablePayoutMax: resResult.params.euro_table_payout_max,\n      chatDisabled: resResult.params.chat_disabled,\n      tableVariant: resResult.params.tableVariant,\n      showPPBranding: resResult.params.show_pp_branding ?? false,\n      hasNoCommissionToggle: resResult.params.hasnocommissiontoggle,\n      audioMode: resResult.params.audioMode,\n      megaBaccaratMegaFeePercent: resResult.params.megabaccarat_mega_fee_percent,\n      disableChineseChar: resResult.params.disable_chinese_char,\n      disableSideBets: resResult.params.disableSideBets,\n      operatorMusic: resResult.params.operator_music,\n      bgMusic: resResult.params.bg_music,\n      defaultBetAmount: resResult.params.default_bet_amount,\n      jurisdiction: getJurisdictionData(resResult.params.jurisdiction_functionalities)\n    };\n  } catch {\n    throw new Error('Something is missing in table config');\n  }\n};\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport { mainTableConfigParser } from './parser';\nimport { jspTableConfigParser } from './parserJsp';\nimport type { IServerTableConfigResponse, ITableConfigParserOptions, TableConfigType } from './types';\n\nexport interface IFetchTableConfigParams {\n  baseUrl: string;\n  parserOptions: ITableConfigParserOptions;\n  params: any;\n}\n\n// Use JSP or JSON API fetcher based on ENDPOINT_TABLE_CONFIG value in manifest\nexport const fetchTableConfig = (params: IFetchTableConfigParams): Promise<TableConfigType> => {\n  return ENDPOINT_TABLE_CONFIG === 'jsp' ? fetchTableConfigJsp(params) : fetchTableConfigJson(params);\n};\n\nconst fetchTableConfigJsp = ({ baseUrl, params, parserOptions }: IFetchTableConfigParams): Promise<TableConfigType> => {\n  const url = `${baseUrl}/cgibin/tableconfig.jsp`;\n  const jspFetchParams = { JSESSIONID: params.JSESSIONID, table_id: params.tableId }; // todo: investigate why other games include 'ck' and 'game_mode' params\n\n  return Fetcher.fetch<string>(url, { params: jspFetchParams, format: 'text' })\n    .then((response) => jspTableConfigParser({ resResult: response, parseBetLimits: parserOptions.parseBetLimits }))\n    .then((parsedResponse) => {\n      updateApiMask(ApiMask.TableConfig);\n      return parsedResponse;\n    });\n};\n\nconst fetchTableConfigJson = ({\n  baseUrl,\n  params,\n  parserOptions,\n}: IFetchTableConfigParams): Promise<TableConfigType> => {\n  const url = `${baseUrl}/api/ui/tableConfig`;\n\n  return Fetcher.fetch<IServerTableConfigResponse | { errorCode: string | number; description: string }>(url, {\n    params,\n  })\n    .then((response) => {\n      if ('description' in response || 'errorCode' in response) {\n        throw new Error(response.description || response.errorCode.toString());\n      }\n\n      return mainTableConfigParser({\n        resResult: response,\n        parseBetLimits: parserOptions.parseBetLimits,\n      });\n    })\n    .then((parsedResponse) => {\n      updateApiMask(ApiMask.TableConfig);\n      return parsedResponse;\n    });\n};\n","export type TotalBetOverrider = (totalBet: number) => number;\n\n/**\n * **BetOverrider** is used to override the total bet calculation. This is useful when a game has a special multiplier on the whole bet.\n *\n * It uses the totalBetOverrider function to calculate the total bet. This can be set by the setTotalBetOverrider method.\n *\n * Each time totalBetOverrider function has changed, the handleTotalBetOverriderChange function is called, which allows triggering side effects,\n * like, for example, recalculating the total bet, if function has either changed or was removed.\n *\n * To utilise this functionality in the game, game should just set the totalBetOverrider function to the desired one, when necessary.\n * **If game does not need to override the total bet calculation - no extra logic on the game side is needed.**\n *\n * @property totalBetOverrider - the function that overrides the total bet calculation\n * @property defaultTotalBetOverrider - the default total bet overrider function, which just returns the total bet.\n * @property handleTotalBetOverriderChange - the function that is called when the total bet overrider is changed\n *\n * @method setTotalBetOverrider - sets the total bet overrider function\n * @method removeTotalBetOverrider - removes the total bet overrider function, and uses the default one\n * @method onTotalBetOverriderChange - sets the function that is called when the total bet overrider is changed. **Not meant to be used by a game.**\n * @internal\n * */\nexport class BetOverrider {\n  public static totalBetOverrider: TotalBetOverrider = (totalBet) => totalBet;\n  static defaultTotalBetOverrider: TotalBetOverrider = (totalBet) => totalBet;\n  public static handleTotalBetOverriderChange: (() => void) | null = null;\n\n  public static setTotalBetOverrider(totalBetOverrider: TotalBetOverrider): void {\n    this.totalBetOverrider = totalBetOverrider;\n    this.handleTotalBetOverriderChange?.();\n  }\n\n  public static removeTotalBetOverrider(): void {\n    this.totalBetOverrider = this.defaultTotalBetOverrider;\n    this.handleTotalBetOverriderChange?.();\n  }\n\n  public static onTotalBetOverriderChange(callback: (() => void) | null): void {\n    this.handleTotalBetOverriderChange = callback;\n  }\n}\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { CrossOriginCommunication } from '../../controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport type { ICrossOriginCommunicator } from '../../controllers/crossOriginCommunication/types';\nimport { IntegrationApi, OutgoingMessage } from '../../controllers/crossOriginCommunication/types';\nimport { importCommunicator } from '../../controllers/crossOriginCommunication/utils';\nimport { Logger } from '../../logger/Logger';\nimport { fetchCasinoConfigAction } from '../apiActions/fetchCasinoConfigAction';\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport type { CoreRootState, CoreStoreType } from '../CoreStore';\n\nexport const crossOriginCommunicationMiddleware = createListenerMiddleware<CoreRootState>();\n\ncrossOriginCommunicationMiddleware.startListening({\n  actionCreator: fetchCasinoConfigAction.fulfilled,\n  effect: (_, store) => {\n    const config = store.getState().config;\n    const casinoConfig = config.casinoConfig;\n    const integrationApi = casinoConfig?.integrationApi?.length\n      ? casinoConfig.integrationApi\n      : [IntegrationApi.Default];\n    /**\n     * if no configuration is coming from response\n     * or it gets parsed to an empty array,\n     * the default communicator needs to be initialized\n     */\n    integrationApi.forEach((integration) => {\n      importCommunicator(integration)\n        .then((communicator) => {\n          initCommunicator(communicator, store as never);\n\n          CrossOriginCommunication.dispatch(OutgoingMessage.GameLoadStart, {\n            tableId: config.tableConfig?.operatorGameId,\n            isResponsibleGamingEnabled:\n              casinoConfig?.isMicroGamingEnabled && casinoConfig?.isResponsibleGamingEnabled && !(store as any).lobby,\n          });\n        })\n        .catch((integration) => Logger.logFailure('integrationApi', { additional: integration }));\n    });\n  },\n});\n\ncrossOriginCommunicationMiddleware.startListening({\n  actionCreator: fetchUserInfoAction.fulfilled,\n  effect: (_, store) => {\n    CrossOriginCommunication.dispatch(OutgoingMessage.UpdateBalance, {\n      balance: store.getState().gameState.userInfo?.balance,\n    });\n  },\n});\n\ncrossOriginCommunicationMiddleware.startListening({\n  predicate: (_, currentState, previousState) => currentState.bets?.totalBet !== previousState.bets?.totalBet,\n  effect: (_, store) => {\n    const state = store.getState();\n\n    CrossOriginCommunication.dispatch(OutgoingMessage.UpdateBets, {\n      balance: state.gameState.userInfo?.balance,\n      totalBet: state.bets?.totalBet ?? 0,\n    });\n  },\n});\n\ncrossOriginCommunicationMiddleware.startListening({\n  predicate: (_, currentState, previousState) =>\n    currentState.gameState.winResult?.amount !== previousState.gameState.winResult?.amount,\n  effect: (_, store) => {\n    const gameState = store.getState().gameState;\n\n    CrossOriginCommunication.dispatch(OutgoingMessage.UpdateWin, {\n      balance: gameState.userInfo?.balance,\n      winResultAmount: gameState.winResult?.amount ?? 0,\n    });\n  },\n});\n\ncrossOriginCommunicationMiddleware.startListening({\n  predicate: (_, currentState, previousState) =>\n    (currentState.settings.volume.master.value === 0 && previousState.settings.volume.master.value !== 0) ||\n    (currentState.settings.volume.master.value !== 0 && previousState.settings.volume.master.value === 0),\n  effect: (_, store) => {\n    CrossOriginCommunication.dispatch(OutgoingMessage.UpdateSettings, {\n      masterVolume: store.getState().settings.volume.master.value,\n    });\n  },\n});\n\n// Utils\nconst initCommunicator = (communicator: ICrossOriginCommunicator, store: CoreStoreType): void => {\n  CrossOriginCommunication.setCommunicator(communicator);\n  CrossOriginCommunication.setStore(store);\n  CrossOriginCommunication.connect();\n};\n","import type { ICrossOriginCommunicator } from './types';\nimport { IntegrationApi } from './types';\n\nexport const importCommunicator = (integration: string): Promise<ICrossOriginCommunicator> => {\n  switch (integration) {\n    case IntegrationApi.PaddyPower:\n      return import('./paddypower/CrossOriginCommunicationPaddyPower').then((module) => module.default);\n    case IntegrationApi.SkyVegas:\n      return import('./SkyVegas/CrossOriginCommunicationSkyVegas').then((module) => module.default);\n    case IntegrationApi.BridgeApi:\n      return import('./bridgeapi/CrossOriginCommunicationBridgeApi').then((module) => module.default);\n    case IntegrationApi.DBOX:\n      return import('./DBOX/CrossOriginCommunicationDBOX').then((module) => module.default);\n    case IntegrationApi.GGNet:\n      return import('./GGNet/CrossOriginCommunicationGGNet').then((module) => module.default);\n    case IntegrationApi.Default:\n    case IntegrationApi.Empty:\n      return import('./default/CrossOriginCommunicationDefault').then((module) => module.default);\n    default:\n      return Promise.reject(new Error(integration));\n  }\n};\n","import type { CasinoConfigType } from './types';\n\nexport const areRequiredFilled = (obj: Partial<CasinoConfigType>): obj is CasinoConfigType => {\n  // List all properties of CasinoConfigType\n  const properties: (keyof CasinoConfigType)[] = ['casinoId', 'casinoName'];\n  return properties.every((property) => obj[property] !== undefined);\n};\n\nexport const tablesFormatter = (parsedTables: any): Record<string, string[]> => {\n  const tables: Record<string, string[]> = {};\n  for (const table in parsedTables) {\n    tables[table.toUpperCase()] = parsedTables[table];\n  }\n  return tables;\n};\n\nexport const tabsFormatter = (parsedTabs: any): string[] => parsedTabs?.tabs ?? [];\n\nexport const booleanFormatter = (value: unknown): boolean =>\n  isValidString(value) && validString(value).toLowerCase() === 'true';\n\nexport const parseFormatter = (value: unknown): Record<string, string> =>\n  isValidString(value) ? JSON.parse(validString(value)) : {};\n\nexport const splitFormatter = (value: unknown): string[] => (isValidString(value) ? validString(value).split(',') : []);\n\nexport const validString = (value: unknown): string => (value as string).trim();\n\nconst _regExWhiteSpace = RegExp(/^\\s*$/);\nexport const isValidString = (value: unknown): boolean =>\n  typeof value === 'string' && !!value && _regExWhiteSpace.exec(value) === null;\n","import { UnauthorizedError } from '../../errors/UnauthorizedError';\n\nimport type { CasinoConfigType, ICasinoConfigJson } from './types';\nimport {\n  areRequiredFilled,\n  booleanFormatter,\n  parseFormatter,\n  splitFormatter,\n  tablesFormatter,\n  tabsFormatter,\n} from './utils';\n\nexport const xml2CasinoConfig = (str: string): CasinoConfigType => {\n  const xml = new window.DOMParser().parseFromString(str, 'text/xml');\n  const elementsByTagName = xml.getElementsByTagName('casinoconfig-param');\n  const sessionStatus = xml.getElementsByTagName('session');\n  const isSessionExprired = sessionStatus[0]?.textContent === 'offline';\n\n  if (isSessionExprired) {\n    throw new UnauthorizedError('xml2CasinoConfig');\n  }\n  const result: Partial<CasinoConfigType> = {};\n  for (const element of elementsByTagName) {\n    for (const attr of element.attributes) {\n      const item = mapXmlAttrToTypeField(attr, element);\n      const field = item.field as keyof CasinoConfigType;\n      if (field) {\n        result[field] = item.value as never; //TODO: Really not the best way to handle that\n      }\n    }\n  }\n\n  // Checks if required fields are filled, only required fields for now are casinoId and casinoName\n  if (!areRequiredFilled(result)) {\n    throw new Error('Casino config is not full');\n  }\n  return result;\n};\n\nconst mapXmlAttrToTypeField = (\n  attr: Attr,\n  element: Element\n): { field?: string; value?: string | boolean | Record<string, string[]> | string[] } => {\n  switch (attr.name) {\n    case 'bonus_balance':\n      return { field: 'showBonusBalance', value: attr.value === 'true' };\n    case 'cashier_iframe_event':\n      return { field: 'cashierIframeEvent', value: attr?.value === 'true' };\n    case 'cashier_mobile':\n      return { field: 'cashierUrlMobile', value: attr.value };\n    case 'cashier_popup_enabled':\n      return { field: 'cashierPopupEnabled', value: attr.value === 'true' };\n    case 'cashier_url':\n      return { field: 'cashierUrl', value: attr.value };\n    case 'cashier_url_first':\n      return { field: 'cashierUrlFirst', value: attr.value };\n    case 'casinoRegion':\n      return { field: 'casinoRegion', value: attr.value };\n    case 'casino_id':\n      return { field: 'casinoId', value: attr.value };\n    case 'casino_name':\n      return { field: 'casinoName', value: attr.value };\n    case 'chat_disabled':\n      return { field: 'chatDisabled', value: attr.value === 'true' };\n    case 'exit_url':\n      return { field: 'exitUrl', value: attr.value };\n    case 'hide_bonus':\n      return { field: 'hideBonusBalance', value: attr.value === 'true' };\n    case 'hide_currency':\n      return { field: 'hideCurrency', value: attr.value === 'true' };\n    case 'hide_lobby_buttons':\n      return { field: 'hideLobbyButtons', value: attr.value === 'true' };\n    case 'hidefullscreenbtn':\n      return { field: 'hideFullScreenBtn', value: attr.value === 'true' };\n    case 'home_url':\n      return { field: 'homeUrl', value: attr.value };\n    case 'integration_api':\n      return { field: 'integrationApi', value: attr.value.split(',') };\n    case 'is_sisal':\n      return { field: 'isSisalEnabled', value: attr.value === 'true' };\n    case 'ismanualpayout':\n      return { field: 'isManualPayout', value: attr.value == 'true' };\n    case 'italianlobbyenabled':\n      return { field: 'isSessionBalanceEnabled', value: attr.value === 'true' };\n    case 'languages':\n      return { field: 'languages', value: splitFormatter(attr.value) };\n    case 'launch_res_gaming':\n      return { field: 'isResponsibleGamingEnabled', value: attr.value === 'true' };\n    case 'lobby_version':\n      return { field: 'lobbyVersion', value: attr.value };\n    case 'micro_gaming':\n      return { field: 'isMicroGamingEnabled', value: attr.value === 'true' };\n    case 'multitablesupport':\n      return { field: 'isLauncherEnabled', value: attr.value === 'true' };\n    case 'net_position':\n      return { field: 'forceHideNetPosition', value: attr.value === 'false' };\n    case 'notify_close_container':\n      return { field: 'notifyCloseContainer', value: attr.value === 'true' };\n    case 'remove_autoplay_uk':\n      return { field: 'hideAutoplay', value: attr.value === 'true' };\n    case 'remove_autoplay':\n      return { field: 'removeAutoplay', value: attr.value === 'true' };\n    case 'return_main_page':\n      return { field: 'returnMainPage', value: attr.value === 'true' };\n    case 'show_alderney_msg':\n      return { field: 'showAlderneyMsg', value: attr.value === 'true' };\n    case 'show_nickname_disclaimer':\n      return { field: 'showNicknameDisclaimer', value: attr.value === 'true' };\n    case 'restrict_nickname_edit':\n      return { field: 'restrictNicknameEdit', value: attr.value === 'true' };\n    case 'slotslobbyenabled':\n      return { field: 'slotsLobbyEnabled', value: attr.value === 'true' };\n    case 'show_nl_min_bet_toaster':\n      return { field: 'showNlMinBetToast', value: attr.value === 'true' };\n    case 'type':\n      switch (attr.value) {\n        case 'tabs_order':\n          return { field: 'tabs', value: JSON.parse(element.innerHTML).tabs };\n        case 'tables_order': {\n          const tables: Record<string, string[]> = {};\n          const parsedTables = JSON.parse(element.innerHTML);\n          for (const table in parsedTables) {\n            tables[table.toUpperCase()] = parsedTables[table];\n          }\n          return { field: 'tables', value: tables };\n        }\n        default:\n          return { field: undefined, value: undefined };\n      }\n    case 'voice_over_tables':\n      return { field: 'voiceOverTables', value: attr.value.split(',') };\n    default:\n      return { field: undefined, value: undefined };\n  }\n};\n\nexport const casinoConfigParserJson = (response: ICasinoConfigJson): CasinoConfigType => {\n  const params = response.params;\n  return {\n    cashierIframeEvent: booleanFormatter(params.cashier_iframe_event),\n    cashierPopupEnabled: booleanFormatter(params.cashier_popup_enabled),\n    cashierUrl: params.cashier_url,\n    cashierUrlFirst: params.cashier_url_first,\n    cashierUrlMobile: params.cashier_mobile,\n    casinoId: response.casinoId,\n    casinoName: response.casinoName,\n    casinoRegion: response.casinoRegion,\n    chatDisabled: booleanFormatter(params.chat_disabled),\n    exitUrl: params.exit_url,\n    forceHideNetPosition: params.net_position === 'false',\n    heroBanners: splitFormatter(params.hero_banners),\n    hideAutoplay: booleanFormatter(params.remove_autoplay_uk),\n    removeAutoplay: booleanFormatter(params.remove_autoplay),\n    hideBonusBalance: booleanFormatter(params.hide_bonus),\n    hideCurrency: booleanFormatter(params.hide_currency),\n    hideFullScreenBtn: booleanFormatter(params.hidefullscreenbtn),\n    hideLobbyButtons: booleanFormatter(params.hide_lobby_buttons),\n    homeUrl: response.params.home_url,\n    integrationApi: splitFormatter(params.integration_api),\n    isSisalEnabled: booleanFormatter(params.is_sisal),\n    isManualPayout: params.ismanualpayout == 'true', // FIXME: not strict check?\n    isMicroGamingEnabled: booleanFormatter(params.micro_gaming),\n    isResponsibleGamingEnabled: booleanFormatter(params.launch_res_gaming),\n    isSessionBalanceEnabled: booleanFormatter(params.italianlobbyenabled),\n    languages: splitFormatter(params.languages),\n    lobbyVersion: params.lobby_version,\n    isLauncherEnabled: booleanFormatter(params.multitablesupport),\n    notifyCloseContainer: booleanFormatter(params.notify_close_container),\n    returnMainPage: booleanFormatter(params.return_main_page),\n    showAlderneyMsg: booleanFormatter(params.show_alderney_msg),\n    showBonusBalance: booleanFormatter(params.bonus_balance),\n    showNicknameDisclaimer: booleanFormatter(params.show_nickname_disclaimer),\n    slotsLobbyEnabled: booleanFormatter(params.slotslobbyenabled),\n    tables: tablesFormatter(parseFormatter(params.tables_order)),\n    tabs: tabsFormatter(parseFormatter(params.tabs_order)),\n    voiceOverTables: splitFormatter(params.voice_over_tables),\n    showNlMinBetToast: booleanFormatter(params.show_nl_min_bet_toaster),\n  };\n};\n","import { resolveEndpoint } from '../../resolveEndpoint';\nimport type { IEndpoint } from '../../types';\n\nimport { casinoConfigParserJson, xml2CasinoConfig } from './parsers';\nimport { CasinoConfigType, CasinoConfigVersion, ICasinoConfigJson } from './types';\n\nexport const casinoConfigEndpoint: IEndpoint<CasinoConfigType, undefined> = resolveEndpoint('casinoConfig', {\n  [CasinoConfigVersion.JSP]: {\n    url: '/cgibin/casinoconfig.jsp',\n    parser: (rawResponse): CasinoConfigType => xml2CasinoConfig(rawResponse as string),\n    format: 'text',\n  },\n  [CasinoConfigVersion.JSON]: {\n    url: '/api/config/casino',\n    parser: (rawResponse): CasinoConfigType => casinoConfigParserJson(rawResponse as ICasinoConfigJson),\n    format: 'json',\n  },\n});\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport { casinoConfigEndpoint } from './endpoints';\nimport type { CasinoConfigType } from './types';\n\nexport interface FetchCasinoConfigParams {\n  JSESSIONID: string;\n  baseUrl: string;\n  language?: string;\n}\n\nexport const fetchCasinoConfig = ({\n  JSESSIONID,\n  baseUrl,\n  language,\n}: FetchCasinoConfigParams): Promise<CasinoConfigType> => {\n  const params: Record<string, string> = {\n    JSESSIONID,\n  };\n\n  if (language) {\n    params.ln = language;\n  }\n\n  return Fetcher.fetch<unknown>(`${baseUrl}${casinoConfigEndpoint.url}`, {\n    params,\n    format: casinoConfigEndpoint.format,\n  }).then((result: unknown) => {\n    const parsedResult = casinoConfigEndpoint.parser(result, undefined);\n\n    updateApiMask(ApiMask.CasinoConfig);\n    return parsedResult;\n  });\n};\n","export enum CasinoConfigVersion {\n  JSON = 'json',\n  JSP = 'jsp',\n}\n\nexport interface CasinoConfigType {\n  bonusBalance?: boolean;\n  cashierIframeEvent?: boolean;\n  cashierPopupEnabled?: boolean;\n  cashierUrl?: string;\n  cashierUrlFirst?: string;\n  cashierUrlMobile?: string;\n  casinoId: string;\n  casinoName: string;\n  casinoRegion?: string;\n  chatDisabled?: boolean;\n  exitUrl?: string;\n  forceAutoplayShow?: boolean;\n  forceHideNetPosition?: boolean;\n  heroBanners?: string[];\n  hideAutoplay?: boolean;\n  removeAutoplay?: boolean;\n  hideBonusBalance?: boolean;\n  hideCurrency?: boolean;\n  hideFullScreenBtn?: boolean;\n  hideLobbyButtons?: boolean;\n  homeUrl?: string;\n  integrationApi?: string[];\n  isLauncherEnabled?: boolean;\n  isManualPayout?: boolean;\n  isMicroGamingEnabled?: boolean;\n  isResponsibleGamingEnabled?: boolean;\n  isSessionBalanceEnabled?: boolean;\n  isSisalEnabled?: boolean;\n  languages: string[];\n  lobbyVersion?: string;\n  notifyCloseContainer?: boolean;\n  restrictNicknameEdit?: boolean;\n  returnMainPage?: boolean;\n  showAlderneyMsg?: boolean;\n  showBonusBalance?: boolean;\n  showNicknameDisclaimer?: boolean;\n  showNlMinBetToast?: boolean;\n  slotsLobbyEnabled: boolean;\n  tables: Record<string, string[]>;\n  tabs: string[];\n  voiceOverTables: string[];\n}\n\nexport interface ICasinoConfigJson {\n  casinoId: string;\n  casinoName: string;\n  casinoRegion: string;\n  params: {\n    apply_dga_optimisation: string;\n    bonus_balance: string;\n    cashier_iframe_event?: string;\n    cashier_mobile?: string;\n    cashier_popup_enabled?: string;\n    cashier_url?: string;\n    cashier_url_first?: string;\n    chat_disabled?: string;\n    chat_logo_bg: string;\n    clr_desktop: string;\n    clr_mobile: string;\n    displaynicknamedisclaimer: string;\n    enable_delta_messages: string;\n    enable_multibaccarat: string;\n    error_return_page: string;\n    estimated_micro_game_session_time: string;\n    exit_url?: string;\n    flags_lobby_tiles: string;\n    game_round_event: string;\n    gamecare_choice: string;\n    gmt_eight: string;\n    hero_banners?: string;\n    hide_bonus?: string;\n    hide_currency: string;\n    hide_inner_wheel: string;\n    hide_lobby_buttons: string;\n    hidefullscreenbtn?: string;\n    home_url?: string;\n    integration_api?: string;\n    is_sisal?: string;\n    ismanualpayout?: string;\n    italianlobbyenabled?: string;\n    languages: string;\n    launch_res_gaming?: string;\n    leaderboards: string;\n    lobby_bg: string;\n    lobby_logo: string;\n    lobby_version?: string;\n    micro_gaming?: string;\n    mobile_site: string;\n    multi_table_shortcuts: string;\n    multitablesupport?: string;\n    net_position: string;\n    notify_close_container?: string;\n    ping_language_timer: string;\n    powerup_consolation_bonus: string;\n    public_chat_filtration: string;\n    rank_enabled: string;\n    ranking_image: string;\n    remove_autoplay_uk?: string;\n    remove_autoplay?: boolean;\n    restrict_nickname_edit?: string;\n    return_main_page?: string;\n    roulette_desktop_bg: string;\n    sendpositiveadjonly: string;\n    show_alderney_msg?: string;\n    show_nl_min_bet_toaster?: string;\n    show_nickname_disclaimer: string;\n    show_session_timer: string;\n    slotslobbyenabled: string;\n    subscriptiontoautoadjustmentapi: string;\n    syschat_enabled: string;\n    tables_order: string;\n    tabs_order: string;\n    tipping_enabled: string;\n    voice_over_tables: string;\n  };\n}\n","import type { AsyncThunk, ListenerMiddlewareInstance } from '@reduxjs/toolkit';\nimport { createListenerMiddleware, isAnyOf } from '@reduxjs/toolkit';\n\nimport { FetchErrorName } from '../../api/errors/types';\nimport { Curtain } from '../../components/curtain/Curtain';\nimport { PopupType } from '../../components/popup/types';\nimport { LoggerLogOnce } from '../../logger/Logger';\nimport { fetchAssignedTablesAction } from '../apiActions/fetchAssignedTablesAction';\nimport { fetchCasinoConfigAction } from '../apiActions/fetchCasinoConfigAction';\nimport { fetchEnvAction } from '../apiActions/fetchEnvAction';\nimport { rejectHistoryFetchAction } from '../apiActions/fetchHistoryAction';\nimport { fetchLiveSupportMessagesAction } from '../apiActions/fetchLiveSupportMessagesAction';\nimport { fetchPlayerConfigAction } from '../apiActions/fetchPlayerConfigAction';\nimport { fetchPlayerConfigSyncAction } from '../apiActions/fetchPlayerConfigSyncAction';\nimport { fetchRtpAction } from '../apiActions/fetchRtpAction';\nimport { fetchStatsConfigAction } from '../apiActions/fetchStatsConfigAction';\nimport { fetchStatsSettingsAction } from '../apiActions/fetchStatsSettingsAction';\nimport { fetchTableConfigAction } from '../apiActions/fetchTableConfigAction';\nimport { fetchTableLevelMessagesAction } from '../apiActions/fetchTableLevelMessagesAction';\nimport { fetchUserInfoAction } from '../apiActions/fetchUserInfoAction';\nimport { fetchVersionsAction } from '../apiActions/fetchVersionsAction';\nimport type { CoreDispatch, CoreRootState } from '../CoreStore';\nimport { gameStateActions } from '../slices/game/slice';\nimport { initializationActions } from '../slices/initialization/slice';\nimport { popupActions } from '../slices/popup/slice';\n\nconst defaultErrorActions = [\n  rejectHistoryFetchAction.rejected,\n  fetchAssignedTablesAction.rejected,\n  fetchCasinoConfigAction.rejected,\n  fetchEnvAction.rejected,\n  fetchLiveSupportMessagesAction.rejected,\n  fetchPlayerConfigAction.rejected,\n  fetchPlayerConfigSyncAction.rejected,\n  fetchRtpAction.rejected,\n  fetchStatsConfigAction.rejected,\n  fetchStatsSettingsAction.rejected,\n  fetchTableConfigAction.rejected,\n  fetchTableLevelMessagesAction.rejected,\n  fetchUserInfoAction.rejected,\n  fetchVersionsAction.rejected,\n];\n\ntype RejectedAction = AsyncThunk<unknown, any, any>['rejected'];\n\nexport interface ICreateFetchErrorMiddlewareOptions<ActionType extends RejectedAction> {\n  additionalActions?: ActionType[];\n}\n\nexport const createFetchErrorMiddleware = <ActionType extends RejectedAction>(\n  options?: ICreateFetchErrorMiddlewareOptions<ActionType>\n): ListenerMiddlewareInstance => {\n  const fetchErrorMiddleware = createListenerMiddleware();\n\n  const actions = options?.additionalActions\n    ? [...defaultErrorActions, ...options.additionalActions]\n    : defaultErrorActions;\n  const startListening = fetchErrorMiddleware.startListening.withTypes<CoreRootState, CoreDispatch>();\n\n  startListening({\n    matcher: isAnyOf(...actions),\n    effect: (action, { dispatch, getState }) => {\n      const state = getState();\n      if (!('popup' in state)) {\n        console.error('Store does not have a popup slice.');\n      }\n      const sessionExpirationPopupVisible = state.popup?.currentPopup?.popupName === PopupType.SessionExpired;\n\n      // If the request was essential, we should show a popup to the user\n      // We should not needlessly dispatch the popup if it is already visible\n      // Session expiration popup takes precedence over all other generic error popups\n      // Any session expiration error should be critical and display the blocking popup\n      let errorName = '';\n      if (\n        typeof action.error === 'object' &&\n        action.error !== null &&\n        'name' in action.error &&\n        typeof action.error.name === 'string'\n      ) {\n        errorName = errorName.concat(action.error.name);\n      }\n\n      switch (errorName) {\n        case FetchErrorName.UnauthorizedError:\n          LoggerLogOnce.logFailureOnce('errors', 'session', action.type, Date.now(), 1, 'fetchErrorMiddleware', true);\n\n          if (!sessionExpirationPopupVisible) {\n            Curtain.resurrect();\n            dispatch(popupActions.overwritePopup(PopupType.SessionExpired));\n            dispatch(gameStateActions.setGameAbandoned(true));\n          }\n          dispatch(initializationActions.setIsReadyToRender(false));\n          break;\n\n        case FetchErrorName.ForbiddenError:\n          // TODO: redirection is happening in game initializer. Refactor me\n          LoggerLogOnce.logFailureOnce('errors', 'forbidden', action.type, Date.now(), 1, 'fetchErrorMiddleware', true);\n          break;\n\n        default:\n          // TODO: Probably we need to log all critical errors here\n          if (\n            // Making typescript happy\n            typeof action.meta === 'object' &&\n            action.meta !== null &&\n            'arg' in action.meta &&\n            typeof action.meta?.arg === 'object' &&\n            action.meta.arg !== null &&\n            'essential' in action.meta.arg &&\n            action.meta.arg.essential &&\n            !sessionExpirationPopupVisible\n          ) {\n            dispatch(popupActions.pushPopup(PopupType.GenericError));\n          }\n          break;\n      }\n    },\n  });\n\n  return fetchErrorMiddleware;\n};\n","import { Fetcher } from '../../Fetcher';\n\nimport type { AssignedTablesType } from './types';\n\nexport interface FetchAssignedTablesParams {\n  JSESSIONID: string;\n  url: string;\n}\n\nexport const fetchAssignedTables = ({ JSESSIONID, url }: FetchAssignedTablesParams): Promise<AssignedTablesType> => {\n  return Fetcher.fetch<string>(url, {\n    params: {\n      JSESSIONID,\n      game_mode: 'lobby_desktop',\n    },\n    format: 'text',\n  }).then(xml2AssignedTables);\n};\n\nexport const xml2AssignedTables = (str: string): AssignedTablesType => {\n  const xml = new window.DOMParser().parseFromString(str.trim(), 'application/xml');\n  const tableGroupList = xml.querySelector('gametable');\n\n  const tableGroupExceptions = ['mtbGroups'];\n\n  const assignedTables: AssignedTablesType = [];\n\n  if (tableGroupList && tableGroupList.children.length > 0) {\n    for (const tableGroup of tableGroupList.children) {\n      if (tableGroup.children && tableGroup.children.length > 0 && !tableGroupExceptions.includes(tableGroup.tagName)) {\n        for (const table of tableGroup.children) {\n          const id = table.getAttribute('id');\n          const name = table.getAttribute('name');\n          const operatorGameId = table.getAttribute('operatorgameid');\n\n          if (id && name && operatorGameId) {\n            assignedTables.push({\n              id,\n              name,\n              operatorGameId,\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return assignedTables;\n};\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { EnvConfigType } from './types';\n\nexport interface FetchEnvParams {\n  url: string;\n  JSESSIONID: string;\n}\n\nexport const fetchEnv = ({ url, JSESSIONID }: FetchEnvParams): Promise<EnvConfigType> => {\n  return Fetcher.fetch<EnvConfigType>(url + '/api/env/getAll', {\n    params: {\n      JSESSIONID,\n    },\n  }).then<EnvConfigType>((result) => {\n    updateApiMask(ApiMask.EnvConfig);\n    return result;\n  });\n};\n","import { parseChatMessage } from '../../../utils/chat';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { ILiveSupportMessagesResponse, LiveSupportMessagesType } from './types';\n\nexport interface FetchLiveSupportMessagesParams {\n  url: string;\n  offset: number;\n  recordsPerPage: number;\n  tableId: string;\n  tagMessage: string;\n  timestamp: number;\n  userId: string;\n  action: string;\n}\n\nexport const fetchLiveSupportMessages = ({\n  url,\n  offset,\n  recordsPerPage,\n  tableId,\n  tagMessage,\n  timestamp,\n  userId,\n  action,\n}: FetchLiveSupportMessagesParams): Promise<LiveSupportMessagesType> => {\n  return Fetcher.fetch<ILiveSupportMessagesResponse>(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: {\n      offset,\n      recordsPerPage,\n      tableId,\n      tagMessage,\n      timestamp,\n      userId,\n      action,\n    },\n  }).then((response) => response.list.map((message) => parseChatMessage(message)));\n};\n","import { SubtitlesGroup } from '../../../store/slices/subtitles/types';\nimport { UnauthorizedError } from '../../errors/UnauthorizedError';\n\nimport type { Compliance, IPlayerConfigResponseJSON, IPlayerConfigResponseXML, ParserOptions, PlayerConfigType } from './types';\n\nexport const parsePlayerConfigResponseJSON = (\n  response: IPlayerConfigResponseJSON,\n  options: ParserOptions\n): PlayerConfigType => {\n  return {\n    netWinBalanceMap: response.netWinBalanceMap,\n    jwtToken: response.jwtToken || '',\n    userId: response.userId,\n    countryCode: response.playerIPCountry,\n    screenName: response.screenName,\n    operatorId: response.operatorId,\n    userType: response.userType,\n    jurisdiction: response.jurisdiction,\n    compliance: parseCompliance(response.jurisdiction, options.featureFlags),\n    videoVolume: response.params.video_sounds / 100,\n    gameEffectsVolume: response.params.game_effects / 100,\n    backgroundMusicVolume: response.params.bg_music / 100,\n    voiceOverVolume: response.params.vo_music / 100,\n    videoStream: parseGameIdString(response.params.video_stream, true, {\n      gameId: options.operatorGameId,\n      // Legacy game versions enable video stream for value `false` and disable for `true`.\n      // Keeping inverse logic here to avoid breaking player config on the server.\n      valueTransformer: (value: string) => value === 'true',\n    }),\n    selectedChipIndex: parseGameIdString(response.params.selected_chip, undefined, {\n      gameId: options.operatorGameId,\n      valueTransformer: parseInt,\n    }),\n    videoStreamRaw: response.params.video_stream ? { video_stream: response.params.video_stream } : undefined,\n    selectedChipParamsRaw: response.params.selected_chip ? { selected_chip: response.params.selected_chip } : undefined,\n    showOtherMessages: response.params.showothermessages,\n    subtitlesEnabled: parseSubtitlesEnabledGroups((group) => response.params[`sub_enabled_${group}`]),\n    subtitlesOnboarded: response.params.sub_onboarded ?? false,\n    subtitlesPositionsRaw: response.params.sub_positions ?? '',\n    subtitlesSize: response.params.sub_sizes ?? '',\n    currencyMultiplier: response.currencyMultiplier ? Number(response.currencyMultiplier) : 1,\n    lobbyFilters: parseLobbyFilters(response.params.lobby_filters),\n    isBanned: response.params.isBanned ? response.params.isBanned : false,\n    isSecondBetboardEnabled: response.params.issecondbetboardenabled ? response.params.issecondbetboardenabled : true,\n    hfAnimationEnabled: response.params.hf_animation_enabled ? response.params.hf_animation_enabled : true,\n    lobbyFavourites: parseLobbyFavourites(response.params.lobbyfavourites),\n    bcBonusBetShow: response.params.isbonusbetshow ?? true,\n    bcPairBets: response.params.ispairbets ?? true,\n    bcLightTheme: response.params.islighttheme ?? true,\n    bcHasNoCommission: response.params.isnocommission ?? true,\n    bcShowAllSideBets: response.params.showallsidebets ?? true,\n  };\n};\n\nexport const parsePlayerConfigResponseXML = (\n  response: IPlayerConfigResponseXML,\n  options: ParserOptions\n): PlayerConfigType => {\n  const {\n    user_id,\n    screenName,\n    operator_id,\n    user_type,\n    Jurisdiction,\n    player_ip_country,\n    jwtToken,\n    currency_multiplier,\n    'playerconfig-param': playerConfigParamsRaw,\n    nwb,\n    session,\n  } = response;\n\n  if (session === 'offline') {\n    throw new UnauthorizedError('parsePlayerConfigResponseXML');\n  }\n  // In some cases player config params may be sent as a single value\n  const playerConfigParams = Array.isArray(playerConfigParamsRaw) ? playerConfigParamsRaw : [playerConfigParamsRaw];\n\n  const compliance = parseCompliance(Jurisdiction, options.featureFlags);\n\n  const videoStream: boolean = parseParam(\n    playerConfigParams,\n    'video_stream',\n    true,\n    options.operatorGameId,\n    // Legacy game versions enable video stream for value `false` and disable for `true`.\n    // Keeping inverse logic here to avoid breaking player config on the server.\n    (value: string) => value === 'false'\n  );\n\n  const videoVolume: number = parseParam(\n    playerConfigParams,\n    'video_sounds',\n    1,\n    undefined,\n    (value: string) => parseInt(value) / 100\n  );\n\n  const gameEffectsVolume: number = parseParam(\n    playerConfigParams,\n    'game_effects',\n    0,\n    undefined,\n    (value: string) => parseInt(value) / 100\n  );\n\n  const backgroundMusicVolume: number = parseParam(\n    playerConfigParams,\n    'bg_music',\n    0,\n    undefined,\n    (value: string) => parseInt(value, 10) / 100\n  );\n\n  const voiceOverVolume: number = parseParam(\n    playerConfigParams,\n    'vo_music',\n    0,\n    undefined,\n    (value: string) => parseInt(value, 10) / 100\n  );\n\n  const selectedChipIndex: number | undefined = parseParam(\n    playerConfigParams,\n    'selected_chip',\n    undefined, // fallback to default_chip_order from tableConfig\n    options.operatorGameId,\n    parseInt\n  );\n\n  const isBanned = parseParam(playerConfigParams, 'isBanned', false, undefined, (value: string) => {\n    return value === 'true';\n  });\n  const netWinBalanceMap: Record<string, number> = nwb ? parseNetWinBalanceString(nwb) : {};\n\n  const lobbyFilters = parseParamLobbyFilters(playerConfigParams, 'lobby_filters');\n\n  const currencyMultiplier: number = currency_multiplier ? Number(currency_multiplier) : 1;\n\n  const videoStreamRaw = playerConfigParams?.find((item) => 'video_stream' in item);\n  const selectedChipParamsRaw = playerConfigParams?.find((item) => 'selected_chip' in item);\n  const showOtherMessages: boolean = parseParam(\n    playerConfigParams,\n    'showothermessages',\n    true,\n    undefined,\n    (value: string) => value === 'true'\n  );\n  const subtitlesEnabled = parseSubtitlesEnabledGroups((group) => {\n    return parseParam(\n      playerConfigParams,\n      `sub_enabled_${group}`,\n      undefined,\n      undefined,\n      (value: string) => value === 'true'\n    );\n  });\n  const subtitlesOnboarded = parseParam(\n    playerConfigParams,\n    'sub_onboarded',\n    false,\n    undefined,\n    (value: string) => value === 'true'\n  );\n  const subtitlesPositionsRaw = parseStringForJson(getValueByKey(playerConfigParams, 'sub_positions'));\n  const subtitlesSize = parseStringForJson(getValueByKey(playerConfigParams, 'sub_sizes'));\n  const isSecondBetboardEnabled: boolean = parseParam(\n    playerConfigParams,\n    'issecondbetboardenabled',\n    true,\n    undefined,\n    (value: string) => value === 'true'\n  );\n  const hfAnimationEnabled: boolean = parseParam(\n    playerConfigParams,\n    'hf_animation_enabled',\n    true,\n    undefined,\n    (value: string) => value === 'true'\n  );\n\n  const getAllBCPropValue = (): Record<string, boolean> => {\n    const BC_PLAYER_PROPS = ['bcbonusbetshow', 'bcpairbets', 'isnocommission', 'showbettingstats', 'showallsidebets'];\n    const returnPlayerProps = [\n      'bcBonusBetShow',\n      'bcPairBets',\n      'bcHasNoCommission',\n      'bcShowAllSideBets',\n      'bcShowBettingStats',\n    ];\n    const returnObj: Record<string, boolean> = {};\n    return BC_PLAYER_PROPS.reduce((acc, eachProp, ind) => {\n      const val = parseParam(playerConfigParams, eachProp, true, undefined, (value: string) => value === 'true');\n      acc[returnPlayerProps[ind] as string] = val;\n      return acc;\n    }, returnObj);\n  };\n  const bcLightTheme: boolean = parseParam(\n    playerConfigParams,\n    'bclighttheme',\n    true,\n    undefined,\n    (value: string) => value === 'true'\n  );\n  const { bcBonusBetShow, bcPairBets, bcHasNoCommission, bcShowAllSideBets, bcShowBettingStats } = getAllBCPropValue();\n\n  const lobbyFavourites = parseLobbyFavourites(getValueByKey(playerConfigParams, 'lobbyfavourites'));\n\n  return {\n    jwtToken,\n    userId: user_id,\n    countryCode: player_ip_country,\n    screenName,\n    operatorId: operator_id,\n    userType: user_type,\n    jurisdiction: Jurisdiction,\n    compliance,\n    videoVolume,\n    gameEffectsVolume,\n    videoStream,\n    selectedChipIndex,\n    videoStreamRaw,\n    selectedChipParamsRaw,\n    showOtherMessages,\n    subtitlesEnabled,\n    subtitlesOnboarded,\n    subtitlesPositionsRaw,\n    subtitlesSize,\n    currencyMultiplier,\n    lobbyFilters,\n    isBanned,\n    netWinBalanceMap,\n    isSecondBetboardEnabled,\n    hfAnimationEnabled,\n    lobbyFavourites,\n    bcBonusBetShow,\n    bcPairBets,\n    bcHasNoCommission,\n    bcShowBettingStats,\n    bcShowAllSideBets,\n    bcLightTheme,\n    backgroundMusicVolume,\n    voiceOverVolume,\n  };\n};\nexport const parseCompliance = (jurisdiction: string, featureFlags?: { [key: string]: boolean }): Compliance => {\n  // TODO: make server send compliance as flags and replace this function\n  switch (jurisdiction) {\n    case 'CH':\n      return {\n        maxPlayerLimitInfo: true,\n      };\n    case 'CO':\n      return {\n        creditHelpInfo: true,\n      };\n    case 'IT':\n      return {\n        waitResultBeforeLeave: true,\n        sessionBalance: true,\n        showSessionId: true,\n        isRestrictedToLeaveWithActiveBet: true,\n      };\n    case 'ON':\n      return {\n        netPosition: true,\n        showSessionTimer: true,\n        hideAutoplay: true,\n      };\n    case 'LT':\n      return {\n        hideAutoplay: true,\n      };\n    case 'UK':\n      return {\n        extendedAutoplay: true,\n        displayBonusBalance: true,\n        netPosition: featureFlags?.isUKfeaturesEnabled ?? false,\n        showSessionTimer: featureFlags?.isUKfeaturesEnabled ?? false,\n      };\n    case 'X1':\n      return {\n        extendedAutoplay: true,\n      };\n    case 'NL':\n      return {\n        hideAutoplay: true,\n      };\n    default:\n      return {\n        waitResultBeforeLeave: false,\n        hideAutoplay: false,\n        extendedAutoplay: false,\n        showSessionTimer: false,\n        showSessionId: false,\n        displayBonusBalance: false,\n        sessionBalance: false,\n        creditHelpInfo: false,\n        maxPlayerLimitInfo: false,\n        netPosition: false,\n        hideCurrency: false,\n        isRestrictedToLeaveWithActiveBet: false,\n      };\n  }\n};\n\nconst gameRegEx = /^[^,=]+$/;\nexport const parseParam = <T>(\n  playerConfigParams: Array<Record<string, string>> | null | undefined,\n  substring: string,\n  defaultValue: T,\n  gameId?: string,\n  valueTransformer?: (value: string) => T\n): T => {\n  const paramValue = playerConfigParams?.find((item) => substring in item)?.[substring];\n\n  if (!paramValue) {\n    return defaultValue;\n  }\n\n  if (!gameId) {\n    /**\n     * In the case of a single value string with no gameId, apply valueTransformer if provided.\n     * Otherwise, return the singleValue as T.\n     */\n    const singleValue = gameRegEx.test(paramValue) ? paramValue : (defaultValue as string);\n    return valueTransformer?.(singleValue) ?? (singleValue as T);\n  }\n\n  /**\n   * Most param values are usually stored per game in a list, e.g. \"1000=true,1100=true,1101=false\".\n   * Use RegExp to find value corresponding to provided gameId inside the list.\n   */\n  return parseGameIdString(paramValue, defaultValue, { gameId, valueTransformer });\n};\n\nexport const parseGameIdString = <ValueType>(\n  string: string,\n  defaultValue: ValueType,\n  options?: {\n    gameId?: string;\n    valueTransformer?: (value: string) => ValueType;\n  }\n): ValueType => {\n  const regex = new RegExp(`\\\\b${options?.gameId}=(\\\\w+)`);\n  const matchGameId = regex.exec(string)?.[1];\n\n  if (!matchGameId) {\n    return defaultValue;\n  }\n  return options?.valueTransformer?.(matchGameId) ?? (matchGameId as ValueType);\n};\n\nconst ampRegEx = /amp;/g;\nconst quotRegEx = /&quot;/g;\nexport const parseStringForJson = (value: string): string => {\n  return value.replace(ampRegEx, '').replace(quotRegEx, '\"');\n};\n\n/**\n * Parses lobby filters from player config response.\n * @param lobbyFilters - stringified JSON from player config response\n * @returns parsed lobby filters\n */\nexport const parseLobbyFilters = (lobbyFilters?: string): Record<string, Record<string, string[]>> => {\n  if (!lobbyFilters) return {};\n  const convertedToStringForJson = parseStringForJson(lobbyFilters);\n  try {\n    return JSON.parse(convertedToStringForJson);\n  } catch (e) {\n    /**\n     * This error is intentionally swallowed because while playerConfig is essential, these lobby filters are not and have a default fallback.\n     * If an ParsingError would be thrown here, it would stop lobby/game from working which in this case is not desired.\n     */\n    console.error('Error parsing lobby filters', convertedToStringForJson);\n    return {};\n  }\n};\n\nexport const parseParamLobbyFilters = (\n  playerConfigParams: Array<Record<string, string>> | undefined,\n  substring: string\n): Record<string, Record<string, string[]>> => {\n  const paramValue = playerConfigParams?.find((item) => substring in item)?.[substring];\n\n  if (!paramValue) {\n    return {};\n  }\n\n  return parseLobbyFilters(paramValue);\n};\n\nexport const getValueByKey = (playerConfigParams: Record<string, string>[], key: string): string => {\n  const dataItem = playerConfigParams.find((item) => key in item);\n  return dataItem?.[key] || '';\n};\n\nexport const parseNetWinBalanceString = (nwbString: string): Record<string, number> => {\n  const netWinBalanceObj: Record<string, number> = {};\n  return nwbString.split(',').reduce((acc, cur) => {\n    const [tableId, nwbValue] = cur.split('=');\n    if (tableId) acc[tableId] = Number(nwbValue);\n    return acc;\n  }, netWinBalanceObj);\n};\n\nexport const parseLobbyFavourites = (lobbyFavourites?: string | number): string[] => {\n  switch (typeof lobbyFavourites) {\n    case 'string':\n      if (lobbyFavourites === '') return [];\n      return lobbyFavourites.split(',');\n    case 'number':\n      return [lobbyFavourites.toString()];\n    default:\n      return [];\n  }\n};\n\nconst parseSubtitlesEnabledGroups = (\n  callback: (group: SubtitlesGroup) => boolean | undefined\n): Record<SubtitlesGroup, boolean> => {\n  const subtitlesGroups = [SubtitlesGroup.GROUP1, SubtitlesGroup.GROUP2, SubtitlesGroup.GROUP3];\n  return subtitlesGroups.reduce<Record<SubtitlesGroup, boolean>>(\n    (result, group) => {\n      result[group] = callback(group) ?? result[group];\n      return result;\n    },\n    // Subtitles enabled groups with default values\n    {\n      [SubtitlesGroup.GROUP1]: false,\n      [SubtitlesGroup.GROUP2]: true,\n      [SubtitlesGroup.GROUP3]: false,\n    }\n  );\n};\n","import { resolveEndpoint } from '../../resolveEndpoint';\nimport type { IEndpoint } from '../../types';\n\nimport { parsePlayerConfigResponseJSON, parsePlayerConfigResponseXML } from './parsers';\nimport { IPlayerConfigResponseJSON, IPlayerConfigResponseXML, ParserOptions, PlayerConfigType, PlayerConfigVersion } from './types';\n\nexport const playerConfigEndpoint: IEndpoint<PlayerConfigType, ParserOptions> = resolveEndpoint('playerConfig', {\n  [PlayerConfigVersion.JSP]: {\n    url: '/cgibin/playerconfig.jsp',\n    parser: (rawResponse, options): PlayerConfigType =>\n      parsePlayerConfigResponseXML(rawResponse as IPlayerConfigResponseXML, options),\n    format: 'xml',\n    root: 'response',\n  },\n  [PlayerConfigVersion.PREFERENCES]: {\n    url: '/api/config/preferences',\n    parser: (rawResponse, options): PlayerConfigType =>\n      parsePlayerConfigResponseJSON(rawResponse as IPlayerConfigResponseJSON, options),\n    format: 'json',\n  },\n});\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { GtagLogger } from '../../../logger/GtagLogger';\nimport { Logger } from '../../../logger/Logger';\nimport { Fetcher } from '../../Fetcher';\n\nimport { playerConfigEndpoint } from './endpoints';\nimport type { ParserOptions, PlayerConfigType } from './types';\n\nexport interface FetchPlayerConfigParams {\n  JSESSIONID: string;\n  baseUrl: string;\n  parserOptions: ParserOptions;\n}\n\nexport const fetchPlayerConfig = ({\n  JSESSIONID,\n  baseUrl,\n  parserOptions,\n}: FetchPlayerConfigParams): Promise<PlayerConfigType> => {\n  return Fetcher.fetch<unknown>(`${baseUrl}${playerConfigEndpoint.url}`, {\n    params: {\n      JSESSIONID,\n    },\n    format: playerConfigEndpoint.format,\n    root: playerConfigEndpoint.root,\n  }).then((response: unknown) => {\n    updateApiMask(ApiMask.PlayerConfig);\n    const parsedPlayerConfig = playerConfigEndpoint.parser(response, parserOptions);\n    Logger.updateLocation(parsedPlayerConfig.countryCode);\n    if (!parsedPlayerConfig.countryCode || parsedPlayerConfig.countryCode === '') {\n      Logger.logFailure('emptyCountry');\n    }\n    Logger.updateUserId(parsedPlayerConfig.userId);\n    GtagLogger.updateUserId(parsedPlayerConfig.userId);\n    return parsedPlayerConfig;\n  });\n};\n","import { SubtitlesGroup } from '../../../store/slices/subtitles/types';\n\nexport enum PlayerConfigVersion {\n  JSP = 'jsp',\n  PREFERENCES = 'preferences',\n}\n\nexport interface PlayerConfigType {\n  compliance: Compliance;\n  jurisdiction: string;\n  jwtToken: string;\n  userId: string;\n  screenName: string;\n  operatorId: string;\n  userType: string;\n  videoStream: boolean;\n  videoStreamRaw: Record<'video_stream', string> | undefined;\n  videoVolume: number;\n  gameEffectsVolume: number;\n  selectedChipIndex: number | undefined;\n  selectedChipParamsRaw: Record<'selected_chip', string> | undefined;\n  countryCode: string;\n  currencyMultiplier: number;\n  lobbyFilters: Record<string, Record<string, string[]>>;\n  lobbyFavourites: string[];\n  isBanned: boolean;\n  showOtherMessages: boolean;\n  subtitlesEnabled: Record<SubtitlesGroup, boolean>;\n  subtitlesOnboarded: boolean;\n  subtitlesPositionsRaw: string | undefined;\n  subtitlesSize: string | undefined;\n  netWinBalanceMap: Record<string, number>;\n  isSecondBetboardEnabled: boolean;\n  hfAnimationEnabled: boolean;\n  bcBonusBetShow?: boolean;\n  bcPairBets?: boolean;\n  bcHasNoCommission?: boolean;\n  bcShowBettingStats?: boolean;\n  bcShowAllSideBets?: boolean;\n  bcLightTheme?: boolean;\n  backgroundMusicVolume?: number;\n  voiceOverVolume?: number;\n}\n\nexport interface Compliance {\n  showSessionId?: boolean; // Display session id in the game\n  sessionBalance?: boolean; // Show session balance popup at load end\n  waitResultBeforeLeave?: boolean; // Show \"Stay till round end\" popup\n  sessionBalanceWasSet?: boolean; // Session balance was set (not a feature flag, used for login if session balance feature was enabled)\n  creditHelpInfo?: boolean; // Show credit information in game help\n  maxPlayerLimitInfo?: boolean; // Show information about max player limit at the table at once\n  netPosition?: boolean; // Show session net position\n  hideCurrency?: boolean; // Do not display currency\n  displayBonusBalance?: boolean; // Display bonus balance\n  showSessionTimer?: boolean; // Show session timer\n  serverClockSync?: boolean; // TODO: in-game clock must be synced with server time\n  cashOnly?: boolean; // TODO: show only cash values (no coins)\n  clientVersion?: boolean; // TODO: show client version\n  engineVersion?: boolean; // TODO: show engine version\n  extendedAutoplay?: boolean; // Extended autoplay version\n  hideAutoplay?: boolean; // Need to hide autoplay button\n  /** Whether user is allowed to leave the game with active bet */\n  isRestrictedToLeaveWithActiveBet?: boolean;\n}\n\nexport interface IPlayerConfigResponseXML {\n  Jurisdiction: string;\n  currency_multiplier: string;\n  elapsedTime: string;\n  jwtToken: string;\n  nwb: string;\n  operator_id: string;\n  pausePlayUrl: string;\n  playLimitUrl: string;\n  player_ip_country: string;\n  player_operator_country: string;\n  'playerconfig-param': Array<Record<string, string>>;\n  screenName: string;\n  selfTestUrl: string;\n  session: string;\n  stats_collector_uuid: string;\n  user_id: string;\n  user_type: string;\n}\n\nexport interface IPlayerConfigResponseJSON {\n  currencyMultiplier: number; // why is this a string?\n  description: string;\n  elapsedTime: string;\n  errorCode: string;\n  jurisdiction: string;\n  jwtToken: null | string;\n  netWinBalanceMap: Record<string, number>;\n  operatorId: string;\n  params: {\n    video_so: string;\n    onebj_autostand: number;\n    bg_music: number;\n    video_stream: string;\n    usergcount: number;\n    autostandcounter: number;\n    video_sounds: number;\n    onebj_autostandcounter: number;\n    showdt_rbsidebets: boolean;\n    islighttheme: boolean;\n    betbehind_doubledown: boolean;\n    game_effects: number;\n    showextrastats: boolean;\n    tableid: string; // why is it here?\n    isBanned: boolean;\n    anim_enable: boolean;\n    betbehind_insurance: boolean;\n    showroads: boolean;\n    showfulltables: boolean;\n    grid_view: string;\n    show_quick_guide_bingo: boolean;\n    vo_music: number;\n    gr_roadsetting: string;\n    betbehind_split: boolean;\n    dealer_voice: number;\n    betbehind_updated: 'null'; // why is it string null?\n    showdt_bssidebets: boolean;\n    selected_chip: string;\n    blackjacktabletype: string;\n    rtp_view: boolean;\n    showothermessages: boolean;\n    sub_enabled_gr1?: boolean;\n    sub_enabled_gr2?: boolean;\n    sub_enabled_gr3?: boolean;\n    sub_onboarded?: boolean;\n    sub_positions?: string;\n    sub_sizes?: string;\n    lobby_filters?: string;\n    lobbyfavourites?: string | number;\n    issecondbetboardenabled: boolean;\n    hf_animation_enabled: boolean;\n    isbonusbetshow?: boolean;\n    ispairbets?: boolean;\n    isnocommission?: boolean;\n    showbettingstats?: string;\n    showallsidebets?: boolean;\n  };\n  pausePlayUrl: string;\n  playLimitUrl: string; // why is this a string?\n  playerIPCountry: string;\n  screenName: string;\n  selfTestUrl: string;\n  statsCollectorUUID: null;\n  userId: string;\n  userType: string;\n}\nexport type ParserOptions = {\n  operatorGameId?: string;\n  featureFlags: Record<string, boolean>;\n};\n","import { Fetcher } from '../../Fetcher';\n\nimport type { PlayerConfigBodyType } from './types';\n\nexport interface FetchPlayerConfigSyncParams {\n  JSESSIONID: string;\n  ck: string;\n  url: string;\n  body: PlayerConfigBodyType;\n}\n\nexport const fetchPlayerConfigSync = ({ JSESSIONID, ck, url, body }: FetchPlayerConfigSyncParams): Promise<unknown> => {\n  return Fetcher.fetch<FetchPlayerConfigSyncParams, PlayerConfigBodyType>(url, {\n    params: {\n      JSESSIONID,\n      ck,\n    },\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body,\n  });\n};\n","import { ParsingError } from '../../errors/ParsingError';\nimport { UnauthorizedError } from '../../errors/UnauthorizedError';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { IRtpResponse, RtpType } from './types';\n\nexport interface FetchRtpParams {\n  JSESSIONID: string;\n  tableVariant: string;\n  url: string;\n}\n\nexport const fetchRtp = ({ JSESSIONID, tableVariant, url }: FetchRtpParams): Promise<RtpType> => {\n  return Fetcher.fetch<IRtpResponse>(url, {\n    params: {\n      tableVariant,\n      JSESSIONID,\n    },\n  }).then((response) => {\n    if (response.description.includes('Invalid user session')) {\n      throw new UnauthorizedError('RTP fetcher:  Invalid user session');\n    } else if (!response.data) {\n      throw new ParsingError('RTP fetcher: Invalid response, no data received');\n    }\n\n    return JSON.parse(response.data);\n  });\n};\n","import { Fetcher } from '../../Fetcher';\n\nimport type { StatsConfigType } from './types';\n\nexport interface FetchStatsConfigParams {\n  url: string;\n  ipAddress: string;\n}\n\nexport const fetchStatsConfig = ({ url, ipAddress }: FetchStatsConfigParams): Promise<StatsConfigType> => {\n  return Fetcher.fetch<StatsConfigType>(url + '/quality/video/' + ipAddress, {\n    logAs: '/quality/video/',\n  });\n};\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { StatsSettingsType } from './types';\n\nexport interface FetchStatsSettingsParams {\n  url: string;\n}\n\nexport const fetchStatsSettings = ({ url }: FetchStatsSettingsParams): Promise<StatsSettingsType> => {\n  return Fetcher.fetch<StatsSettingsType>(url + '/eventcapture/settings').then<StatsSettingsType>((result) => {\n    updateApiMask(ApiMask.StatsSettings);\n    return result;\n  });\n};\n","import type { ChatRole } from '../../../store/slices/chat/types';\nimport { parseChatMessage } from '../../../utils/chat';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { ITableLevelMessagesResponse, TableMessage } from './types';\n\nexport interface FetchTableLevelMessagesParams {\n  casinoId: string;\n  language: string;\n  offset: number;\n  recordsPerPage: number;\n  showOtherMessages: boolean;\n  tableId: string;\n  tagMessage: ChatRole;\n  url: string;\n  userId: string | null;\n}\n\nexport const fetchTableLevelMessages = ({\n  casinoId,\n  language,\n  offset,\n  recordsPerPage,\n  showOtherMessages,\n  tableId,\n  tagMessage,\n  url,\n  userId,\n}: FetchTableLevelMessagesParams): Promise<TableMessage[]> => {\n  return Fetcher.fetch<ITableLevelMessagesResponse>(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: {\n      casinoId,\n      lang: language,\n      offset,\n      recordsPerPage,\n      showOtherMessages,\n      tableId,\n      tagMessage,\n      userId,\n    },\n  }).then((response) => response.list.map((message) => parseChatMessage(message)));\n};\n","import { ApiMask, updateApiMask } from '../../../logger/BitMask';\nimport { Fetcher } from '../../Fetcher';\n\nimport type { VersionsConfigType } from './types';\n\nexport interface FetchVersionsParams {\n  url: string;\n  game: string;\n  JSESSIONID: string;\n}\n\n// Fetch backend version of a game\nexport const fetchVersions = ({ url, game, JSESSIONID }: FetchVersionsParams): Promise<VersionsConfigType> => {\n  return Fetcher.fetch<VersionsConfigType>(url, {\n    params: {\n      game,\n      JSESSIONID,\n    },\n  }).then<VersionsConfigType>((result) => {\n    updateApiMask(ApiMask.Version);\n    return result;\n  });\n};\n","/** Timings are defined in milliseconds */\nexport interface ICoreTimings {\n  /** Time defining how long bets are accepted by server  */\n  bettingWindow: number;\n  /** Time before the end of the betting window, when to notify player about bets being closed soon */\n  bettingLastCall: number;\n  /** A delay of messages for GameCommunicationController */\n  gameCommunicationDelay: number;\n  /** Video stream delay boundaries when summed with studio latency */\n  videoDelayBoundaryMin: number;\n  videoDelayBoundaryMax: number;\n  /** Studio latency, time it takes to process the video and ready for delivery */\n  studioLatency: number;\n}\n\nexport const CoreDefaultTimings: ICoreTimings = {\n  bettingWindow: 15_000,\n  bettingLastCall: 5_000,\n  gameCommunicationDelay: 2_000,\n  videoDelayBoundaryMin: 2000,\n  videoDelayBoundaryMax: 4_500,\n  studioLatency: 1_000,\n} as const;\n\nexport interface PlayAreaDimensions {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  // Distance from window bottom till the element upper part\n  bottomOffset: number;\n}\n","import { buildHashParam } from '../../../utils/buildHash';\nimport { getTranslationPath, TranslationType } from '../../../utils/translations';\nimport { Fetcher } from '../../Fetcher';\n\nconst HELP_BASE_PATH = getTranslationPath(TranslationType.Help);\n\nexport interface IHelpChapter extends Record<string, string> {\n  title: string;\n}\n\nexport interface IHelpFile {\n  [key: string]: IHelpChapter;\n}\n\nexport interface GameHelpRecord extends Record<string, IHelpChapter> {}\n\nexport interface GameHelpFetchData {\n  game: GameHelpRecord;\n  common: GameHelpRecord;\n}\n\nexport interface IFetchHelpParams {\n  lang: string;\n  hideAutoplay: boolean | undefined;\n  hideSubtitles: boolean | undefined;\n  helpFiles: string[];\n}\n\nconst fetchOptions = {\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n  ...buildHashParam,\n};\n\nexport const fetchGameHelp = ({\n  lang,\n  hideAutoplay,\n  hideSubtitles,\n  helpFiles,\n}: IFetchHelpParams): Promise<IHelpFile> => {\n  const fileFetchPromises = helpFiles.map((helpFile) =>\n    Fetcher.fetch<IHelpFile>(`${HELP_BASE_PATH}/${lang}/${helpFile}.json`, fetchOptions)\n  );\n\n  return Promise.all(fileFetchPromises).then((helpChapters): IHelpFile => {\n    const helpFile: IHelpFile = {};\n\n    helpChapters.forEach((chapter) => {\n      Object.assign(helpFile, chapter);\n    });\n\n    // Conditionally remove autoplay chapter from help file\n    if (hideAutoplay) {\n      delete helpFile['autoplay'];\n    }\n\n    // Conditionally remove subtitles chapter from help file\n    if (hideSubtitles) {\n      delete helpFile['subtitles'];\n    }\n\n    return helpFile;\n  });\n};\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: {\n  isIframeLoaded: boolean;\n  isLobbyFullscreen: boolean;\n} = {\n  isIframeLoaded: false,\n  isLobbyFullscreen: false,\n};\n\nexport const miniLobbySlice = createSlice({\n  name: 'minilobby',\n  initialState,\n  reducers: {\n    setIsIframeLoaded: (state, action: PayloadAction<boolean>) => {\n      state.isIframeLoaded = action.payload;\n    },\n    setIsLobbyFullscreen: (state, action: PayloadAction<boolean>) => {\n      state.isLobbyFullscreen = action.payload;\n    },\n  },\n});\n\nexport const miniLobbyActions = miniLobbySlice.actions;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchNickName } from '../../api/fetchers/nickName/fetcher';\nimport type { FetchNickNameParams } from '../../api/fetchers/nickName/types';\n\nexport const fetchNickNameAction = createAsyncThunk('player/fetchNickName', (params: FetchNickNameParams) =>\n  fetchNickName(params)\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { ForbiddenError } from '../../api/errors/ForbiddenError';\nimport {\n  fetchPromoPoints,\n  type FetchPromoPointsParams,\n  type FetchPromotionParams,\n  fetchPromotions,\n  type FetchPromotionTranslationParams,\n  fetchPromoTranslations,\n  getJwtTokenForPromo,\n} from '../../api/fetchers/promotions/fetcher';\n\nexport const fetchPromotionAction = createAsyncThunk('promotion/fetchPromotions', (params: FetchPromotionParams) =>\n  fetchPromotions(params).catch((error: Error) => {\n    if (!(error instanceof ForbiddenError)) {\n      return getJwtTokenForPromo(params).then((jwtToken) => {\n        params.jwtToken = jwtToken;\n        params.force = true;\n        return fetchPromotions(params);\n      });\n    }\n    throw error;\n  })\n);\n\nexport const fetchPromotionTranslationAction = createAsyncThunk(\n  'promotion/fetchPromotionTranslation',\n  (params: FetchPromotionTranslationParams) => fetchPromoTranslations(params)\n);\n\nexport const fetchPromoPointsAction = createAsyncThunk('promotion/fetchPromoPoints', (params: FetchPromoPointsParams) =>\n  fetchPromoPoints(params)\n);\n","import type { SerializedError } from '@reduxjs/toolkit';\n\n// ToDo: Will not work with Core-0.42.. Fix on Merge\nimport type { AssignedTablesType } from '../../../api/fetchers/assignedTables/types';\nimport type {\n  IActivePromo,\n  ICashbackData,\n  IPrizeDropData,\n  IPromoInformation,\n  IPromoPointsData,\n  ITournamentData,\n} from '../../../api/fetchers/promotions/types';\n\nexport enum WinningCondition {\n  TotalBet = 'TB',\n  TotalPoints = 'TP',\n  GenericPoints = 'GP',\n  Empty = '',\n}\n\nexport const CASHBACK_PREFIX = \"cb\";\nexport const PRIZEDROP_PREFIX = \"pd\";\nexport interface TrophyDisplayData {\n  minBet: string;\n  showTrophyTooltip: boolean;\n  isRoundLimitExceed: boolean;\n  visibility: 'active' | 'inactive' | 'none';\n  roundLimitExceededMessage: string;\n}\n\nexport interface TopTournamentType {\n  endDate: number;\n  id: string;\n  lastGameId: string | null;\n  lastWonScore: number | null;\n  winStreak: number;\n  winningCondition: string;\n  showWsBadge: number;\n}\n\nexport interface PromotionState {\n  assignedTables: AssignedTablesType | null;\n  cashbacks: ICashbackData[];\n  error?: SerializedError;\n  isRedEnvelope: boolean;\n  loading: boolean;\n  prizeDrops: IPrizeDropData[];\n  promoPoints: IPromoPointsData | null;\n  showTrophyTooltip: boolean;\n  topTournament?: TopTournamentType;\n  tournaments: ITournamentData[];\n  translations?: Record<string, string>;\n  wasTrophyTooltipShown: boolean;\n  hasRoundLimitTrophyShown: boolean;\n  isRoundLimitExceed: boolean;\n  activePromos: IActivePromo[];\n  winPopup: IPromoInformation | null;\n}\n","//\n// New API Response details\n// https://pragmaticplay.atlassian.net/wiki/spaces/LE/pages/3850469413/Restructured+API+Endpoints\n\nimport type { SelectByType, WithExtraFields } from './utils';\n\nexport enum PromoObjectType {\n  Promotions = 'PROMOTIONS',\n  Error = 'ERROR',\n}\n\ntype RoundsType = 'DAILY' | 'TOTAL' | null;\n\nexport interface PromotionsApiResponse<T extends PromoObjectType = PromoObjectType> {\n  objectType: T;\n  data: SelectByType<\n    T,\n    {\n      [PromoObjectType.Promotions]: Array<PromotionJSON>;\n      [PromoObjectType.Error]: string;\n    }\n  >;\n  AdditionalData: SelectByType<\n    T,\n    {\n      [PromoObjectType.Promotions]: {\n        TOURNAMENT_WIN_NOTIFICATION?: Array<PromotionWinNotificationJSON>;\n        CASHBACK_WIN_NOTIFICATION?: Array<PromotionWinNotificationJSON>;\n      };\n      [PromoObjectType.Error]: never;\n    }\n  >;\n}\n\nexport interface InstantPointsApiResponse {\n  isNewPromoAvailable: boolean;\n  data: Record<string, PromotionPointsJSON>;\n}\n\nexport interface LeaderboardAPIResponse {\n  description: string;\n  error: string;\n  isRoundLimitExceeded: boolean;\n  tournamentId: number;\n  data: Array<LeaderboardPlayerDetails>;\n}\n\nexport interface LeaderboardAroundMeAPIResponse {\n  type: 'F' | 'AM'; // F -> Full, AM -> Around me\n  platformTournamentPlayerId: number;\n  platformTournamentId: number;\n  leaderboardItems: Array<LeaderboardPlayerDetails> | null;\n}\n\nexport interface PrizesAndWinnersAPIResponse {\n  [key: string]: {\n    prizes: Array<\n      {\n        prizeId: number;\n        currentSize: number;\n        originalSize: number;\n      } & PromotionPrizeJSON\n    >;\n    winners: Array<{\n      amount: number | null;\n      casinoUserId: string;\n      countryId: string;\n      currency: string;\n      envId: number;\n      gift: string | null;\n      ppPlayerId: number;\n      prizeId: number;\n      screenName: string;\n      winDate: number;\n    }>;\n  };\n}\n\nexport interface CashbackScoreAPIResponse\n  extends Record<\n    string,\n    {\n      cashbackScore: number;\n      totalScore: number;\n      cashbackPercent: number;\n      isRoundLimitExceeded: boolean;\n      cashbackId: number;\n    }\n  > {}\n\nexport type PromotionJSON =\n  | WithExtraFields<TournamentPromotionJSON>\n  | WithExtraFields<CashbackPromotionJSON>\n  | WithExtraFields<PrizeDropPromotionJSON>;\n\nexport interface PromotionWinNotificationJSON {\n  name: string;\n  promoId: number;\n  promoType: 'TOURNAMENT' | 'CASHBACK';\n  envId: number;\n  winType: 'G' | 'C' | 'BM';\n  autoPay: boolean;\n  extraData: {\n    type?: 'CASHBACK' | 'CASHBOOST';\n    PRIZE_DETAILS?: PrizeDetails;\n    minCashbackAmount?: number;\n    maxCashbackAmount?: number;\n  };\n  prize: string;\n  currency: string;\n  rule: string;\n  endDate: string;\n  dynamicFieldsMap?: Record<string, string> | null;\n  minBetLimit: number;\n}\n\nexport interface PromotionPointsJSON {\n  isRoundLimitExceeded: boolean;\n  promoType: 'TOURNAMENT' | 'PRIZEDROP' | 'CASHBACK';\n  lastGameId: string;\n  totalScore: number;\n  winningStreak: number;\n  lastWonScore: number;\n  showBadge: number;\n}\n\n//\n// Individual JSON Promotion definitions\n//\nexport interface TournamentPromotionJSON extends PromotionSharedJSON {\n  promoType: 'TOURNAMENT';\n  tournamentId: number;\n  platformTournamentId: number;\n  TOURNAMENT: PromotionTypeSharedJSON;\n  TOURNAMENT_DETAILS: PromotionTypeDetailsSharedJSON & {\n    /*\n     GP -> GenericPointsWinCriterionPayload, \n     TB -> Total bet win criterion, \n     TP -> Total point win criterion (sum of win multiplier)\n     WS -> Win Streak\n    */\n    winCriterion: 'GP' | 'TB' | 'TP' | 'WS';\n    /* what kind of round is this?\t\n      DAILY Limit is applied on daily basis.\n\t\t\tTOTAL Limit is applied throughout the tournament.\n    */\n    roundsType: RoundsType;\n    prizes: Array<{ from: number; to: number } & PromotionPrizeJSON>;\n  };\n  LEADERBOARD_AROUNDME: LeaderboardAroundMeAPIResponse;\n  LEADERBOARD: LeaderboardAPIResponse;\n  PRIZE_DETAILS: PrizeDetails;\n}\n\nexport interface CashbackPromotionJSON extends PromotionSharedJSON {\n  promoType: 'CASHBACK';\n  cashbackId: number;\n  platformCashbackId: number;\n  CASHBACK: PromotionTypeSharedJSON;\n  CASHBACK_DETAILS: PromotionTypeDetailsSharedJSON & {\n    id: number;\n    roundsType: RoundsType;\n    cashbackValues: {\n      type: 'CASHBACK' | 'CASHBOOST';\n      minCashbackAmount: number;\n      maxCashbackAmount: number;\n      displayScore: boolean;\n    };\n  };\n  score: {\n    cashbackId: number;\n    cashbackScore: number;\n    totalScore: number;\n    cashbackPercent: number;\n    isRoundLimitExceeded: boolean;\n  };\n}\n\nexport interface PrizeDropPromotionJSON extends PromotionSharedJSON {\n  promoType: 'PRIZEDROP';\n  prizedropId: number;\n  platformPrizedropId: number;\n  marketingShownTime: number;\n  PRIZEDROP: PromotionTypeSharedJSON & {\n    showWinnersList: boolean;\n    currency: string;\n    roundsType: RoundsType;\n    prizes: Array<\n      {\n        originalSize: number;\n        prizeId: number;\n        currentSize: number;\n      } & PromotionPrizeJSON\n    >;\n  };\n  PRIZEDROP_DETAILS: PromotionTypeDetailsSharedJSON;\n  PRIZE_DETAILS: PrizeDetails;\n}\n\n//\n// Shared field definitions between all promotion types\n//\nexport interface PromotionSharedJSON {\n  name: string;\n  startDate: number;\n  endDate: number;\n  gameIds: string;\n  opt: 'opted' | 'non-opted' | 'pop' | 'NA';\n  consent: boolean;\n  feedbackOn?: number | null;\n  clientMode: 'D' | 'H';\n  campaignId: number | null;\n  campaignEndDate: number | null;\n}\n\nexport interface PromotionTypeSharedJSON {\n  minBetLimit?: number;\n  maxBetLimitsForBetMultiplier?: Array<{ cur: string; bet: number }> | null;\n  campaignEndDate: number | null;\n  campaignId: number | null;\n  envId: number;\n}\n\nexport interface PromotionTypeDetailsSharedJSON {\n  rule: string;\n  shortRule: string;\n  dynamicFieldsMap?: Record<string, string> | null;\n}\n\n//\n// Individual promotion field definitions\n//\nexport interface PromotionPrizeJSON {\n  type: 'G' | 'C' | 'BM';\n  amount?: number | null;\n  gift?: string | null;\n  betMultiplier?: number | null;\n}\n\nexport interface PrizeDetails {\n  prizeCount: number; // Total no of prizes\n  prizeAmount: number; // Total prize amount\n  highestPrize: string;\n}\n\nexport interface LeaderboardPlayerDetails {\n  platformTournamentPlayerId: number;\n  position: number;\n  score: number;\n  scoreDate: number;\n  screenName: string | null;\n}\n","export type IPromotionResponse =\n  | {\n      data: IPromotionsData;\n      er: {\n        smp: boolean;\n      };\n      obType: 'PROMOTIONS';\n    }\n  | {\n      data: string;\n      obType: 'ERROR';\n    };\n\nexport interface IJwtResponse {\n  jwtToken: string;\n}\n\nexport interface IPromotionsData {\n  cbs: ICashbackData[]; // Cashback\n  pds: IPrizeDropData[]; // PrizeDrop\n  tms: ITournamentData[]; // Tournaments\n  smp?: boolean; // Should show marketing popup\n}\n\nexport interface IPromoInformation {\n  cmode: 'D' | 'H'; // D = Display, H = Hidden\n  cnst: boolean; // Is UK Promotion\n  ed: number; // End Date\n  campaignEndDate: number; // Campaign End Date use as end date if available\n  fdOn: null;\n  gms: string;\n  nm: string;\n  opt: string;\n  pppdid: number;\n  sd: number; // Start Date\n  type: string;\n  pdid?: number; // IPrizeDrop\n  tid?: number; // ITournament\n  cbid?: number; // ICashback\n  prizeDetails: IPromoPrizeDetails; // ITournament;\n  mbl?: IPromoBet[];\n}\n\nexport interface IPromoPrizeDetails {\n  przsAmount: number;\n  przsCount: number;\n}\n\nexport interface IPromoTranslation {\n  lang: string;\n  val: string;\n}\n\nexport interface IPromoBet {\n  cur: string;\n  bet: number;\n}\n\nexport interface ITournamentPrize {\n  frm: number;\n  to: number;\n  przdtls: {\n    typ: string;\n    pld: {\n      amt: number;\n      gift: string;\n      mp: number;\n    };\n  };\n}\n\nexport interface IPrizeDropPrize {\n  pzdt: {\n    typ: string;\n    originalSize: number;\n    pld: {\n      amt: number;\n      gift: string;\n      mp: number;\n    };\n  };\n  sz: number;\n}\n\nexport interface IPrizesDataInPrizeDrop {\n  pdid: string;\n  prizeDetails: IPrizeDropPrize[]\n}\n\nexport enum PromoRoundType {\n  Daily = 'DAILY',\n  Total = 'TOTAL',\n}\n\nexport interface IPrizeDropData extends IPromoInformation {\n  PRIZEDROP: {\n    nm: string;\n    // ...\n    mbl?: IPromoBet[];\n    mxbl?: IPromoBet[];\n    pzs: IPrizeDropPrize[];\n  };\n  PRIZEDROP_DETAILS: {\n    // ...\n    dfm: Record<string, string>;\n    rls: IPromoTranslation[];\n    srls: IPromoTranslation[];\n    roundsType: PromoRoundType;\n  };\n  marketingShowTime: number;\n  pdid: number;\n}\n\nexport interface ICashbackData extends IPromoInformation {\n  CASHBACK: {\n    mbl?: IPromoBet[];\n    mxbl?: IPromoBet[];\n    nm: string;\n  };\n  CASHBACK_DETAILS: {\n    cbv: {\n      type: 'CASHBACK' | 'CASHBOOST';\n    };\n    dfm: Record<string, string>;\n    rls: IPromoTranslation[];\n    srls: IPromoTranslation[];\n    roundsType: PromoRoundType;\n  };\n  cbid: number;\n}\n\nexport interface ITournamentData extends IPromoInformation {\n  LEADERBOARD: {\n    // ...\n  };\n  LEADERBOARD_AROUNDME: {\n    // ...\n  };\n  TOURNAMENT: {\n    nm: string;\n    // ...\n    mbl?: IPromoBet[];\n    mxbl?: IPromoBet[];\n  };\n  TOURNAMENT_DETAILS: {\n    // ...\n    dfm: Record<string, string>;\n    przpl: {\n      przs: ITournamentPrize[];\n    };\n    rls: IPromoTranslation[];\n    srls: IPromoTranslation[];\n    wc: string;\n    roundsType: PromoRoundType;\n  };\n  tid: number;\n}\n\nexport interface IPromoPointsResponseItem {\n  irle: boolean;\n  type: 'PRIZEDROP' | 'TOURNAMENT';\n  lastGameId: string | null;\n  ts: number | null;\n  ws: number;\n  lws: number | null;\n  sb: number;\n}\n\nexport interface IPromoPointsItem {\n  isRoundLimitExceeded: boolean;\n  type: 'PRIZEDROP' | 'TOURNAMENT';\n  lastGameId: string | null;\n  ts: number | null;\n  winStreak: number;\n  lastWonScore: number | null;\n  sb: number;\n}\n\nexport type IActivePromo = IPrizeDropData | ICashbackData | ITournamentData;\n\nexport interface IPromoPointsResponse extends Record<string, IPromoPointsResponseItem> {}\n\nexport interface IPromoPointsData extends Record<string, IPromoPointsItem> {}\n","import type { IBetLimits, ILimit } from '../../../store/slices/bets/types';\nimport type { ChipWeights } from '../../../store/slices/chips/types';\n\nexport interface ParseBetLimitsType {\n  (result: IServerTableConfigResponseParams): IBetLimits;\n}\n\nexport interface ITableConfigParserOptions {\n  parseBetLimits: ParseBetLimitsType;\n}\n\nexport interface PayoutType {\n  code: number;\n  payout: number;\n}\n\nexport enum WinMessageBranding {\n  ONLY_PP_BRANDING = `onlyppbranding`,\n  ONLY_TABLE_NAME = `onlytablename`,\n  TOTAL_BRANDING = `totalbranding`,\n  NONE = `none`,\n}\n\nexport interface Jurisdiction {\n  disableChat?: boolean;\n  showTableLimitsPopup?: boolean;\n}\n\nexport interface TableConfigType {\n  aamsSessionId: string | null;\n  aamsTicket: string | null;\n  betCode?: Record<string | number, string | number>;\n  betLimits: IBetLimits;\n  bettingTime: number;\n  chipAmounts: number[];\n  chipColorCodes: string[];\n  dedicatedLanguage: string | null;\n  defaultChipOrder: ChipWeights;\n  enableVideoStats: boolean;\n  gameStatsAddress: string;\n  gameTypeId: number;\n  gsAddress: string;\n  hlsLocation: string;\n  hideLobby: boolean;\n  idleLimit: number;\n  isPrizeDropBetDataSendEnabled: boolean;\n  isPromoBetDataSendEnabled: boolean;\n  openHours: string | null;\n  openTime: number;\n  operatorGameId: string;\n  operatorTheme: string;\n  payoutBetMaxLimit?: number;\n  euroTablePayoutMax?: number;\n  tablePayoutMax?: number;\n  payouts: PayoutType[];\n  retrieveVideoQuality: boolean;\n  sessionLaunchTimePerTable: string | null; //TODO: check possibility of using timestamp\n  storeVideoQuality: boolean;\n  subtitlesAvailable?: boolean;\n  tableBetLimit: ILimit;\n  tableClosed: boolean;\n  tableName: string;\n  tableType: string;\n  videoLocation: string;\n  videoPlayerVersion?: number;\n  wsAddress: string;\n  winMessageBranding: WinMessageBranding;\n  broadcasterWsAddress?: string;\n  broadcasterEnabled: boolean;\n  chatVisibleByDefault?: boolean;\n  isInfiniteAutoPlayEnabled?: boolean;\n  maxMultiplier?: number;\n  perPayoutBetMaxLimit?: number;\n  customMultiplierCap?: number;\n  canvasEnabled?: boolean;\n  chatDisabled?: boolean;\n  tableVariant?: string;\n  showPPBranding?: boolean;\n  hasNoCommissionToggle?: boolean;\n  audioMode?: string | null;\n  megaBaccaratMegaFeePercent?: number;\n  disableChineseChar?: string;\n  disableSideBets?: string;\n  operatorMusic?: string;\n  bgMusic?: boolean;\n  defaultBetAmount?: number;\n  jurisdiction?: Jurisdiction;\n}\n\nexport interface IServerTableConfigResponseParams {\n  aamsSessionId: string | null;\n  aamsTicket: string | null;\n  betting_time: number;\n  broadcaster_ws: string;\n  chip_amounts: string;\n  chip_color_codes: string | string[];\n  default_chip_order: ChipWeights;\n  dedicatedLanguage: string | null;\n  enable_video_stats: boolean;\n  gamestats_address: string;\n  gametype_id: number;\n  gs_address: string;\n  hls_location: string;\n  hide_lobby: boolean;\n  idle_limit_games: number;\n  isPrizeDropBetDataSendEnabled: boolean;\n  isPromoBetDataSendEnabled: boolean;\n  openTime: number;\n  open_hours: string;\n  operator_theme: string;\n  retrive_video_quality: boolean;\n  session_launch_time_per_table: string | null;\n  store_video_quality: boolean;\n  table_bet_max_limit: number;\n  table_bet_min_limit: number;\n  subtitles_available?: boolean;\n  table_category: string;\n  table_closed: boolean;\n  table_type: string;\n  video_location: string;\n  video_player_version: number;\n  ws_address: string;\n  youwinfeature: WinMessageBranding; // saved as winMessageBranding in store\n  broadcaster_enabled: boolean;\n  chatVisibleByDefault: boolean;\n  isInfiniteAutoPlayEnabled: boolean;\n  maxMultiplier: number;\n  customMultiplierCap: number;\n  canvasEnabled?: boolean;\n  chatDisabled?: boolean;\n  tableVariant?: string;\n  hasNoCommissionToggle?: boolean;\n  audioMode?: string | null;\n  megaBaccaratMegaFeePercent?: number;\n  disable_chinese_char?: string;\n  disableSideBets?: string;\n  operator_music?: string;\n  bg_music?: boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n}\n\nexport interface IServerTableConfigResponse {\n  betCode: Record<string | number, string | number>;\n  operatorGameId: string;\n  params: IServerTableConfigResponseParams;\n  tableId: string;\n  tableName: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n}\n","export enum MessageActionType {\n  Quit = 'quit', // Quit the game (just like pressing on the home button)\n  Cashier = 'cashier', // Launch the cashier link (just like pressing on the cashier button)\n  History = 'history', // Launch the history link (just like pressing on the history button on the reality check popup)\n  Continue = 'continue', // Hide the popup\n  Link = 'link', // Open (send Ajax request to) a dedicated link\n}\n\nexport enum MessageLinkType {\n  Redirect = 'redirect', //- redirects the player to the actionUrl\n  Ajax = 'ajax', //- an Ajax request is sent to actionUrl and immediately let the player continue with the flow\n  AjaxResponse = 'ajaxResponse', //- an Ajax request is sent to actionUrl and wait until \"successful json response\" is received. Only then continue with the flow\n  Notify = 'notify', //- JavaScript event should be sent to parent window as postMessage()\n  Open = 'open', //- Open link in new tab\n}\n\nexport interface MessageAction {\n  action?: MessageActionType;\n  linkType?: MessageLinkType;\n  url?: string;\n  label?: string;\n}\n\nexport interface PopupStackItem {\n  popupName: string;\n  popupData?: Record<string, unknown>;\n}\n\nexport interface CustomPopup {\n  text?: string;\n  title?: string;\n  withPlaceholders: boolean;\n  nonIntrusive: boolean;\n  options?: MessageAction[];\n}\n","import { useTranslation } from '../../../api/useTranslation';\n\n// Translate content consisting of multiple translation keys\nexport const useTranslateMessageContent = (content: string | undefined): string => {\n  const { translations } = useTranslation();\n\n  return content\n    ? content\n        .split(' ')\n        .map((word) => translations[word] ?? word)\n        .join(' ')\n    : '';\n};\n","import type { CoreStoreType } from '../../store/CoreStore';\nimport { createGameStore } from '../../store/CoreStore';\nimport { chatActions } from '../../store/slices/chat/slice';\nimport type { Message, UserType } from '../../store/slices/chat/types';\nimport { ChatBlockType } from '../../store/slices/chat/types';\nimport { subtitlesActions } from '../../store/slices/subtitles/slice';\nimport { createChatAvailableMessage, isBetRequiredToChat, parseChatMessage } from '../../utils/chat';\nimport { RestartController } from '../restartController/restartController';\n\nimport type { IChatCommunicationProcessor } from './types';\n\ntype StoreAction =\n  | ReturnType<typeof chatActions.storeGameChatMessage>\n  | ReturnType<typeof chatActions.storeLiveSupportMessage>\n  | ReturnType<typeof chatActions.storeLastChatMessage>\n  | ReturnType<typeof chatActions.setLiveSupportReadStatus>\n  | ReturnType<typeof chatActions.setIsBetChatAllowed>\n  | ReturnType<typeof chatActions.setChatBlockType>\n  | ReturnType<typeof chatActions.setIsGameChatBlocked>\n  | ReturnType<typeof chatActions.setIsLiveSupportChatBlocked>\n  | ReturnType<typeof chatActions.clearLiveSupportMessages>\n  | ReturnType<typeof chatActions.setChatSubscriptionState>\n  | ReturnType<typeof chatActions.removeGameChatMessage>\n  | ReturnType<typeof subtitlesActions.setSubtitle>;\n\nexport class ChatCommunicationController {\n  #ws?: WebSocket;\n  #pingInterval?: number;\n  #store?: CoreStoreType;\n  #processors: Record<string, IChatCommunicationProcessor> = {};\n\n  private url: string | null = null;\n  private jSessionId: string | null = null;\n  private userId: string | null = null;\n  private language: string | null = null;\n  private tableId: string | null = null;\n  private casinoId: string | null = null;\n  private tableName: string | null = null;\n  private messageId: string | null = null;\n  private showOtherMessages: boolean = true;\n  private subtitlesEnabled: boolean = false;\n  private chatBlockType: ChatBlockType = ChatBlockType.LowBalance;\n  private isGamePaused = false;\n\n  constructor() {\n    RestartController.addListener('chat-communication', () => {\n      this.restart();\n    });\n  }\n\n  connect(\n    url: string,\n    jSessionId: string,\n    userId: string,\n    tableId: string,\n    casinoId: string,\n    tableName: string,\n    messageId: string,\n    showOtherMessages: boolean,\n    subtitlesEnabled: boolean,\n    language: string\n  ): void {\n    this.close();\n    this.#ws = new WebSocket(url);\n    this.#ws.addEventListener('message', this.onWebSocketMessage.bind(this));\n    this.#ws.addEventListener('error', this.handleWebSocketError.bind(this));\n    this.#ws.addEventListener('close', this.handleWebSocketClose.bind(this));\n\n    this.url = url;\n    this.jSessionId = jSessionId;\n    this.userId = userId;\n    this.tableId = tableId;\n    this.casinoId = casinoId;\n    this.tableName = tableName;\n    this.messageId = messageId;\n    this.showOtherMessages = showOtherMessages;\n    this.subtitlesEnabled = subtitlesEnabled;\n    this.language = language;\n\n    this.#pingInterval = window.setInterval(() => {\n      if (!this.#ws) {\n        return;\n      }\n      switch (this.#ws.readyState) {\n        case WebSocket.OPEN: {\n          const pingMessage = {\n            action: 'ping',\n            userId: userId,\n            time: Date.now(),\n            role: 'GAME_USER',\n          };\n\n          this.#ws.send(JSON.stringify(pingMessage));\n          break;\n        }\n        case WebSocket.CLOSING:\n        case WebSocket.CLOSED:\n          this.restart();\n          break;\n      }\n    }, 10_000);\n\n    const subscribeMessage = {\n      content: 'SUBSCRIBE',\n      action: 'SUBSCRIBE',\n      jSessionId,\n      userId,\n      tableId,\n      casinoId,\n      tableName,\n      lang: language,\n      role: 'GAME_USER',\n      messageId,\n      preference: {\n        showOtherMessages: showOtherMessages,\n        subEnabled: subtitlesEnabled,\n        subLang: language,\n      },\n    };\n\n    // Subscribe to messages from chat server\n    this.#ws.addEventListener('open', () => {\n      this.#ws?.send(JSON.stringify(subscribeMessage));\n    });\n  }\n\n  reconnect(): void {\n    if (\n      this.url &&\n      this.jSessionId &&\n      this.userId &&\n      this.tableId &&\n      this.casinoId &&\n      this.tableName &&\n      this.messageId &&\n      this.language\n    ) {\n      this.connect(\n        this.url,\n        this.jSessionId,\n        this.userId,\n        this.tableId,\n        this.casinoId,\n        this.tableName,\n        this.messageId,\n        this.showOtherMessages,\n        this.subtitlesEnabled,\n        this.language\n      );\n    }\n  }\n\n  restart(): void {\n    this.close();\n    this.reconnect();\n  }\n\n  sendMessage(message: string): void {\n    if (this.#ws && this.#ws.readyState === WebSocket.OPEN) {\n      this.#ws.send(message);\n    } else {\n      console.error('WebSocket connection is not open. Message not sent.');\n    }\n  }\n\n  onWebSocketMessageSuccessHandler(message: Message): void {\n    // Messages filtered by support team\n    switch (message.tagMessage) {\n      case 'GAME_USER':\n        this.dispatchToStore(chatActions.storeGameChatMessage(message));\n        break;\n      case 'SUPPORT':\n      case 'LIVE_SUPPORT':\n        this.dispatchToStore(chatActions.storeLiveSupportMessage(message));\n        this.dispatchToStore(chatActions.setLiveSupportReadStatus(message.role === 'GAME_USER'));\n        break;\n    }\n    this.processChatMessageByAction(message);\n  }\n\n  onWebSocketMessage(msg: MessageEvent): void {\n    const message = parseChatMessage(JSON.parse(msg.data));\n\n    if (message.action) {\n      if (message.action === 'SHOW_HIDE_MESSAGE') {\n        this.dispatchToStore(chatActions.removeGameChatMessage(message.messageId));\n        return;\n      }\n      if (message.status === 'SUCCESS') {\n        this.onWebSocketMessageSuccessHandler(message);\n      }\n    }\n  }\n\n  processChatMessageByAction(message: Message): void {\n    switch (message.action) {\n      case 'FRESHCHAT_USER_CREATION':\n        this.dispatchToStore(chatActions.setChatSubscriptionState('FRESH_CHAT_SUBSCRIBED'));\n        break;\n\n      case 'COMMAND':\n        this.dispatchToStore(chatActions.storeLastChatMessage(message));\n        break;\n\n      // TODO: document Freshchat subscription mechanism in Storybook, UIC-304\n      case 'SUBSCRIBE':\n        this.dispatchToStore(chatActions.setChatSubscriptionState('SUBSCRIBED'));\n        if (message.user) {\n          this.setIsBetChatAllowed(message.user.betChatAllowed, message.user.chatAllowed);\n          this.setChatBlocked(message.user);\n          this.setChatBlockType(message.user.chatBlockType);\n        }\n        break;\n\n      case 'BLOCK':\n      case 'UNBLOCK':\n        this.setChatBlocked(message.user);\n        break;\n\n      case 'SUBTITLES':\n        this.dispatchToStore(subtitlesActions.setSubtitle(message));\n        break;\n\n      case 'CHAT_STATUS':\n        this.setIsBetChatAllowed(message.betChatAllowed, message.chatAllowed, true);\n        break;\n    }\n  }\n\n  setChatBlockType(chatBlockType?: ChatBlockType): void {\n    if (chatBlockType) {\n      this.chatBlockType = chatBlockType;\n      this.dispatchToStore(chatActions.setChatBlockType(chatBlockType));\n    }\n  }\n\n  setIsBetChatAllowed(betChatAllowed?: boolean, chatAllowed?: boolean, isStatusChanged = false): void {\n    betChatAllowed = betChatAllowed !== false;\n    this.dispatchToStore(chatActions.setIsBetChatAllowed(betChatAllowed));\n\n    if (chatAllowed && isStatusChanged && isBetRequiredToChat(this.chatBlockType)) {\n      const msg = createChatAvailableMessage(betChatAllowed);\n      this.dispatchToStore(chatActions.storeGameChatMessage(msg));\n      this.dispatchToStore(chatActions.storeLastChatMessage(msg));\n    }\n  }\n\n  setChatBlocked(user?: UserType): void {\n    if (user) {\n      this.dispatchToStore(chatActions.setIsGameChatBlocked(!user.chatAllowed));\n      this.dispatchToStore(chatActions.setIsLiveSupportChatBlocked(!user.supportChatAllowed));\n    }\n  }\n\n  setStore(store: ReturnType<typeof createGameStore>): void {\n    this.#store = store;\n  }\n\n  setProcessor(processor: IChatCommunicationProcessor): void {\n    this.#processors[processor.messageName] = processor;\n  }\n\n  close(): void {\n    console.log('Closing WebSocket connection');\n    clearInterval(this.#pingInterval);\n\n    if (this.#ws) {\n      this.#ws.removeEventListener('error', this.handleWebSocketError);\n      this.#ws.removeEventListener('close', this.handleWebSocketClose);\n      this.#ws.close();\n      this.#ws = undefined;\n    }\n  }\n\n  public updateConnectionOnGamePause(isGamePaused: boolean): void {\n    if (this.isGamePaused !== isGamePaused) {\n      this.isGamePaused = isGamePaused;\n\n      if (isGamePaused) {\n        this.close();\n      } else {\n        this.reconnect();\n      }\n    }\n  }\n\n  dispatchToStore(action: StoreAction): void {\n    if (this.#store) {\n      this.#store.dispatch(action);\n    }\n  }\n\n  handleWebSocketError(e: Event): void {\n    console.error('WebSocket error:', e);\n  }\n\n  handleWebSocketClose(e: CloseEvent): void {\n    console.log('WebSocket closed:', e);\n  }\n}\n","import { DeviceInfo } from '../../deviceInfo/deviceInfo';\n\nconst TIME_DIFF_ACCEPTABLE = 10000;\n\n/**\n * RestartControllerClass manages listeners for restarting the application when the user comes back to the tab after a certain amount of time.\n */\nexport class RestartControllerClass {\n  private tabLeftTime: number | null = null;\n\n  private restartListeners = new Map<string, () => void>();\n\n  constructor() {\n    // Visibility change listener\n    document.addEventListener('visibilitychange', () => {\n      this.visibilityChangeHandler();\n    });\n  }\n\n  // add listener callback to restart listener\n  public addListener(type: string, listener: () => void): void {\n    this.restartListeners.set(type, listener);\n  }\n\n  // remove listener from listeners Map\n  public removeListener(type: string): void {\n    this.restartListeners.delete(type);\n  }\n\n  // remove all listeners\n  public removeAllListeners(): void {\n    this.restartListeners.clear();\n  }\n\n  private visibilityChangeHandler(): void {\n    if (!DeviceInfo.getPlatform().IS_ANDROID_OS) return;\n    // when user comes from other tab\n    if (document.visibilityState === 'visible') {\n      if (this.tabLeftTime) {\n        const timeDiff = Date.now() - this.tabLeftTime;\n        // user spent more time than TIME_DIFF_ACCEPTABLE on other tab\n        if (timeDiff > TIME_DIFF_ACCEPTABLE) {\n          for (const callback of this.restartListeners.values()) {\n            callback();\n          }\n        }\n      }\n      // user left tab, register time of leaving\n    } else {\n      this.tabLeftTime = Date.now();\n    }\n  }\n}\n\nexport const RestartController = new RestartControllerClass();\n","// extracted by mini-css-extract-plugin\nexport default {\"messageBubble\":\"AS_AT\",\"messageBubble_right\":\"AS_AU\",\"messageBubble_left\":\"AS_AV\",\"messageBubble__content\":\"AS_AW\",\"messageBubble_dark\":\"AS_AX\",\"messageBubble__liveSupportIcon\":\"AS_AY\",\"messageBubble__userName\":\"AS_AZ\",\"messageBubble_notification\":\"AS_A0\",\"messageBubble_accent\":\"AS_A1\",\"messageBubble_miniChat\":\"AS_Ba\"};","import type { FC, ReactElement } from 'react';\nimport { useMemo } from 'react';\n\nimport type { Message } from '../../../../../store/slices/chat/types';\nimport { SendType } from '../../../../../store/slices/chat/types';\nimport { useModifiers } from '../../../../../styles/hooks/useModifiers';\nimport { parseSystemMessage } from '../../../../../utils/chat';\nimport { Icon } from '../../../../icons/icon';\nimport { Icons } from '../../../../icons/iconNames';\nimport { L12nText } from '../../../../text/L12nText';\nimport { useTranslateMessageContent } from '../../../hooks/useTranslateMessageContent';\n\nimport styles from './MessageBubble.module.css';\n\ninterface ExtraPropsType {\n  currentUserId: string;\n  isMiniChat?: boolean;\n}\n\ninterface MessageProps\n  extends Pick<Message, 'content' | 'role' | 'userId' | 'userScreenName' | 'sendType' | 'requireTranslation'> {}\n\ninterface MessageBubbleProps extends MessageProps, ExtraPropsType {}\n\nexport const MessageBubble: FC<MessageBubbleProps> = ({\n  content,\n  role,\n  userId,\n  userScreenName,\n  currentUserId,\n  sendType,\n  requireTranslation,\n  isMiniChat,\n}) => {\n  const translatedContent = useTranslateMessageContent(content);\n  const isCurrentUserMessage = userId === currentUserId;\n\n  const isLiveSupportMessage =\n    ['LIVE_SUPPORT', 'SUPPORT'].includes(role) ||\n    ['FRESHCHAT_AGENT', 'FRESHCHAT_BOT'].includes(userScreenName as string);\n\n  const isSystemMessage = role === 'SUPPORT' && sendType === SendType.Table;\n  const isAutoReplyMessage = role === 'SUPPORT' && userScreenName === 'Auto-reply';\n  const isNotificationMsg = sendType === SendType.Notification;\n\n  const mods = useModifiers(\n    styles,\n    'messageBubble',\n    {\n      accent: isLiveSupportMessage || isSystemMessage || isAutoReplyMessage,\n      border: isCurrentUserMessage,\n      dark: isCurrentUserMessage || isLiveSupportMessage || isSystemMessage || isAutoReplyMessage || isNotificationMsg,\n      left: !isCurrentUserMessage,\n      miniChat: isMiniChat,\n      right: isCurrentUserMessage,\n    },\n    { withBaseClass: true }\n  );\n\n  const notificationMods = useModifiers(styles, 'messageBubble', {\n    notification: isNotificationMsg,\n  });\n\n  // Render username label based on message type\n  const renderUserName = useMemo(\n    (\n      currentUser = isCurrentUserMessage,\n      liveSupport = isLiveSupportMessage || isSystemMessage || isAutoReplyMessage\n    ): ReactElement | null => {\n      if (currentUser) {\n        return (\n          <>\n            <L12nText tk=\"CHAT_YOU\" />:{' '}\n          </>\n        );\n      }\n\n      if (liveSupport) {\n        return (\n          <>\n            <span className={styles.messageBubble__liveSupportIcon}>\n              <Icon icon={Icons.Support} />\n            </span>\n            <L12nText tk=\"LIVE_SUPPORT\" />:{' '}\n          </>\n        );\n      }\n\n      return userScreenName ? <>{userScreenName}: </> : null;\n    },\n    [isAutoReplyMessage, isCurrentUserMessage, isLiveSupportMessage, isSystemMessage, userScreenName]\n  );\n\n  const renderMessageContent = useMemo((): ReactElement => {\n    if (isSystemMessage) {\n      if (isMiniChat) {\n        return <span>{parseSystemMessage(content)}</span>; // Return one-liner without HTML tags\n      }\n\n      return <div dangerouslySetInnerHTML={{ __html: content }} />; // Preserve HTML tags and layout\n    }\n\n    return <span className={notificationMods}>{requireTranslation ? translatedContent : content}</span>;\n  }, [content, notificationMods, isMiniChat, isSystemMessage, requireTranslation, translatedContent]);\n\n  return (\n    <div className={mods}>\n      <div className={styles.messageBubble__content}>\n        <span className={styles.messageBubble__userName}>{renderUserName}</span>\n        {renderMessageContent}\n      </div>\n    </div>\n  );\n};\n","import type { CoreRootState } from '../../../store/CoreStore';\nimport type { ILimit } from '../../../store/slices/bets/types';\nimport type { ChipValueType } from '../../../store/slices/chips/types';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type MapContextToStore<T extends Record<string, any> = Record<string, any>> = (state: CoreRootState) => T;\n\nexport interface PlacingBetsHelpContextProps {\n  placingBets: {\n    chips: ChipValueType[];\n    currency: string;\n    tableBetLimits: ILimit;\n    tableNameKey: string;\n  };\n}\n\nexport interface AutoCashingOutHelpContextProps {\n  autoCashingOut: {\n    maxMultiplier: number;\n  };\n}\n\nexport interface AutoPlayHelpContextProps {\n  autoPlay: {\n    isInfiniteAutoPlayVisible: boolean;\n  };\n}\n\nexport interface HelpContextType\n  extends PlacingBetsHelpContextProps,\n    AutoCashingOutHelpContextProps,\n    AutoPlayHelpContextProps {}\n\nexport const mapStateToHelpContextProps: MapContextToStore<HelpContextType> = (state) => {\n  return {\n    placingBets: {\n      chips: state.chips.chips,\n      currency: state.gameState.currency ?? 'EUR',\n      tableBetLimits: state.config.tableConfig?.tableBetLimit ?? { min: 0.1, max: 5000 },\n      tableNameKey: state.config.tableConfig?.tableName ?? '',\n    },\n    autoCashingOut: {\n      maxMultiplier: state.config.tableConfig?.maxMultiplier ?? 100,\n    },\n    autoPlay: {\n      isInfiniteAutoPlayVisible: state.config.tableConfig?.isInfiniteAutoPlayEnabled ?? false,\n    },\n  };\n};\n","import type { FC, PropsWithChildren } from 'react';\nimport { connect } from 'react-redux';\n\nimport type { CoreRootState } from '../../../store/CoreStore';\n\nimport { HelpContext } from './HelpContext';\nimport type { HelpContextType, MapContextToStore } from './mapStateToHelpContextProps';\nimport { mapStateToHelpContextProps } from './mapStateToHelpContextProps';\n\ninterface HelpContextProviderProps extends PropsWithChildren {\n  value: HelpContextType;\n}\n\nconst HelpContextProviderWrapper: FC<HelpContextProviderProps> = ({ value, children }) => {\n  return <HelpContext.Provider value={value}>{children}</HelpContext.Provider>;\n};\n\ninterface WithCustomMapperProps {\n  customStateToPropsMap: MapContextToStore;\n}\n\n// let the HOC automatically infer complex type from redux connect function\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nconst withCustomMapper = (WrappedComponent: typeof HelpContextProviderWrapper) => {\n  const mapStateToProps = (state: CoreRootState, ownProps: WithCustomMapperProps): { value: HelpContextType } => ({\n    value: {\n      ...mapStateToHelpContextProps(state),\n      ...ownProps.customStateToPropsMap(state), // Use the custom mapper function from props\n    },\n  });\n\n  return connect(mapStateToProps)(WrappedComponent);\n};\n\nexport const HelpContextProviderConnected = withCustomMapper(HelpContextProviderWrapper);\n","import { type Context, createContext } from 'react';\n\nimport type { HelpContextType } from './mapStateToHelpContextProps';\n\nexport const HelpContext = createContext<HelpContextType | null>(null) as Context<HelpContextType>;\n","import type { FunctionComponent } from 'react';\n\nimport type { ISingleHistoryGame } from '../../../../../../api/fetchers/history/types';\nimport { Card } from '../../../../../game/card/Card';\nimport { CardSuite, CardValue } from '../../../../../game/card/types';\nimport { L12nText } from '../../../../../text/L12nText';\n\nimport styles from './BlackJackResultMessage.module.css';\n\nconst CARD_VALUE_MAP: Record<string, CardValue> = {\n  '0': '10',\n  '1': 'A',\n};\n\nconst CARD_SUIT_MAP: Record<string, CardSuite> = {\n  S: CardSuite.Spades,\n  H: CardSuite.Hearts,\n  D: CardSuite.Diamonds,\n  C: CardSuite.Clubs,\n};\n\nexport const BlackJackResultMessage: FunctionComponent<{ game: ISingleHistoryGame }> = ({ game }) => {\n  const { newResultCode, resultCode } = game.simulated;\n  const cardArray: {\n    suite: CardSuite;\n    value: CardValue;\n  }[] = [];\n\n  const cardItemsArray = newResultCode.split(',');\n  const cardValuesArray = resultCode?.replace(/\\w+:\\s?(\\d+)/g, '$1').split(',');\n  let cardTotal = 0;\n  if (!cardItemsArray || !cardValuesArray) {\n    return null;\n  }\n  cardItemsArray.map((cardItem) => {\n    const card = cardConverter(cardItem);\n    if (card.value == 'A') cardTotal += cardTotal + 11 <= 21 ? 11 : 1;\n    else if (card.value == 'J' || card.value == 'Q' || card.value == 'K') cardTotal += 10;\n    else cardTotal += Number(card.value);\n    cardArray.push(card);\n  });\n\n  return (\n    <div>\n      <div className={styles.result_container}>\n        <L12nText tk=\"HISTORY_CORRECT_RESULT\" />\n        {cardArray.map((card) => (\n          <div key={card.value} className={styles.cardMargin}>\n            <div className={styles.card}>\n              <Card value={card.value} suite={card.suite} />\n            </div>\n          </div>\n        ))}\n        <div className={styles.cardTotal}>{cardTotal}</div>\n      </div>\n    </div>\n  );\n};\n\nconst cardConverter = (\n  card: string\n): {\n  suite: CardSuite;\n  value: CardValue;\n} => {\n  return {\n    value: CARD_VALUE_MAP[card.charAt(0)] ?? (card.charAt(0) as CardValue),\n    suite: CARD_SUIT_MAP[card.charAt(1)] ?? (card.charAt(1) as CardSuite),\n  };\n};\n","import type { FC } from 'react';\n\nimport greenLevel from '../../assets/green.svg';\nimport purpleLevel from '../../assets/purple.svg';\n\nimport styles from './BobLevel.module.css';\n\nexport enum ColorScheme {\n  Purple,\n  Green,\n}\n\ninterface BobLevelProps {\n  value: string;\n  type: ColorScheme;\n}\n\nconst levelTypeIcons = {\n  [ColorScheme.Green]: <img src={greenLevel} alt=\"greenLevel\" />,\n  [ColorScheme.Purple]: <img src={purpleLevel} alt=\"purpleLevel\" />,\n};\n\nexport const BobLevel: FC<BobLevelProps> = ({ value, type }) => {\n  const Icon = levelTypeIcons[type];\n\n  return (\n    <div className={styles.bobLevel}>\n      {Icon}\n      <div className={styles.bobLevel__value}>{value}</div>\n    </div>\n  );\n};\n","import type { FC, ImgHTMLAttributes } from 'react';\nimport { Fragment } from 'react';\n\nimport { useModifiers } from '../../../../../../../../styles/hooks/useModifiers';\nimport type { DiceValue } from '../../../../../../../dice/Dice';\nimport { Dice } from '../../../../../../../dice/Dice';\nimport blueDiceSVG from '../../assets/blueDice.svg';\nimport goldDiceSVG from '../../assets/goldDice.svg';\nimport type { BG3RoundDetails } from '../../types';\n\nimport styles from './BG3BetInfo.module.css';\n\nenum ColorCode {\n  Gold = '0',\n  Blue = '1',\n}\n\nconst colorDiceSVGProps: Record<ColorCode, ImgHTMLAttributes<HTMLImageElement>> = {\n  [ColorCode.Gold]: { src: goldDiceSVG },\n  [ColorCode.Blue]: { src: blueDiceSVG },\n};\n\ninterface DiceSequenceProps {\n  dices: string[];\n}\n\ninterface BattleResultProps {\n  dices: string[];\n  multiplierVal: string;\n  team: ColorCode;\n  isPlayerChoice: boolean;\n}\n\ninterface BG3BetInfoProps {\n  gameRoundDetails: BG3RoundDetails;\n}\n\nconst DiceSequence: FC<DiceSequenceProps> = ({ dices }) => {\n  return (\n    <>\n      {dices.map((result, index) => {\n        const key = `${result}-${index}`;\n        return (\n          <Fragment key={key}>\n            {index > 0 && <span>{' > '}</span>}\n            <div className={styles.details__dice}>\n              <Dice value={Number(result) as DiceValue} />\n            </div>\n          </Fragment>\n        );\n      })}\n    </>\n  );\n};\n\nconst BattleResult: FC<BattleResultProps> = ({ dices, multiplierVal, team, isPlayerChoice }) => {\n  const detailsClassName = useModifiers(styles, 'details', { playerChoice: isPlayerChoice }, { withBaseClass: true });\n\n  return (\n    <div className={detailsClassName}>\n      <span className={styles.details__teamDice}>\n        <img {...colorDiceSVGProps[team]} alt=\"teamDice\" />\n      </span>\n      <span className={styles.details__multiplierValue}>{multiplierVal}x</span>\n      {' | '}\n      <DiceSequence dices={dices} />\n    </div>\n  );\n};\n\nexport const BG3BetInfo: FC<BG3BetInfoProps> = ({ gameRoundDetails }) => {\n  const { blueDice, blueSum, yellowDice, yellowSum } = gameRoundDetails.diceBattle;\n\n  return (\n    <div className={styles.container}>\n      <BattleResult\n        dices={yellowDice}\n        multiplierVal={yellowSum}\n        team={ColorCode.Gold}\n        isPlayerChoice={gameRoundDetails.playerDecision === ColorCode.Gold}\n      />\n      <BattleResult\n        dices={blueDice}\n        multiplierVal={blueSum}\n        team={ColorCode.Blue}\n        isPlayerChoice={gameRoundDetails.playerDecision === ColorCode.Blue}\n      />\n    </div>\n  );\n};\n","import { Bets } from '../../../gameInfo/results/moneytime/config/Bets';\n\nexport const BetCodes: Record<string, number> = {\n  ['1']: Bets.One,\n  ['2']: Bets.Two,\n  ['5']: Bets.Five,\n  ['10']: Bets.Ten,\n  ['cashRoll']: Bets.CashRoll,\n  ['coinRush']: Bets.CoinRush,\n  ['bankHeist']: Bets.BankHeist,\n  ['moneyTime']: Bets.MoneyTime,\n};\n\nexport interface BonusData {\n  [key: string]: Array<string>;\n}\n\nexport type Reel = Record<string, number>;\nexport interface ReelData {\n  reelDetails: Reel;\n  reelSpin: Array<string>;\n  id: string;\n}\n\nexport const REEL_TUPLE: readonly [string, string, string] = ['ReelOne', 'ReelTwo', 'ReelThree'];\nexport const SPIN_TUPLE: readonly [string, string, string, string] = ['reSpin1', 'reSpin2', 'reSpin3', 'spin'];\nexport const RESPIN_MULTIPLIER = 50;\n","import type { FC, ReactElement } from 'react';\nimport { useCallback, useMemo, useState } from 'react';\n\nimport type { ISingleHistoryBet, ISingleHistoryGame } from '../../../../../../api/fetchers/history/types';\nimport { useHistoryCurrencySymbol } from '../../../../hooks/useHistoryCurrencySymbol';\nimport { Icons } from '../../../../../icons/iconNames';\nimport { Icon } from '../../../../../icons/icon';\nimport { L12nText } from '../../../../../text/L12nText';\nimport { HistoryCurrency } from '../../../../components/historyCurrency/HistoryCurrency';\nimport { Bets } from '../../../gameInfo/results/moneytime/config/Bets';\nimport { NetCash } from '../../components/NetCash';\nimport historyStyles from '../../HistoryBetInfo.module.css';\n\nimport BonusDetails from './components/bonusDetails/BonusDetails';\nimport { BetCodes } from './types';\n\nimport styles from './MoneyTimeTableResult.module.css';\n\ninterface MoneyTimeTableResultProps {\n  bets: ISingleHistoryBet[];\n  game: ISingleHistoryGame;\n}\n\ninterface BetInfoProps {\n  bet: ISingleHistoryBet;\n  game: ISingleHistoryGame;\n}\n\nconst getLocalizedText = (key: string): ReactElement => <L12nText tk={key} />;\n\nconst localizedBets: Record<string, string | ReactElement> = {\n  [Bets.One]: '1',\n  [Bets.Two]: '2',\n  [Bets.Five]: '5',\n  [Bets.Ten]: '10',\n  [Bets.CashRoll]: getLocalizedText('MONEYTIME_CASH_ROLL'),\n  [Bets.CoinRush]: getLocalizedText('MONEYTIME_COIN_RUSH'),\n  [Bets.BankHeist]: getLocalizedText('MONEYTIME_BANK_HEIST'),\n  [Bets.MoneyTime]: getLocalizedText('MONEYTIME_MONEY_TIME'),\n};\n\nconst BONUS_BETSPOTS = [Bets.CashRoll, Bets.CoinRush, Bets.BankHeist, Bets.MoneyTime];\n\nconst MoneyTimeTableResult: FC<MoneyTimeTableResultProps> = ({ bets, game }): ReactElement => {\n  const currencySymbol = useHistoryCurrencySymbol();\n  return (\n    <>\n      <thead>\n        <tr className={styles.heading}>\n          <td className={styles.tableHead} />\n          <td className={styles.tableHead} style={{ textAlign: 'left' }}>\n            <L12nText tk=\"BETTYPE\" />\n          </td>\n          <td className={styles.tableHead}>\n            <L12nText tk=\"BET_LABEL\" /> {currencySymbol}\n          </td>\n          <td className={styles.tableHead}>\n            <L12nText tk=\"NETCASH\" /> {currencySymbol}\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {bets.map((bet: ISingleHistoryBet) => (\n          <BetInfo key={bet.description} game={game} bet={bet} />\n        ))}\n      </tbody>\n    </>\n  );\n};\n\nconst BetInfo: FC<BetInfoProps> = ({ game, bet }): ReactElement => {\n  const { moneyTimeGameEventDetails, moneyTimePlayerEventDetails } = game.additional?.moneyTimeDetails || {};\n  const { wheelResult, gameBonusData, cancelled } = moneyTimeGameEventDetails;\n  const betCode = BetCodes[bet.description] as Bets;\n  const isBonusResult = BONUS_BETSPOTS.includes(Number(wheelResult));\n\n  const [openDetails, setOpenDetails] = useState<number>();\n\n  const isOpened = openDetails === betCode;\n  const hasResult =\n    isBonusResult && Number(wheelResult) === betCode && cancelled != 'true' && gameBonusData?.[bet.description];\n\n  const rowClassName = useMemo(() => {\n    if (!hasResult) return '';\n    return isOpened ? styles.bonusBetRow : styles.rowCursor;\n  }, [hasResult, isOpened]);\n\n  const onRowClick = useCallback(() => {\n    if (hasResult) {\n      setOpenDetails((prev) => (prev ? undefined : betCode));\n    }\n  }, [hasResult, betCode]);\n\n  return (\n    <>\n      <tr onClick={onRowClick} className={`${rowClassName} ${styles.tableRow}`}>\n        <td>\n          {hasResult && (\n            <Icon icon={isOpened ? Icons.ChevronDown : Icons.ChevronRight} className={styles.table__chevron} />\n          )}\n        </td>\n        <td style={{ textAlign: 'left' }}>{betCode ? localizedBets[betCode] : null}</td>\n        <td>\n          <HistoryCurrency value={Number(bet.amount)} />\n        </td>\n        <td className={`${Number(bet.netCash) > 0 ? historyStyles.win : historyStyles.lose}`}>\n          {game.cancelled && Number(bet.netCash) == 0 ? (\n            <span className={historyStyles.refunded}>\n              <L12nText tk=\"REFUNDED\" />\n            </span>\n          ) : (\n            <NetCash bet={bet} />\n          )}\n        </td>\n      </tr>\n      {isOpened ? (\n        <BonusDetails\n          data={gameBonusData[bet.description]}\n          betCode={betCode}\n          playerEvents={moneyTimePlayerEventDetails}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default MoneyTimeTableResult;\n","import { Bets } from '../../../gameInfo/results/snakesandladders2/iconsMap';\n\nexport interface IRollDetails {\n  diceInfo: null | number;\n  multiplier: number;\n  symbol?: string;\n  position: number;\n  nextPosition?: IRollDetails;\n}\n\nexport interface SnlBonusGame {\n  bonusType: string;\n  noOfSLBRolls?: null | number;\n  playerPositions: IRollDetails[];\n}\n\nexport interface Snlv2GameDetails {\n  boostMultiplierDetails: {\n    boostMultiplier: string;\n    boostMultiplierBetCode: string;\n  };\n  cancelled: null | string;\n  snlBonusGame: null | SnlBonusGame;\n\n  winningBetCodeVsMultiplier: {\n    bonusGameMultiplier: string;\n    rc: string;\n  };\n}\n\nexport interface PositionInfo {\n  position: number;\n  symbol: string;\n}\n\nexport interface PositionDetails {\n  multiplier: number;\n  positionsList: PositionInfo[];\n}\n\nexport enum Symbol {\n  Snake = 'Snake',\n  Ladder = 'Ladder',\n  LifeLost = 'LifeLost',\n}\n\ninterface Collection extends Record<string, string> {}\n\nexport const BetCodes: Collection = {\n  ['1']: Bets.ONE,\n  ['2']: Bets.TWO,\n  ['5']: Bets.FIVE,\n  ['10']: Bets.TEN,\n  ['Totem Bonus 1']: Bets.TOTEM_ONE,\n  ['Totem Bonus 2']: Bets.TOTEM_TWO,\n  ['Board Bonus 3']: Bets.BOARD_THREE,\n  ['Board Bonus 5']: Bets.BOARD_FIVE,\n  ['Game correction']: Bets.GAME_CORRECTION,\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { Bets } from '../../../../gameInfo/results/snakesandladders2/iconsMap';\nimport styles from '../SnakesAndLadders2TableResult.module.css';\nimport type { IRollDetails } from '../types';\n\nimport { RollDetails } from './rollDetails/RollDetails';\n\ninterface BonusBetInfoProps {\n  playerPositions?: IRollDetails[];\n  winBetCode: Bets;\n}\n\nexport const BonusBetInfo: FC<BonusBetInfoProps> = ({ playerPositions, winBetCode }): ReactElement => (\n  <tr className={styles.table__row}>\n    <td colSpan={3} className={styles.bottomCorners}>\n      <div className={styles.resultCollapse}>\n        <div className={styles.bonusContainer}>\n          <div className={styles.rollDetailsWrapper}>\n            {playerPositions?.map((rollDetails, index) => {\n              const isBoardBonus = winBetCode == Bets.BOARD_THREE || winBetCode == Bets.BOARD_FIVE;\n              return (\n                <RollDetails\n                  key={`${rollDetails.diceInfo}_${rollDetails.position}`}\n                  isBoardBonus={isBoardBonus}\n                  rollDetails={rollDetails}\n                  isFinal={playerPositions.length === index + 1}\n                />\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n);\n","import type { FC, ReactElement } from 'react';\nimport { useCallback, useState } from 'react';\n\nimport type { ISingleHistoryBet, ISingleHistoryGame } from '../../../../../../api/fetchers/history/types';\nimport { useHistoryContext } from '../../../../../../components/history/hooks/useHistoryContext';\nimport { useModifiers } from '../../../../../../styles/hooks/useModifiers';\nimport { Icon, Icons } from '../../../../../icons';\nimport { L12nText } from '../../../../../text/L12nText';\nimport { HistoryCurrency } from '../../../../components/historyCurrency/HistoryCurrency';\nimport { Bets } from '../../../gameInfo/results/snakesandladders2/iconsMap';\nimport { NetCash } from '../../components/NetCash';\nimport historyStyles from '../../HistoryBetInfo.module.css';\n\nimport { BonusBetInfo } from './components/BonusBetInfo';\nimport { BetCodes, Snlv2GameDetails } from './types';\n\nimport styles from './SnakesAndLadders2TableResult.module.css';\n\nexport interface SnakesAndLadders2TableResultProps {\n  bets: ISingleHistoryBet[];\n  game: ISingleHistoryGame;\n}\ninterface BetInfoProps {\n  bet: ISingleHistoryBet;\n  game: ISingleHistoryGame;\n}\ninterface ILocalisedBets extends Record<string, string | ReactElement> {}\nconst getLocalisedText = (key: string): ReactElement => <L12nText tk={key} />;\nconst localisedBets: ILocalisedBets = {\n  [Bets.ONE]: '1',\n  [Bets.TWO]: '2',\n  [Bets.FIVE]: '5',\n  [Bets.TEN]: '10',\n  [Bets.TOTEM_ONE]: getLocalisedText('SNL_HISTORY_ONE_LIFE'),\n  [Bets.TOTEM_TWO]: getLocalisedText('SNL_HISTORY_2_LIVES'),\n  [Bets.BOARD_THREE]: getLocalisedText('SNL_HISTORY_THREE_ROLLS'),\n  [Bets.BOARD_FIVE]: getLocalisedText('SNL_HISTORY_FIVE_ROLLS'),\n  [Bets.GAME_CORRECTION]: getLocalisedText('HISTORY_GAME_CORRECTION'),\n};\nconst bonusBetCodes = [Bets.TOTEM_ONE, Bets.TOTEM_TWO, Bets.BOARD_THREE, Bets.BOARD_FIVE];\nconst SnakesAndLadders2TableResult: FC<SnakesAndLadders2TableResultProps> = ({ bets, game }): ReactElement => {\n  const { currencySymbol } = useHistoryContext();\n  return (\n    <>\n      <thead>\n        <tr>\n          <td className={`${historyStyles.table_head} ${styles.table__betType}`}>\n            <L12nText tk=\"BETTYPE\" />\n          </td>\n          <td className={historyStyles.table_head}>\n            <L12nText tk=\"BET_LABEL\" /> {currencySymbol}\n          </td>\n          <td className={`${historyStyles.table_head} ${styles.table__netCash}`}>\n            <L12nText tk=\"NETCASH\" /> {currencySymbol}\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {bets.map((bet: ISingleHistoryBet) => (\n          <BetInfo key={bet.description} game={game} bet={bet} />\n        ))}\n      </tbody>\n    </>\n  );\n};\nconst BetInfo: FC<BetInfoProps> = (props): ReactElement => {\n  const { game, bet } = props;\n  const gameDetails = game.additional?.snlv2GameDetails as Snlv2GameDetails;\n  const winBetCode = gameDetails?.winningBetCodeVsMultiplier.rc as Bets;\n  const hasBonusResult = bonusBetCodes.includes(winBetCode);\n  const playerPositions = gameDetails?.snlBonusGame?.playerPositions;\n  const betCode = BetCodes[bet.description];\n  const [openDetails, setOpenDetails] = useState<string | null>(null);\n  const isOpened = openDetails === betCode;\n  const hasResult = hasBonusResult && winBetCode === betCode && !!playerPositions && gameDetails?.cancelled != 'true';\n  const className = useModifiers(styles, 'bonusBetRow', { hasResult, isOpened });\n  const onRowClick = useCallback(() => {\n    if (hasResult) {\n      setOpenDetails((prev) => (prev ? null : betCode));\n    }\n  }, [hasResult, betCode]);\n  return (\n    <>\n      <tr onClick={onRowClick} className={className}>\n        <td className={`${styles.table__bet} ${hasResult ? styles.leftTopCorner : ''}`}>\n          <div className={styles.table__betTypeWrapper}>\n            {betCode ? localisedBets[betCode] : null}\n            {hasResult && (\n              <Icon icon={isOpened ? Icons.ChevronDown : Icons.ChevronRight} className={styles.table__chevron} />\n            )}\n          </div>\n        </td>\n        <td className={styles.table__amount}>\n          <HistoryCurrency hideCurrency value={Number(bet.amount)} />\n        </td>\n        <td className={`${styles.rightTopCorner} ${Number(bet.netCash) > 0 ? historyStyles.win : ''}`}>\n          {game.cancelled && Number(bet.netCash) == 0 ? (\n            <span className={historyStyles.refunded}>\n              <L12nText tk=\"REFUNDED\" />\n            </span>\n          ) : (\n            <NetCash bet={bet} />\n          )}\n        </td>\n      </tr>\n      {isOpened && <BonusBetInfo playerPositions={playerPositions} winBetCode={winBetCode} />}\n    </>\n  );\n};\nexport default SnakesAndLadders2TableResult;\n","import type { FC, PropsWithChildren, ReactElement } from 'react';\nimport { createContext, useEffect, useMemo, useReducer } from 'react';\n\nimport type { IHistoryGame } from '../../../api/fetchers/history/types';\n\nimport { HistoryActionType } from './HistoryActions';\nimport type { HistoryAction } from './HistoryActions';\nimport type {\n  HistoryContextType,\n  HistoryFetchStatus,\n  HistoryParsedPayload,\n  HistoryState,\n  HistoryStateContextType,\n} from './types';\n\nconst initialState: HistoryState = {\n  collapsed: {},\n  entities: {},\n  fetchStatus: [],\n  gameInfo: null,\n  previousContainerScrollHeight: 0,\n  ids: [],\n  loading: false,\n  loadingDetails: false,\n  summary: null,\n  scrollPosition: 0,\n  summaryFirstDayDifference: 0,\n  summaryFirstDayDifferenceMatchesTotalRecords: false,\n};\n\nconst parseHistoryListPayload = (\n  historyList: IHistoryGame[],\n  storedRecords: Record<number | string, IHistoryGame>,\n  storedIds: number[],\n  prepend?: boolean\n): HistoryParsedPayload => {\n  return historyList.reduce<HistoryParsedPayload>(\n    (result, historyItem) => {\n      result.entities[historyItem.gameId] = historyItem;\n      if (prepend) {\n        result.ids.unshift(historyItem.gameId);\n      } else {\n        result.ids.push(historyItem.gameId);\n      }\n      return result;\n    },\n    { entities: storedRecords, ids: storedIds }\n  );\n};\n\nconst setFetchStatus = (records: HistoryFetchStatus[], date: number, difference: number): HistoryFetchStatus[] => {\n  const fetchStatusRecordIndex = records.findIndex((record) => record.date === date);\n\n  if (fetchStatusRecordIndex !== -1 && records[fetchStatusRecordIndex]) {\n    records[fetchStatusRecordIndex].isFetching = true;\n    records[fetchStatusRecordIndex].difference = difference;\n  } else {\n    records.push({\n      date,\n      currentAmount: 0,\n      isFetching: true,\n      difference,\n    });\n  }\n\n  return records;\n};\n\nconst historyReducer = (state: HistoryState, action: HistoryAction): HistoryState => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case HistoryActionType.SET_HISTORY_LIST: {\n      const { entities, ids } = parseHistoryListPayload(payload.games, state.entities, state.ids, !payload.ordered);\n\n      return {\n        ...state,\n        entities,\n        ids: [...new Set(ids)],\n      };\n    }\n    case HistoryActionType.SET_FETCH_DIFFERENCE: {\n      const { date, difference } = payload;\n\n      setFetchStatus(state.fetchStatus, date, difference);\n\n      return {\n        ...state,\n      };\n    }\n    case HistoryActionType.SET_SCROLL_POSITION: {\n      return {\n        ...state,\n        scrollPosition: payload,\n      };\n    }\n    case HistoryActionType.SET_HISTORY_SUMMARY_FIRST_DAY_DIFFERENCE: {\n      return {\n        ...state,\n        summaryFirstDayDifference: payload,\n      };\n    }\n    case HistoryActionType.SET_HISTORY_SUMMARY_FIRST_DAY_DIFFERENCE_MATCHES_TOTAL_RECORDS: {\n      return {\n        ...state,\n        summaryFirstDayDifferenceMatchesTotalRecords: payload,\n      };\n    }\n    case HistoryActionType.SET_HISTORY_SUMMARY: {\n      return { ...state, summary: payload };\n    }\n    case HistoryActionType.SET_HISTORY_DAY_COLLAPSED: {\n      const { date, isCollapsed } = payload;\n      state.collapsed[date] = isCollapsed;\n\n      return { ...state };\n    }\n    case HistoryActionType.SET_HISTORY_FETCHING: {\n      const { date, isFetching } = action.payload;\n      const fetchedAmount = state.fetchStatus.find((record) => record.date === date);\n\n      if (fetchedAmount) {\n        fetchedAmount.isFetching = isFetching;\n\n        if (!isFetching) {\n          fetchedAmount.currentAmount += fetchedAmount.difference;\n        }\n\n        return { ...state }; // update state only if fetchedAmount entry exists in the state\n      }\n      return state;\n    }\n    case HistoryActionType.SET_GAME_INFO:\n      return {\n        ...state,\n        gameInfo: action.payload,\n      };\n    case HistoryActionType.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      };\n    case HistoryActionType.SET_LOADING_DETAILS:\n      return {\n        ...state,\n        loadingDetails: action.payload,\n      };\n    case HistoryActionType.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const HistoryContext = createContext<HistoryContextType & HistoryStateContextType>({\n  JSESSIONID: null,\n  currency: null,\n  currentLanguage: '',\n  dispatch: () => {},\n  env: null,\n  history: initialState,\n  isRTL: false,\n  tableConfig: null,\n  userId: null,\n});\n\nconst initState = (): HistoryState => initialState;\n\ninterface HistoryContextProviderProps extends PropsWithChildren<HistoryContextType> {\n  scrollerContainer: HTMLElement | null;\n}\n\nexport const HistoryContextProvider: FC<HistoryContextProviderProps> = ({\n  children,\n  scrollerContainer,\n  ...rest\n}): ReactElement => {\n  const [history, dispatch] = useReducer(historyReducer, null, initState);\n\n  useEffect(() => {\n    return () => {\n      // NOTE: The state should be preserved when provider is unmountedw\n      // Solution with re-locating provider to the root of the app is not feasible, as it would require a lot of changes for other framework games that use the web component\n      // Instead, either the initial state object can be mutated to re-use it on consequent provider mounts\n      // Or save the last state in local/session storage and restore it on the next provider mount (this solution is not looked into yet)\n      Object.assign(initialState, history);\n    };\n  }, [history]); // TODO: Investigate, why this dep is needed for this solution to have correct effect\n\n  useEffect(() => {\n    return () => {\n      if (scrollerContainer) {\n        initialState.scrollPosition = scrollerContainer.scrollTop; // just brutally mutate the initial state object\n      }\n    };\n  }, [scrollerContainer]);\n\n  const value = useMemo(() => ({ history, dispatch, ...rest }), [history, dispatch, rest]);\n\n  return <HistoryContext.Provider value={value}>{children}</HistoryContext.Provider>;\n};\n","import { useHistoryContext } from './useHistoryContext';\n\nexport const useHistoryHideCurrency = (): boolean => {\n  const { casinoConfigHideCurrency = false, playerConfigHideCurrency = false } = useHistoryContext();\n\n  return playerConfigHideCurrency || casinoConfigHideCurrency;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"nickNameSettingsForm\":\"gv_gw\",\"nickNameSettingsForm_inPopUp\":\"gv_gx\"};","import type { ChangeEvent, FC, FormEvent } from 'react';\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react';\n\nimport { NetworkError } from '../../../api/errors/NetworkError';\nimport { postNickName } from '../../../api/fetchers/nickName/fetcher';\nimport { postPromoScreenName } from '../../../api/fetchers/promotions/fetcher';\nimport { ScreenNameConstants } from '../../../config/CoreConstants';\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { configActions } from '../../../store/slices/config/slice';\nimport { nickNameInfoActions } from '../../../store/slices/nickname/slice';\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { Button, ButtonVariant } from '../../controls/button/Button';\nimport { FormGrid } from '../../formGrid/FormGrid';\nimport { Icon, Icons } from '../../icons';\nimport { BaseInput } from '../../inputs/baseInput/BaseInput';\nimport type { NavDrawerContentProps } from '../../nav/types';\nimport { L12nText } from '../../text/L12nText';\n\nimport { NickNameEditFooterMessageConnected } from './NickNameFooterMessageConnected';\n\nimport styles from './NickNameEdit.module.css';\n\ninterface NickNameEditFormProps extends NavDrawerContentProps {\n  inPopUp?: boolean;\n  onNickNameSave?: () => void;\n}\n\nexport const NickNameEditFormConnected: FC<NickNameEditFormProps> = ({\n  inNavDrawer = false,\n  inPopUp = false,\n  onNickNameSave,\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [validationMessage, setValidationMessage] = useState<string>('');\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isSuccessful, setIsSuccessful] = useState<boolean>(false);\n  const [newScreenName, setNewScreenName] = useState<string>('');\n  const [isDisabled, setIsDisabled] = useState<boolean>(true);\n  const [errMsgDynamicValues, setErrMsgDynamicValues] = useState<Array<string>>([]);\n\n  const baseUrl = useConfigSlice.baseUrl();\n  const env = useConfigSlice.env()?.promoService ?? '';\n  const jwtToken = useConfigSlice.jwtToken() ?? '';\n  const JSESSIONID = useConfigSlice.JSESSIONID() ?? '';\n  const screenName = useConfigSlice.playerConfig()?.screenName ?? '';\n  const tableId = useConfigSlice.tableId() ?? '';\n  const restrictNicknameEdit = useConfigSlice.isRestrictNickNameEdit();\n\n  const dispatch = useCoreDispatch();\n\n  useLayoutEffect(() => {\n    !inPopUp && inputRef?.current?.focus();\n  }, [inPopUp, inputRef]);\n\n  useEffect(() => {\n    !inPopUp && setNewScreenName(screenName);\n  }, [inPopUp, screenName]);\n\n  const handleSaveNickName = (): void => {\n    if (isLoading || isSuccessful || restrictNicknameEdit) return;\n\n    setIsLoading(true);\n    postNickName({\n      JSESSIONID: JSESSIONID,\n      screenName: newScreenName,\n      tableId: tableId,\n      url: `${baseUrl}/api/user/screenName`,\n    })\n      .then((response) => {\n        dispatch(\n          nickNameInfoActions.setNickNameInfo({\n            maxCount: response.maxCount,\n            remainingAttempts: response.maxCount - response.count,\n            screenName: response.screenName,\n            userId: response.userId,\n          })\n        );\n        dispatch(configActions.setScreenName(response.screenName));\n\n        setIsDisabled(false);\n        setIsSuccessful(true);\n\n        onNickNameSave?.();\n\n        postPromoScreenName({ envPromo: env, jwtToken: jwtToken });\n      })\n      .catch((error) => {\n        if (error instanceof NetworkError && error.payload instanceof ReadableStream) {\n          error.payload\n            .getReader()\n            .read()\n            .then(function processText({ done, value }) {\n              if (done) {\n                return;\n              }\n\n              // Convert stream from Uint8Array to string\n              const text = new TextDecoder('utf-8').decode(value);\n              const errorResponse = JSON.parse(text);\n              switch (errorResponse.error) {\n                case 1013:\n                  setValidationMessage('SETTINGS_CHAR_ACCEPTED_UNICODE');\n                  break;\n                case 1014:\n                  setValidationMessage('SETTINGS_NICKNAME_EXIST');\n                  break;\n                case 1016:\n                  setValidationMessage('SETTINGS_SELECTED_NICKNAME');\n                  break;\n                default:\n                  setValidationMessage('ERROR_2001');\n                  break;\n              }\n            })\n            .catch(() => {\n              setValidationMessage('ERROR_2001');\n            });\n        } else {\n          setValidationMessage('ERROR_2001');\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const validateInput = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.preventDefault();\n\n    setIsDisabled(false);\n\n    const input = inputRef.current as HTMLInputElement;\n    const value = input.value;\n\n    setNewScreenName(value);\n    setErrMsgDynamicValues([]);\n\n    switch (true) {\n      case value.length < 2:\n        setErrMsgDynamicValues([ScreenNameConstants.SCREEN_NAME_MIN_LENGTH]);\n        setValidationMessage('SETTINGS_NICKNAME_CHAR');\n        break;\n      case value.length > 20:\n        setErrMsgDynamicValues([ScreenNameConstants.SCREEN_NAME_MAX_LENGTH]);\n        setValidationMessage('SETTINGS_NICKNAME_CHAR_MAX');\n        break;\n      case value === screenName:\n        setValidationMessage('SETTINGS_SELECTED_NICKNAME');\n        break;\n      case input.validity.patternMismatch:\n        setValidationMessage('SETTINGS_CHAR_ACCEPTED_UNICODE');\n        break;\n      default:\n        setValidationMessage('');\n        break;\n    }\n  };\n\n  const handleFormSubmit = (event: FormEvent<HTMLFormElement>): void => {\n    event.preventDefault();\n\n    handleSaveNickName();\n  };\n\n  const mods = useModifiers(styles, 'nickNameSettingsForm', { inPopUp }, { withBaseClass: true });\n\n  return (\n    <>\n      <form className={mods} onSubmit={handleFormSubmit} autoComplete=\"off\">\n        <FormGrid>\n          <BaseInput\n            disabled={isLoading || isSuccessful}\n            errorMessage={\n              validationMessage ? <L12nText tk={validationMessage} dynamicValues={errMsgDynamicValues} /> : null\n            }\n            inputRef={inputRef}\n            isErrorAnimated\n            label={inPopUp ? null : <L12nText tk=\"SETTINGS_NICKNAME\" />}\n            minLength={2}\n            name=\"screenName\"\n            onChange={validateInput}\n            pattern=\"^[\\p{L}\\p{N}\\p{M}]*$\" // accepts Only numbers and unicode letters\n            required\n            supportingText={<L12nText tk=\"SETTINGS_NICKNAME_LENGTH\" />}\n            type=\"text\"\n            value={newScreenName}\n          />\n          <Button\n            disabled={!!validationMessage || !newScreenName || isDisabled || restrictNicknameEdit}\n            loading={isLoading}\n            tk={isSuccessful ? '' : inPopUp ? 'STARTPLAYING' : 'SAVE'}\n            type=\"submit\"\n            variant={ButtonVariant.ACCENT}\n          >\n            {isSuccessful ? <Icon icon={Icons.CheckMark} /> : null}\n          </Button>\n        </FormGrid>\n      </form>\n      {inNavDrawer ? <NickNameEditFooterMessageConnected /> : null}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"formGrid\":\"gl_gm\",\"formGrid_inline\":\"gl_gn\"};","import type { FunctionComponent, PropsWithChildren } from 'react';\n\nimport { useModifiers } from '../../styles/hooks/useModifiers';\n\nimport styles from './FormGrid.module.css';\n\nexport interface FormGridProps extends PropsWithChildren {\n  inline?: boolean;\n}\n\nexport const FormGrid: FunctionComponent<FormGridProps> = ({ children, inline = false }) => {\n  const mods = useModifiers(\n    styles,\n    'formGrid',\n    {\n      inline,\n    },\n    { withBaseClass: true }\n  );\n\n  return <div className={mods}>{children}</div>;\n};\n","import type { FC } from 'react';\n\nimport { useNickNameInfoSlice } from '../../../store/slices/nickname/selectors';\nimport { L12nText } from '../../text/L12nText';\n\nimport styles from './NickNameFooterMessage.module.css';\n\nexport const NickNameEditFooterMessageConnected: FC = () => {\n  const { maxCount, remainingAttempts } = useNickNameInfoSlice.getNickNameInfo();\n\n  const supportingMessage = remainingAttempts ? 'SETTINGS_CHANGE_NICKNAME' : 'SETTINGS_MAX_LIMIT_NICKNAME';\n\n  return (\n    <div className={styles.nickNameSettingsFooter}>\n      <L12nText\n        tk={supportingMessage}\n        markdown\n        dynamicValues={[\n          `${maxCount}`,\n          `<span style=\"color:var(--core-color-text)\">${remainingAttempts}/${maxCount}</span>`, // TODO: rework this, as triggers dangerouslySetInnerHTML\n        ]}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"nickNameSettingsFooter\":\"jw_jx\"};","// extracted by mini-css-extract-plugin\nexport default {\"icon\":\"fA_eL\"};","import type { FC, ReactElement } from 'react';\n\nimport { useLocale } from '../../api/useTranslation';\nimport type { CurrencyFormatterOptions } from '../../formatters/CurrencyFormatter';\nimport { useHideCurrency } from '../../store/compositeSelectors/useHideCurrency';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\nimport { useSettingsSlice } from '../../store/slices/settings/selectors';\n\nimport { Currency } from './Currency';\n\nexport interface CurrencyConnectedProps extends Omit<CurrencyFormatterOptions, 'currency' | 'locale'> {\n  /** The value to be formatted */\n  value: number;\n}\n\nexport const CurrencyConnected: FC<CurrencyConnectedProps> = ({\n  value,\n  hideCurrency,\n  ...rest\n}): ReactElement | null => {\n  const currency = useGameStateSlice.getCurrency();\n  const locale = useLocale();\n  const isRTL = useSettingsSlice.getIsCurrentLanguageRTL();\n  const textDir = isRTL ? 'rtl' : 'ltr';\n  const hideCurrencyConfig = useHideCurrency();\n\n  if (!currency) return null;\n\n  return (\n    <span dir={textDir}>\n      <Currency\n        currency={currency}\n        hideCurrency={hideCurrencyConfig || hideCurrency}\n        locale={locale}\n        value={value}\n        {...rest}\n      />\n    </span>\n  );\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { Currency } from '../../../currency/Currency';\nimport { useHistoryContext } from '../../hooks/useHistoryContext';\nimport { useHistoryHideCurrency } from '../../hooks/useHistoryHideCurrency';\n\nimport styles from './historyCurrency.module.css';\n\ninterface HistoryCurrencyProps {\n  value: number;\n  hideCurrency?: boolean;\n}\n\nexport const HistoryCurrency: FC<HistoryCurrencyProps> = ({ value, hideCurrency = false }): ReactElement | null => {\n  const { currentLanguage, currency, isRTL } = useHistoryContext();\n  const hideCurrencyConfig = useHistoryHideCurrency();\n\n  if (!currency) return null;\n\n  return (\n    <span className={styles.historyCurrency} dir={isRTL ? 'rtl' : 'ltr'}>\n      <Currency\n        currency={currency}\n        hideCurrency={hideCurrency || hideCurrencyConfig}\n        locale={currentLanguage}\n        value={value}\n      />\n    </span>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"historyCurrency\":\"Cw_Cx\"};","import { createSelector } from '@reduxjs/toolkit';\nimport { useSelector } from 'react-redux';\n\nimport type { AssignedTablesType } from '../../../api/fetchers/assignedTables/types';\nimport type {\n  PrizeDropWinSocketResponse,\n  Promotion,\n  RoundHistoryByWSType,\n  RoundHistoryType,\n  WinNotificationType,\n} from '../../../api/fetchers/promotionsV2/types/promotions';\n\nimport type {\n  PromoPoint,\n  PromosApiAuthData,\n  PromosCoreState,\n  PromosGameData,\n  PromosJwtAuthData,\n  PromosPopup,\n  PromosUserData,\n  TopTournamentPoints,\n} from './types';\nimport { isPromoOpted } from './utils';\n\nconst selectOptedPromotions = createSelector(\n  [(state: PromosCoreState): Promotion[] => state.promotionsV2.promotions],\n  (promotions): Promotion[] => promotions.filter(isPromoOpted)\n);\n\nconst selectPromoById = createSelector(\n  [\n    (state: PromosCoreState): Promotion[] => state.promotionsV2.promotions,\n    (state: PromosCoreState): number | null => state.promotionsV2.selectedPromoId,\n  ],\n  (promotions, id): Promotion | undefined => promotions.find((promo) => promo.id === id)\n);\n\nconst selectPromosUserData = createSelector(\n  [\n    (state: PromosCoreState): string | undefined => state.promotionsV2.userId,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.lang,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.screenName,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.casinoRegion,\n  ],\n  (userId, lang, screenName, casinoRegion): PromosUserData | null =>\n    isSet(userId) && isSet(lang) && isSet(screenName) && isSet(casinoRegion)\n      ? { userId, lang, screenName, casinoRegion }\n      : null\n);\n\nconst selectPromosGameData = createSelector(\n  [\n    (state: PromosCoreState): string | undefined => state.promotionsV2.gameId,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.currency,\n    (state: PromosCoreState): boolean | undefined => state.promotionsV2.isBetOpenStatus,\n    (state: PromosCoreState): number | undefined => state.promotionsV2.totalBet,\n  ],\n  (gameId, currency, isBetOpenStatus, totalBet): PromosGameData | null =>\n    isSet(gameId) && isSet(currency) && isSet(isBetOpenStatus) && isSet(totalBet)\n      ? { gameId, currency, isBetOpenStatus, totalBet }\n      : null\n);\n\nconst selectPromosApiAuthData = createSelector(\n  [\n    (state: PromosCoreState): string | undefined => state.promotionsV2.envPromo,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.jwtToken,\n  ],\n  (envPromo, jwtToken): PromosApiAuthData | null => (isSet(envPromo) && isSet(jwtToken) ? { envPromo, jwtToken } : null)\n);\n\nconst selectPromosJwtAuthData = createSelector(\n  [\n    (state: PromosCoreState): string | undefined => state.promotionsV2.envGs,\n    (state: PromosCoreState): string | undefined => state.promotionsV2.jsessionId,\n  ],\n  (envGs, jsessionId): PromosJwtAuthData | null => (isSet(envGs) && isSet(jsessionId) ? { envGs, jsessionId } : null)\n);\n\nexport const usePromotionsV2Slice = {\n  getPromotions: (): Array<Promotion> => {\n    return useSelector<PromosCoreState, Array<Promotion>>(({ promotionsV2 }) => {\n      return promotionsV2.promotions;\n    });\n  },\n  getPoints: (): Array<PromoPoint> => {\n    return useSelector<PromosCoreState, Array<PromoPoint>>(({ promotionsV2 }) => {\n      return promotionsV2.points;\n    });\n  },\n  getAssignedTables: (): AssignedTablesType | null => {\n    return useSelector<PromosCoreState, AssignedTablesType | null>(({ promotionsV2 }) => {\n      return promotionsV2.assignedTables;\n    });\n  },\n  getWinNotifications: (): WinNotificationType[] => {\n    return useSelector<PromosCoreState, WinNotificationType[]>(({ promotionsV2 }) => {\n      return promotionsV2.winNotifications;\n    });\n  },\n  getOptedPromotions: (): Array<Promotion> => {\n    return useSelector<PromosCoreState, Array<Promotion>>(selectOptedPromotions);\n  },\n  getSelectedPromo: (): Promotion | null | undefined => {\n    return useSelector<PromosCoreState, Promotion | null | undefined>(selectPromoById);\n  },\n  getPromosPopup: (): PromosPopup | null => {\n    return useSelector<PromosCoreState, PromosPopup | null>(({ promotionsV2 }) => {\n      return promotionsV2.promosPopup;\n    });\n  },\n  getShowPromoEar: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      return promotionsV2.showPromoEar;\n    });\n  },\n  getShowScorePopup: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      return promotionsV2.showScorePopup;\n    });\n  },\n  getShowDetailsModal: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      return promotionsV2.showDetailsModal;\n    });\n  },\n  getOptPromosLoadingStatus: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      return promotionsV2.isOptPromosLoading;\n    });\n  },\n  getTopTournament: (): TopTournamentPoints | undefined => {\n    return useSelector<PromosCoreState, TopTournamentPoints | undefined>(({ promotionsV2 }) => {\n      return promotionsV2.topTournament;\n    });\n  },\n  getIsNewPromoAvailable: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      return promotionsV2.isNewPromoAvailable;\n    });\n  },\n  getPromosUserData: (): PromosUserData | null => {\n    return useSelector<PromosCoreState, PromosUserData | null>(selectPromosUserData);\n  },\n  getPromosGameData: (): PromosGameData | null => {\n    return useSelector<PromosCoreState, PromosGameData | null>(selectPromosGameData);\n  },\n  getPromosApiAuthData: (): PromosApiAuthData | null => {\n    return useSelector<PromosCoreState, PromosApiAuthData | null>(selectPromosApiAuthData);\n  },\n  getPromosJwtAuthData: (): PromosJwtAuthData | null => {\n    return useSelector<PromosCoreState, PromosJwtAuthData | null>(selectPromosJwtAuthData);\n  },\n  getPrizeDropWinMessage: (): PrizeDropWinSocketResponse | null => {\n    return useSelector<PromosCoreState, PrizeDropWinSocketResponse | null>(({ promotionsV2 }) => {\n      return promotionsV2.prizeDropWinMessage ?? null;\n    });\n  },\n  getRoundHistory: (): RoundHistoryType[] => {\n    return useSelector<PromosCoreState, RoundHistoryType[]>(({ promotionsV2 }) => {\n      const { roundHistory } = promotionsV2;\n      return roundHistory;\n    });\n  },\n  getRoundHistoryByWs: (): RoundHistoryByWSType[] => {\n    return useSelector<PromosCoreState, RoundHistoryByWSType[]>(({ promotionsV2 }) => {\n      const { roundHistoryByWs } = promotionsV2;\n      return roundHistoryByWs;\n    });\n  },\n  getRoundHistoryLoadingStatus: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => {\n      const { isRoundHistoryLoading } = promotionsV2;\n      return isRoundHistoryLoading;\n    });\n  },\n  getIsResponsive: (): boolean | undefined => {\n    return useSelector<PromosCoreState, boolean | undefined>(({ promotionsV2 }) => promotionsV2.isResponsive);\n  },\n  getSelectedPromoId: (): number | null => {\n    return useSelector<PromosCoreState, number | null>(({ promotionsV2 }) => promotionsV2.selectedPromoId);\n  },\n  getIsPromotionsInitialised: (): boolean => {\n    return useSelector<PromosCoreState, boolean>(({ promotionsV2 }) => promotionsV2.isPromotionsInitialised);\n  },\n};\n\nfunction isSet<T>(val?: T): val is T {\n  return val !== undefined;\n}\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport type { BonusCampaign } from '../../../api/fetchers/bonusPromotions/types/bonus';\nimport { BonusStatus } from '../../../api/fetchers/bonusPromotions/types/constants';\nimport {\n  fetchBonusCampaignsAction,\n  fetchBonusHistoryAction,\n  postClaimBonusAction,\n} from '../../../store/apiActions/fetchBonusPromotionAction';\n\nimport type { BonusHydrateState, BonusPromoState } from './types';\n\nexport const bonusPromotionsSlice = createSlice({\n  name: 'bonusPromotions',\n  initialState: {\n    activeBonusCampaign: null,\n    cancelledBonusCampaigns: [],\n    wageredBonusCampaigns: [],\n    expiredBonusCampaigns: [],\n    isBonusPromotionsFetching: false,\n    isAcknowledged: false,\n    isBonusHistoryLoading: false,\n    isBonusPromotionsInitialised: false,\n    silentAckBonusIds: [],\n    forceBonusRefresh: false,\n  } as BonusPromoState,\n  reducers: {\n    hydrateSlice: (state, action: PayloadAction<BonusHydrateState>) => {\n      state.envBonusPromo = action.payload.envBonusPromo;\n      state.forceBonusRefresh = !!action.payload.refreshBonus;\n    },\n    setIsBonusPromotionsFetching: (state, action: PayloadAction<boolean>) => {\n      state.isBonusPromotionsFetching = action.payload;\n    },\n    setIsAcknowledged: (state, action: PayloadAction<boolean>) => {\n      state.isAcknowledged = action.payload;\n    },\n    setIsBonusHistoryLoading: (state, action: PayloadAction<boolean>) => {\n      state.isBonusHistoryLoading = action.payload;\n    },\n    setSilentAckBonusIds: (state, action: PayloadAction<number[]>) => {\n      state.silentAckBonusIds = action.payload;\n    },\n    setForceRefreshBonus: (state, action: PayloadAction<boolean>) => {\n      state.forceBonusRefresh = action.payload;\n    },\n    updateChipBalance: (state, action: PayloadAction<number>) => {\n      if (state.activeBonusCampaign) {\n        state.activeBonusCampaign.bonus.noOfchipsRemaining = action.payload;\n        state.activeBonusCampaign.bonus.noOfchipsUsed =\n          state.activeBonusCampaign.bonus.noOfChips - state.activeBonusCampaign.bonus.noOfchipsRemaining; // it will not go negative\n      }\n    },\n    updateMyWins: (state, action: PayloadAction<number>) => {\n      if (state.activeBonusCampaign) {\n        state.activeBonusCampaign.bonus.myWins = action.payload;\n      }\n    },\n    updateNotifications: (state, action: PayloadAction<BonusStatus>) => {\n      switch (action.payload) {\n        case BonusStatus.Wagered:\n          state.wageredBonusCampaigns.shift();\n          break;\n        case BonusStatus.Cancelled:\n          state.cancelledBonusCampaigns.shift();\n          break;\n        case BonusStatus.Expired:\n          state.expiredBonusCampaigns.shift();\n          state.activeBonusCampaign = null; // remove active one to disappear in ear.\n          break;\n        default:\n          break;\n      }\n    },\n    updateExpiredNotifications: (state, action: PayloadAction<BonusCampaign>) => {\n      state.expiredBonusCampaigns = [\n        {\n          ...action.payload,\n          bonus: { ...action.payload.bonus, status: BonusStatus.Expired },\n        },\n      ];\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchBonusCampaignsAction.fulfilled, (state, action) => {\n        const hideCancelNotification = !state.isBonusPromotionsInitialised && !!action.payload.activeBonuCampaign;\n        state.isBonusPromotionsFetching = false;\n        state.activeBonusCampaign = action.payload.activeBonuCampaign;\n        state.wageredBonusCampaigns = action.payload.wageredCampaigns;\n        state.cancelledBonusCampaigns = action.payload.cancelledCampaigns;\n        if (hideCancelNotification) {\n          state.cancelledBonusCampaigns = action.payload.cancelledCampaigns.filter(\n            (campaign) => campaign.bonus.claimedOn\n          );\n          state.silentAckBonusIds = action.payload.cancelledCampaigns\n            .filter((campaign) => !campaign.bonus.claimedOn)\n            .map((value) => value.bonus.id);\n        }\n        state.isBonusPromotionsInitialised = true;\n        state.isAcknowledged = false;\n      })\n      .addCase(fetchBonusCampaignsAction.rejected, (state) => {\n        state.isBonusPromotionsInitialised = true;\n      })\n      .addCase(postClaimBonusAction.fulfilled, (state) => {\n        if (state.activeBonusCampaign) {\n          state.activeBonusCampaign.bonus.status = BonusStatus.Active;\n        }\n      })\n      .addCase(fetchBonusHistoryAction.fulfilled, (state, action) => {\n        if (state.activeBonusCampaign) {\n          if (action.payload.bonusHistory.page.number === 0) {\n            state.isBonusHistoryLoading = false;\n            state.activeBonusCampaign.bonus.transactions.data = [];\n          }\n          state.activeBonusCampaign.bonus.transactions.data.push(...action.payload.bonusHistory.content);\n          state.activeBonusCampaign.bonus.transactions.pageNumber = action.payload.bonusHistory.page.number;\n          state.activeBonusCampaign.bonus.transactions.totalPages = action.payload.bonusHistory.page.totalPages;\n          state.activeBonusCampaign.bonus.myWins = action.payload.accumulatedWins;\n        }\n      });\n  },\n});\n\nexport const bonusPromotionsActions = bonusPromotionsSlice.actions;\n","export enum Bets {\n  One = 3101,\n  Two = 3102,\n  Five = 3103,\n  Ten = 3104,\n  CashRoll = 3105,\n  BankHeist = 3106,\n  CoinRush = 3107,\n  MoneyTime = 3108,\n}\n\nexport const BETSPOT_VALUE = {\n  [Bets.One]: 1,\n  [Bets.Two]: 2,\n  [Bets.Five]: 5,\n  [Bets.Ten]: 10,\n  [Bets.CashRoll]: 1,\n  [Bets.BankHeist]: 1,\n  [Bets.CoinRush]: 1,\n  [Bets.MoneyTime]: 1,\n};\n","import type { FunctionComponent, ReactElement } from 'react';\nimport { useEffect, useState } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { useHeaderSlice } from '../../../store/slices/header/selectors';\nimport { headerActions } from '../../../store/slices/header/slice';\nimport { useIsLargerThanWide } from '../../../styles/hooks/media';\n\nimport { NavPageBetLimitsConnected } from './betLimits/NavPageBetLimitsConnected';\nimport { NavPageChatConnected } from './chat/NavPageChatConnected';\nimport { NavPageSupportConnected } from './chat/NavPageSupportConnected';\nimport { NavPageHelpConnected } from './help/NavPageHelpConnected';\nimport { NavPageHistoryConnected } from './history/NavPageHistoryConnected';\nimport { NavQuickGuideConnected } from './quickGuide/NavQuickGuideConnected';\nimport { NavPageSettingsConnected } from './settings/NavPageSettingsConnected';\n\nexport enum NavPages {\n  HOME = 'home', // This is the root drawer page\n  CHAT = 'CHAT',\n  SUPPORT = 'SUPPORT',\n  SETTINGS = 'SETTINGS',\n  HISTORY = 'HISTORY',\n  BET_LIMITS = 'BET_LIMITS',\n  HELP = 'HELP',\n  QUICK_GUIDE = 'QUICK_GUIDE',\n}\n\nexport const NavPagesConnected: FunctionComponent = (): ReactElement | null => {\n  const dispatch = useCoreDispatch();\n\n  const routeByLevel = useHeaderSlice.getNavRouteByLevel(2);\n\n  const [delayedRouteByLevel, setDelayedRouteByLevel] = useState(routeByLevel);\n\n  useEffect(() => {\n    if (routeByLevel) {\n      setDelayedRouteByLevel(routeByLevel);\n    } else {\n      const timeout = window.setTimeout(() => {\n        setDelayedRouteByLevel(undefined);\n      }, 300);\n      return () => window.clearTimeout(timeout);\n    }\n  }, [routeByLevel]);\n\n  useEffect(() => {\n    dispatch(headerActions.setNavForcedExpanded(delayedRouteByLevel === NavPages.QUICK_GUIDE));\n  }, [dispatch, delayedRouteByLevel]);\n\n  const isWide = useIsLargerThanWide();\n  useEffect(() => {\n    if (isWide) {\n      dispatch(headerActions.setNavRoute([]));\n    }\n  }, [isWide, dispatch]);\n\n  switch (delayedRouteByLevel) {\n    case NavPages.CHAT:\n      return <NavPageChatConnected />;\n    case NavPages.SUPPORT:\n      return <NavPageSupportConnected />;\n    case NavPages.SETTINGS:\n      return <NavPageSettingsConnected />;\n    case NavPages.HISTORY:\n      return <NavPageHistoryConnected />;\n    case NavPages.BET_LIMITS:\n      return <NavPageBetLimitsConnected />;\n    case NavPages.HELP:\n      return <NavPageHelpConnected />;\n    case NavPages.QUICK_GUIDE:\n      return <NavQuickGuideConnected />;\n    default:\n      return null;\n  }\n};\n","export interface TimerInfo {\n  status: TimerStatusType;\n  seconds: string;\n  minutes: string;\n  hours: string;\n  days: string;\n}\n\nexport enum TimerStatusType {\n  STARTING = 'starting',\n  ACTIVE = 'active',\n  ENDED = 'ended',\n}\n\nexport enum PromoBackgroundModifiers {\n  Blue = 'blue',\n  Grey = 'grey',\n  Red = 'red',\n}\n\nexport enum CoBrandProms {\n  DDW = 'DDW',\n  Slotmania = 'IDNLCSM',\n  BronzeBlackJack = 'BBJT',\n  SilverBlackJack = 'SBJT',\n  GoldBlackJack = 'GBJT',\n  PrivateBlackJack = 'PRBJT',\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"booster\":\"QF_QG\",\"multiplier\":\"QF_yf\"};","import type { FC, CSSProperties } from 'react';\n\nimport styles from './Multiplier.module.css';\n\ninterface MultiplierProps {\n  multiplier?: number;\n  customClass?: string;\n  customText?: string;\n}\n\nconst getTextShadow = (color: string, radius: number = 2, steps: number = 8): string => {\n  let textShadow = '';\n  const n = Math.ceil(steps * Math.PI * radius); // Number of shadow steps\n  const preCalculated = (2 * Math.PI) / n;\n  for (let i = 0; i < n; i++) {\n    const theta = preCalculated * i; // Angle in radians\n    const x = radius * Math.cos(theta) * 0.01; // X offset\n    const y = radius * Math.sin(theta) * 0.01; // Y offset\n    textShadow += `${x}em ${y}em 0 ${color}${i === n - 1 ? '' : ','}`; // Concatenate shadow values\n  }\n\n  return textShadow;\n};\n\nconst textShadowBefore = getTextShadow('#1B0500', 0.5);\nconst textShadowAfter = getTextShadow('#541406', 4);\n\nexport const Multiplier: FC<MultiplierProps> = ({ multiplier, customText = '', customClass = '' }) => {\n  const multiplierText = multiplier ? `${multiplier}x` : customText;\n  const textShadowStyle = {\n    '--textShadowBefore': textShadowBefore,\n    '--textShadowAfter': textShadowAfter,\n  } as CSSProperties;\n\n  return (\n    <div className={styles.booster}>\n      <div style={textShadowStyle} className={`${styles.multiplier} ${customClass}`} data-text={multiplierText}>\n        {multiplierText}\n      </div>\n    </div>\n  );\n};\n","enum GameState {\n  RESOLVED,\n  CANCELLED,\n}\nexport enum TAResultCode {\n  Topaz = 101,\n  Emerald,\n  Ruby,\n  Wild_Collector,\n  Great_Scavenger,\n  Bens_Lost_Marbles,\n  John_Silvers_Loot,\n  Billy_Bones_Map,\n  Captains_Flints_Treasure,\n  Topaz_Topaz,\n  Emerald_Emerald,\n  Ruby_Ruby,\n  Emerald_Topaz,\n  Ruby_Topaz,\n}\nexport enum GemCode {\n  Topaz = 1,\n  Emerald,\n  Ruby,\n}\nexport enum BallCodes {\n  Bingo_Topaz = 301,\n  Bingo_Emerald,\n  Bingo_Ruby,\n  Bingo_Black_Topaz,\n  Bingo_Black_Emerald,\n  Bingo_Black_Ruby,\n}\n\nexport interface Gem {\n  key: GemCode;\n  val: string;\n}\n\nexport interface GemsResultType {\n  icon: string;\n  multiplier: number | string;\n}\n\nexport interface TAGameSummary {\n  bonus: boolean;\n  bonusCode: string;\n  bonusDesc: string;\n  gameState: GameState;\n  gemsPayout: Gem[];\n  multipliers: { gems: Gem[]; gs: Gem[] };\n  payoutMul: string;\n  resultCode: TAResultCode;\n  resultDesc: string;\n  wheelPosition: string;\n  wcData?: { gems: { entry: { key: GemCode; value: string }[] } };\n  marblesSummary?: {\n    diceValues: string[];\n    totalGems: Gem[];\n    mul: Gem[];\n    gemsCount: Gem[];\n  };\n  bingoSummary?: {\n    bingo: Bingo[];\n    gemsCount: Gem[];\n    totalWeights: Gem[];\n    bingoWeights: Array<Gem>;\n  };\n  captainFlintSummary?: { barrelsWon: CFTBarrel[]; gemsCount: Gem[] };\n  mapSummary?: mapSummary;\n  gemUpgradeFlag?: GemUpgradeFlag;\n}\n\ninterface mapSummary {\n  playerDecisions: BMMDecision[];\n  gemsCount: Gem[];\n  chestFound: string;\n  chestPrize: string;\n  chestType: string;\n}\n\ninterface Bingo {\n  code: string;\n  place: string;\n  points: string;\n  weight: string;\n}\n\nexport interface CFTBarrel {\n  autoDecision: string;\n  barrelType: CFTBarrelTypes;\n  won: string;\n  gem?: string;\n  gemCount?: string;\n}\n\nexport interface BMMDecision {\n  autoDecision: string;\n  mul: string;\n  type: string;\n}\nexport enum CFTBarrelTypes {\n  gem = 'GEM',\n  trap = 'TRAP',\n  chest = 'CHEST',\n  key = 'KEY',\n}\nexport enum BMMDecisionTypes {\n  topasz = 'TOPASZ',\n  emerald = 'EMERALD',\n  ruby = 'RUBY',\n  chest = 'CHEST',\n}\n\nexport interface GemUpgradeFlag {\n  key: string;\n  val: string;\n}\n","import bet_one from './assets/1.png';\nimport bet_ten from './assets/10.png';\nimport totem_1_life from './assets/1_totem_life.png';\nimport bet_two from './assets/2.png';\nimport totem_2_lives from './assets/2_totem_lives.png';\nimport board_3_rolls from './assets/3_board_roles.png';\nimport bet_five from './assets/5.png';\nimport board_5_rolls from './assets/5_board_roles.png';\nimport Bg_bet_one from './assets/Bg_1.svg';\nimport Bg_bet_ten from './assets/Bg_10.svg';\nimport Bg_totem_1_life from './assets/Bg_1_totem_life.svg';\nimport Bg_bet_two from './assets/Bg_2.svg';\nimport Bg_totem_2_lives from './assets/Bg_2_totem_lives.svg';\nimport Bg_board_3_rolls from './assets/Bg_3_board_rolls.svg';\nimport Bg_bet_five from './assets/Bg_5.svg';\nimport Bg_board_5_rolls from './assets/Bg_5_board_rolls.svg';\nimport mul_bet_one from './assets/mul_1.png';\nimport mul_bet_ten from './assets/mul_10.png';\nimport mul_totem_1_life from './assets/mul_1_totem_life.png';\nimport mul_bet_two from './assets/mul_2.png';\nimport mul_totem_2_lives from './assets/mul_2_totem_lives.png';\nimport mul_board_3_rolls from './assets/mul_3_board_roles.png';\nimport mul_bet_five from './assets/mul_5.png';\nimport mul_board_5_rolls from './assets/mul_5_board_roles.png';\n\ninterface Collection extends Record<string, string> {}\n\nexport enum Bets {\n  ONE = '2101',\n  TWO = '2102',\n  FIVE = '2103',\n  TEN = '2104',\n  TOTEM_ONE = '2105',\n  TOTEM_TWO = '2106',\n  BOARD_THREE = '2107',\n  BOARD_FIVE = '2108',\n  GAME_CORRECTION = '999',\n}\n\nexport const BetSpotIcon: Collection = {\n  [Bets.ONE]: bet_one,\n  [Bets.TWO]: bet_two,\n  [Bets.FIVE]: bet_five,\n  [Bets.TEN]: bet_ten,\n  [Bets.TOTEM_ONE]: totem_1_life,\n  [Bets.TOTEM_TWO]: totem_2_lives,\n  [Bets.BOARD_THREE]: board_3_rolls,\n  [Bets.BOARD_FIVE]: board_5_rolls,\n};\n\nexport const MultiplierBetSpotIcon: Collection = {\n  [Bets.ONE]: mul_bet_one,\n  [Bets.TWO]: mul_bet_two,\n  [Bets.FIVE]: mul_bet_five,\n  [Bets.TEN]: mul_bet_ten,\n  [Bets.TOTEM_ONE]: mul_totem_1_life,\n  [Bets.TOTEM_TWO]: mul_totem_2_lives,\n  [Bets.BOARD_THREE]: mul_board_3_rolls,\n  [Bets.BOARD_FIVE]: mul_board_5_rolls,\n};\n\nexport const BetSpotBgIcon: Collection = {\n  [Bets.ONE]: Bg_bet_one,\n  [Bets.TWO]: Bg_bet_two,\n  [Bets.FIVE]: Bg_bet_five,\n  [Bets.TEN]: Bg_bet_ten,\n  [Bets.TOTEM_ONE]: Bg_totem_1_life,\n  [Bets.TOTEM_TWO]: Bg_totem_2_lives,\n  [Bets.BOARD_THREE]: Bg_board_3_rolls,\n  [Bets.BOARD_FIVE]: Bg_board_5_rolls,\n};\n","import { useMemo } from 'react';\n\nimport { CurrencyFormatter } from '../../../../formatters/CurrencyFormatter';\nimport { usePromotionsV2Slice } from '../../../../store/slices/promotionsV2/selectors';\nimport type { Trophy } from '../../../../store/slices/promotionsV2/types';\nimport { isPromoActiveNow } from '../../../../store/slices/promotionsV2/utils';\nimport { getRoundLimitMessage } from '../utils';\n\n/* \n    Promo Eligbility :\n      1. round limit should not exceeds\n      2. bet amount should be greater than or equal to minimum bet of a promo\n*/\nexport const usePromoTrophyConnected = (): Trophy => {\n  const gameData = usePromotionsV2Slice.getPromosGameData();\n  const language = usePromotionsV2Slice.getPromosUserData()?.lang as string;\n  const promotions = usePromotionsV2Slice.getOptedPromotions();\n  const activePromotions = promotions.filter((promo) => isPromoActiveNow(promo));\n\n  const points = usePromotionsV2Slice.getPoints();\n  const trophy = useMemo(() => {\n    const totalBet = gameData?.totalBet;\n    const currency = gameData?.currency as string;\n    const isBetOpenStatus = gameData?.isBetOpenStatus;\n\n    if (isBetOpenStatus || !totalBet || !activePromotions.length) return { enable: false };\n\n    const isRoundLimitExceeded = points.length > 0 ? points.every((p) => p.isRoundLimitExceeded) : false;\n    if (isRoundLimitExceeded) {\n      const earlyExpiredPromo = activePromotions.reduce((earliest, promo) => {\n        if (promo.activeDuration.toEpoch < earliest.activeDuration.toEpoch) {\n          return promo;\n        }\n        return earliest;\n      });\n      return {\n        enable: true,\n        isActive: false,\n        toolTipContent: getRoundLimitMessage(earlyExpiredPromo.roundsType),\n      };\n    }\n\n    const minBets =\n      points.length > 0\n        ? points.filter((point) => !point.isRoundLimitExceeded).map((point) => point.minimumBetLimit)\n        : activePromotions.map((promo) => promo.prizeDetails.minimumBetLimit);\n    const lowestMinBet = minBets.reduce((acc, bet) => (bet < acc ? bet : acc));\n    if (totalBet < lowestMinBet) {\n      const formattedMinBetInAll = CurrencyFormatter.format(lowestMinBet, language, {\n        currency,\n      });\n      return {\n        enable: true,\n        isActive: false,\n        toolTipContent: `PROMO_BET_BELOWMIN`,\n        minBet: formattedMinBetInAll,\n      };\n    }\n\n    return {\n      enable: true,\n      isActive: true,\n    };\n  }, [gameData, points, language, promotions.length]);\n\n  return trophy;\n};\n","export const enum TI_WHEEL_GAME_CODE{\n  ONE= '1',\n  TWO='2',\n  FIVE='5',\n  TEN='10',\n  JohnSilversLoot = 'JSL',\n  BensLostMarbles = 'BLM',\n  BillyBonesMap = 'BBM',\n  CaptianFlitsTreasure = 'CFT',\n}\nexport const TI_GAME_NAME_FROM_BET_CODE = {\n  1: TI_WHEEL_GAME_CODE.ONE,\n  2: TI_WHEEL_GAME_CODE.TWO,\n  3: TI_WHEEL_GAME_CODE.FIVE,\n  4: TI_WHEEL_GAME_CODE.TEN,\n  5: TI_WHEEL_GAME_CODE.JohnSilversLoot,\n  6: TI_WHEEL_GAME_CODE.BensLostMarbles,\n  7: TI_WHEEL_GAME_CODE.BillyBonesMap,\n  8: TI_WHEEL_GAME_CODE.CaptianFlitsTreasure,\n};\n","import { useMemo } from 'react';\n\nimport { useIsLandscape, useIsLargerThanWide } from '../../../styles/hooks/media';\nimport { SubtitlesDevice, SubtitlesViewport } from '../types';\n\nexport const useSubtitlesViewport = (): { deviceType: SubtitlesDevice; viewport: SubtitlesViewport } => {\n  const isLargerThanWide = useIsLargerThanWide();\n  const isLandscape = useIsLandscape();\n\n  return useMemo(() => {\n    if (isLargerThanWide) {\n      return { deviceType: SubtitlesDevice.DESKTOP, viewport: SubtitlesViewport.DESKTOP };\n    } else if (isLandscape) {\n      return { deviceType: SubtitlesDevice.MOBILE, viewport: SubtitlesViewport.LANDSCAPE };\n    } else {\n      return { deviceType: SubtitlesDevice.MOBILE, viewport: SubtitlesViewport.PORTRAIT };\n    }\n  }, [isLandscape, isLargerThanWide]);\n};\n","class UUID {\n  private readonly lut: string[] = new Array<string>(256);\n\n  constructor() {\n    let i = 0;\n    while (i < 16) {\n      this.lut[i] = '0' + (i++).toString(16);\n    }\n\n    while (i < 256) {\n      this.lut[i] = (i++).toString(16);\n    }\n  }\n\n  v4(): string {\n    const d0 = (Math.random() * 0xffffffff) | 0;\n    const d1 = (Math.random() * 0xffffffff) | 0;\n    const d2 = (Math.random() * 0xffffffff) | 0;\n    const d3 = (Math.random() * 0xffffffff) | 0;\n\n    return (\n      this.lut[d0 & 0xff] +\n      this.lut[(d0 >> 8) & 0xff] +\n      this.lut[(d0 >> 16) & 0xff] +\n      this.lut[(d0 >> 24) & 0xff] +\n      '-' +\n      this.lut[d1 & 0xff] +\n      this.lut[(d1 >> 8) & 0xff] +\n      '-' +\n      this.lut[((d1 >> 16) & 0x0f) | 0x40] +\n      this.lut[(d1 >> 24) & 0xff] +\n      '-' +\n      this.lut[(d2 & 0x3f) | 0x80] +\n      this.lut[(d2 >> 8) & 0xff] +\n      '-' +\n      this.lut[(d2 >> 16) & 0xff] +\n      this.lut[(d2 >> 24) & 0xff] +\n      this.lut[d3 & 0xff] +\n      this.lut[(d3 >> 8) & 0xff] +\n      this.lut[(d3 >> 16) & 0xff] +\n      this.lut[(d3 >> 24) & 0xff]\n    );\n  }\n}\n\nexport const uuid = new UUID();\n","import { CampaignType } from '../promotionsV2/types/campaign';\n\nimport type * as T from './types/bonus';\nimport type * as F from './types/bonusApi';\n\n/* todo: This can be removed when all promotions are unified to ms. */\nexport const toEpochInSec = (epoch: number): number => Math.floor(epoch / 1000);\n\nexport const parseBonusCampaign = (campagin: F.IBonusCampaign): T.BonusCampaign => {\n  return {\n    id: campagin.campaignId,\n    campaignType: CampaignType.BonusPromo,\n    code: campagin.bonusCode,\n    bonus: {\n      id: campagin.bonusId,\n      status: campagin.bonusStatus,\n      noOfChips: campagin.bonusIssued,\n      noOfchipsUsed: campagin.bonusUsed,\n      chipValue: campagin.chipValue,\n      currencyCode: campagin.currencyCode,\n      expiredOn: toEpochInSec(campagin.validityDate),\n      claimStartsIn: toEpochInSec(Date.now()),\n      claimEndsIn: toEpochInSec(campagin.expDate),\n      maxWin: campagin.maxWinningLimit,\n      myWins: campagin.accumulatedWins,\n      noOfchipsRemaining: campagin.bonusRemaining,\n      claimedOn: campagin.claimDate,\n      transactions: {\n        data: [],\n        totalPages: 0,\n        pageNumber: 0,\n      },\n    },\n  };\n};\n","import { Fetcher } from '../../Fetcher';\n\nimport { parseBonusCampaign } from './parsers';\nimport type { BonusCampaigns } from './types/bonus';\nimport type {\n  BonusCampaignApiParams,\n  ClaimBonusParams,\n  BonusApiStatusDetails,\n  GetBonusCampaigns,\n  AckBonusParams,\n  BonusHistoryApiParams,\n  GetBonusTransactionHistory,\n} from './types/bonusApi';\nimport { BonusApiStatus } from './types/constants';\n\nexport const fetchBonusCampaigns = ({ tableId, jwt, env }: BonusCampaignApiParams): Promise<BonusCampaigns> => {\n  return Fetcher.fetch<GetBonusCampaigns>(`${env}/v1/campaign/eligible/${tableId}`, {\n    headers: { Authorization: `Bearer ${jwt}` },\n    force: true,\n  }).then((res) => {\n    return {\n      activeBonuCampaign: res.eligible[0] ? parseBonusCampaign(res.eligible[0]) : null,\n      wageredCampaigns: res.wagered.map(parseBonusCampaign),\n      cancelledCampaigns: res.cancelled.map(parseBonusCampaign),\n    };\n  });\n};\n\nexport const fetchBonusHistory = ({\n  tableId,\n  jwt,\n  page,\n  size,\n  env,\n}: BonusHistoryApiParams): Promise<GetBonusTransactionHistory> => {\n  return Fetcher.fetch<GetBonusTransactionHistory>(`${env}/v1/bonus/history/${tableId}`, {\n    headers: { Authorization: `Bearer ${jwt}` },\n    params: { size, page },\n    force: true,\n  });\n};\n\nexport const postClaimBonus = ({ tableId, jwt, code, env }: ClaimBonusParams): Promise<boolean> => {\n  return Fetcher.fetch<BonusApiStatusDetails>(`${env}/v1/bonus/claimBonus/${code}/${tableId}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${jwt}`,\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => {\n    if (res.status === BonusApiStatus.Success) {\n      return true;\n    }\n    throw new Error(`${res.errorCode}:${res.message}`);\n  });\n};\n\nexport const postAckBonus = ({ jwt, env, bonusId }: AckBonusParams): Promise<boolean> => {\n  return Fetcher.fetch<BonusApiStatusDetails>(`${env}/v1/ack/${bonusId}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${jwt}`,\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => {\n    if (res.status === BonusApiStatus.Success) {\n      return true;\n    }\n    throw new Error(`${res.errorCode}:${res.message}`);\n  });\n};\n\nexport const postBonusExpiry = ({ jwt, env, bonusId }: AckBonusParams): Promise<boolean> => {\n  return Fetcher.fetch<BonusApiStatusDetails>(`${env}/v1/bonus/timerEnd/${bonusId}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${jwt}`,\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => {\n    if (res.status === BonusApiStatus.Success) {\n      return true;\n    }\n    throw new Error(`${res.errorCode}:${res.message}`);\n  });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport {\n  fetchBonusCampaigns,\n  fetchBonusHistory,\n  postAckBonus,\n  postBonusExpiry,\n  postClaimBonus,\n} from '../../api/fetchers/bonusPromotions/fetchers';\n\nexport const fetchBonusCampaignsAction = createAsyncThunk('bonusPromotions/fetchBonusCampaigns', fetchBonusCampaigns);\nexport const fetchBonusHistoryAction = createAsyncThunk('bonusPromotions/fetchBonusHistoryAction', fetchBonusHistory);\nexport const postClaimBonusAction = createAsyncThunk('bonusPromotions/postClaimBonusAction', postClaimBonus);\nexport const postAckBonusAction = createAsyncThunk('bonusPromotions/postAckBonusAction', postAckBonus);\nexport const postBonusExpiryAction = createAsyncThunk('bonusPromotions/postBonusExpiry', postBonusExpiry);\n","export const DK_ENVS: Record<string, string> = {\n  '1': 'dk',\n  '4': 'gi',\n  '6': 'gi1',\n  '7': 'xc',\n  '9': 'dk1',\n  '11': 'dk2',\n  '15': 'dk3',\n  '17': 'hr0',\n  '24': 'dk4',\n  '25': 'dk5',\n  '31': 'br0',\n  '79': 'dk6',\n  '80': 'dk7',\n  '93': 'dk8',\n  '94': 'dk9',\n  '95': 'dk10',\n  '113': 'dk11',\n  '114': 'dk12',\n  '116': 'dk13',\n  '117': 'dk14',\n  '129': 'dk15',\n  '131': 'dk16',\n  '132': 'dk17',\n};\n\n//\n// regex Patterns\n//\nexport const PROMO_NAME_PATTERN = /#\\w+#/;\nexport const PROMO_BRAND_PATTERN = /#([^#]+)#/;\n\nexport const APIS = {\n  FETCH_PROMOTIONS_INFO: '/api/v3/fetchPromotionsInfo',\n  PROMO_OPT_INFO: '/api/promo/optInfo',\n  FETCH_INSTANT_POINTS: '/api/v2/fetchinstantpoints',\n  UPDATE_JWT_TOKEN: '/api/ui/updateJwtToken',\n  LEADERBOARD: '/api/v2/leaderboard/',\n  LEADERBOARD_AROUND_ME: '/api/v2/leaderboardAroudMe/',\n  PRIZES_AND_WINNERS: '/api/v2/prizedrop/prizesAndwinners',\n  FETCH_SCORE: '/api/v2/score',\n  FETCH_ROUND_HISTORY: '/api/fetchRoundHistory',\n  FETCH_ROUND_HISTORY_BY_WS: '/api/v2/fetchRoundHistoryByWS',\n  PROMO_ACK: '/api/promo/ack',\n  UPDATE_SCREEN_NAME: '/api/updateScreenName',\n};\n","import { DK_ENVS } from './constants';\nimport { AsianRegions } from './types/promotions';\n\nexport const isAsianRegion = (casinoRegion: string, envId: number): boolean => {\n  // consider Dk Env id as non asian\n  if (DK_ENVS[envId]) return false;\n  return casinoRegion === AsianRegions.Asia || casinoRegion === AsianRegions.Manila;\n};\n","import { PROMO_BRAND_PATTERN, PROMO_NAME_PATTERN } from './constants';\nimport { isAsianRegion } from './helper';\nimport { CampaignType } from './types/campaign';\nimport * as T from './types/promotions';\nimport * as A from './types/promotionsApi';\n\ntype PromoParams = {\n  casinoRegion: string;\n  currency: string;\n  lang: string;\n};\n\ntype MapToEnum<S, E> = S extends string ? E : S;\n\nexport const parsePromotionJSON = (json: A.PromotionJSON, params: PromoParams): T.Promotion<T.PromotionType> => {\n  switch (json.promoType) {\n    case T.PromotionType.Tournament: {\n      return parseTournament(json, params);\n    }\n    case T.PromotionType.Prizedrop: {\n      return parsePrizeDrop(json, params);\n    }\n    case T.PromotionType.Cashback: {\n      return parseCashback(json, params);\n    }\n    default: {\n      throw new Error('Promo type not configured');\n    }\n  }\n};\n\nexport const parsePromoCommonFields = (\n  json: A.PromotionJSON\n): Pick<\n  T.Promotion<T.PromotionType>,\n  | 'name'\n  | 'brandName'\n  | 'opted'\n  | 'consentRequired'\n  | 'clientMode'\n  | 'activeDuration'\n  | 'gameIds'\n  | 'campaignDetails'\n  | 'campaignType'\n> => {\n  return {\n    name: parseName(json.name),\n    brandName: getBrandName(json.name),\n    opted: json.opt as MapToEnum<typeof json.opt, T.PromotionOptedStatus>,\n    consentRequired: json.consent,\n    clientMode: json.clientMode as MapToEnum<typeof json.clientMode, T.PromotionClientMode>,\n    activeDuration: { fromEpoch: json.startDate, toEpoch: json.endDate },\n    gameIds: json.gameIds.split(','),\n    campaignType: CampaignType.DefaultPromo,\n    campaignDetails: {\n      id: json.campaignId,\n      endDate: json.campaignEndDate,\n    },\n  };\n};\n\nexport const parseTournament = (\n  json: A.TournamentPromotionJSON,\n  params: PromoParams\n): T.Promotion<T.PromotionType.Tournament> => {\n  const defaultDynamicFields: T.DefaultDynamicFields = {\n    tournamentName: json.name ?? '',\n    minBet: json.TOURNAMENT.minBetLimit ?? '',\n    totalPrizeAmount: json.PRIZE_DETAILS.prizeAmount,\n    highestPrize: json.PRIZE_DETAILS.highestPrize,\n    ddwName: isAsianRegion(params.casinoRegion, json.TOURNAMENT.envId)\n      ? T.DDWBrandName.DailyWins\n      : T.DDWBrandName.DropsAndWins,\n  };\n\n  return {\n    ...parsePromoCommonFields(json),\n    type: T.PromotionType.Tournament,\n    id: json.tournamentId,\n    platformId: json.platformTournamentId,\n    roundsType: json.TOURNAMENT_DETAILS.roundsType as MapToEnum<\n      typeof json.TOURNAMENT_DETAILS.roundsType,\n      T.PromoRoundType\n    >,\n    ruleDetails: {\n      rule: json.TOURNAMENT_DETAILS.rule,\n      ruleShort: json.TOURNAMENT_DETAILS.shortRule,\n      dynamic: { ...defaultDynamicFields, ...json.TOURNAMENT_DETAILS.dynamicFieldsMap },\n      currency: params.currency,\n      lang: params.lang,\n    },\n    isAsian: isAsianRegion(params.casinoRegion, json.TOURNAMENT.envId),\n    prizeDetails: parseTournamentPrizeDetails(json),\n    userPrizeDetails: {\n      leaderboard: parseLeaderboardDetails(json.LEADERBOARD),\n      leaderboard_aroundMe: parseLeaderboardAroundMeDetails(json.LEADERBOARD_AROUNDME),\n    },\n  };\n};\n\nexport const parsePrizeDrop = (\n  json: A.PrizeDropPromotionJSON,\n  params: PromoParams\n): T.Promotion<T.PromotionType.Prizedrop> => {\n  const defaultDynamicFields: T.DefaultDynamicFields = {\n    tournamentName: json.name ?? '',\n    minBet: json.PRIZEDROP.minBetLimit ?? '',\n    totalPrizeAmount: json.PRIZE_DETAILS.prizeAmount,\n    highestPrize: json.PRIZE_DETAILS.highestPrize,\n    ddwName: isAsianRegion(params.casinoRegion, json.PRIZEDROP.envId)\n      ? T.DDWBrandName.DailyWins\n      : T.DDWBrandName.DropsAndWins,\n  };\n\n  return {\n    ...parsePromoCommonFields(json),\n    type: T.PromotionType.Prizedrop,\n    id: json.prizedropId,\n    platformId: json.platformPrizedropId,\n    roundsType: json.PRIZEDROP.roundsType as MapToEnum<typeof json.PRIZEDROP.roundsType, T.PromoRoundType>,\n    ruleDetails: {\n      rule: json.PRIZEDROP_DETAILS.rule,\n      ruleShort: json.PRIZEDROP_DETAILS.shortRule,\n      dynamic: { ...defaultDynamicFields, ...json.PRIZEDROP_DETAILS.dynamicFieldsMap },\n      currency: params.currency,\n      lang: params.lang,\n    },\n    isAsian: isAsianRegion(params.casinoRegion, json.PRIZEDROP.envId),\n    prizeDetails: parsePrizeDropPrizeDetails(json),\n    userPrizeDetails: [],\n  };\n};\n\nexport const parseCashback = (\n  json: A.CashbackPromotionJSON,\n  params: PromoParams\n): T.Promotion<T.PromotionType.Cashback> => {\n  const defaultDynamicFields: T.DefaultDynamicFields = {\n    tournamentName: json.name ?? '',\n    minBet: json.CASHBACK.minBetLimit ?? '',\n  };\n  return {\n    ...parsePromoCommonFields(json),\n    type: T.PromotionType.Cashback,\n    id: json.cashbackId,\n    platformId: json.platformCashbackId,\n    roundsType: json.CASHBACK_DETAILS.roundsType as MapToEnum<\n      typeof json.CASHBACK_DETAILS.roundsType,\n      T.PromoRoundType\n    >,\n    ruleDetails: {\n      rule: json.CASHBACK_DETAILS.rule,\n      ruleShort: json.CASHBACK_DETAILS.shortRule,\n      dynamic: { ...defaultDynamicFields, ...json.CASHBACK_DETAILS.dynamicFieldsMap },\n      currency: params.currency,\n      lang: params.lang,\n    },\n    isAsian: isAsianRegion(params.casinoRegion, json.CASHBACK.envId),\n    prizeDetails: parseCashbackPrizeDetails(json),\n    userPrizeDetails: parseCashbackUserScoreDetails(json),\n  };\n};\n\nexport const parseLeaderboardDetails = (json: A.LeaderboardAPIResponse): T.TournamentLeaderboardDetails => {\n  const { data: leaderboardDetails } = json;\n  return {\n    data: leaderboardDetails.map((leaderboard) => ({\n      playerId: leaderboard.platformTournamentPlayerId,\n      screenName: leaderboard.screenName ?? '',\n      position: leaderboard.position,\n      score: leaderboard.score,\n      scoreDate: leaderboard.scoreDate,\n    })),\n  };\n};\n\nexport const parseLeaderboardAroundMeDetails = (\n  json: A.LeaderboardAroundMeAPIResponse\n): T.TournamentLeaderboardAroundMeDetails => {\n  const { leaderboardItems } = json;\n  return {\n    playerId: json.platformTournamentPlayerId,\n    leaderboardItems: (leaderboardItems ?? []).map((data) => ({\n      playerId: data.platformTournamentPlayerId,\n      screenName: data.screenName ?? '',\n      scoreDate: data.scoreDate,\n      position: data.position,\n      score: data.score,\n    })),\n  };\n};\n\nexport const parsePrizeDropPrize = (json: A.PrizesAndWinnersAPIResponse, id: number): T.PrizedropPrizeType[] => {\n  const { prizes } = json[id] ?? {};\n  if (prizes) {\n    return prizes.map((prize) => ({\n      id: prize.prizeId,\n      size: prize.currentSize,\n      originalSize: prize.originalSize,\n      prizeDetails: parsePromotionPrizeJSON(prize),\n    }));\n  }\n  return [];\n};\n\nexport const parsePrizeDropWinners = (json: A.PrizesAndWinnersAPIResponse, id: number): T.PrizeDropWinnersType[] => {\n  const { winners: winnersDetails } = json[id] ?? {};\n  if (winnersDetails) {\n    return winnersDetails.map((win) => ({\n      amount: win.amount,\n      casinoUserId: win.casinoUserId,\n      gift: win.gift,\n      prizeId: win.prizeId,\n      screenName: win.screenName,\n      winDate: win.winDate,\n    }));\n  }\n  return [];\n};\n\nexport const parseCashbackScore = (\n  json: A.CashbackScoreAPIResponse,\n  cashbackId: number\n): T.CashbackScoreType | undefined => {\n  const score = json[`${cashbackId}`];\n  if (score) {\n    return {\n      totalScore: score.totalScore,\n      cashbackScore: score.cashbackScore,\n      cashbackPercentage: score.cashbackPercent,\n      roundLimitExceeded: score.isRoundLimitExceeded,\n    };\n  }\n};\n\nexport const parsePromotionWinNotificationJSON = (\n  json: A.PromotionWinNotificationJSON,\n  params: PromoParams\n): T.WinNotificationType => {\n  const defaultDynamicFields: T.DefaultDynamicFields = {\n    tournamentName: json.name ?? '',\n    minBet: json.minBetLimit ?? '',\n    totalPrizeAmount: json.extraData.PRIZE_DETAILS?.prizeAmount ?? '',\n    highestPrize: json.extraData.PRIZE_DETAILS?.highestPrize ?? '',\n    ddwName: isAsianRegion(params.casinoRegion, json.envId) ? T.DDWBrandName.DailyWins : T.DDWBrandName.DropsAndWins,\n  };\n\n  return {\n    promoType: json.promoType as MapToEnum<typeof json.promoType, T.PromotionType>,\n    promoId: json.promoId,\n    name: parseName(json.name),\n    brandName: getBrandName(json.name),\n    isAsia: isAsianRegion(params.casinoRegion, json.envId),\n    winType: json.winType as MapToEnum<typeof json.winType, T.PromotionPrizeType>,\n    prize: json.prize,\n    endDate: Number(json.endDate),\n    ruleDetails: {\n      rule: json.rule,\n      dynamic: { ...defaultDynamicFields, ...json.dynamicFieldsMap },\n      currency: params.currency,\n      lang: params.lang,\n    },\n    autoPay: json.autoPay,\n    minBetLimit: json.minBetLimit,\n    extraData: {\n      type: json.extraData.type as MapToEnum<typeof json.extraData.type, T.CashbackPromoType>,\n      minCashback: json.extraData.minCashbackAmount,\n      maxCashback: json.extraData.maxCashbackAmount,\n      totalNoOfPrizes: json.extraData.PRIZE_DETAILS?.prizeCount,\n      totalPrizeAmount: json.extraData.PRIZE_DETAILS?.prizeAmount,\n      highestPrize: json.extraData.PRIZE_DETAILS?.highestPrize,\n    },\n  };\n};\n\nconst parsePrizeDropPrizeDetails = (json: A.PrizeDropPromotionJSON): T.PrizedropPrizeDetails => {\n  const { PRIZEDROP: prizeDrop } = json;\n  return {\n    minimumBetLimit: prizeDrop.minBetLimit ? prizeDrop.minBetLimit : 0,\n    totalPrizeAmout: json.PRIZE_DETAILS.prizeAmount,\n    totalNoOfPrizes: json.PRIZE_DETAILS.prizeCount,\n    highestPrize: json.PRIZE_DETAILS.highestPrize,\n    prizes: prizeDrop.prizes.map((prize) => ({\n      id: prize.prizeId,\n      size: prize.currentSize,\n      originalSize: prize.originalSize,\n      prizeDetails: parsePromotionPrizeJSON(prize),\n    })),\n  };\n};\n\nconst parseCashbackUserScoreDetails = (json: A.CashbackPromotionJSON): T.CashbackUserScoreDetails => {\n  const { score, CASHBACK_DETAILS: cashbackDetails } = json;\n  return {\n    totalScore: score.totalScore,\n    cashbackScore: score.cashbackScore,\n    cashbackPercentage: score.cashbackPercent,\n    roundLimitExceeded: score.isRoundLimitExceeded,\n    displayScore: cashbackDetails.cashbackValues.displayScore,\n  };\n};\n\n//\n// Helper functions\n//\n\nconst parseName = (name: string): T.Promotion['name'] => {\n  return name.replace(PROMO_NAME_PATTERN, '');\n};\n\nconst getBrandName = (name: string): string => {\n  const match = PROMO_BRAND_PATTERN.exec(name);\n  const brandName = match?.[1];\n  return brandName ?? '';\n};\n\nconst parseTournamentPrizeDetails = (json: A.TournamentPromotionJSON): T.TournamentPrizeDetails => {\n  const { TOURNAMENT: tournament, TOURNAMENT_DETAILS: tournamentDetails } = json;\n  return {\n    minimumBetLimit: tournament.minBetLimit ? tournament.minBetLimit : 0,\n    prizes: tournamentDetails.prizes.map((prize) => ({\n      fromRank: prize.from,\n      toRank: prize.to,\n      prizeDetails: parsePromotionPrizeJSON(prize),\n    })),\n    winCriterion: parseTournamentPromotionWinCriterion(tournamentDetails),\n    totalNoOfPrizes: json.PRIZE_DETAILS.prizeCount,\n    totalPrizeAmout: json.PRIZE_DETAILS.prizeAmount,\n    highestPrize: json.PRIZE_DETAILS.highestPrize,\n  };\n};\n\nconst parseCashbackPrizeDetails = (json: A.CashbackPromotionJSON): T.CashbackPrizeDetails => {\n  const {\n    CASHBACK_DETAILS: cashbackDetails,\n    CASHBACK: { minBetLimit },\n  } = json;\n  return {\n    minimumBetLimit: minBetLimit ?? 0,\n    minCashbackAmount: cashbackDetails.cashbackValues.minCashbackAmount,\n    maxCashbackAmount: cashbackDetails.cashbackValues.maxCashbackAmount,\n    type: cashbackDetails.cashbackValues.type as T.CashbackPromoType,\n  };\n};\n\nconst parsePromotionPrizeJSON = (prize: A.PromotionPrizeJSON): T.PromotionPrize => {\n  const invalid = T.PromotionPrizeType.Invalid;\n  const prizeType = prize.type as MapToEnum<typeof prize.type, T.PromotionPrizeType>;\n  switch (prizeType) {\n    case T.PromotionPrizeType.Gift: {\n      const gift = prize.gift ?? null;\n      return gift !== null ? { type: prizeType, gift } : { type: invalid };\n    }\n    case T.PromotionPrizeType.Coins: {\n      const amount = prize.amount ?? null;\n      return amount !== null ? { type: prizeType, amount } : { type: invalid };\n    }\n    case T.PromotionPrizeType.BetMultiplier: {\n      const multiplier = prize.betMultiplier ?? null;\n      return multiplier !== null ? { type: prizeType, multiplier } : { type: invalid };\n    }\n    default:\n      return { type: invalid };\n  }\n};\n\nconst parseTournamentPromotionWinCriterion = (\n  json: A.TournamentPromotionJSON['TOURNAMENT_DETAILS']\n): T.TournamentPromoWinCriterionType => {\n  const winCriterionType = json.winCriterion as MapToEnum<typeof json.winCriterion, T.TournamentPromoWinCriterionType>;\n  return winCriterionType;\n};\n","import { NetworkError } from '../../errors/NetworkError';\nimport { Fetcher } from '../../Fetcher';\n\nimport { APIS } from './constants';\nimport {\n  parseCashbackScore,\n  parsePrizeDropPrize,\n  parsePrizeDropWinners,\n  parsePromotionJSON,\n  parseLeaderboardAroundMeDetails,\n  parseLeaderboardDetails,\n  parsePromotionWinNotificationJSON,\n} from './parsers';\nimport type {\n  FetchCashbackScoreParams,\n  FetchLeaderboardAroundMeParams,\n  FetchLeaderboardParams,\n  FetchPrizesAndWinnersParams,\n  FetchPromoJwtParams,\n  FetchPromoParams,\n  FetchPromoPointsParams,\n  FetchRoundHistoryParams,\n  PostPromoConsentParams,\n  SetPromotionsScreenNameParams,\n  WinPromoAckParams,\n} from './types/promoFetcher';\nimport type {\n  RoundHistoryType,\n  RoundHistoryByWSType,\n  FetchPromoData,\n  FetchLeaderboardData,\n  FetchPrizesAndWinnersData,\n  FetchCashbackScoreData,\n  FetchLeaderboardAroundMeData,\n  FetchPromoConsentData,\n} from './types/promotions';\nimport { PromotionType, PromotionOptedStatus } from './types/promotions';\nimport { PromoObjectType } from './types/promotionsApi';\nimport type {\n  CashbackScoreAPIResponse,\n  InstantPointsApiResponse,\n  LeaderboardAPIResponse,\n  LeaderboardAroundMeAPIResponse,\n  PrizesAndWinnersAPIResponse,\n  PromotionsApiResponse,\n} from './types/promotionsApi';\n\nexport const fetchPromotions = (params: FetchPromoParams): Promise<FetchPromoData> => {\n  return Fetcher.fetch<PromotionsApiResponse>(`${params.envPromo}${APIS.FETCH_PROMOTIONS_INFO}`, {\n    force: true,\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    params: { isDetailed: 'true', lang: params.lang, tableId: params.gameId },\n  }).then((response) => {\n    switch (response.objectType) {\n      case PromoObjectType.Promotions: {\n        const resp = response as PromotionsApiResponse<PromoObjectType.Promotions>;\n        return {\n          promotions: resp.data.map((res) => parsePromotionJSON(res, params)),\n          winNotifications: [\n            ...(resp.AdditionalData.TOURNAMENT_WIN_NOTIFICATION?.map((res) =>\n              parsePromotionWinNotificationJSON(res, params)\n            ) ?? []),\n            ...(resp.AdditionalData.CASHBACK_WIN_NOTIFICATION?.map((res) =>\n              parsePromotionWinNotificationJSON(res, params)\n            ) ?? []),\n          ],\n        };\n      }\n      case 'ERROR': {\n        const resp = response as PromotionsApiResponse<PromoObjectType.Error>;\n        throw new NetworkError(resp.data);\n      }\n      default:\n        throw new Error('Unknown `obType` field');\n    }\n  });\n};\n\nexport const postPromoConsent = (params: PostPromoConsentParams): Promise<FetchPromoConsentData> => {\n  return Fetcher.fetch<unknown>(`${params.envPromo}${APIS.PROMO_OPT_INFO}`, {\n    headers: {\n      Authorization: `Bearer ${params.jwtToken}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: {\n      data: {\n        opted: params.opted,\n        tournamentIds: params.promotions.filter((p) => p.type === PromotionType.Tournament).map((p) => p.id),\n        prizedropIds: params.promotions.filter((p) => p.type === PromotionType.Prizedrop).map((p) => p.id),\n        cashbackIds: params.promotions.filter((p) => p.type === PromotionType.Cashback).map((p) => p.id),\n      },\n    },\n  }).then(() => {\n    const updatedPromotions = params.promotions.map((promo) => ({\n      ...promo,\n      opted: params.opted ? PromotionOptedStatus.Opted : PromotionOptedStatus.NonOpted,\n    }));\n    return { promotions: updatedPromotions };\n  });\n};\n\nexport const fetchPromotionsPoints = (params: FetchPromoPointsParams): Promise<InstantPointsApiResponse> => {\n  return Fetcher.fetch<InstantPointsApiResponse>(`${params.envPromo}${APIS.FETCH_INSTANT_POINTS}`, {\n    force: true,\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n  }).then((response) => {\n    return response;\n  });\n};\n\nexport const fetchPromotionsJwt = (params: FetchPromoJwtParams): Promise<string> => {\n  return Fetcher.fetch<{ jwtToken: string }>(`${params.envGs}${APIS.UPDATE_JWT_TOKEN}`, {\n    params: { userId: params.userId, JSESSIONID: params.jsessionId },\n  }).then((response) => response.jwtToken);\n};\n\nexport const fetchLeaderboard = (params: FetchLeaderboardParams): Promise<FetchLeaderboardData | null> => {\n  return Fetcher.fetch<LeaderboardAPIResponse>(`${params.envPromo}${APIS.LEADERBOARD}${params.tournamentId}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    force: true,\n  }).then((response) => {\n    return {\n      leaderboard: parseLeaderboardDetails(response),\n      tournamentId: response.tournamentId,\n    };\n  });\n};\n\nexport const fetchLeaderboardAroundMe = (\n  params: FetchLeaderboardAroundMeParams\n): Promise<FetchLeaderboardAroundMeData | null> => {\n  return Fetcher.fetch<LeaderboardAroundMeAPIResponse>(\n    `${params.envPromo}${APIS.LEADERBOARD_AROUND_ME}${params.tournamentId}/${params.casinoUserId}`,\n    {\n      headers: { Authorization: `Bearer ${params.jwtToken}` },\n      force: true,\n    }\n  ).then((response) => {\n    return {\n      leaderboardAroundMe: parseLeaderboardAroundMeDetails(response),\n      tournamentId: params.tournamentId,\n    };\n  });\n};\n\nexport const fetchPrizesAndWinners = (params: FetchPrizesAndWinnersParams): Promise<FetchPrizesAndWinnersData> => {\n  return Fetcher.fetch<PrizesAndWinnersAPIResponse>(`${params.envPromo}${APIS.PRIZES_AND_WINNERS}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    force: true,\n    params: { prizedropId: params.prizeDropId },\n  }).then((response) => {\n    return {\n      prizes: parsePrizeDropPrize(response, params.prizeDropId),\n      winners: parsePrizeDropWinners(response, params.prizeDropId),\n      prizeDropId: params.prizeDropId,\n    };\n  });\n};\n\nexport const fetchCashbackScore = (params: FetchCashbackScoreParams): Promise<FetchCashbackScoreData> => {\n  return Fetcher.fetch<CashbackScoreAPIResponse>(`${params.envPromo}${APIS.FETCH_SCORE}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    force: true,\n    params: { cashbackId: params.cashbackId },\n  }).then((response) => {\n    return {\n      score: parseCashbackScore(response, params.cashbackId),\n      cahbackId: params.cashbackId,\n    };\n  });\n};\n\nexport const fetchRoundHistory = (params: FetchRoundHistoryParams): Promise<RoundHistoryType[] | []> => {\n  return Fetcher.fetch<RoundHistoryType[]>(`${params.envPromo}${APIS.FETCH_ROUND_HISTORY}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    force: true,\n    params: { tournamentId: params.tournamentId, lastId: params.winingStreakLastId, records: params.noOfRecords },\n  }).then((response) => {\n    return response;\n  });\n};\n\nexport const fetchRoundHistoryByWS = (params: FetchRoundHistoryParams): Promise<RoundHistoryByWSType[] | []> => {\n  return Fetcher.fetch<RoundHistoryByWSType[]>(`${params.envPromo}${APIS.FETCH_ROUND_HISTORY_BY_WS}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    force: true,\n    params: { tournamentId: params.tournamentId, lastId: params.winingStreakLastId, records: params.noOfRecords },\n  }).then((response) => {\n    return response;\n  });\n};\n\nexport const winPromoAck = (params: WinPromoAckParams): void => {\n  Fetcher.fetch(`${params.envPromo}${APIS.PROMO_ACK}`, {\n    headers: { Authorization: `Bearer ${params.jwtToken}` },\n    params: { promoId: params.promoId, type: params.promoType },\n    force: true,\n  });\n};\n\nexport const setPromotionsScreenName = (params: SetPromotionsScreenNameParams): void => {\n  Fetcher.fetch<void>(`${params.envPromo}${APIS.UPDATE_SCREEN_NAME}`, {\n    headers: {\n      Authorization: `Bearer ${params.jwtToken}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport * as F from '../../api/fetchers/promotionsV2/fetcher';\nimport * as T from '../../api/fetchers/promotionsV2/types/promoFetcher';\n\nexport const setPromotionsScreenNameAction = createAsyncThunk(\n  'promotionsV2/setPromotionsScreenName',\n  (params: T.SetPromotionsScreenNameParams) => {\n    return F.setPromotionsScreenName(params);\n  }\n);\n\nexport const fetchPromotionsAction = createAsyncThunk('promotionsV2/fetchPromotions', (params: T.FetchPromoParams) => {\n  return F.fetchPromotions(params);\n});\n\nexport const postPromoConsentAction = createAsyncThunk(\n  'promotionsV2/postPromoConsent',\n  (params: T.PostPromoConsentParams) => {\n    return F.postPromoConsent(params);\n  }\n);\n\nexport const fetchPromotionsPointsAction = createAsyncThunk(\n  'promotionsV2/fetchPromotionsPoints',\n  (params: T.FetchPromoPointsParams) => {\n    return F.fetchPromotionsPoints(params);\n  }\n);\n\nexport const fetchPromotionsJwtAction = createAsyncThunk(\n  'promotionsV2/fetchPromotionsJwt',\n  (params: T.FetchPromoJwtParams) => {\n    return F.fetchPromotionsJwt(params);\n  }\n);\nexport const fetchLeaderboardAction = createAsyncThunk(\n  'promotionsV2/fetchLeaderboard',\n  (params: T.FetchLeaderboardParams) => {\n    return F.fetchLeaderboard(params);\n  }\n);\n\nexport const fetchLeaderboardAroundMeAction = createAsyncThunk(\n  'promotionsV2/fetchLeaderboardAroundMe',\n  (params: T.FetchLeaderboardAroundMeParams) => {\n    return F.fetchLeaderboardAroundMe(params);\n  }\n);\n\nexport const fetchPrizesAndWinnersAction = createAsyncThunk(\n  'promotionsV2/fetchPrizesAndWinners',\n  (params: T.FetchPrizesAndWinnersParams) => {\n    return F.fetchPrizesAndWinners(params);\n  }\n);\n\nexport const fetchCashbackScoreAction = createAsyncThunk(\n  'promotionsV2/fetchCashbackScore',\n  (params: T.FetchCashbackScoreParams) => {\n    return F.fetchCashbackScore(params);\n  }\n);\n\nexport const fetchRoundHistoryAction = createAsyncThunk(\n  'promotionsV2/fetchRoundHistory',\n  (params: T.FetchRoundHistoryParams) => {\n    return F.fetchRoundHistory(params);\n  }\n);\n\nexport const fetchRoundHistoryByWSAction = createAsyncThunk(\n  'promotionsV2/fetchRoundHistoryByWS',\n  (params: T.FetchRoundHistoryParams) => {\n    return F.fetchRoundHistoryByWS(params);\n  }\n);\n\nexport const winPromoAckAction = createAsyncThunk('promotionsV2/winPromoAck', (params: T.WinPromoAckParams) => {\n  return F.winPromoAck(params);\n});\n","// extracted by mini-css-extract-plugin\nexport default {\"container_left\":\"Je_Jf\",\"container_right\":\"Je_Jg\",\"container_left_BN\":\"Je_Jh\",\"container_right_BN\":\"Je_Ji\",\"leftDice\":\"Je_Jj\",\"rightDice\":\"Je_Jk\",\"container\":\"Je_jT\"};","import type { ReactElement } from 'react';\nimport { useMemo } from 'react';\n\nimport { useModifiers } from '../../../../../../styles/hooks/useModifiers';\nimport { L12nText } from '../../../../../text/L12nText';\nimport { useHistoryContext } from '../../../../hooks/useHistoryContext';\n\nimport Dice1 from './assets/dice/1.svg';\nimport Dice2 from './assets/dice/2.svg';\nimport Dice3 from './assets/dice/3.svg';\nimport Dice4 from './assets/dice/4.svg';\nimport Dice5 from './assets/dice/5.svg';\nimport Dice6 from './assets/dice/6.svg';\n\nimport styles from './MegaSicBacHistoryResult.module.css';\n\nexport type Dice = '1' | '2' | '3' | '4' | '5' | '6';\nexport interface MegaSicBacResultProps {\n  result: string;\n  seats: {\n    hand: {\n      dice: [Dice, Dice];\n      score: string;\n    };\n  }[];\n}\n\nexport const diceImage: Record<Dice, string> = {\n  '1': Dice1,\n  '2': Dice2,\n  '3': Dice3,\n  '4': Dice4,\n  '5': Dice5,\n  '6': Dice6,\n};\n\nexport default function MegaSicBacHistoryResult({ result, seats }: MegaSicBacResultProps): ReactElement {\n  const emptyResult = useMemo(() => {\n    return result === 'CANCELLED' || !seats[0] || !seats[1];\n  }, [seats, result]);\n  const { currentLanguage } = useHistoryContext();\n\n  const historyLeftMods = useModifiers(\n    styles,\n    'container_left',\n    {\n      BN: currentLanguage === 'bn',\n    },\n    { withBaseClass: true }\n  );\n\n  const historyRightMods = useModifiers(\n    styles,\n    'container_right',\n    {\n      BN: currentLanguage === 'bn',\n    },\n    { withBaseClass: true }\n  );\n  return (\n    <>\n      {!emptyResult ? (\n        <div className={styles.container}>\n          <div className={historyLeftMods}>\n            <span>\n              <L12nText tk=\"PLAYER_CAPS\" />: {seats[1].hand.score}\n            </span>\n          </div>\n          <div className={historyRightMods}>\n            <span>\n              <L12nText tk=\"BANKER_CAPS\" />: {seats[0].hand.score}\n            </span>\n          </div>\n          <div className={styles.leftDice}>\n            <img src={diceImage[seats[1].hand.dice[0]]} alt=\"playerDice1\" />\n            <img src={diceImage[seats[1].hand.dice[1]]} alt=\"playerDice2\" />\n          </div>\n          <div className={styles.rightDice}>\n            <img src={diceImage[seats[0].hand.dice[0]]} alt=\"bankerDice1\" />\n            <img src={diceImage[seats[0].hand.dice[1]]} alt=\"bankerDice2\" />\n          </div>\n        </div>\n      ) : (\n        <></>\n      )}\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"dpCardResults\":\"Kf_Kg\",\"dpCardResults_firstDraw\":\"Kf_Kh\",\"dpCardResults_secondDraw\":\"Kf_Ki\",\"dpCardResults_finalHand\":\"Kf_Kj\",\"dpCardResults__title\":\"Kf_Kk\",\"dpCardResults__cardsSection\":\"Kf_Kl\",\"dpCardResults__singleCard\":\"Kf_Km\",\"history__card\":\"Kf_Kn\",\"history__card_selected_held\":\"Kf_Ko\",\"history__card_selected_win\":\"Kf_Kp\",\"history__card_unselected\":\"Kf_Kq\",\"toggleBtn\":\"Kf_Kr\",\"toggleBtn__unselected\":\"Kf_Ks\",\"toggleBtn__selected\":\"Kf_Kt\"};","import type { FC } from 'react';\nimport { useCallback, useMemo } from 'react';\n\nimport { Icon } from '../../../../../../components/icons/icon';\nimport { Icons } from '../../../../../../components/icons/iconNames';\nimport { L12nText } from '../../../../../../components/text/L12nText';\nimport { useModifiers } from '../../../../../../styles/hooks/useModifiers';\nimport { Card } from '../../../../../game/card/Card';\nimport type { CardValue, CardSuite } from '../../../../../game/card/types';\n\nimport { CardResultSet, DrawStage, getCardValue, getSuite } from './utils';\n\nimport styles from './DPCardResults.module.css';\n\ninterface DPCardResultsProps {\n  cardResults?: CardResultSet;\n  type: DrawStage;\n}\n\nexport const DPCardResults: FC<DPCardResultsProps> = ({ cardResults, type }) => {\n  const dpCardResultsMods = useModifiers(\n    styles,\n    'dpCardResults',\n    {\n      firstDraw: type === DrawStage.First_Draw,\n      secondDraw: type === DrawStage.Second_Draw,\n      finalHand: type === DrawStage.Final_Hand,\n    },\n    { withBaseClass: true }\n  );\n\n  const getTranslationKey = useMemo((): string => {\n    switch (type) {\n      case DrawStage.First_Draw:\n        return 'POKER_HISTORY_1ST_DRAW';\n      case DrawStage.Second_Draw:\n        return 'POKER_HISTORY_2ND_DRAW';\n      case DrawStage.Final_Hand:\n        return 'POKER_HISTORY_FINAL_HAND';\n      default:\n        return '';\n    }\n  }, [type]);\n\n  const getCardsClass = useCallback(\n    (selected: string, winCard: string): string => {\n      let finalClass = `${styles.history__card} `;\n      if (type === DrawStage.First_Draw) {\n        finalClass += selected === 'true' ? styles.history__card_selected_held : styles.history__card_unselected;\n      } else if (type === DrawStage.Second_Draw && selected === 'false') {\n        finalClass += styles.history__card_unselected;\n      } else if (type === DrawStage.Final_Hand && winCard === 'true') {\n        finalClass += styles.history__card_selected_win;\n      }\n      return finalClass;\n    },\n    [type]\n  );\n\n  const getToggleBtnClass = useCallback((selected: string): string => {\n    return selected === 'true'\n      ? `${styles.toggleBtn} ${styles.toggleBtn__selected}`\n      : `${styles.toggleBtn} ${styles.toggleBtn__unselected}`;\n  }, []);\n\n  if (!cardResults?.card) return;\n\n  return (\n    <div className={dpCardResultsMods}>\n      <div className={styles.dpCardResults__title}>\n        <L12nText tk={getTranslationKey} />:\n      </div>\n      <div className={styles.dpCardResults__cardsSection}>\n        {cardResults.card.map((card) => (\n          <div key={`DP#${card.pos}-${card.sc}`} className={styles.dpCardResults__singleCard}>\n            <Card\n              value={getCardValue(card.sc[0]) as CardValue}\n              suite={getSuite(card.sc[1]) as CardSuite}\n              className={getCardsClass(card.selected, card.winCard)}\n            />\n            {type === DrawStage.First_Draw ? (\n              <div className={getToggleBtnClass(card.selected)}>\n                <Icon icon={card.selected === 'true' ? Icons.Tick : Icons.Update} />\n              </div>\n            ) : null}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { useCallback } from 'react';\n\nimport { fetchAssignedTablesAction } from '../apiActions/fetchAssignedTablesAction';\nimport { useCoreDispatch } from '../CoreStore';\nimport { useConfigSlice } from '../slices/config/selectors';\n\nexport const useAssignedTablesFetcher = (): ((essential: boolean) => void) => {\n  const dispatch = useCoreDispatch();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.baseUrl();\n\n  return useCallback(\n    (essential: boolean): void => {\n      if (JSESSIONID && baseUrl) {\n        dispatch(\n          fetchAssignedTablesAction({\n            JSESSIONID,\n            url: `${baseUrl}/cgibin/assignedTablesForLobby.jsp`,\n            essential,\n          })\n        );\n      }\n    },\n    [JSESSIONID, baseUrl, dispatch]\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"subtitles\":\"uJ_uK\",\"subtitles_hidden\":\"uJ_uL\",\"subtitles__container\":\"uJ_uM\",\"subtitles_small\":\"uJ_uN\",\"subtitles_medium\":\"uJ_uO\",\"subtitles_large\":\"uJ_uP\",\"subtitles__content\":\"uJ_uQ\",\"subtitles_dragging\":\"uJ_uR\",\"subtitles__icon\":\"uJ_uS\",\"subtitles__closeIcon\":\"uJ_uT\",\"subtitles__text\":\"uJ_uU\",\"subtitles_onboarding\":\"uJ_uV\",\"subtitlesOnboardingAnimation\":\"uJ_uW\",\"subtitles_preview\":\"uJ_uX\"};","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.production.min.js');\n} else {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var g=require(\"react\");function n(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var p=\"function\"===typeof Object.is?Object.is:n,q=g.useSyncExternalStore,r=g.useRef,t=g.useEffect,u=g.useMemo,v=g.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,h){var c=r(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=u(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==h&&f.hasValue){var b=f.value;if(h(b,a))return k=b}return k=a}b=k;if(p(d,a))return b;var e=l(a);if(void 0!==h&&h(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,h]);var d=q(a,c[0],c[1]);\nt(function(){f.hasValue=!0;f.value=d},[d]);v(d);return d};\n","import { UserSession } from '../config/UserSession';\nimport { CoreManifest } from '../manifest';\nimport { shouldEnableProdLogger } from '../utils/env';\n\nimport { Logger } from './Logger';\n\ndeclare global {\n  interface Window {\n    dataLayer: unknown[];\n  }\n}\n\nconst GTM_ID = 'GTM-MW237N8';\nconst GTM_ID_PROD = 'GTM-W98NJ2D';\n\n/**\n * Retrieves the appropriate Google Tag Manager ID based on the environment (can be patched after build).\n */\nconst getGtmId = (): string => (shouldEnableProdLogger() ? GTM_ID_PROD : GTM_ID);\n\ninterface LogData {\n  event: string;\n  gameType: string | null;\n  userId: string | null;\n  casinoId: string | null;\n  tableId: string | null;\n  selectedLang: string | null;\n  dpRatio: number;\n  opDimentions: string;\n  loadingTime?: number;\n}\n\nclass Gtag {\n  private cache = new Array<LogData>();\n  private isReady = false;\n  private userId: string | null = null;\n  private readonly tableId: string | null;\n  private readonly casinoId: string | null;\n  private readonly gameType: string | null;\n  private readonly selectedLang: string | null;\n  private readonly dpRatio = window.devicePixelRatio;\n  private readonly opDimentions = window.innerWidth + 'x' + window.innerHeight;\n\n  constructor() {\n    window['dataLayer'] = window['dataLayer'] || [];\n    window['dataLayer'].push({ 'gtm.start': Date.now(), event: 'gtm.js' });\n\n    if (CoreManifest.useGtag) {\n      const gtagJS = document.createElement('script');\n      gtagJS.async = true;\n      gtagJS.src = 'https://www.googletagmanager.com/gtm.js?id=' + getGtmId();\n      gtagJS.onload = (): void => {\n        this.flushCache();\n        this.isReady = true;\n      };\n      document.head.appendChild(gtagJS);\n    }\n\n    const userSession = UserSession.getSession();\n\n    this.tableId = userSession?.tableId || null;\n    this.casinoId = userSession?.casinoId || null;\n    this.selectedLang = userSession?.lang || null;\n    this.gameType = userSession?.gametype || null;\n  }\n\n  public updateUserId(userId: string): void {\n    this.userId = userId;\n  }\n\n  public log(data: LogData): void {\n    if (this.isReady) {\n      this.sendData(data);\n    } else {\n      this.cache.push(data);\n    }\n  }\n\n  private sendData(data: LogData): void {\n    window.dataLayer.push(data);\n  }\n\n  private flushCache(): void {\n    this.cache.forEach((data) => this.sendData(data));\n    this.cache = new Array<LogData>();\n  }\n\n  private getBasePayload(): LogData {\n    return {\n      gameType: this.gameType,\n      userId: this.userId,\n      casinoId: this.casinoId,\n      tableId: this.tableId,\n      selectedLang: this.selectedLang,\n      dpRatio: this.dpRatio,\n      opDimentions: this.opDimentions,\n    } as LogData;\n  }\n\n  public logEvent(event: string, duration: number | undefined): void {\n    const data: LogData = { ...this.getBasePayload(), event };\n\n    if (duration) {\n      data.loadingTime = duration;\n    }\n    this.log(data);\n  }\n\n  public logUniqueEvent(event: string, payload: Record<string, unknown>): void {\n    this.log({ ...payload, ...this.getBasePayload(), event });\n  }\n}\n\nexport const GtagLogger = new Gtag();\n\n/**\n * Logs the start of game loading and marks performance in production environment.\n * Any exceptions during logging are caught and ignored.\n */\nexport const enableGtagLogger = (): void => {\n  try {\n    GtagLogger.logEvent('game-load-started', undefined);\n    Logger.logEvent('gtagLoadStarted', { instant: true });\n    performance.mark('loadStartForGtag');\n  } catch (e) {\n    //nothing we can do\n  }\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const rejectHistoryFetchAction = createAsyncThunk('history/rejectHistoryFetch', (error: Error) =>\n  Promise.reject(error)\n);\n","import { Fetcher } from '../../Fetcher';\n\nimport type { PostScreenNameParams, NickNameResponse, FetchNickNameParams } from './types';\n\n// Post nickname\nexport const postNickName = ({\n  url,\n  JSESSIONID,\n  screenName,\n  tableId,\n}: PostScreenNameParams): Promise<NickNameResponse> => {\n  return Fetcher.fetch<NickNameResponse>(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    params: {\n      JSESSIONID,\n    },\n    body: { screenName, tableId },\n  });\n};\n\nexport const fetchNickName = ({ url, JSESSIONID }: FetchNickNameParams): Promise<NickNameResponse> => {\n  return Fetcher.fetch<NickNameResponse>(url, {\n    params: {\n      JSESSIONID,\n    },\n    format: 'json',\n    method: 'GET',\n  });\n};\n","export function debounce<F extends (...args: any[]) => void>(func: F, delay: number) {\n  let timeoutId: NodeJS.Timeout;\n\n  function debouncedFn(this: any, ...args: Parameters<F>): void {\n    clearTimeout(timeoutId);\n\n    timeoutId = setTimeout(() => {\n      func.apply(this, args);\n    }, delay);\n  }\n\n  debouncedFn.cancel = (): void => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n","export function throttle<Func extends (...args: Parameters<Func>) => ReturnType<Func>>(\n  callback: Func,\n  limit: number\n): (...args: Parameters<Func>) => void {\n  let lastFunc: number;\n  let lastRan: number;\n  return function (this: ThisParameterType<Func>, ...args: Parameters<Func>): void {\n    if (!lastRan) {\n      callback.apply(this, args);\n      lastRan = Date.now();\n    } else {\n      window.clearTimeout(lastFunc);\n      lastFunc = window.setTimeout(\n        () => {\n          if (Date.now() - lastRan >= limit) {\n            callback.apply(this, args);\n            lastRan = Date.now();\n          }\n        },\n        limit - (Date.now() - lastRan)\n      );\n    }\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames not based on template\n\tif (chunkId === 9789) return \"9789.ec87f60ed020600608a6.js\";\n\tif (chunkId === 3634) return \"3634.4ab434a0aa38faab9d83.js\";\n\tif (chunkId === 8396) return \"8396.64a39ef6786ead2a844a.js\";\n\tif (chunkId === 942) return \"942.0b5702e1b2fb8a7b5353.js\";\n\tif (chunkId === 3987) return \"3987.be342f350d0baa84092d.js\";\n\tif (chunkId === 7856) return \"7856.2bbdc329d5177d7b0aea.js\";\n\tif (chunkId === 4062) return \"4062.445acc14f245e97a2c3a.js\";\n\tif (chunkId === 4762) return \"4762.6f802fc9187e0e522cdd.js\";\n\tif (chunkId === 3274) return \"3274.ab08e7399f307fca360e.js\";\n\tif (chunkId === 6519) return \"6519.3312e88f66c363767a64.js\";\n\tif (chunkId === 4904) return \"4904.22cea8d82514cb0cbf25.js\";\n\tif (chunkId === 1909) return \"1909.c6af227e2126e5ecfcb8.js\";\n\tif (chunkId === 12) return \"12.72e83489df91f8066139.js\";\n\tif (chunkId === 2292) return \"2292.80f87e087abe322447b1.js\";\n\tif (chunkId === 6086) return \"6086.82a4d5e1eb6aa436be63.js\";\n\tif (chunkId === 7951) return \"7951.50dcfdafee040d87b585.js\";\n\tif (chunkId === 3897) return \"3897.c7a80d31d0cf8cc781ae.js\";\n\tif (chunkId === 550) return \"550.18ffd34ac09f813a515c.js\";\n\tif (chunkId === 9717) return \"9717.8ba20ee2e2523db9ad76.js\";\n\tif (chunkId === 5513) return \"5513.beae01515a9d9025f4ec.js\";\n\tif (chunkId === 8248) return \"8248.9e3cc7d0ace84a86bca5.js\";\n\tif (chunkId === 4635) return \"4635.aeed154e9a2b6dbc202c.js\";\n\tif (chunkId === 2720) return \"2720.05a36f83df3efdfa54ab.js\";\n\tif (chunkId === 9744) return \"9744.03a77574df1b0f9b9922.js\";\n\tif (chunkId === 1293) return \"1293.906b6bf441fc6a3f36b6.js\";\n\tif (chunkId === 5970) return \"lottie.2098db12999c69a3f4ba.js\";\n\tif (chunkId === 9005) return \"9005.5a57f87bbdf8be77b646.js\";\n\tif (chunkId === 7) return \"7.1ae5673d647b1c81c4f2.js\";\n\tif (chunkId === 2936) return \"2936.fbc9500e1865526500e1.js\";\n\tif (chunkId === 7395) return \"7395.297b1dcb48185acd35a3.js\";\n\tif (chunkId === 5047) return \"5047.e781802047bf6bf5cc21.js\";\n\tif (chunkId === 1451) return \"1451.ecd7d63714aaf71572d1.js\";\n\tif (chunkId === 8944) return \"8944.ee9bde44cc06a00c7409.js\";\n\tif (chunkId === 6702) return \"6702.cb32c50601a088cd94c0.js\";\n\tif (chunkId === 2649) return \"2649.cba8ca2482508541259f.js\";\n\tif (chunkId === 2573) return \"2573.20a31fc15b66385090c1.js\";\n\tif (chunkId === 9552) return \"9552.252bf7caea3ef3365ffb.js\";\n\tif (chunkId === 9003) return \"9003.64713d59d6ba22f42c4f.js\";\n\tif (chunkId === 3475) return \"3475.2c30e2a0ca01cc082737.js\";\n\tif (chunkId === 4001) return \"4001.6dc4c0621651b006445c.js\";\n\tif (chunkId === 310) return \"310.3467cdb8faae652528c9.js\";\n\tif (chunkId === 3933) return \"3933.3d0bee39559b8aa60fc8.js\";\n\tif (chunkId === 445) return \"445.1892393e2441d5963c45.js\";\n\tif (chunkId === 9534) return \"9534.4b9078f9e1eaba148327.js\";\n\tif (chunkId === 3154) return \"3154.250763df1730abe5b6cd.js\";\n\tif (chunkId === 8130) return \"8130.7a1a800e550f554e37fe.js\";\n\tif (chunkId === 6217) return \"6217.63fa0ef3dc2b35ac5104.js\";\n\tif (chunkId === 3905) return \"3905.53838647c74fb823d9df.js\";\n\tif (chunkId === 7570) return \"7570.993c88db07bc4545e806.js\";\n\tif (chunkId === 412) return \"412.cde1847f9293570b86ac.js\";\n\tif (chunkId === 702) return \"702.eb6b5ffc60ddc7f6f677.js\";\n\tif (chunkId === 8433) return \"8433.2c990425358acf4738d3.js\";\n\tif (chunkId === 5162) return \"5162.8787a952f715ebd33707.js\";\n\tif (chunkId === 5070) return \"5070.f6a4d25fd6bf67137d6b.js\";\n\tif (chunkId === 6158) return \"6158.dc55487aa257d4b43413.js\";\n\tif (chunkId === 9952) return \"9952.b056a01609db18424b8b.js\";\n\tif (chunkId === 3731) return \"3731.031dc1cc484780deabb8.js\";\n\tif (chunkId === 2883) return \"2883.cc047e19adc8ccde03e4.js\";\n\tif (chunkId === 5982) return \"5982.82733f0bbb5db6393715.js\";\n\tif (chunkId === 2640) return \"2640.c16edbf52d30c5568ccf.js\";\n\tif (chunkId === 1509) return \"1509.664d5bad3476379f26d1.js\";\n\tif (chunkId === 8807) return \"8807.cb9b375ce84610cd932b.js\";\n\tif (chunkId === 6812) return \"6812.23be77ce65f938277947.js\";\n\tif (chunkId === 1298) return \"1298.6f633ed8f9a5cffc2d06.js\";\n\tif (chunkId === 8511) return \"8511.4fc072267f284702168e.js\";\n\tif (chunkId === 2740) return \"2740.f10a56e6e4fd32525418.js\";\n\tif (chunkId === 9150) return \"9150.814fb5c8b0f49322a2d5.js\";\n\tif (chunkId === 7337) return \"7337.79897951cb9350168930.js\";\n\tif (chunkId === 3382) return \"3382.cf0ff582aabafa781099.js\";\n\tif (chunkId === 1943) return \"1943.e2cbc74d25f65611bc33.js\";\n\t// return url for filenames based on template\n\treturn undefined;\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames not based on template\n\tif (chunkId === 4062) return \"4062.899c0803f5e45a962089.css\";\n\tif (chunkId === 4762) return \"4762.9ea3be370e2669530384.css\";\n\tif (chunkId === 3274) return \"3274.1109a6de28b657ee815c.css\";\n\tif (chunkId === 6519) return \"6519.dbc981f3a74a6a18f02b.css\";\n\tif (chunkId === 4904) return \"4904.baf23dc4f1c1089c0957.css\";\n\tif (chunkId === 1909) return \"1909.28f221b35a52f414df51.css\";\n\tif (chunkId === 12) return \"12.9cf5bb676e55a9f4937f.css\";\n\tif (chunkId === 2292) return \"2292.d8869d7f543896a09d7b.css\";\n\tif (chunkId === 6086) return \"6086.cb9261515013cc880169.css\";\n\tif (chunkId === 7951) return \"7951.d6392510d0511d6cd1e3.css\";\n\tif (chunkId === 3897) return \"3897.5e278be17d376e1a81e4.css\";\n\tif (chunkId === 550) return \"550.65646115caa764905f98.css\";\n\tif (chunkId === 9717) return \"9717.6dc9c147e0dbc2525a04.css\";\n\tif (chunkId === 5513) return \"5513.3a975a3ff4157c254671.css\";\n\tif (chunkId === 8248) return \"8248.e4aeb6b5c947252e5855.css\";\n\tif (chunkId === 4635) return \"4635.04a2fbf2c3f1f0c0ba0a.css\";\n\tif (chunkId === 2720) return \"2720.a4905302cea4308fc48e.css\";\n\tif (chunkId === 9744) return \"9744.63c56b101077529bfc83.css\";\n\tif (chunkId === 1293) return \"1293.aaecbd6d86524c9012e9.css\";\n\tif (chunkId === 7) return \"7.16861b7d16e313473504.css\";\n\tif (chunkId === 7395) return \"7395.01c9f2c6e0c832970b77.css\";\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t8792: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"7\":1,\"12\":1,\"550\":1,\"1293\":1,\"1909\":1,\"2292\":1,\"2720\":1,\"3274\":1,\"3897\":1,\"4062\":1,\"4635\":1,\"4762\":1,\"4904\":1,\"5513\":1,\"6086\":1,\"6519\":1,\"7395\":1,\"7951\":1,\"8248\":1,\"9717\":1,\"9744\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t8792: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(7395 != chunkId) {\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_pp_lobby\"] = self[\"webpackChunk_pp_lobby\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import { render, hydrate, unmountComponentAtNode } from 'preact/compat';\n\nexport function createRoot(container) {\n\treturn {\n\t\t// eslint-disable-next-line\n\t\trender: function (children) {\n\t\t\trender(children, container);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\tunmount: function () {\n\t\t\tunmountComponentAtNode(container);\n\t\t}\n\t};\n}\n\nexport function hydrateRoot(container, children) {\n\thydrate(children, container);\n\treturn createRoot(container);\n}\n\nexport default {\n\tcreateRoot,\n\thydrateRoot\n};\n","/**\n * @remix-run/router v1.20.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience, so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    // Treating this as a full URL will strip any trailing spaces so we need to\n    // pre-encode them since they might be part of a matching splat param from\n    // an ancestor route\n    href = href.replace(/ $/, \"%20\");\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary, so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(branches[i], decoded, allowPartial);\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array, so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children, so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explode _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then, if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:[\\w-]+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname, allowPartial) {\n  if (allowPartial === void 0) {\n    allowPartial = false;\n  }\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath({\n        path: meta.relativePath,\n        caseSensitive: meta.caseSensitive,\n        end: false\n      }, remainingPathname);\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce((memo, _ref, index) => {\n    let {\n      paramName,\n      isOptional\n    } = _ref;\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    const value = captureGroups[index];\n    if (isOptional && !value) {\n      memo[paramName] = undefined;\n    } else {\n      memo[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n    }\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:([\\w-]+)(\\?)?/g, (_, paramName, isOptional) => {\n    params.push({\n      paramName,\n      isOptional: isOptional != null\n    });\n    return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    params.push({\n      paramName: \"*\"\n    });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex, so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map(v => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n// Return the array of pathnames for the current route matches - used to\n// generate the routePathnames input for resolveTo()\nfunction getResolveToMatches(matches, v7_relativeSplatPath) {\n  let pathMatches = getPathContributingMatches(matches);\n  // When v7_relativeSplatPath is enabled, use the full pathname for the leaf\n  // match so we include splat values for \".\" links.  See:\n  // https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329\n  if (v7_relativeSplatPath) {\n    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);\n  }\n  return pathMatches.map(match => match.pathnameBase);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    // With relative=\"route\" (the default), each leading .. segment means\n    // \"go up one route\" instead of \"go up one URL segment\".  This is a key\n    // difference from how <a href> works and a major reason we call this a\n    // \"to\" value instead of a \"href\".\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass DataWithResponseInit {\n  constructor(data, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data;\n    this.init = init || null;\n  }\n}\n/**\n * Create \"responses\" that contain `status`/`headers` without forcing\n * serialization into an actual `Response` - used by Remix single fetch\n */\nfunction data(data, init) {\n  return new DataWithResponseInit(data, typeof init === \"number\" ? {\n    status: init\n  } : init);\n}\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref3) => {\n      let [key, value] = _ref3;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n/**\n * A redirect response that will perform a `history.replaceState` instead of a\n * `history.pushState` for client-side navigation redirects.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n *\n * We don't export the class for public use since it's an implementation\n * detail, but we export the interface above so folks can build their own\n * abstractions around instances via isRouteErrorResponse()\n */\nclass ErrorResponseImpl {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nconst TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategy;\n  let patchRoutesOnNavigationImpl = init.patchRoutesOnNavigation;\n  // Config driven behavior flags\n  let future = _extends({\n    v7_fetcherPersist: false,\n    v7_normalizeFormMethod: false,\n    v7_partialHydration: false,\n    v7_prependBasename: false,\n    v7_relativeSplatPath: false,\n    v7_skipActionErrorRevalidation: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors = null;\n  if (initialMatches == null && !patchRoutesOnNavigationImpl) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  // In SPA apps, if the user provided a patchRoutesOnNavigation implementation and\n  // our initial match is a splat route, clear them out so we run through lazy\n  // discovery on hydration in case there's a more accurate lazy route match.\n  // In SSR apps (with `hydrationData`), we expect that the server will send\n  // up the proper matched routes so we don't want to run lazy discovery on\n  // initial hydration and want to hydrate into the splat route.\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    // If partial hydration and fog of war is enabled, we will be running\n    // `patchRoutesOnNavigation` during hydration so include any partial matches as\n    // the initial matches so we can properly render `HydrateFallback`'s\n    if (future.v7_partialHydration) {\n      let fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatches = fogOfWar.matches;\n      }\n    }\n  } else if (initialMatches.some(m => m.route.lazy)) {\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    initialized = false;\n  } else if (!initialMatches.some(m => m.route.loader)) {\n    // If we've got no loaders to run, then we're good to go\n    initialized = true;\n  } else if (future.v7_partialHydration) {\n    // If partial hydration is enabled, we're initialized so long as we were\n    // provided with hydrationData for every route with a loader, and no loaders\n    // were marked for explicit hydration\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    // If errors exist, don't consider routes below the boundary\n    if (errors) {\n      let idx = initialMatches.findIndex(m => errors[m.route.id] !== undefined);\n      initialized = initialMatches.slice(0, idx + 1).every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    }\n  } else {\n    // Without partial hydration - we're initialized if we were provided any\n    // hydrationData - which is expected to be complete\n    initialized = init.hydrationData != null;\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // Should the current navigation enable document.startViewTransition?\n  let pendingViewTransitionEnabled = false;\n  // Store applied view transitions so we can apply them on POP\n  let appliedViewTransitions = new Map();\n  // Cleanup function for persisting applied transitions to sessionStorage\n  let removePageHideEventListener = null;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = new Set();\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Ref-count mounted fetchers so we know when it's ok to clean them up\n  let activeFetchers = new Map();\n  // Fetchers that have requested a delete when using v7_fetcherPersist,\n  // they'll be officially removed after they return to idle\n  let deletedFetchers = new Set();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let unblockBlockerHistoryUpdate = undefined;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (unblockBlockerHistoryUpdate) {\n        unblockBlockerHistoryUpdate();\n        unblockBlockerHistoryUpdate = undefined;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        let nextHistoryUpdatePromise = new Promise(resolve => {\n          unblockBlockerHistoryUpdate = resolve;\n        });\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked, after the url\n            // restoration is also complete.  See:\n            // https://github.com/remix-run/react-router/issues/11613\n            nextHistoryUpdatePromise.then(() => init.history.go(delta));\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    if (isBrowser) {\n      // FIXME: This feels gross.  How can we cleanup the lines between\n      // scrollRestoration/appliedTransitions persistance?\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state = _extends({}, state, newState);\n    // Prep fetcher cleanup so we can tell the UI which fetcher data entries\n    // can be removed\n    let completedFetchers = [];\n    let deletedFetchersKeys = [];\n    if (future.v7_fetcherPersist) {\n      state.fetchers.forEach((fetcher, key) => {\n        if (fetcher.state === \"idle\") {\n          if (deletedFetchers.has(key)) {\n            // Unmounted from the UI and can be totally removed\n            deletedFetchersKeys.push(key);\n          } else {\n            // Returned to idle but still mounted in the UI, so semi-remains for\n            // revalidations and such\n            completedFetchers.push(key);\n          }\n        }\n      });\n    }\n    // Iterate over a local copy so that if flushSync is used and we end up\n    // removing and adding a new subscriber due to the useCallback dependencies,\n    // we don't get ourselves into a loop calling the new subscriber immediately\n    [...subscribers].forEach(subscriber => subscriber(state, {\n      deletedFetchers: deletedFetchersKeys,\n      viewTransitionOpts: opts.viewTransitionOpts,\n      flushSync: opts.flushSync === true\n    }));\n    // Remove idle fetchers from state since we only care about in-flight fetchers.\n    if (future.v7_fetcherPersist) {\n      completedFetchers.forEach(key => state.fetchers.delete(key));\n      deletedFetchersKeys.forEach(key => deleteFetcher(key));\n    }\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState, _temp) {\n    var _location$state, _location$state2;\n    let {\n      flushSync\n    } = _temp === void 0 ? {} : _temp;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    // Commit any in-flight routes at the end of the HMR revalidation \"navigation\"\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    // On POP, enable transitions if they were enabled on the original navigation\n    if (pendingAction === Action.Pop) {\n      // Forward takes precedence so they behave like the original navigation\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        // If we don't have a previous forward nav, assume we're popping back to\n        // the new location and enable if that location previously enabled\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      // Store the applied transition on PUSH/REPLACE\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }), {\n      viewTransitionOpts,\n      flushSync: flushSync === true\n    });\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, future.v7_relativeSplatPath, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation,\n      // Proxy through any rending view transition\n      enableViewTransition: pendingViewTransitionEnabled === true\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let {\n        error,\n        notFoundMatches,\n        route\n      } = handleNavigational404(location.pathname);\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      }, {\n        flushSync\n      });\n      return;\n    }\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial hydration will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      }, {\n        flushSync\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingActionResult = [findNearestBoundary(matches).route.id, {\n        type: ResultType.error,\n        error: opts.pendingError\n      }];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionResult = await handleAction(request, location, opts.submission, matches, fogOfWar.active, {\n        replace: opts.replace,\n        flushSync\n      });\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      // If we received a 404 from handleAction, it's because we couldn't lazily\n      // discover the destination route so we don't want to call loaders\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      // No need to do fog of war matching again on loader execution\n      fogOfWar.active = false;\n      // Create a GET request for the loaders\n      request = createClientSideRequest(init.history, request.url, request.signal);\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync, pendingActionResult);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches: updatedMatches || matches\n    }, getActionDataForCommit(pendingActionResult), {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, isFogOfWar, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    }, {\n      flushSync: opts.flushSync === true\n    });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [boundaryId, {\n            type: ResultType.error,\n            error: discoverResult.error\n          }]\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          notFoundMatches,\n          error,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [route.id, {\n            type: ResultType.error,\n            error\n          }]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", state, request, [actionMatch], matches, null);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        let location = normalizeRedirectLocation(result.response.headers.get(\"Location\"), new URL(request.url), basename);\n        replace = location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions to the current location are REPLACE\n      // navigations, but if the action threw an error that'll be rendered in\n      // an errorElement, we fall back to PUSH so that the user can use the\n      // back button to get back to the pre-submission form location to try\n      // again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace, initialHydration, flushSync, pendingActionResult) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    // If we have partialHydration enabled, then don't update the state for the\n    // initial data load since it's not a \"navigation\"\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && (!future.v7_partialHydration || !initialHydration);\n    // When fog of war is enabled, we enter our `loading` state earlier so we\n    // can discover new routes during the `loading` state.  We skip this if\n    // we've already run actions since we would have done our matching already.\n    // If the children() function threw then, we want to proceed with the\n    // partial matches it discovered.\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(_extends({\n          navigation: loadingNavigation\n        }, actionData !== undefined ? {\n          actionData\n        } : {}), {\n          flushSync\n        });\n      }\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          error,\n          notFoundMatches,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, future.v7_partialHydration && initialHydration === true, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null\n      }, getActionDataForCommit(pendingActionResult), updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}), {\n        flushSync\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        // Only update navigation/actionNData if we didn't already do it above\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== undefined) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, {\n        flushSync\n      });\n    }\n    revalidatingFetchers.forEach(rf => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    // Preserve SSR errors during partial hydration\n    if (future.v7_partialHydration && initialHydration && state.errors) {\n      errors = _extends({}, state.errors, errors);\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      matches,\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      // This is cast to `any` currently because `RouteData`uses any and it\n      // would be a breaking change to use any.\n      // TODO: v7 - change `RouteData` to use `unknown` instead of `any`\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach(rf => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, future.v7_relativeSplatPath, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }), {\n        flushSync\n      });\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error, {\n        flushSync\n      });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId: routeId\n        });\n        setFetcherError(key, routeId, error, {\n          flushSync\n        });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(requestMatches, path, fetchRequest.signal);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    // Call the action for the fetcher\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\"action\", state, fetchRequest, [match], requestMatches, key);\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    // When using v7_fetcherPersist, we don't want errors bubbling up to the UI\n    // or redirects processed for unmounted fetchers so we just revert them to\n    // idle\n    if (future.v7_fetcherPersist && deletedFetchers.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      }\n      // Let SuccessResult's fall through for revalidation\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          // A new navigation was kicked off after our action started, so that\n          // should take precedence over this redirect navigation.  We already\n          // set isRevalidationRequired so all loaders for the new route should\n          // fire unless opted out via shouldRevalidate\n          updateFetcherState(key, getDoneFetcher(undefined));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      // Process any non-redirect errors thrown\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, false, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, [match.route.id, actionResult]);\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, path, fetchRequest.signal);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    // Call the loader for this fetcher route match\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\"loader\", state, fetchRequest, [match], matches, key);\n    let result = results[match.route.id];\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // We don't want errors bubbling up or redirects followed for unmounted\n    // fetchers, so short circuit here if it was removed from the UI\n    if (deletedFetchers.has(key)) {\n      updateFetcherState(key, getDoneFetcher(undefined));\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(request, redirect, isNavigation, _temp2) {\n    let {\n      submission,\n      fetcherSubmission,\n      preventScrollReset,\n      replace\n    } = _temp2 === void 0 ? {} : _temp2;\n    if (redirect.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(location, new URL(request.url), basename);\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser) {\n      let isDocumentReload = false;\n      if (redirect.response.headers.has(\"X-Remix-Reload-Document\")) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload =\n        // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin ||\n        // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true || redirect.response.headers.has(\"X-Remix-Replace\") ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let {\n      formMethod,\n      formAction,\n      formEncType\n    } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: location\n        }),\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    } else {\n      // If we have a navigation submission, we will preserve it through the\n      // redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, submission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    }\n  }\n  // Utility wrapper for calling dataStrategy client-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, state, request, matchesToLoad, matches, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties);\n    } catch (e) {\n      // If the outer dataStrategy method throws, just return the error for all\n      // matches - and it'll naturally bubble to the root\n      matchesToLoad.forEach(m => {\n        dataResults[m.route.id] = {\n          type: ResultType.error,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: ResultType.redirect,\n          response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, future.v7_relativeSplatPath)\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(state, matches, matchesToLoad, fetchersToLoad, request) {\n    let currentMatches = state.matches;\n    // Kick off loaders and fetchers in parallel\n    let loaderResultsPromise = callDataStrategy(\"loader\", state, request, matchesToLoad, matches, null);\n    let fetcherResultsPromise = Promise.all(fetchersToLoad.map(async f => {\n      if (f.matches && f.match && f.controller) {\n        let results = await callDataStrategy(\"loader\", state, createClientSideRequest(init.history, f.path, f.controller.signal), [f.match], f.matches, f.key);\n        let result = results[f.match.route.id];\n        // Fetcher results are keyed by fetcher key from here on out, not routeId\n        return {\n          [f.key]: result\n        };\n      } else {\n        return Promise.resolve({\n          [f.key]: {\n            type: ResultType.error,\n            error: getInternalRouterError(404, {\n              pathname: f.path\n            })\n          }\n        });\n      }\n    }));\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce((acc, r) => Object.assign(acc, r), {});\n    await Promise.all([resolveNavigationDeferredResults(matches, loaderResults, request.signal, currentMatches, state.loaderData), resolveFetcherDeferredResults(matches, fetcherResults, fetchersToLoad)]);\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function setFetcherError(key, routeId, error, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function getFetcher(key) {\n    if (future.v7_fetcherPersist) {\n      activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n      // If this fetcher was previously marked for deletion, unmark it since we\n      // have a new instance\n      if (deletedFetchers.has(key)) {\n        deletedFetchers.delete(key);\n      }\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    deletedFetchers.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function deleteFetcherAndUpdateState(key) {\n    if (future.v7_fetcherPersist) {\n      let count = (activeFetchers.get(key) || 0) - 1;\n      if (count <= 0) {\n        activeFetchers.delete(key);\n        deletedFetchers.add(key);\n      } else {\n        activeFetchers.set(key, count);\n      }\n    } else {\n      deleteFetcher(key);\n    }\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, {\n      pathname\n    });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(routesToUse);\n    // Cancel all pending deferred on 404s since we don't keep any routes\n    cancelActiveDeferreds();\n    return {\n      notFoundMatches: matches,\n      route,\n      error\n    };\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => convertRouteMatchToUiMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (patchRoutesOnNavigationImpl) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n        return {\n          active: true,\n          matches: fogMatches || []\n        };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          // If we matched a dynamic param or a splat, it might only be because\n          // we haven't yet discovered other routes that would match with a\n          // higher score.  Call patchRoutesOnNavigation just to be sure\n          let partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n          return {\n            active: true,\n            matches: partialMatches\n          };\n        }\n      }\n    }\n    return {\n      active: false,\n      matches: null\n    };\n  }\n  async function discoverRoutes(matches, pathname, signal) {\n    if (!patchRoutesOnNavigationImpl) {\n      return {\n        type: \"success\",\n        matches\n      };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await patchRoutesOnNavigationImpl({\n          path: pathname,\n          matches: partialMatches,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties);\n          }\n        });\n      } catch (e) {\n        return {\n          type: \"error\",\n          error: e,\n          partialMatches\n        };\n      } finally {\n        // If we are not in the middle of an HMR revalidation and we changed the\n        // routes, provide a new identity so when we `updateState` at the end of\n        // this navigation/fetch `router.routes` will be a new identity and\n        // trigger a re-run of memoized `router.routes` dependencies.\n        // HMR will already update the identity and reflow when it lands\n        // `inFlightDataRoutes` in `completeNavigation`\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return {\n          type: \"aborted\"\n        };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return {\n          type: \"success\",\n          matches: newMatches\n        };\n      }\n      let newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n      // Avoid loops if the second pass results in the same partial matches\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every((m, i) => m.route.id === newPartialMatches[i].route.id)) {\n        return {\n          type: \"success\",\n          matches: null\n        };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties);\n    // If we are not in the middle of an HMR revalidation and we changed the\n    // routes, provide a new identity and trigger a reflow via `updateState`\n    // to re-run memoized `router.routes` dependencies.\n    // HMR will already update the identity and reflow when it lands\n    // `inFlightDataRoutes` in `completeNavigation`\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: deleteFetcherAndUpdateState,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Config driven behavior flags\n  let future = _extends({\n    v7_relativeSplatPath: false,\n    v7_throwAbortReason: false\n  }, opts ? opts.future : null);\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   *\n   * - `opts.requestContext` is an optional server context that will be passed\n   *   to actions/loaders in the `context` parameter\n   * - `opts.skipLoaderErrorBubbling` is an optional parameter that will prevent\n   *   the bubbling of errors which allows single-fetch-type implementations\n   *   where the client will handle the bubbling and we may need to return data\n   *   for the handling route\n   */\n  async function query(request, _temp3) {\n    let {\n      requestContext,\n      skipLoaderErrorBubbling,\n      dataStrategy\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   *\n   * - `opts.routeId` allows you to specify the specific route handler to call.\n   *   If not provided the handler will determine the proper route by matching\n   *   against `request.url`\n   * - `opts.requestContext` is an optional server context that will be passed\n   *    to actions/loaders in the `context` parameter\n   */\n  async function queryRoute(request, _temp4) {\n    let {\n      routeId,\n      requestContext,\n      dataStrategy\n    } = _temp4 === void 0 ? {} : _temp4;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, false, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction for a\n      // `queryRoute` call, we throw the `DataStrategyResult` to bail out early\n      // and then return or throw the raw Response here accordingly\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === ResultType.error) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", request, [actionMatch], matches, isRouteRequest, requestContext, dataStrategy);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest, future);\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, [boundaryMatch.route.id, result]);\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null);\n    return _extends({}, context, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      }\n    }, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionHeaders: result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {}\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await callDataStrategy(\"loader\", request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy);\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest, future);\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  // Utility wrapper for calling dataStrategy server-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(dataStrategy || defaultDataStrategy, type, null, request, matchesToLoad, matches, null, manifest, mapRouteProperties, requestContext);\n    let dataResults = {};\n    await Promise.all(matches.map(async match => {\n      if (!(match.route.id in results)) {\n        return;\n      }\n      let result = results[match.route.id];\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        // Throw redirects and let the server handle them with an HTTP redirect\n        throw normalizeRelativeRoutingRedirectResponse(response, request, match.route.id, matches, basename, future.v7_relativeSplatPath);\n      }\n      if (isResponse(result.result) && isRouteRequest) {\n        // For SSR single-route requests, we want to hand Responses back\n        // directly without unwrapping\n        throw result;\n      }\n      dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n    }));\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest, future) {\n  if (future.v7_throwAbortReason && request.signal.reason !== undefined) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(method + \"() call aborted: \" + request.method + \" \" + request.url);\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, v7_relativeSplatPath, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getResolveToMatches(contextualMatches, v7_relativeSplatPath), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Account for `?index` params when routing to the current location\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      // Add one when we're targeting an index route\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      // Remove existing ones when we're not\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes at/below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary) {\n  if (includeBoundary === void 0) {\n    includeBoundary = false;\n  }\n  let index = matches.findIndex(m => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    // On initial hydration, only consider matches up to _and including_ the boundary.\n    // This is inclusive to handle cases where a server loader ran successfully,\n    // a child server loader bubbled up to this route, but this route has\n    // `clientLoader.hydrate` so we want to still run the `clientLoader` so that\n    // we have a complete version of `loaderData`\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, Object.keys(state.errors)[0], true);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    // If an action threw an error, we call loaders up to, but not including the\n    // boundary\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]);\n  }\n  // Don't revalidate loaders by default after action 4xx/5xx responses\n  // when the flag is enabled.  They can still opt-into revalidation via\n  // `shouldRevalidate` via `actionResult`\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : undefined;\n  let shouldSkipRevalidation = skipActionErrorRevalidation && actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let {\n      route\n    } = match;\n    if (route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false :\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate:\n    //  - on initial hydration (shouldn't be any fetchers then anyway)\n    //  - if fetcher won't be present in the subsequent render\n    //    - no longer matches the URL (v7_fetcherPersist=false)\n    //    - was unmounted but persisted due to v7_fetcherPersist=true\n    if (initialHydration || !matches.some(m => m.route.id === f.routeId) || deletedFetchers.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      // Always mark for revalidation if the fetcher was cancelled\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  // We dunno if we have a loader - gotta find out!\n  if (route.lazy) {\n    return true;\n  }\n  // No loader, nothing to initialize\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== undefined;\n  let hasError = errors != null && errors[route.id] !== undefined;\n  // Don't run if we error'd during SSR\n  if (!hasData && hasError) {\n    return false;\n  }\n  // Explicitly opting-in to running on hydration\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  // Otherwise, run if we're not yet initialized with anything\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties) {\n  var _childrenToPatch;\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(route, \"No route found to patch children into: routeId = \" + routeId);\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  // Don't patch in routes we already know about so that `patch` is idempotent\n  // to simplify user-land code. This is useful because we re-call the\n  // `patchRoutesOnNavigation` function for matched routes with params.\n  let uniqueChildren = children.filter(newRoute => !childrenToPatch.some(existingRoute => isSameRoute(newRoute, existingRoute)));\n  let newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties, [routeId || \"_\", \"patch\", String(((_childrenToPatch = childrenToPatch) == null ? void 0 : _childrenToPatch.length) || \"0\")], manifest);\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  // Most optimal check is by id\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  // Second is by pathing differences\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  // Pathless layout routes are trickier since we need to check children.\n  // If they have no children then they're the same as far as we can tell\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  // Otherwise, we look to see if every child in the new route is already\n  // represented in the existing route's children\n  return newRoute.children.every((aChild, i) => {\n    var _existingRoute$childr;\n    return (_existingRoute$childr = existingRoute.children) == null ? void 0 : _existingRoute$childr.some(bChild => isSameRoute(aChild, bChild));\n  });\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\n// Default implementation of `dataStrategy` which fetches all loaders in parallel\nasync function defaultDataStrategy(_ref4) {\n  let {\n    matches\n  } = _ref4;\n  let matchesToLoad = matches.filter(m => m.shouldLoad);\n  let results = await Promise.all(matchesToLoad.map(m => m.resolve()));\n  return results.reduce((acc, result, i) => Object.assign(acc, {\n    [matchesToLoad[i].route.id]: result\n  }), {});\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties, requestContext) {\n  let loadRouteDefinitionsPromises = matches.map(m => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties, manifest) : undefined);\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some(m => m.route.id === match.route.id);\n    // `resolve` encapsulates route.lazy(), executing the loader/action,\n    // and mapping return values/thrown errors to a `DataStrategyResult`.  Users\n    // can pass a callback to take fine-grained control over the execution\n    // of the loader/action\n    let resolve = async handlerOverride => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, requestContext) : Promise.resolve({\n        type: ResultType.data,\n        result: undefined\n      });\n    };\n    return _extends({}, match, {\n      shouldLoad,\n      resolve\n    });\n  });\n  // Send all matches here to allow for a middleware-type implementation.\n  // handler will be a no-op for unneeded routes and we filter those results\n  // back out below.\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: requestContext\n  });\n  // Wait for all routes to load here but 'swallow the error since we want\n  // it to bubble up from the `await loadRoutePromise` in `callLoaderOrAction` -\n  // called from `match.resolve()`\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n    // No-op\n  }\n  return results;\n}\n// Default logic for calling a loader/action is the user has no specified a dataStrategy\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, staticContext) {\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    // This will never resolve so safe to type it as Promise<DataStrategyResult> to\n    // satisfy the function return value\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = ctx => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(new Error(\"You cannot call the handler for a route which defines a boolean \" + (\"\\\"\" + type + \"\\\" [routeId: \" + match.route.id + \"]\")));\n      }\n      return handler({\n        request,\n        params: match.params,\n        context: staticContext\n      }, ...(ctx !== undefined ? [ctx] : []));\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride(ctx => actualHandler(ctx)) : actualHandler());\n        return {\n          type: \"data\",\n          result: val\n        };\n      } catch (e) {\n        return {\n          type: \"error\",\n          result: e\n        };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    // If we have a route.lazy promise, await that first\n    if (loadRoutePromise) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let handlerError;\n        let [value] = await Promise.all([\n        // If the handler throws, don't let it immediately bubble out,\n        // since we need to let the lazy() execution finish so we know if this\n        // route has a boundary that can handle the error\n        runHandler(handler).catch(e => {\n          handlerError = e;\n        }), loadRoutePromise]);\n        if (handlerError !== undefined) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          // Handler still runs even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            result: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result.result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    // We should already be catching and converting normal handler executions to\n    // DataStrategyResults and returning them, so anything that throws here is an\n    // unexpected error we still need to wrap\n    return {\n      type: ResultType.error,\n      result: e\n    };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let {\n    result,\n    type\n  } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      // Check between word boundaries instead of startsWith() due to the last\n      // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data = null;\n        } else {\n          data = await result.json();\n        }\n      } else {\n        data = await result.text();\n      }\n    } catch (e) {\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n    if (type === ResultType.error) {\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(result.status, result.statusText, data),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === ResultType.error) {\n    if (isDataWithResponseInit(result)) {\n      var _result$init2;\n      if (result.data instanceof Error) {\n        var _result$init;\n        return {\n          type: ResultType.error,\n          error: result.data,\n          statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status\n        };\n      }\n      // Convert thrown data() to ErrorResponse instances\n      result = new ErrorResponseImpl(((_result$init2 = result.init) == null ? void 0 : _result$init2.status) || 500, undefined, result.data);\n    }\n    return {\n      type: ResultType.error,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : undefined\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init3, _result$init4;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init3 = result.init) == null ? void 0 : _result$init3.status,\n      headers: ((_result$init4 = result.init) == null ? void 0 : _result$init4.headers) && new Headers(result.init.headers)\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    var _result$init5, _result$init6;\n    return {\n      type: ResultType.data,\n      data: result.data,\n      statusCode: (_result$init5 = result.init) == null ? void 0 : _result$init5.status,\n      headers: (_result$init6 = result.init) != null && _result$init6.headers ? new Headers(result.init.headers) : undefined\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Support relative routing in internal redirects\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, v7_relativeSplatPath) {\n  let location = response.headers.get(\"Location\");\n  invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1);\n    location = normalizeTo(new URL(request.url), trimmedMatches, basename, true, location, v7_relativeSplatPath);\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    // Strip off the protocol+origin for same-origin + same-basename absolute redirects\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : undefined;\n  // Process loader results into state.loaderData/state.errors\n  matches.forEach(match => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError !== undefined) {\n        error = pendingError;\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        // Look upwards from the matched route for the closest ancestor error\n        // boundary, defaulting to the root match.  Prefer higher error values\n        // if lower errors bubble to the same boundary\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      } else {\n        loaderData[id] = result.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError !== undefined && pendingActionResult) {\n    errors = {\n      [pendingActionResult[0]]: pendingError\n    };\n    loaderData[pendingActionResult[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, false // This method is only called client side so we always want to bubble\n  );\n  // Process results from our revalidating fetchers\n  revalidatingFetchers.forEach(rf => {\n    let {\n      key,\n      match,\n      controller\n    } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.length === 1 ? routes[0] : routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp5) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type,\n    message\n  } = _temp5 === void 0 ? {} : _temp5;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return {\n        key,\n        result\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === ResultType.data || result.type === ResultType.error);\n}\nfunction isRedirectDataStrategyResultResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveNavigationDeferredResults(matches, results, signal, currentMatches, currentLoaderData) {\n  let entries = Object.entries(results);\n  for (let index = 0; index < entries.length; index++) {\n    let [routeId, result] = entries[index];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && isRevalidatingLoader) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      await resolveDeferredData(result, signal, false).then(result => {\n        if (result) {\n          results[routeId] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveFetcherDeferredResults(matches, results, revalidatingFetchers) {\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      routeId,\n      controller\n    } = revalidatingFetchers[index];\n    let result = results[key];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    if (isDeferredResult(result)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      invariant(controller, \"Expected an AbortController for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, controller.signal, true).then(result => {\n        if (result) {\n          results[key] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n    // no-op, use default empty object\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json));\n    } catch (error) {\n      warning(false, \"Failed to save applied view transitions in sessionStorage (\" + error + \").\");\n    }\n  }\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, ErrorResponseImpl as UNSAFE_ErrorResponseImpl, convertRouteMatchToUiMatch as UNSAFE_convertRouteMatchToUiMatch, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, decodePath as UNSAFE_decodePath, getResolveToMatches as UNSAFE_getResolveToMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, data, defer, generatePath, getStaticContextFromError, getToPathname, isDataWithResponseInit, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, redirectDocument, replace, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","/**\n * React Router v6.27.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_invariant, joinPaths, matchPath, UNSAFE_decodePath, UNSAFE_getResolveToMatches, UNSAFE_warning, resolveTo, parsePath, matchRoutes, Action, UNSAFE_convertRouteMatchToUiMatch, stripBasename, IDLE_BLOCKER, isRouteErrorResponse, createMemoryHistory, AbortedDeferredError, createRouter } from '@remix-run/router';\nexport { AbortedDeferredError, Action as NavigationType, createPath, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, replace, resolvePath } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst DataRouterContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterContext.displayName = \"DataRouter\";\n}\nconst DataRouterStateContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\nconst AwaitContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  AwaitContext.displayName = \"Await\";\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level `<Router>` API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\n\nconst NavigationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  NavigationContext.displayName = \"Navigation\";\n}\nconst LocationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  LocationContext.displayName = \"Location\";\n}\nconst RouteContext = /*#__PURE__*/React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  RouteContext.displayName = \"Route\";\n}\nconst RouteErrorContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nfunction useHref(to, _temp) {\n  let {\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useHref() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    hash,\n    pathname,\n    search\n  } = useResolvedPath(to, {\n    relative\n  });\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({\n    pathname: joinedPathname,\n    search,\n    hash\n  });\n}\n\n/**\n * Returns true if this component is a descendant of a `<Router>`.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nfunction useInRouterContext() {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nfunction useLocation() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useLocation() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nfunction useNavigationType() {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * `<NavLink>`.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nfunction useMatch(pattern) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useMatch() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    pathname\n  } = useLocation();\n  return React.useMemo(() => matchPath(pattern, UNSAFE_decodePath(pathname)), [pathname, pattern]);\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\n\nconst navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when \" + \"your component is first rendered.\";\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by `<Link>`s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nfunction useNavigate() {\n  let {\n    isDataRoute\n  } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useNavigate() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let {\n    basename,\n    future,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our history listener yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      navigator.go(to);\n      return;\n    }\n    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to handing off to history (but only if we're not in a data router,\n    // otherwise it'll prepend the basename inside of the router).\n    // If this is a root navigation, then we navigate to the raw basename\n    // which allows the basename to have full control over the presence of a\n    // trailing slash on root links\n    if (dataRouterContext == null && basename !== \"/\") {\n      path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n    }\n    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);\n  return navigate;\n}\nconst OutletContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nfunction useOutletContext() {\n  return React.useContext(OutletContext);\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by `<Outlet>` to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nfunction useOutlet(context) {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /*#__PURE__*/React.createElement(OutletContext.Provider, {\n      value: context\n    }, outlet);\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nfunction useParams() {\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nfunction useResolvedPath(to, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    future\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [to, routePathnamesJson, locationPathname, relative]);\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an `<Outlet>` to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useRoutes() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches: parentMatches\n  } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (process.env.NODE_ENV !== \"production\") {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(parentPathname, !parentRoute || parentPath.endsWith(\"*\"), \"You rendered descendant <Routes> (or called `useRoutes()`) at \" + (\"\\\"\" + parentPathname + \"\\\" (under <Route path=\\\"\" + parentPath + \"\\\">) but the \") + \"parent route path has no trailing \\\"*\\\". This means if you navigate \" + \"deeper, the parent won't match anymore and therefore the child \" + \"routes will never render.\\n\\n\" + (\"Please change the parent <Route path=\\\"\" + parentPath + \"\\\"> to <Route \") + (\"path=\\\"\" + (parentPath === \"/\" ? \"*\" : parentPath + \"/*\") + \"\\\">.\"));\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    var _parsedLocationArg$pa;\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, \" + \"the location pathname must begin with the portion of the URL pathname that was \" + (\"matched by all parent routes. The current pathname base is \\\"\" + parentPathnameBase + \"\\\" \") + (\"but pathname \\\"\" + parsedLocationArg.pathname + \"\\\" was given in the `location` prop.\")) : UNSAFE_invariant(false) : void 0;\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    // Determine the remaining pathname by removing the # of URL segments the\n    // parentPathnameBase has, instead of removing based on character count.\n    // This is because we can't guarantee that incoming/outgoing encodings/\n    // decodings will match exactly.\n    // We decode paths before matching on a per-segment basis with\n    // decodeURIComponent(), but we re-encode pathnames via `new URL()` so they\n    // match what `window.location.pathname` would reflect.  Those don't 100%\n    // align when it comes to encoded URI characters such as % and &.\n    //\n    // So we may end up with:\n    //   pathname:           \"/descendant/a%25b/match\"\n    //   parentPathnameBase: \"/descendant/a%b\"\n    //\n    // And the direct substring removal approach won't work :/\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, {\n    pathname: remainingPathname\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(parentRoute || matches != null, \"No routes matched location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \") : void 0;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined || matches[matches.length - 1].route.lazy !== undefined, \"Matched leaf route at location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \" + \"does not have an element or Component. This means it will render an <Outlet /> with a \" + \"null value by default resulting in an \\\"empty\\\" page.\") : void 0;\n  }\n  let renderedMatches = _renderMatches(matches && matches.map(match => Object.assign({}, match, {\n    params: Object.assign({}, parentParams, match.params),\n    pathname: joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),\n    pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])\n  })), parentMatches, dataRouterState, future);\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return /*#__PURE__*/React.createElement(LocationContext.Provider, {\n      value: {\n        location: _extends({\n          pathname: \"/\",\n          search: \"\",\n          hash: \"\",\n          state: null,\n          key: \"default\"\n        }, location),\n        navigationType: Action.Pop\n      }\n    }, renderedMatches);\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = {\n    padding: \"0.5rem\",\n    backgroundColor: lightgrey\n  };\n  let codeStyles = {\n    padding: \"2px 4px\",\n    backgroundColor: lightgrey\n  };\n  let devInfo = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error(\"Error handled by React Router default ErrorBoundary:\", error);\n    devInfo = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"\\uD83D\\uDCBF Hey developer \\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"ErrorBoundary\"), \" or\", \" \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontStyle: \"italic\"\n    }\n  }, message), stack ? /*#__PURE__*/React.createElement(\"pre\", {\n    style: preStyles\n  }, stack) : null, devInfo);\n}\nconst defaultErrorElement = /*#__PURE__*/React.createElement(DefaultErrorComponent, null);\nclass RenderErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error !== undefined ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"React Router caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    return this.state.error !== undefined ? /*#__PURE__*/React.createElement(RouteContext.Provider, {\n      value: this.props.routeContext\n    }, /*#__PURE__*/React.createElement(RouteErrorContext.Provider, {\n      value: this.state.error,\n      children: this.props.component\n    })) : this.props.children;\n  }\n}\nfunction RenderedRoute(_ref) {\n  let {\n    routeContext,\n    match,\n    children\n  } = _ref;\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /*#__PURE__*/React.createElement(RouteContext.Provider, {\n    value: routeContext\n  }, children);\n}\nfunction _renderMatches(matches, parentMatches, dataRouterState, future) {\n  var _dataRouterState;\n  if (parentMatches === void 0) {\n    parentMatches = [];\n  }\n  if (dataRouterState === void 0) {\n    dataRouterState = null;\n  }\n  if (future === void 0) {\n    future = null;\n  }\n  if (matches == null) {\n    var _future;\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches;\n    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      // Don't bail if we're initializing with partial hydration and we have\n      // router matches.  That means we're actively running `patchRoutesOnNavigation`\n      // so we should render down the partial matches to the appropriate\n      // `HydrateFallback`.  We only do this if `parentMatches` is empty so it\n      // only impacts the root matches for `RouterProvider` and no descendant\n      // `<Routes>`\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(m => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== undefined);\n    !(errorIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"Could not find a matching route for errors on route IDs: \" + Object.keys(errors).join(\",\")) : UNSAFE_invariant(false) : void 0;\n    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n  }\n\n  // If we're in a partial hydration mode, detect if we need to render down to\n  // a given HydrateFallback while we load the rest of the hydration data\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState && future && future.v7_partialHydration) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      // Track the deepest fallback up until the first route without data\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let {\n          loaderData,\n          errors\n        } = dataRouterState;\n        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === undefined && (!errors || errors[match.route.id] === undefined);\n        if (match.route.lazy || needsToRunLoader) {\n          // We found the first route that's not ready to render (waiting on\n          // lazy, or has a loader that hasn't run yet).  Flag that we need to\n          // render a fallback and render up until the appropriate fallback\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    // Only data routers handle errors/fallbacks\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : undefined;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\"route-fallback\", false, \"No `HydrateFallback` element provided to render during initial hydration\");\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = /*#__PURE__*/React.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /*#__PURE__*/React.createElement(RenderedRoute, {\n        match: match,\n        routeContext: {\n          outlet,\n          matches,\n          isDataRoute: dataRouterState != null\n        },\n        children: children\n      });\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/React.createElement(RenderErrorBoundary, {\n      location: dataRouterState.location,\n      revalidation: dataRouterState.revalidation,\n      component: errorElement,\n      error: error,\n      children: getChildren(),\n      routeContext: {\n        outlet: null,\n        matches,\n        isDataRoute: true\n      }\n    }) : getChildren();\n  }, null);\n}\nvar DataRouterHook = /*#__PURE__*/function (DataRouterHook) {\n  DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n  return DataRouterHook;\n}(DataRouterHook || {});\nvar DataRouterStateHook = /*#__PURE__*/function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n  DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n  DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n  DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n  DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n  DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n  DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n  DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n  return DataRouterStateHook;\n}(DataRouterStateHook || {});\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  !thisRoute.route.id ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, hookName + \" can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nfunction useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nfunction useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(() => ({\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation\n  }), [dataRouterContext.router.revalidate, state.revalidation]);\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nfunction useMatches() {\n  let {\n    matches,\n    loaderData\n  } = useDataRouterState(DataRouterStateHook.UseMatches);\n  return React.useMemo(() => matches.map(m => UNSAFE_convertRouteMatchToUiMatch(m, loaderData)), [matches, loaderData]);\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nfunction useLoaderData() {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nfunction useActionData() {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  return state.actionData ? state.actionData[routeId] : undefined;\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nfunction useRouteError() {\n  var _state$errors;\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error !== undefined) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor `<Await />` value\n */\nfunction useAsyncValue() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._data;\n}\n\n/**\n * Returns the error from the nearest ancestor `<Await />` value\n */\nfunction useAsyncError() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._error;\n}\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nfunction useBlocker(shouldBlock) {\n  let {\n    router,\n    basename\n  } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback(arg => {\n    if (typeof shouldBlock !== \"function\") {\n      return !!shouldBlock;\n    }\n    if (basename === \"/\") {\n      return shouldBlock(arg);\n    }\n\n    // If they provided us a function and we've got an active basename, strip\n    // it from the locations we expose to the user to match the behavior of\n    // useLocation\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = arg;\n    return shouldBlock({\n      currentLocation: _extends({}, currentLocation, {\n        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n      }),\n      nextLocation: _extends({}, nextLocation, {\n        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n      }),\n      historyAction\n    });\n  }, [basename, shouldBlock]);\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our router subscriber yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      router.navigate(to);\n    } else {\n      router.navigate(to, _extends({\n        fromRouteId: id\n      }, options));\n    }\n  }, [router, id]);\n  return navigate;\n}\nconst alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, message) : void 0;\n  }\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    if (v7_startTransition && startTransitionImpl) {\n      startTransitionImpl(() => setStateImpl(newState));\n    } else {\n      setStateImpl(newState);\n    }\n  }, [setStateImpl, v7_startTransition]);\n\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: {\n      v7_relativeSplatPath: router.future.v7_relativeSplatPath\n    }\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(DataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))), null);\n}\nfunction DataRoutes(_ref2) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref2;\n  return useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nfunction MemoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    initialEntries,\n    initialIndex,\n    future\n  } = _ref3;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nfunction Navigate(_ref4) {\n  let {\n    to,\n    replace,\n    state,\n    relative\n  } = _ref4;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of\n  // the router loaded. We can help them understand how to avoid that.\n  \"<Navigate> may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    future,\n    static: isStatic\n  } = React.useContext(NavigationContext);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(!isStatic, \"<Navigate> must not be used on the initial render in a <StaticRouter>. \" + \"This is a no-op, but you should modify your code so the <Navigate> is \" + \"only ever rendered in response to some user interaction or state change.\") : void 0;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(to, UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === \"path\");\n  let jsonPath = JSON.stringify(path);\n  React.useEffect(() => navigate(JSON.parse(jsonPath), {\n    replace,\n    state,\n    relative\n  }), [navigate, jsonPath, relative, replace, state]);\n  return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nfunction Route(_props) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"A <Route> is only ever to be used as the child of <Routes> element, \" + \"never rendered directly. Please wrap your <Route> in a <Routes>.\") : UNSAFE_invariant(false) ;\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a `<Router>` directly. Instead, you'll render a\n * router that is more specific to your environment such as a `<BrowserRouter>`\n * in web browsers or a `<StaticRouter>` for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nfunction Router(_ref5) {\n  let {\n    basename: basenameProp = \"/\",\n    children = null,\n    location: locationProp,\n    navigationType = Action.Pop,\n    navigator,\n    static: staticProp = false,\n    future\n  } = _ref5;\n  !!useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"You cannot render a <Router> inside another <Router>.\" + \" You should never have more than one in your app.\") : UNSAFE_invariant(false) : void 0;\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(() => ({\n    basename,\n    navigator,\n    static: staticProp,\n    future: _extends({\n      v7_relativeSplatPath: false\n    }, future)\n  }), [basename, future, navigator, staticProp]);\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(locationContext != null, \"<Router basename=\\\"\" + basename + \"\\\"> is not able to match the URL \" + (\"\\\"\" + pathname + search + hash + \"\\\" because it does not start with the \") + \"basename, so the <Router> won't render anything.\") : void 0;\n  if (locationContext == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigationContext\n  }, /*#__PURE__*/React.createElement(LocationContext.Provider, {\n    children: children,\n    value: locationContext\n  }));\n}\n/**\n * A container for a nested tree of `<Route>` elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nfunction Routes(_ref6) {\n  let {\n    children,\n    location\n  } = _ref6;\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nfunction Await(_ref7) {\n  let {\n    children,\n    errorElement,\n    resolve\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(AwaitErrorBoundary, {\n    resolve: resolve,\n    errorElement: errorElement\n  }, /*#__PURE__*/React.createElement(ResolveAwait, null, children));\n}\nvar AwaitRenderStatus = /*#__PURE__*/function (AwaitRenderStatus) {\n  AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n  AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n  AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n  return AwaitRenderStatus;\n}(AwaitRenderStatus || {});\nconst neverSettledPromise = new Promise(() => {});\nclass AwaitErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"<Await> caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    let {\n      children,\n      errorElement,\n      resolve\n    } = this.props;\n    let promise = null;\n    let status = AwaitRenderStatus.pending;\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_data\", {\n        get: () => resolve\n      });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_error\", {\n        get: () => renderError\n      });\n    } else if (resolve._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status = \"_error\" in promise ? AwaitRenderStatus.error : \"_data\" in promise ? AwaitRenderStatus.success : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", {\n        get: () => true\n      });\n      promise = resolve.then(data => Object.defineProperty(resolve, \"_data\", {\n        get: () => data\n      }), error => Object.defineProperty(resolve, \"_error\", {\n        get: () => error\n      }));\n    }\n    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: errorElement\n      });\n    }\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: children\n      });\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on `<Await>`\n */\nfunction ResolveAwait(_ref8) {\n  let {\n    children\n  } = _ref8;\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, toRender);\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nfunction createRoutesFromChildren(children, parentPath) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  let routes = [];\n  React.Children.forEach(children, (element, index) => {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));\n      return;\n    }\n    !(element.type === Route) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"[\" + (typeof element.type === \"string\" ? element.type : element.type.name) + \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\") : UNSAFE_invariant(false) : void 0;\n    !(!element.props.index || !element.props.children) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"An index route cannot have child routes.\") : UNSAFE_invariant(false) : void 0;\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children, treePath);\n    }\n    routes.push(route);\n  });\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.element) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `Component` and `element` on your route - \" + \"`Component` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      element: /*#__PURE__*/React.createElement(route.Component),\n      Component: undefined\n    });\n  }\n  if (route.HydrateFallback) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.hydrateFallbackElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - \" + \"`HydrateFallback` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: /*#__PURE__*/React.createElement(route.HydrateFallback),\n      HydrateFallback: undefined\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.errorElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" + \"`ErrorBoundary` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      errorElement: /*#__PURE__*/React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createMemoryHistory({\n      initialEntries: opts == null ? void 0 : opts.initialEntries,\n      initialIndex: opts == null ? void 0 : opts.initialIndex\n    }),\n    hydrationData: opts == null ? void 0 : opts.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation\n  }).initialize();\n}\n\nexport { Await, MemoryRouter, Navigate, Outlet, Route, Router, RouterProvider, Routes, DataRouterContext as UNSAFE_DataRouterContext, DataRouterStateContext as UNSAFE_DataRouterStateContext, LocationContext as UNSAFE_LocationContext, NavigationContext as UNSAFE_NavigationContext, RouteContext as UNSAFE_RouteContext, mapRouteProperties as UNSAFE_mapRouteProperties, useRouteId as UNSAFE_useRouteId, useRoutesImpl as UNSAFE_useRoutesImpl, createMemoryRouter, createRoutesFromChildren, createRoutesFromChildren as createRoutesFromElements, renderMatches, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes };\n//# sourceMappingURL=index.js.map\n","/**\n * React Router DOM v6.27.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { UNSAFE_mapRouteProperties, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, Router, UNSAFE_useRoutesImpl, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, useBlocker } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, replace, resolvePath, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, UNSAFE_ErrorResponseImpl, UNSAFE_invariant, joinPaths, IDLE_FETCHER, matchPath } from '@remix-run/router';\nexport { UNSAFE_ErrorResponseImpl } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\", \"viewTransition\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"viewTransition\", \"children\"],\n  _excluded3 = [\"fetcherKey\", \"navigate\", \"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"relative\", \"preventScrollReset\", \"viewTransition\"];\n// HEY YOU! DON'T TOUCH THIS VARIABLE!\n//\n// It is replaced with the proper version at build time via a babel plugin in\n// the rollup config.\n//\n// Export a global property onto the window for React Router detection by the\n// Core Web Vitals Technology Report.  This way they can configure the `wappalyzer`\n// to detect and properly classify live websites as being built with React Router:\n// https://github.com/HTTPArchive/wappalyzer/blob/main/src/technologies/r.json\nconst REACT_ROUTER_VERSION = \"6\";\ntry {\n  window.__reactRouterVersion = REACT_ROUTER_VERSION;\n} catch (e) {\n  // no-op\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new UNSAFE_ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nconst ViewTransitionContext = /*#__PURE__*/React.createContext({\n  isTransitioning: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  ViewTransitionContext.displayName = \"ViewTransition\";\n}\nconst FetchersContext = /*#__PURE__*/React.createContext(new Map());\nif (process.env.NODE_ENV !== \"production\") {\n  FetchersContext.displayName = \"Fetchers\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\nconst FLUSH_SYNC = \"flushSync\";\nconst flushSyncImpl = ReactDOM[FLUSH_SYNC];\nconst USE_ID = \"useId\";\nconst useIdImpl = React[USE_ID];\nfunction startTransitionSafe(cb) {\n  if (startTransitionImpl) {\n    startTransitionImpl(cb);\n  } else {\n    cb();\n  }\n}\nfunction flushSyncSafe(cb) {\n  if (flushSyncImpl) {\n    flushSyncImpl(cb);\n  } else {\n    cb();\n  }\n}\nclass Deferred {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = value => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = reason => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n}\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let [pendingState, setPendingState] = React.useState();\n  let [vtContext, setVtContext] = React.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React.useState();\n  let [transition, setTransition] = React.useState();\n  let [interruption, setInterruption] = React.useState();\n  let fetcherData = React.useRef(new Map());\n  let {\n    v7_startTransition\n  } = future || {};\n  let optInStartTransition = React.useCallback(cb => {\n    if (v7_startTransition) {\n      startTransitionSafe(cb);\n    } else {\n      cb();\n    }\n  }, [v7_startTransition]);\n  let setState = React.useCallback((newState, _ref2) => {\n    let {\n      deletedFetchers,\n      flushSync: flushSync,\n      viewTransitionOpts: viewTransitionOpts\n    } = _ref2;\n    deletedFetchers.forEach(key => fetcherData.current.delete(key));\n    newState.fetchers.forEach((fetcher, key) => {\n      if (fetcher.data !== undefined) {\n        fetcherData.current.set(key, fetcher.data);\n      }\n    });\n    let isViewTransitionUnavailable = router.window == null || router.window.document == null || typeof router.window.document.startViewTransition !== \"function\";\n    // If this isn't a view transition or it's not available in this browser,\n    // just update and be done with it\n    if (!viewTransitionOpts || isViewTransitionUnavailable) {\n      if (flushSync) {\n        flushSyncSafe(() => setStateImpl(newState));\n      } else {\n        optInStartTransition(() => setStateImpl(newState));\n      }\n      return;\n    }\n    // flushSync + startViewTransition\n    if (flushSync) {\n      // Flush through the context to mark DOM elements as transition=ing\n      flushSyncSafe(() => {\n        // Cancel any pending transitions\n        if (transition) {\n          renderDfd && renderDfd.resolve();\n          transition.skipTransition();\n        }\n        setVtContext({\n          isTransitioning: true,\n          flushSync: true,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      });\n      // Update the DOM\n      let t = router.window.document.startViewTransition(() => {\n        flushSyncSafe(() => setStateImpl(newState));\n      });\n      // Clean up after the animation completes\n      t.finished.finally(() => {\n        flushSyncSafe(() => {\n          setRenderDfd(undefined);\n          setTransition(undefined);\n          setPendingState(undefined);\n          setVtContext({\n            isTransitioning: false\n          });\n        });\n      });\n      flushSyncSafe(() => setTransition(t));\n      return;\n    }\n    // startTransition + startViewTransition\n    if (transition) {\n      // Interrupting an in-progress transition, cancel and let everything flush\n      // out, and then kick off a new transition from the interruption state\n      renderDfd && renderDfd.resolve();\n      transition.skipTransition();\n      setInterruption({\n        state: newState,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    } else {\n      // Completed navigation update with opted-in view transitions, let 'er rip\n      setPendingState(newState);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    }\n  }, [router.window, transition, renderDfd, fetcherData, optInStartTransition]);\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  // When we start a view transition, create a Deferred we can use for the\n  // eventual \"completed\" render\n  React.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  // Once the deferred is created, kick off startViewTransition() to update the\n  // DOM and then wait on the Deferred to resolve (indicating the DOM update has\n  // happened)\n  React.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition = router.window.document.startViewTransition(async () => {\n        optInStartTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition.finished.finally(() => {\n        setRenderDfd(undefined);\n        setTransition(undefined);\n        setPendingState(undefined);\n        setVtContext({\n          isTransitioning: false\n        });\n      });\n      setTransition(transition);\n    }\n  }, [optInStartTransition, pendingState, renderDfd, router.window]);\n  // When the new location finally renders and is committed to the DOM, this\n  // effect will run to resolve the transition\n  React.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  // If we get interrupted with a new navigation during a transition, we skip\n  // the active transition, let it cleanup, then kick it off again here\n  React.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(undefined);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  let routerFuture = React.useMemo(() => ({\n    v7_relativeSplatPath: router.future.v7_relativeSplatPath\n  }), [router.future.v7_relativeSplatPath]);\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UNSAFE_DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(UNSAFE_DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(FetchersContext.Provider, {\n    value: fetcherData.current\n  }, /*#__PURE__*/React.createElement(ViewTransitionContext.Provider, {\n    value: vtContext\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: routerFuture\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(MemoizedDataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))))), null);\n}\n// Memoize to avoid re-renders when updating `ViewTransitionContext`\nconst MemoizedDataRoutes = /*#__PURE__*/React.memo(DataRoutes);\nfunction DataRoutes(_ref3) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref3;\n  return UNSAFE_useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref4) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref4;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref5) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref5;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref6) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref6;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware `<a>`.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref7, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      viewTransition\n    } = _ref7,\n    rest = _objectWithoutPropertiesLoose(_ref7, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative,\n    viewTransition\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A `<Link>` wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref8, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      viewTransition,\n      children\n    } = _ref8,\n    rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator,\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let isTransitioning = routerState != null &&\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useViewTransitionState(path) && viewTransition === true;\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  if (nextLocationPathname && basename) {\n    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n  }\n  // If the `to` has a trailing slash, look at that exact spot.  Otherwise,\n  // we're looking for a slash _after_ what's in `to`.  For example:\n  //\n  // <NavLink to=\"/users\"> and <NavLink to=\"/users/\">\n  // both want to look for a / at index 6 to match URL `/users/matt`\n  const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let renderProps = {\n    isActive,\n    isPending,\n    isTransitioning\n  };\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp(renderProps);\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null, isTransitioning ? \"transitioning\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to,\n    viewTransition: viewTransition\n  }), typeof children === \"function\" ? children(renderProps) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((_ref9, forwardedRef) => {\n  let {\n      fetcherKey,\n      navigate,\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      relative,\n      preventScrollReset,\n      viewTransition\n    } = _ref9,\n    props = _objectWithoutPropertiesLoose(_ref9, _excluded3);\n  let submit = useSubmit();\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      fetcherKey,\n      method: submitMethod,\n      navigate,\n      replace,\n      state,\n      relative,\n      preventScrollReset,\n      viewTransition\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref10) {\n  let {\n    getKey,\n    storageKey\n  } = _ref10;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterHook[\"useViewTransitionState\"] = \"useViewTransitionState\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\n// Internal hooks\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n// External hooks\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n    viewTransition\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative,\n        viewTransition\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\nlet fetcherId = 0;\nlet getUniqueFetcherId = () => \"__\" + String(++fetcherId) + \"__\";\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    if (options.navigate === false) {\n      let key = options.fetcherKey || getUniqueFetcherId();\n      router.fetch(key, currentRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        flushSync: options.flushSync\n      });\n    } else {\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n        flushSync: options.flushSync,\n        viewTransition: options.viewTransition\n      });\n    }\n  }, [router, basename, currentRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // If no action was specified, browsers will persist current search params\n  // when determining the path, so match that behavior\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove any included ?index param\n    // since it might not apply to our contextual route.  We add it back based\n    // on match.route.index below\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some(v => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// TODO: (v7) Change the useFetcher generic default from `any` to `unknown`\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher(_temp3) {\n  var _route$matches;\n  let {\n    key\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let state = useDataRouterState(DataRouterStateHook.UseFetcher);\n  let fetcherData = React.useContext(FetchersContext);\n  let route = React.useContext(UNSAFE_RouteContext);\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !fetcherData ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a FetchersContext\") : UNSAFE_invariant(false) : void 0;\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  // Fetcher key handling\n  // OK to call conditionally to feature detect `useId`\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  let defaultKey = useIdImpl ? useIdImpl() : \"\";\n  let [fetcherKey, setFetcherKey] = React.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  } else if (!fetcherKey) {\n    // We will only fall through here when `useId` is not available\n    setFetcherKey(getUniqueFetcherId());\n  }\n  // Registration/cleanup\n  React.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => {\n      // Tell the router we've unmounted - if v7_fetcherPersist is enabled this\n      // will not delete immediately but instead queue up a delete after the\n      // fetcher returns to an `idle` state\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  // Fetcher additions\n  let load = React.useCallback((href, opts) => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href, opts);\n  }, [fetcherKey, routeId, router]);\n  let submitImpl = useSubmit();\n  let submit = React.useCallback((target, opts) => {\n    submitImpl(target, _extends({}, opts, {\n      navigate: false,\n      fetcherKey\n    }));\n  }, [fetcherKey, submitImpl]);\n  let FetcherForm = React.useMemo(() => {\n    let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n      return /*#__PURE__*/React.createElement(Form, _extends({}, props, {\n        navigate: false,\n        fetcherKey: fetcherKey,\n        ref: ref\n      }));\n    });\n    if (process.env.NODE_ENV !== \"production\") {\n      FetcherForm.displayName = \"fetcher.Form\";\n    }\n    return FetcherForm;\n  }, [fetcherKey]);\n  // Exposed FetcherWithComponents\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form: FetcherForm,\n    submit,\n    load\n  }, fetcher, {\n    data\n  }), [FetcherForm, submit, load, fetcher, data]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return Array.from(state.fetchers.entries()).map(_ref11 => {\n    let [key, fetcher] = _ref11;\n    return _extends({}, fetcher, {\n      key\n    });\n  });\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp4) {\n  let {\n    getKey,\n    storageKey\n  } = _temp4 === void 0 ? {} : _temp4;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    try {\n      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    } catch (error) {\n      process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (\" + error + \").\") : void 0;\n    }\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref12) {\n  let {\n    when,\n    message\n  } = _ref12;\n  let blocker = useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n/**\n * Return a boolean indicating if there is an active view transition to the\n * given href.  You can use this value to render CSS classes or viewTransitionName\n * styles onto your elements\n *\n * @param href The destination href\n * @param [opts.relative] Relative routing type (\"route\" | \"path\")\n */\nfunction useViewTransitionState(to, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let vtContext = React.useContext(ViewTransitionContext);\n  !(vtContext != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  \" + \"Did you accidentally import `RouterProvider` from `react-router`?\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename\n  } = useDataRouterContext(DataRouterHook.useViewTransitionState);\n  let path = useResolvedPath(to, {\n    relative: opts.relative\n  });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  // Transition is active if we're going to or coming from the indicated\n  // destination.  This ensures that other PUSH navigations that reverse\n  // an indicated transition apply.  I.e., on the list view you have:\n  //\n  //   <NavLink to=\"/details/1\" viewTransition>\n  //\n  // If you click the breadcrumb back to the list view:\n  //\n  //   <NavLink to=\"/list\" viewTransition>\n  //\n  // We should apply the transition because it's indicated as active going\n  // from /list -> /details/1 and therefore should be active on the reverse\n  // (even though this isn't strictly a POP reverse)\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, RouterProvider, ScrollRestoration, FetchersContext as UNSAFE_FetchersContext, ViewTransitionContext as UNSAFE_ViewTransitionContext, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit, useViewTransitionState };\n//# sourceMappingURL=index.js.map\n","// extracted by mini-css-extract-plugin\nexport default {\"popupContent\":\"cQ_cR\",\"popupContent__title\":\"cQ_cS\",\"popupContent__message\":\"cQ_cT\",\"popupContent__info\":\"cQ_cU\",\"popupContent__buttons\":\"cQ_cV\",\"popupContent_inCurtain\":\"cQ_cW\",\"popupContent__disclaimer\":\"cQ_cX\"};","import type { FC, ReactElement } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { Button, ButtonVariant } from '../../controls/button/Button';\nimport { L12nText } from '../../text/L12nText';\n\nimport styles from './popupContent.module.css';\n\nexport interface BlockingModalActionButton {\n  click: () => void;\n  disabled?: boolean;\n  loading?: boolean;\n  tk: string;\n  type: ButtonVariant;\n}\n\nexport interface BlockingModalContentProps {\n  actions?: BlockingModalActionButton[];\n  customTitle?: string;\n  inCurtain?: boolean;\n  messageComponent?: ReactElement;\n  messageData?: string[];\n  messageTk?: string;\n  titleTk?: string;\n}\n\nexport const BlockingModalContent: FC<BlockingModalContentProps> = ({\n  actions,\n  customTitle,\n  inCurtain,\n  messageComponent,\n  messageData,\n  messageTk,\n  titleTk,\n}): ReactElement => {\n  const mods = useModifiers(\n    styles,\n    'popupContent',\n    {\n      inCurtain,\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <div data-testid=\"blocking-popup-content\" className={mods}>\n      {titleTk ? (\n        <div data-testid=\"blocking-popup-title\" className={styles.popupContent__title}>\n          <L12nText tk={titleTk} />\n        </div>\n      ) : null}\n      {customTitle ? (\n        <div data-testid=\"blocking-popup-title\" className={styles.popupContent__title}>\n          {customTitle}\n        </div>\n      ) : null}\n      {messageTk ? (\n        <div className={styles.popupContent__message}>\n          <L12nText tk={messageTk} dynamicValues={messageData} />\n        </div>\n      ) : null}\n      {messageComponent}\n      {actions?.length ? (\n        <div data-testid=\"blocking-popup-buttons\" className={styles.popupContent__buttons}>\n          {actions.map((action) => (\n            <Button\n              key={action.tk}\n              tk={action.tk}\n              variant={action.type}\n              loading={action.loading}\n              disabled={action.disabled}\n              onClick={action.click}\n            />\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n","import type { FunctionComponent, PropsWithChildren } from 'react';\n\nimport type { AllowedGlobals } from '../../utils/window';\nimport { ButtonVariant } from '../controls/button/Button';\nimport { BlockingModalContent } from '../popup/content/BlockingModalContent';\n\nimport { ErrorBoundary } from './ErrorBoundary';\n\nexport const FinalErrorBoundary: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  const windowObject = (window as AllowedGlobals).legacyMode ? window.parent : window;\n\n  return (\n    <ErrorBoundary\n      fallback={\n        <BlockingModalContent\n          messageTk=\"Please contact Customer Support for assistance\"\n          actions={[\n            {\n              tk: 'OK',\n              type: ButtonVariant.ACCENT,\n              click: (): void => {\n                windowObject.location.reload();\n              },\n            },\n          ]}\n          inCurtain\n        />\n      }\n      critical\n    >\n      {children}\n    </ErrorBoundary>\n  );\n};\n","export interface AllowedGlobals extends Window {\n  legacyMode?: boolean;\n}\n\nexport const getWindowObject = (): Window | WindowProxy => {\n  // This is used for logical operations with window inside legacy mode. Keep in mind that it should not be used for measurements, as it's a wrapper in legacy mode\n  const win = window as AllowedGlobals;\n  return win.legacyMode ? window.parent : window;\n};\n","import type { FunctionComponent, ReactElement } from 'react';\nimport { useEffect } from 'react';\n\nimport { useTranslation } from '../../../api/useTranslation';\nimport { getWindowObject } from '../../../utils/window';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { Curtain } from '../../curtain/Curtain';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\ninterface GenericErrorConnectedProps {\n  inCurtain?: boolean;\n}\n\nexport const GenericErrorConnected: FunctionComponent<GenericErrorConnectedProps> = ({ inCurtain }): ReactElement => {\n  const { translations, isFetching } = useTranslation();\n  const windowObject = getWindowObject();\n\n  const translationKey =\n    isFetching || !translations ? 'Please contact Customer Support for assistance' : 'GENERIC_ERROR';\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        windowObject.location.reload();\n      },\n    },\n  ];\n\n  useEffect(() => {\n    if (inCurtain) return;\n    // Error may occur on initial loading. Remove curtain so that error popup is displayed\n    Curtain.remove();\n  }, [inCurtain]);\n\n  return <BlockingModalContent messageTk={translationKey} actions={action} inCurtain={inCurtain} />;\n};\n","import type { FunctionComponent, PropsWithChildren } from 'react';\n\nimport { GenericErrorConnected } from '../popup/content/GenericErrorContentConnected';\n\nimport { ErrorBoundary } from './ErrorBoundary';\n\nexport const LayoutErrorBoundaryConnected: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  return (\n    <ErrorBoundary fallback={<GenericErrorConnected inCurtain />} critical>\n      {children}\n    </ErrorBoundary>\n  );\n};\n","declare global {\n  interface Window {\n    AudioContext: AudioContext;\n    webkitAudioContext: AudioContext;\n  }\n}\n\nconst AudioContextPolyfill: typeof window.AudioContext | undefined =\n  typeof window !== 'undefined' ? window.AudioContext || window.webkitAudioContext : undefined;\n\nexport const AudioContext = AudioContextPolyfill;\n","import { FunctionComponent, useCallback, useEffect, useMemo, useRef } from 'react';\n\nimport { useCoreDispatch } from '../../store/CoreStore';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\nimport { useSettingsSlice } from '../../store/slices/settings/selectors';\nimport { settingsActions } from '../../store/slices/settings/slice';\nimport { debounce } from '../../utils/debounce';\nimport { AudioContext } from '../../utils/polyfills/audioContext';\n\nimport { AudioEventStopDetailType, AudioEventPlayDetailType, AudioEvents, SoundResourceType } from './types';\n\nconst audioContext = AudioContext ? new AudioContext() : null;\nexport const AudioControllerConnected: FunctionComponent<{ audioFiles: SoundResourceType[] }> = ({ audioFiles }) => {\n  const channelVolumes = useSettingsSlice.getChannelVolumes();\n  const dispatch = useCoreDispatch();\n  const channel = useSettingsSlice.getMasterChannel();\n  const uiChannel = useSettingsSlice.getUIVolumeChannel();\n  const isGameSuspended = useGameStateSlice.getIsGameSuspended();\n\n  const audioInstancesRef = useRef<Record<string, AudioBuffer>>({});\n  const loadingAudioRef = useRef<Array<string>>([]);\n\n  const activeAudioSources = useRef<Record<string, AudioBufferSourceNode[]>>({});\n  const channels = useRef<Record<string, GainNode>>({});\n\n  useEffect(() => {\n    for (const channelName in channelVolumes) {\n      const channelNode = channels.current[channelName];\n      if (channelNode) {\n        channelNode.gain.value = channelVolumes[channelName];\n      } else {\n        if (!audioContext) return;\n        const audioGain = audioContext.createGain();\n        audioGain.gain.value = channelVolumes[channelName];\n        channels.current[channelName] = audioGain;\n      }\n    }\n  }, [channelVolumes]);\n\n  const getChannel = (name: string): GainNode => channels.current[name];\n  const getChannelVolume = (name: string): number => channels.current[name]?.gain.value || 0;\n\n  const play = useCallback(\n    (channel: string, audioName: string, loop: boolean = false, start?: number, duration?: number): void => {\n      if (isGameSuspended || !audioContext) return;\n      const audioSource = audioContext.createBufferSource();\n      const audioGain = getChannel(channel);\n      audioSource.buffer = audioInstancesRef.current[audioName];\n      audioSource.connect(audioGain).connect(audioContext.destination);\n\n      audioSource.loop = loop;\n      audioSource.start(0, start, duration);\n\n      if (!activeAudioSources.current[audioName]) {\n        activeAudioSources.current[audioName] = [];\n      }\n\n      audioSource.onended = (): void => {\n        if (activeAudioSources.current[audioName].length > 1) {\n          activeAudioSources.current[audioName].shift();\n        } else {\n          delete activeAudioSources.current[audioName];\n        }\n      };\n\n      activeAudioSources.current[audioName].push(audioSource);\n    },\n    [isGameSuspended]\n  );\n\n  const fetchFile = useCallback(\n    (\n      audioFiles: SoundResourceType[],\n      chanel: string,\n      audioName: string,\n      loop: boolean = false,\n      start?: number,\n      duration?: number\n    ): void => {\n      for (const audioFile of audioFiles) {\n        if (audioFile.name === audioName && !loadingAudioRef.current.includes(audioName)) {\n          loadingAudioRef.current.push(audioName);\n          fetch(audioFile.url)\n            .then((response) => response.arrayBuffer())\n            .then((buffer) => {\n              try {\n                if (!audioContext) throw new Error('AudioContext is not supported');\n                return audioContext.decodeAudioData(buffer);\n              } catch (e) {\n                console.error(`[AUDIO] Error decoding audio data: ${e}`);\n                return Promise.reject(e);\n              }\n            })\n            .then((audioBuffer) => {\n              loadingAudioRef.current = loadingAudioRef.current.filter((item) => item !== audioName);\n              const instances = { ...audioInstancesRef.current };\n              instances[audioName] = audioBuffer;\n              audioInstancesRef.current = { ...audioInstancesRef.current, ...instances };\n              play(chanel, audioName, loop, start, duration);\n            });\n        }\n      }\n    },\n    [play]\n  );\n\n  const handlePlayAudio = useCallback(\n    (event: CustomEvent<AudioEventPlayDetailType>) => {\n      const { name: audioName, start, duration, loop } = event.detail;\n      const channel = event.detail.channel || uiChannel;\n\n      if (!channel) {\n        console.log(`[AUDIO] No default UI channel is found`);\n        return;\n      }\n      const currentAudio = audioInstancesRef.current[audioName];\n      const channelVolume = getChannelVolume(channel);\n\n      if (channelVolume > 0) {\n        if (currentAudio) {\n          play(channel, audioName, loop, start, duration);\n        } else {\n          fetchFile(audioFiles, channel, audioName, loop, start, duration);\n        }\n      }\n    },\n    [audioFiles, isGameSuspended, uiChannel]\n  );\n\n  const handleStopAudio = useCallback((event: CustomEvent<AudioEventStopDetailType>) => {\n    const audioName = event.detail.name;\n    const audioSource = activeAudioSources.current[audioName]?.shift();\n    if (audioSource) {\n      audioSource.stop();\n    }\n  }, []);\n\n  const handleVisibilityChange = useCallback(() => {\n    const isVisible = document.visibilityState === 'visible';\n    dispatch(settingsActions.setIsGameVisible(isVisible));\n  }, [dispatch, channel]);\n\n  const debounceSuspendAndResume = useMemo(\n    () =>\n      debounce(() => {\n        audioContext?.suspend();\n        audioContext?.resume();\n      }, 100),\n    [audioContext]\n  );\n\n  // Bug in iOS where losing focus bugs audiocontext. It has to be suspended and resumed manually for it to work. LCE-72359\n  // Bug in iOS where looped audios like background music doesn't resume automatically on focus. It has to be resumed after atleast 100ms\n  const handleFocus = useCallback(() => {\n    if (!audioContext) return;\n    debounceSuspendAndResume();\n  }, [audioContext]);\n\n  useEffect(() => {\n    window.addEventListener(AudioEvents.PLAY, handlePlayAudio as EventListener);\n    window.addEventListener(AudioEvents.STOP, handleStopAudio as EventListener);\n    document.addEventListener('visibilitychange', handleVisibilityChange as EventListener);\n    window.addEventListener('pageshow', handleFocus as EventListener);\n    window.addEventListener('focus', handleFocus as EventListener);\n    return () => {\n      window.removeEventListener(AudioEvents.PLAY, handlePlayAudio as EventListener);\n      window.removeEventListener(AudioEvents.STOP, handleStopAudio as EventListener);\n      document.removeEventListener('visibilitychange', handleVisibilityChange as EventListener);\n      window.removeEventListener('pageshow', handleFocus as EventListener);\n      window.removeEventListener('focus', handleFocus as EventListener);\n    };\n  }, [handlePlayAudio, handleStopAudio, handleVisibilityChange]);\n\n  return null;\n};\n","import type { SoundResourceType } from '../controllers/audioController/types';\nimport { getStaticResourceUrl } from '../utils/getStaticBaseUrl';\n\nimport ChipClick from './assets/snd_ChipClick.mp3';\nimport MenuClick from './assets/snd_MenuClick.mp3';\nimport UndoClick from './assets/snd_UndoClick.mp3';\n\nexport const coreSoundResources: SoundResourceType[] = [\n  {\n    name: 'chipClick',\n    url: getStaticResourceUrl(ChipClick),\n  },\n  {\n    name: 'reBet',\n    url: getStaticResourceUrl(ChipClick),\n  },\n  {\n    name: 'doubleBet',\n    url: getStaticResourceUrl(ChipClick),\n  },\n  {\n    name: 'menuClick',\n    url: getStaticResourceUrl(MenuClick),\n  },\n  {\n    name: 'betOnAll',\n    url: getStaticResourceUrl(ChipClick),\n  },\n  {\n    name: 'undoClick',\n    url: getStaticResourceUrl(UndoClick),\n  },\n];\n","import type { FunctionComponent } from 'react';\nimport { useRef } from 'react';\n\nimport { Tooltip, type TooltipProps } from './Tooltip';\n\nexport interface WithTooltipProps {\n  tooltipOptions: Omit<TooltipProps, 'targetRef'>;\n}\n\n/**\n * This HOC can be used to get a wrapped component with a tooltip.\n * It expects that forwardRef will be assigned to the element that needs to trigger the tooltip.\n * @param Component Component with forwardRef that should have a tooltip.\n * @returns Extetended component that has tooltipOptions prop which must be provided for the tooltip to be displayed correctly.\n */\nexport const withTooltip = <P extends unknown>(\n  Component: FunctionComponent<P>\n): FunctionComponent<P & WithTooltipProps> => {\n  const ExtendedComponent: FunctionComponent<P & WithTooltipProps> = (props) => {\n    const targetRef = useRef<HTMLDivElement | null>(null);\n    const { tooltipOptions } = props;\n    return (\n      <Tooltip targetRef={targetRef} {...tooltipOptions}>\n        <Component {...props} ref={targetRef} />\n      </Tooltip>\n    );\n  };\n\n  return ExtendedComponent;\n};\n","import { TooltipPositions } from '../../tooltip/Tooltip';\nimport { withTooltip } from '../../tooltip/withTooltip';\n\nimport { IconButton, Icons } from './IconButton';\n\nconst IconButtonWithTooltip = withTooltip(IconButton);\n\nIconButtonWithTooltip.displayName = 'IconButtonWithTooltip';\n\nexport { IconButtonWithTooltip, Icons, TooltipPositions };\n","// extracted by mini-css-extract-plugin\nexport default {\"badge__wrapper\":\"oT_oU\",\"badge__wrapper_start\":\"oT_oV\",\"badge__wrapper_end\":\"oT_oW\",\"badge\":\"oT_cG\",\"badge_impact\":\"oT_oX\",\"badge_elevated\":\"oT_oY\",\"badge__wrapper_dot\":\"oT_oZ\",\"badge__wrapper_tiny\":\"oT_o0\",\"badge__wrapper_small\":\"oT_o1\",\"badge__wrapper_medium\":\"oT_pa\",\"badge__wrapper_large\":\"oT_pb\"};","import type { FunctionComponent, HTMLAttributes, ReactNode } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\n\nimport styles from './Badge.module.css';\n\nexport enum BadgeSize {\n  Dot = 'dot',\n  Tiny = 'tiny',\n  Small = 'small',\n  Medium = 'medium',\n  Large = 'large',\n}\n\nexport interface BadgeProps extends HTMLAttributes<HTMLDivElement> {\n  /** Content to display in the badge, takes priority over the value prop */\n  children?: ReactNode;\n  /** Value to display in the badge */\n  value?: ReactNode;\n  /** Size of the badge, 'dot' and 'tiny' do not display the value */\n  size: BadgeSize;\n  /** Whether the badge should have an impact effect (red color) */\n  impact?: boolean;\n  /** direction in which badge will grow, `center` by default */\n  grow?: 'center' | 'start' | 'end';\n  /** Additional class names to apply to the badge, for positioning purposes */\n  className?: string;\n}\n\n/**\n * Component to be used for displaying a badge in other controls.\n * */\nexport const Badge: FunctionComponent<BadgeProps> = ({\n  children,\n  value,\n  impact,\n  size,\n  className,\n  grow = 'center',\n  ...rest\n}) => {\n  const badgeWrapperWithMods = useModifiers(\n    styles,\n    'badge__wrapper',\n    {\n      [size]: true,\n      [grow]: true,\n    },\n    { withBaseClass: true }\n  );\n\n  const badgeWithMods = useModifiers(\n    styles,\n    'badge',\n    {\n      impact,\n      elevated: size === BadgeSize.Small || size === BadgeSize.Medium || size === BadgeSize.Large,\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <span className={`${badgeWrapperWithMods} ${className}`} {...rest}>\n      <span data-testid=\"badge-content\" className={badgeWithMods}>\n        {size !== BadgeSize.Dot && size !== BadgeSize.Tiny ? children || value : null}\n      </span>\n    </span>\n  );\n};\n","import { Currency, type CurrencyProps } from './Currency';\nimport { CurrencyConnected, type CurrencyConnectedProps } from './CurrencyConnected';\n\n/** @deprecated use @pp/core/src/components/currency/Currency */\nconst DeprecatedCurrency = Currency;\n/** @deprecated use @pp/core/src/components/currency/CurrencyConnected */\nconst DeprecatedCurrencyConnected = CurrencyConnected;\n\nexport { DeprecatedCurrency as Currency, DeprecatedCurrencyConnected as CurrencyConnected };\nexport type { CurrencyProps, CurrencyConnectedProps };\n","export class GameCommunicationBaseSender {\n  name = '';\n\n  dispatch(payload?: unknown): void {\n    const event = new CustomEvent(`GameCommunicationSender-${this.name}`, { detail: payload });\n    window.dispatchEvent(event);\n  }\n}\n","import type { CoreStoreType } from '../../../store/CoreStore';\nimport type { GameCommunicationSenderType } from '../types';\n\nimport { GameCommunicationBaseSender } from './GameCommunicationBaseSender';\n\nexport class GameCommunicationBetSender extends GameCommunicationBaseSender {\n  name = 'Bet';\n\n  send(_: never, store: CoreStoreType, sender: GameCommunicationSenderType, additionalParam?: string): void {\n    const state = store.getState();\n    const gameChannel = state.gameState.gameChannel;\n    const gameId = state.gameState.gameId;\n    const gameName = state.config.session?.gametype;\n    const userId = state.config.playerConfig?.userId;\n    const betStack = state.bets.betStack;\n\n    const bets = betStack[betStack.length - 1]?.betSpots ?? {};\n    const betTags = Object.keys(bets).reduce((acc, betSpot) => {\n      if (bets[betSpot].value > 0) {\n        return acc + `<bet amt=\"${bets[betSpot].value}\" bc=\"${betSpot}\" ck=\"${Date.now()}\"/>`;\n      }\n      return acc;\n    }, '');\n\n    if (gameChannel && userId) {\n      let message = '';\n      message += `<command channel=\"${gameChannel}\">`;\n      message += `<lpbet gm=\"${gameName}\" gId=\"${gameId}\" uId=\"${userId}\" ck=\"${Date.now()}\"${additionalParam ?? ''}>`;\n      message += betTags;\n      message += '</lpbet>';\n      message += '</command>';\n\n      sender?.(message);\n    }\n  }\n}\n","import { useEffect } from 'react';\n\nimport { GameCommunicationBetSender } from '../../controllers/gameCommunication/senders/GameCommunicationBetSender';\nimport { useCoreDispatch } from '../../store/CoreStore';\nimport { useBetSlice } from '../../store/slices/bets/selectors';\nimport { betActions } from '../../store/slices/bets/slice';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\n\nconst betSender = new GameCommunicationBetSender();\n\nexport const useDragAndDropInit = (): void => {\n  const dragBuffer = useBetSlice.getDragBuffer();\n  const dispatch = useCoreDispatch();\n  const isBetsOpenStatus = useGameStateSlice.isBetsOpenStatus();\n\n  useEffect(() => {\n    if (!isBetsOpenStatus) {\n      dispatch(betActions.setDragBuffer(null));\n    }\n  }, [dispatch, isBetsOpenStatus]);\n\n  useEffect(() => {\n    const handleDocumentPointerUp = (): void => {\n      if (dragBuffer?.preliminary === false) {\n        dispatch(betActions.clearBet(dragBuffer.from));\n        dispatch(betActions.setDragBuffer(null));\n        betSender.dispatch();\n      }\n    };\n\n    document.addEventListener('pointerup', handleDocumentPointerUp, { passive: true });\n\n    return (): void => {\n      document.removeEventListener('pointerup', handleDocumentPointerUp);\n    };\n  }, [dispatch, dragBuffer]);\n};\n","import { useCallback, useEffect, useRef } from 'react';\n\nimport { useAudioTrigger } from '../../controllers/audioController/hooks';\nimport { GameCommunicationBetSender } from '../../controllers/gameCommunication/senders/GameCommunicationBetSender';\nimport { Logger } from '../../logger/Logger';\nimport { useCoreDispatch } from '../../store/CoreStore';\nimport { useBetSlice } from '../../store/slices/bets/selectors';\nimport { betActions } from '../../store/slices/bets/slice';\nimport type { BetPayloadType, DragBufferType } from '../../store/slices/bets/types';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\n\nimport type { DragAndDropTargetConnectedArgs, DragAndDropTargetConnectedReturnType } from './types';\n\nconst betSender = new GameCommunicationBetSender();\n\nexport const useDragAndDropTargetConnected: (\n  args: DragAndDropTargetConnectedArgs\n) => DragAndDropTargetConnectedReturnType = ({ betSpot, ref, clickSound, onBet }) => {\n  const targetLocalRef = useRef<HTMLElement>(null);\n  const targetRef = ref || targetLocalRef;\n  const dispatch = useCoreDispatch();\n  const dragBuffer = useBetSlice.getPreliminaryDragBuffer();\n  const balance = useGameStateSlice.getDeductibleBalance();\n  const isBetsOpenStatus = useGameStateSlice.isBetsOpenStatus();\n  const decimals = useGameStateSlice.getCurrencyInfo()?.digitsNumber || 2;\n  const audioTrigger = useAudioTrigger();\n\n  const promotedDragBuffer = dragBuffer && !dragBuffer.preliminary ? dragBuffer : null;\n\n  const handlePointerUp = useCallback(\n    (event: PointerEvent): void => {\n      if (!dragBuffer) return;\n\n      if (!isBetsOpenStatus) {\n        dispatch(betActions.setDragBuffer(null));\n        return;\n      }\n\n      if (dragBuffer.preliminary === false || dragBuffer.from !== betSpot) {\n        event.stopImmediatePropagation();\n\n        if (betSpot && !dragBuffer.preliminary && dragBuffer.from !== betSpot) {\n          const newBet = createNewBet({ ...dragBuffer, to: betSpot }, balance, decimals);\n          onBet ? onBet(newBet) : dispatch(betActions.pushBet(newBet));\n          if (clickSound) {\n            audioTrigger.play({ name: clickSound });\n          }\n          betSender.dispatch();\n        }\n      }\n\n      dispatch(betActions.setDragBuffer(null));\n      Logger.logEvent('click', 'dragAndDrop', Date.now(), 1, '', false);\n    },\n    [audioTrigger, balance, betSpot, clickSound, decimals, dispatch, dragBuffer, isBetsOpenStatus, onBet]\n  );\n\n  useEffect(() => {\n    const targetElement = targetRef.current;\n    targetElement?.addEventListener('pointerup', handlePointerUp, { passive: true });\n\n    return (): void => {\n      targetElement?.removeEventListener('pointerup', handlePointerUp);\n    };\n  }, [handlePointerUp, targetRef]);\n\n  return [\n    targetRef,\n    { buffer: dragBuffer, isDragging: !!promotedDragBuffer, isDraggedFrom: promotedDragBuffer?.from === betSpot },\n  ];\n};\n\n// Helper functions\nfunction createNewBet(\n  dragData: DragBufferType & { to: number },\n  balance: number,\n  decimals: number = 2\n): BetPayloadType {\n  return {\n    bet: {\n      betSpots: {\n        [dragData.from!]: {\n          value: -dragData.value!,\n        },\n        [dragData.to!]: {\n          value: dragData.value!,\n        },\n      },\n    },\n    balance,\n    decimals,\n  };\n}\n","import { numberFormatterLocal } from '../../utils/formatters';\n\nclass ChipValueFormatterClass {\n  private numberFormatCache: Record<string, Intl.NumberFormat> = {};\n  private valueCache: Record<string, string> = {};\n\n  format = (locale: string, value: number): string => {\n    if (this.valueCache[`${locale}-${value}`]) {\n      return this.valueCache[`${locale}-${value}`];\n    }\n\n    if (!this.numberFormatCache[locale]) {\n      this.numberFormatCache[locale] = new Intl.NumberFormat(numberFormatterLocal(locale), {\n        maximumFractionDigits: 3,\n        minimumFractionDigits: 0,\n      });\n    }\n\n    if (value < 10_000) {\n      const modulo = value % 1;\n      if (modulo === 0) {\n        if (value > 999) {\n          const N = value % 100;\n          if (N === 0) {\n            const valueToFormat = value / 1000;\n            return this.numberFormatCache[locale].format(valueToFormat) + 'K';\n          }\n        }\n      } else {\n        let formattedValue = Math.floor(value);\n        const stringValue = value.toString();\n        if (value < 100) {\n          if (stringValue.length > 5) {\n            return this.numberFormatCache[locale].format(Number.parseFloat(stringValue.substring(0, 4))) + '+';\n          }\n        } else if (value >= 100 && value < 1000 && (modulo * 10) % 1 > 0) {\n          if (stringValue.length > 5) {\n            return this.numberFormatCache[locale].format(Number.parseFloat(stringValue.substring(0, 3))) + '+';\n          }\n        } else if (value >= 1000 && value < 10000) {\n          formattedValue = Math.floor(value / 100) / 10;\n          return this.numberFormatCache[locale].format(formattedValue) + 'K+';\n        }\n      }\n    } else {\n      const result = ~~(Math.log10(value) / 3);\n      if (result > 0 && result < 5) {\n        let postfix = 'KMBT'[result - 1] || '';\n\n        const valueToFormat = value / Math.pow(1000, result);\n        let formattedValue;\n        let needPlus;\n        if (valueToFormat > 99) {\n          formattedValue = Math.floor(valueToFormat);\n          needPlus = formattedValue < valueToFormat;\n        } else if (valueToFormat < 10) {\n          if ((valueToFormat * 100) % 1 === 0) {\n            formattedValue = valueToFormat;\n          } else {\n            formattedValue = Math.floor(valueToFormat * 10) / 10;\n            needPlus = formattedValue < valueToFormat;\n          }\n        } else {\n          if ((valueToFormat * 10) % 1 === 0) {\n            formattedValue = valueToFormat;\n          } else {\n            formattedValue = Math.floor(valueToFormat);\n            needPlus = formattedValue < valueToFormat;\n          }\n        }\n\n        postfix = postfix + (needPlus ? '+' : '');\n        return this.numberFormatCache[locale].format(formattedValue) + postfix;\n      }\n    }\n    const formattedValue = this.numberFormatCache[locale].format(value);\n    this.valueCache[`${locale}-${value}`] = formattedValue;\n    return formattedValue;\n  };\n}\n\nexport const ChipValueFormatter = new ChipValueFormatterClass();\n","import type { FunctionComponent, RefObject } from 'react';\nimport { useEffect } from 'react';\n\nconst chipObserver: ResizeObserver = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n  entries.forEach((entry) => {\n    (entry.target as HTMLElement).style.setProperty('font-size', `${entry.contentRect.width}px`);\n  });\n});\n\nconst valueObserver: ResizeObserver = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n  entries.forEach((entry: ResizeObserverEntry) => {\n    // 2.5 is a magic number that makes the text fit the chip to 90% of its width\n    const number = (entry.contentRect.height * 2.5) / entry.contentRect.width;\n    (entry.target as HTMLElement).style.setProperty('--scale', number.toString());\n  });\n});\n\ninterface ChipObserverProps {\n  chipRef: RefObject<HTMLDivElement>;\n  valueRef: RefObject<HTMLDivElement>;\n}\n\nexport const ChipCalculationHook: FunctionComponent<ChipObserverProps> = ({ chipRef, valueRef }) => {\n  useEffect(() => {\n    if (!chipRef.current || !valueRef.current) return;\n\n    const chip = chipRef.current;\n    const value = valueRef.current;\n\n    chipObserver.observe(chip);\n    valueObserver.observe(value);\n\n    return () => {\n      chipObserver.unobserve(chip);\n      valueObserver.unobserve(value);\n    };\n  }, [chipRef, valueRef]);\n\n  return null;\n};\n\nexport const getFontSize = (valueText: string): number => {\n  const digits = valueText.length;\n  let fontSize: number = 0;\n  const isDot = /[.,]/.test(valueText);\n\n  switch (digits) {\n    case 1:\n    case 2:\n      fontSize = 400;\n      break;\n    case 3:\n      fontSize = isDot ? 400 : 360;\n      break;\n    case 4:\n      fontSize = 320;\n      break;\n    default:\n      if (digits > 4) {\n        fontSize = 280;\n      }\n      break;\n  }\n  return fontSize;\n};\n","import type { FunctionComponent } from 'react';\nimport { useMemo } from 'react';\n\nimport styles from './Chip3d.module.css';\n\nconst MathPi180 = Math.PI / 180;\nconst segmentAngle = 25.6 * MathPi180;\nconst chipRadius = 50;\nconst lineOffsetAngles = [0, 58, -58, 180, 122, -122];\n\nexport interface ChipDepthProps {\n  rotate: number;\n  tiltComponents: {\n    tiltSin: number;\n    tiltCos: number;\n  };\n}\n\nexport const ChipDepth: FunctionComponent<ChipDepthProps> = ({ rotate, tiltComponents }) => {\n  const lines: { start: number; end: number; startAngle: number; endAngle: number; hidden: boolean }[] = useMemo(() => {\n    return lineOffsetAngles.map((lineOffsetAngle) => {\n      const lineOffset = (rotate + lineOffsetAngle) * MathPi180;\n\n      const constrainAngle = (angle: number): number => {\n        angle = angle % (2 * Math.PI);\n        if (angle > Math.PI) {\n          angle -= 2 * Math.PI;\n        }\n        if (angle < -Math.PI) {\n          angle += 2 * Math.PI;\n        }\n        return angle;\n      };\n\n      const lineStartAngle = constrainAngle(lineOffset + segmentAngle / 2);\n      const lineEndAngle = constrainAngle(lineOffset - segmentAngle / 2);\n      const line = {\n        start: 0,\n        startAngle: lineStartAngle,\n        end: 0,\n        endAngle: lineEndAngle,\n        hidden: false,\n      };\n\n      const preventBackfaceVisibility = (point: number, angle: number): { point: number; isHidden: boolean } => {\n        const result = { point, isHidden: false };\n        if (angle < -Math.PI / 2) {\n          result.point = chipRadius * 2 + (chipRadius * 2 - point);\n          result.isHidden = true;\n        } else if (angle > Math.PI / 2) {\n          result.point = -point;\n          result.isHidden = true;\n        }\n        return result;\n      };\n\n      const { point: lineStart, isHidden: startHidden } = preventBackfaceVisibility(\n        chipRadius - Math.sin(lineStartAngle) * chipRadius,\n        lineStartAngle\n      );\n      line.start = lineStart;\n\n      const { point: lineEnd, isHidden: endHidden } = preventBackfaceVisibility(\n        chipRadius - Math.sin(lineEndAngle) * chipRadius,\n        lineEndAngle\n      );\n      line.end = lineEnd;\n\n      if (startHidden && endHidden) {\n        line.hidden = true;\n      }\n      return line;\n    });\n  }, [rotate]);\n\n  return (\n    <span className={styles.chip__depthContainer}>\n      <span className={styles.chip__depth}>\n        <span className={styles.chip__depthThickness}>\n          <svg width=\"100\" height=\"10.5\" viewBox=\"0 0 100 10.5\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"100\" height=\"10.5\" fill=\"var(--chipBackground)\" />\n            {lines.map((line) =>\n              !line.hidden ? (\n                <path\n                  key={`${line.start}${line.end}`}\n                  d={`M${line.start} 0H${line.end}V50H${line.start}V0Z`}\n                  fill=\"white\"\n                  fillOpacity=\"0.8\"\n                />\n              ) : null\n            )}\n            <rect width=\"100\" height=\"50\" fill=\"#000000\" fillOpacity={0.2 + 0.2 * tiltComponents.tiltSin} />\n          </svg>\n        </span>\n        <span className={styles.chip__depthBottom}>\n          <svg width=\"100\" height=\"50\" viewBox=\"0 0 100 50\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <mask id=\"mask0_112_62\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"100\" height=\"50\">\n              <path d=\"M100 0C100 27.6142 77.6142 50 50 50C22.3858 50 0 27.6142 0 0H100Z\" fill=\"white\" />\n            </mask>\n            <g mask=\"url(#mask0_112_62)\">\n              <rect width=\"100\" height=\"50\" fill=\"var(--chipBackground)\" />\n              {lines.map((line) =>\n                !line.hidden ? (\n                  <path\n                    key={`${line.start}${line.end}`}\n                    d={`M${line.start} 0H${line.end}V50H${line.start}V0Z`}\n                    fill=\"white\"\n                    fillOpacity=\"0.8\"\n                  />\n                ) : null\n              )}\n              <rect width=\"100\" height=\"50\" fill=\"#000000\" fillOpacity={0.2 + 0.2 * tiltComponents.tiltSin} />\n            </g>\n          </svg>\n        </span>\n      </span>\n    </span>\n  );\n};\n","import type { CSSProperties, FC } from 'react';\nimport { useMemo, useRef } from 'react';\n\nimport { ChipValueFormatter } from '../../../../../formatters/ChipValueFormatter/ChipValueFormatter';\nimport { useModifiers } from '../../../../../styles/hooks/useModifiers';\nimport type { ChipViewProps } from '../../types';\nimport { ChipCalculationHook } from '../lib';\n\nimport { ChipDepth } from './ChipDepth';\n\nimport styles from './Chip3d.module.css';\n\ninterface CustomCSSProps extends CSSProperties {\n  '--chipSize': string;\n  '--tilt': string;\n  '--tiltSin': string;\n  '--tiltCos': string;\n  '--chipBackground': string;\n  '--rotate': string;\n  '--rotateX': string;\n  '--rotateY': string;\n}\n\nconst mathPi2 = Math.PI / 2;\nconst mathPi180 = Math.PI / 180;\nexport const Chip3d: FC<ChipViewProps> = ({\n  color,\n  locale,\n  size = 100,\n  weight,\n  value,\n  postfix,\n  tilt = 0,\n  rotate = 0,\n}) => {\n  const chipRef = useRef<HTMLDivElement>(null);\n  const valueRef = useRef<HTMLDivElement>(null);\n\n  const mods = useModifiers(styles, 'chip', { grow: size === 'grow' }, { withBaseClass: true });\n\n  ChipCalculationHook({ chipRef, valueRef });\n\n  const containerMods = useModifiers(\n    styles,\n    'chip__container',\n    {\n      [`weight${weight}`]: true,\n    },\n    { withBaseClass: true }\n  );\n\n  const tiltComponents = useMemo(() => {\n    const tiltTransformed = mathPi2 * (1 - tilt);\n    const tiltSin = Math.sin(tiltTransformed);\n    const tiltCos = Math.cos(tiltTransformed);\n    return { tiltSin, tiltCos };\n  }, [tilt]);\n\n  const rotateComponents = useMemo(() => {\n    const rotationAngle = rotate * mathPi180;\n    const rotateX = Math.sin(rotationAngle);\n    const rotateY = Math.cos(rotationAngle);\n    return { rotateX, rotateY };\n  }, [rotate]);\n\n  const computeStyles = useMemo((): CustomCSSProps => {\n    const styles = {} as CustomCSSProps;\n\n    if (size !== 'inherit' && size !== 'grow') {\n      styles['--chipSize'] = `${size}px`;\n    }\n\n    styles['--tiltSin'] = `${tiltComponents.tiltSin}`;\n    styles['--tiltCos'] = `${tiltComponents.tiltCos}`;\n    styles['--tilt'] = `${tilt}`;\n    styles['--rotateX'] = `${rotateComponents.rotateX}`;\n    styles['--rotateY'] = `${rotateComponents.rotateY}`;\n    styles['--rotate'] = `${rotate}deg`;\n\n    if (color) {\n      styles['--chipBackground'] = color;\n    }\n\n    return styles;\n  }, [\n    size,\n    tiltComponents.tiltSin,\n    tiltComponents.tiltCos,\n    tilt,\n    rotateComponents.rotateX,\n    rotateComponents.rotateY,\n    rotate,\n    color,\n  ]);\n\n  return (\n    <span className={containerMods} style={computeStyles}>\n      <span className={styles.chip__shadow} />\n      {tilt ? <ChipDepth rotate={rotate} tiltComponents={tiltComponents} /> : null}\n      <span className={styles.chip__surface} />\n      <span className={mods} ref={chipRef}>\n        <span className={styles.chip__valueContainer}>\n          <span className={styles.chip__value} ref={valueRef}>\n            {ChipValueFormatter.format(locale, value)}\n            {postfix}\n          </span>\n        </span>\n      </span>\n      <span className={styles.chip__glare} />\n    </span>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"drawer__wrapper\":\"hK_hL\",\"drawer__wrapper_open\":\"hK_hM\",\"fadeInWrapper\":\"hK_hN\",\"drawer__wrapper_close\":\"hK_hO\",\"fadeOutWrapper\":\"hK_hP\",\"drawer\":\"hK_gj\",\"drawer_bottom\":\"hK_hQ\",\"drawer_open\":\"hK_hR\",\"openBottomAnimation\":\"hK_hS\",\"drawer_close\":\"hK_hT\",\"closeBottomAnimation\":\"hK_hU\",\"drawer_right\":\"hK_hV\",\"openRightAnimation\":\"hK_hW\",\"closeRightAnimation\":\"hK_hX\",\"drawer_left\":\"hK_hY\",\"openLeftAnimation\":\"hK_hZ\",\"closeLeftAnimation\":\"hK_h0\",\"drawer__content\":\"hK_h1\",\"drawer__header\":\"hK_ia\",\"drawer_temporary\":\"hK_ib\",\"drawer__moveBtn\":\"hK_ic\",\"drawer__header_bg\":\"hK_ie\",\"drawer__close\":\"hK_if\",\"backdrop\":\"hK_ig\"};","import type {\n  CSSProperties,\n  FC,\n  MouseEventHandler,\n  PropsWithChildren,\n  ReactElement,\n  TouchEventHandler,\n  WheelEventHandler,\n} from 'react';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useModifiers } from '../../styles/hooks/useModifiers';\nimport { IconButton, Icons } from '../controls/iconButton/IconButton';\n\nimport styles from './DrawerRoot.module.css';\n\nexport interface ICustomStyleSchema {\n  /** Elevation of the drawer var(--core-elevation-above-menu) as default */\n  '--droverElevation'?: number | string;\n  /** Background of the drawer */\n  '--droverBackground'?: string;\n  /** Background of the backdrop */\n  '--backdropBackground'?: string;\n  /** Background of the header */\n  '--droverHeaderBackground'?: string;\n  /** Scroll color */\n  '--scrollColor'?: string;\n}\n\nexport enum DrawerVariant {\n  permanent = 'permanent',\n  content = 'content',\n  temporary = 'temporary',\n}\n\nexport enum DrawerAnchor {\n  bottom = 'bottom',\n  left = 'left',\n  right = 'right',\n}\n\nexport interface DrawerRootProps extends PropsWithChildren {\n  /** Content of the drawer ReactElement (string for storybook) */\n  children: ReactElement | string;\n  /** Drawer is open */\n  open: boolean;\n  /** Anchor of the drawer \"bottom\" as default  */\n  anchor?: DrawerAnchor;\n  /** Show backdrop */\n  backdrop?: boolean;\n  /** Class name for drawer */\n  className?: string;\n  /** Class name for content */\n  contentClassName?: string;\n  /** Custom style schema */\n  customStyle?: ICustomStyleSchema;\n  /** Props for Drawer */\n  drawerProps?: Record<string, unknown>;\n  /** footer of the drawer ReactElement */\n  footer?: ReactElement;\n  /** Header of the drawer ReactElement (string for storybook) */\n  header?: ReactElement | string;\n  /* height of drover 325px as default for permanent and temporary variant */\n  height?: string;\n  /** 450px as default */\n  maxWidth?: string;\n  /** Close function */\n  onClose?: () => void;\n  /** space between top of the page and drover 0px as default. You can use CSS var like var(--core-size-ribbon)  */\n  topMargin?: string;\n  /** Variant of the drawer  \"content\" as default  */\n  variant?: DrawerVariant;\n}\n\nconst THRESHOLD_TOUCH_MOVE = 30;\n\n/**\n * Drawer\n *\n * The \"CoreDrawer\" component is designed to be used as a drawer or side panel,\n * providing different scenarios and variations for users to interact with.\n * It can be used as a permanent drawer, temporary drawer, or a content drawer.\n * The drawer can be anchored to the bottom, left, or right of the screen.\n * The drawer can be opened and closed by the user or by the application.\n * The drawer can be used with or without a backdrop.\n * The drawer can be used with or without a header.\n */\nexport const CoreDrawer: FC<DrawerRootProps> = ({\n  anchor = 'bottom',\n  backdrop = true,\n  children,\n  className = '',\n  contentClassName = '',\n  customStyle,\n  drawerProps,\n  footer = null,\n  header,\n  height,\n  maxWidth,\n  onClose,\n  open,\n  topMargin = '0',\n  variant,\n}): ReactElement | null => {\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isVisible, setIsVisible] = useState(false);\n  const [noGrow, setNoGrow] = useState(false);\n\n  const [wrapperHeight, setWrapperHeight] = useState(0);\n  const [drawerHeight, setDrawerHeight] = useState(0);\n  const [heightModifier, setHeightModifier] = useState(0);\n\n  const [moveObject, setMoveObject] = useState({\n    isStartMove: false,\n    startModifier: 0,\n    startY: 0,\n    touchDirection: 0,\n    track: 0,\n  });\n  const [endTouchStyle, setEndTouchStyle] = useState({});\n\n  const isPermanent = variant === 'permanent' && anchor === 'bottom';\n  const isTemporary = variant === 'temporary' && anchor === 'bottom';\n  const deltaHeight = wrapperHeight - drawerHeight;\n\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (heightModifier > 0) return;\n    if (isTemporary) {\n      const scrollHeight = contentRef.current?.scrollHeight;\n      const clientHeight = contentRef.current?.clientHeight;\n\n      const isMaxGrow = scrollHeight && clientHeight && scrollHeight <= clientHeight;\n\n      setNoGrow(Boolean(isMaxGrow));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isVisible, children, variant, anchor]);\n\n  const handleResize = (): void => {\n    const wrapperRect = wrapperRef.current?.getBoundingClientRect();\n    const drawerRect = drawerRef.current?.getBoundingClientRect();\n\n    if (wrapperRect && drawerRect) {\n      setWrapperHeight(wrapperRect.height);\n      setDrawerHeight(drawerRect.height);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize, { passive: true });\n    handleResize();\n\n    return () => {\n      setHeightModifier(0);\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [isVisible]);\n\n  const styleInlineWrapper = Object.assign(\n    {\n      top: topMargin,\n      pointerEvents: backdrop ? 'auto' : 'none',\n    },\n    customStyle || {}\n  );\n\n  const styleInlineDrawer = Object.assign(\n    {},\n    maxWidth && { maxWidth },\n    (isPermanent || isTemporary) && {\n      height: height ? `calc(${height} + ${heightModifier})` : `calc(325px + ${heightModifier}px)`,\n    },\n    (isPermanent || isTemporary) && endTouchStyle\n  );\n\n  useEffect(() => {\n    open ? setIsVisible(true) : setIsAnimating(true);\n  }, [isAnimating, open]);\n\n  const onAnimationEnd = (): void => {\n    setIsAnimating(false);\n\n    if (!open) {\n      setIsVisible(false);\n    }\n  };\n\n  const handleClose = (): void => {\n    onClose?.();\n  };\n\n  const temporaryHandelScroll: WheelEventHandler<HTMLDivElement> = (e): void => {\n    e.stopPropagation();\n    setEndTouchStyle({});\n    const wheelDelta = e.nativeEvent.deltaY;\n\n    const direction = wheelDelta > 0 ? 1 : -1;\n    const moduleGep = Math.floor(Math.abs(wheelDelta) / 2);\n\n    const shouldGrow = deltaHeight > heightModifier && direction === 1;\n    const shouldDecrease = heightModifier > 0 && direction === -1;\n\n    if (shouldGrow && !noGrow) {\n      setHeightModifier((prev) => (prev + moduleGep >= deltaHeight ? deltaHeight : prev + moduleGep));\n      e.preventDefault();\n      return;\n    }\n\n    const scrollStart = contentRef.current?.scrollTop;\n    const isScrollStart = scrollStart && scrollStart > 0;\n\n    if (shouldDecrease && !isScrollStart) {\n      setHeightModifier((prev) => (prev - moduleGep <= 0 ? 0 : prev - moduleGep));\n      e.preventDefault();\n    }\n  };\n\n  const handleStart = (startY: number): void => {\n    setEndTouchStyle({});\n    setMoveObject((prev) => ({\n      ...prev,\n      startModifier: heightModifier,\n      isStartMove: true,\n      startY,\n    }));\n  };\n\n  const handleTouchStart: TouchEventHandler<HTMLDivElement> = (event): void => {\n    const startY = event.touches[0].pageY;\n    handleStart(startY);\n  };\n\n  const handleMouseStart: MouseEventHandler<HTMLDivElement> = (event): void => {\n    event.preventDefault();\n    const startY = event.clientY;\n    handleStart(startY);\n  };\n\n  const handleMove = (pageY: number): void => {\n    if (!moveObject.isStartMove) return;\n    const delta = pageY - moveObject.startY;\n    const start = moveObject.startModifier;\n    const direction = delta > 0 ? -1 : 1;\n\n    setMoveObject((prev) => ({\n      ...prev,\n      track: Math.abs(delta),\n      touchDirection: direction,\n    }));\n\n    const alreadyMax = wrapperHeight <= drawerHeight + heightModifier;\n    const shouldStop = start > 0 && heightModifier <= 0;\n    if ((direction === 1 && !(noGrow || alreadyMax)) || (direction === -1 && !shouldStop)) {\n      setHeightModifier(start + delta * -1);\n    }\n  };\n\n  const handleTouchMove: TouchEventHandler<HTMLDivElement> = (event) => {\n    const pageY = event.touches[0].pageY;\n    event.preventDefault();\n    handleMove(pageY);\n  };\n\n  const handleMouseMove: MouseEventHandler<HTMLDivElement> = (event) => {\n    const pageY = event.clientY;\n    if (!moveObject.isStartMove) return;\n    event.preventDefault();\n    handleMove(pageY);\n  };\n\n  const handleTouchEnd = (): void => {\n    if (!moveObject.isStartMove || !drawerRef.current) return;\n\n    const direction = moveObject.touchDirection;\n    if (direction === 0) return;\n\n    if (moveObject.track < THRESHOLD_TOUCH_MOVE) {\n      setHeightModifier(moveObject.startModifier);\n      setEndTouchStyle({\n        transition: 'height 0.3s',\n      });\n      setMoveObject({\n        isStartMove: false,\n        startY: 0,\n        startModifier: 0,\n        touchDirection: 0,\n        track: 0,\n      });\n      return;\n    }\n    setMoveObject({\n      isStartMove: false,\n      startY: 0,\n      startModifier: 0,\n      touchDirection: 0,\n      track: 0,\n    });\n\n    if (direction === 1) {\n      if (noGrow) return;\n\n      setHeightModifier(deltaHeight);\n      setEndTouchStyle({\n        transition: 'height 0.3s',\n      });\n      return;\n    }\n\n    if (direction === -1) {\n      if (moveObject.startModifier <= 0) {\n        handleClose();\n        return;\n      }\n\n      setHeightModifier(0);\n      setEndTouchStyle({\n        transition: 'height 0.3s ease-in-out',\n      });\n    }\n  };\n\n  const [backdropSwipeObject, setBackdropSwipeObject] = useState({\n    isStartSwipe: false,\n    startY: 0,\n    track: 0,\n  });\n\n  const handleBackdropSwipeStart: TouchEventHandler<HTMLDivElement> = (event) => {\n    const startY = event.touches[0].pageY;\n    setBackdropSwipeObject((prev) => ({\n      ...prev,\n      isStartSwipe: true,\n      startY,\n    }));\n  };\n\n  const handleBackdropSwipeMove: TouchEventHandler<HTMLDivElement> = (event) => {\n    if (!backdropSwipeObject.isStartSwipe) return;\n    const pageY = event.touches[0].pageY;\n    const delta = pageY - backdropSwipeObject.startY;\n\n    setBackdropSwipeObject((prev) => ({\n      ...prev,\n      track: delta,\n    }));\n  };\n\n  const handleBackdropSwipeEnd = (): void => {\n    if (!backdropSwipeObject.isStartSwipe) return;\n\n    if (backdropSwipeObject.track < THRESHOLD_TOUCH_MOVE) {\n      setBackdropSwipeObject({\n        isStartSwipe: false,\n        startY: 0,\n        track: 0,\n      });\n      return;\n    }\n\n    setBackdropSwipeObject({\n      isStartSwipe: false,\n      startY: 0,\n      track: 0,\n    });\n\n    handleClose();\n  };\n\n  const onBackdropSwipeDown = {\n    onTouchStart: handleBackdropSwipeStart,\n    onTouchMove: handleBackdropSwipeMove,\n    onTouchEnd: handleBackdropSwipeEnd,\n  };\n\n  const drawerTemporaryEvents = isTemporary\n    ? {\n        onTouchStart: handleTouchStart,\n        onMouseDown: handleMouseStart,\n        onTouchMove: handleTouchMove,\n        onMouseMove: handleMouseMove,\n        onTouchEnd: handleTouchEnd,\n        onMouseUp: handleTouchEnd,\n        onMouseLeave: handleTouchEnd,\n      }\n    : null;\n\n  const modsWrapper = useModifiers(\n    styles,\n    'drawer__wrapper',\n    {\n      open: open,\n      close: !open,\n    },\n    { withBaseClass: true }\n  );\n\n  const modsDrawer = useModifiers(\n    styles,\n    'drawer',\n    {\n      open: open,\n      close: !open,\n      bottom: anchor === 'bottom',\n      left: anchor === 'left',\n      right: anchor === 'right',\n      temporary: isTemporary,\n    },\n    { withBaseClass: true }\n  );\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div\n      className={modsWrapper}\n      style={styleInlineWrapper as CSSProperties}\n      onAnimationEnd={onAnimationEnd}\n      ref={wrapperRef}\n    >\n      <div\n        data-testid=\"drawer\"\n        className={`${modsDrawer} ${className}`}\n        style={styleInlineDrawer as CSSProperties}\n        ref={drawerRef}\n        onWheelCapture={isTemporary ? temporaryHandelScroll : undefined}\n        {...drawerProps}\n      >\n        {isTemporary && !noGrow ? <div className={styles.drawer__moveBtn} {...drawerTemporaryEvents} /> : null}\n        <div\n          className={`${styles.drawer__header} ${header ? styles.drawer__header_bg : ''}`}\n          {...drawerTemporaryEvents}\n        >\n          {header}\n          <IconButton\n            data-testid=\"drawer-close-button\"\n            className={`${styles.drawer__close}`}\n            ghost\n            icon={Icons.Close}\n            large\n            onClick={handleClose}\n          />\n        </div>\n        <div className={`${styles.drawer__content} ${contentClassName}`} ref={contentRef}>\n          {children}\n        </div>\n        {footer}\n      </div>\n      {backdrop ? <div className={styles.backdrop} onClick={handleClose} {...onBackdropSwipeDown} /> : null}\n    </div>\n  );\n};\n","import type { FunctionComponent, PropsWithChildren } from 'react';\nimport { createContext, useContext, useEffect, useState } from 'react';\n\nimport type { AllowedGlobals } from '../../utils/window';\n\nexport interface LegacyContextState {\n  scale: number;\n  resX: number;\n  resY: number;\n  innerWidth: number;\n  innerHeight: number;\n  isMinPortrait: boolean;\n  isMinLandscape: boolean;\n  isLegacyMode: boolean;\n}\n\nconst initialContextValue: LegacyContextState = {\n  scale: 1,\n  resX: 1920,\n  resY: 1080,\n  innerWidth: 1920,\n  innerHeight: 1080,\n  isMinPortrait: false,\n  isMinLandscape: false,\n  isLegacyMode: Boolean((window as AllowedGlobals).legacyMode),\n};\nconst LegacyContext = createContext(initialContextValue);\n\nexport const useLegacyContext = (): LegacyContextState => useContext(LegacyContext);\n\nexport const LegacyContextProvider: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  const [state, setState] = useState<LegacyContextState>(initialContextValue);\n\n  useEffect(() => {\n    if (!state.isLegacyMode) return;\n    const receiveMessage = (event: MessageEvent): void => {\n      if (event.data?.type === 'LegacyResize') {\n        setState({\n          scale: event.data.scale,\n          resX: event.data.resX,\n          resY: event.data.resY,\n          innerWidth: event.data.innerWidth,\n          innerHeight: event.data.innerHeight,\n          isMinPortrait: event.data.isMinPortrait,\n          isMinLandscape: event.data.isMinLandscape,\n          isLegacyMode: true,\n        });\n      }\n    };\n    window.addEventListener('message', receiveMessage);\n    return () => window.removeEventListener('message', receiveMessage);\n  }, [state.isLegacyMode]);\n\n  return <LegacyContext.Provider value={state}>{children}</LegacyContext.Provider>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"borderWrapper\":\"ug_uh\",\"svg\":\"ug_ui\"};","import type { FunctionComponent, ReactNode } from 'react';\nimport { useCallback, useEffect, useId, useMemo, useRef, useState } from 'react';\n\nimport { GameButtonSize } from '../gameButton';\n\nimport { CSSGradientToSVG, getDefaultGradient } from './utils';\n\nimport styles from './BorderGradient.module.css';\n\nexport interface BorderGradientProps {\n  gradient: boolean | string;\n  size?: GameButtonSize;\n  label?: ReactNode;\n}\n\ninterface ISizeState {\n  width: number;\n  height: number;\n}\n\nconst BorderGradient: FunctionComponent<BorderGradientProps> = ({ gradient, size, label }) => {\n  const gradientRef = useRef<HTMLDivElement>(null);\n  const [sizeState, setSizeState] = useState<ISizeState | null>(null);\n\n  const gradientID = 'buttonBorderGradient_' + useId();\n\n  const handleSize = useCallback(() => {\n    if (gradientRef.current) {\n      const { height, width } = gradientRef.current.getBoundingClientRect();\n\n      setSizeState({ width: Math.floor(width * 10), height: Math.floor(height * 10) });\n    }\n  }, []);\n\n  const gradientElement = useMemo(() => {\n    return typeof gradient === 'boolean' ? getDefaultGradient(gradientID) : CSSGradientToSVG(gradient, gradientID);\n  }, [gradient, gradientID]);\n\n  useEffect(() => {\n    if (gradientRef.current) {\n      handleSize();\n\n      if (!size) {\n        window.addEventListener('resize', handleSize, { passive: true });\n\n        return () => {\n          window.removeEventListener('resize', handleSize);\n        };\n      }\n    }\n    // do not delete label from the dependencies\n  }, [handleSize, size, label]);\n\n  return (\n    <span className={styles.borderWrapper} ref={gradientRef}>\n      {sizeState ? (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={styles.svg}\n          viewBox={`0 0 ${sizeState.width} ${sizeState.height}`}\n        >\n          <rect\n            x=\"5\"\n            y=\"5\"\n            width={sizeState.width - 10}\n            height={sizeState.height - 10}\n            strokeWidth=\"10\"\n            stroke={`url(#${gradientID})`}\n            rx=\"80\"\n            fill=\"none\"\n          />\n          <defs>{gradientElement}</defs>\n        </svg>\n      ) : null}\n    </span>\n  );\n};\n\nexport default BorderGradient;\n","import type { ReactElement } from 'react';\n\nexport interface IParseGradientReturn {\n  angleOrDirection?: string;\n  stops: ({ color: string; offset: string } | undefined)[];\n}\n\nconst parseCSSGradient = (gradient: string): IParseGradientReturn | void => {\n  const linearGradientRegex = /linear-gradient\\((.+)\\)/;\n  let gradientData;\n\n  if (linearGradientRegex.test(gradient)) {\n    const matches = linearGradientRegex.exec(gradient);\n\n    if (matches?.[1]) {\n      gradientData = matches[1].split(', ').map((item) => item.trim());\n\n      const angleOrDirection = gradientData.shift();\n      const stops = gradientData.map((stop) => {\n        const [color, offset] = stop.split(' ').filter(Boolean);\n\n        if (color && offset) {\n          return { color, offset };\n        }\n      });\n\n      return { angleOrDirection, stops };\n    }\n  }\n};\nexport interface ICalculateLinearGradientCoordsReturn {\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n}\n\nconst calculateLinearGradientCoords = (angle: number): ICalculateLinearGradientCoordsReturn => {\n  const radians = (angle * Math.PI) / 180;\n  const x1 = Math.round(50 + 50 * Math.cos(radians));\n  const y1 = Math.round(50 + 50 * Math.sin(radians));\n  const x2 = Math.round(50 - 50 * Math.cos(radians));\n  const y2 = Math.round(50 - 50 * Math.sin(radians));\n\n  return { x1, y1, x2, y2 };\n};\n\nexport const CSSGradientToSVG = (gradientString: string, id: string): ReactElement | null => {\n  const gradientData = parseCSSGradient(gradientString);\n  if (!gradientData) {\n    return null;\n  }\n\n  const { angleOrDirection = '', stops } = gradientData;\n  let angle = 0;\n\n  switch (angleOrDirection) {\n    case '':\n    case 'to bottom':\n      angle = 180;\n      break;\n    case 'to right':\n      angle = 90;\n      break;\n    case 'to left':\n      angle = 270;\n      break;\n    case 'to top':\n      break;\n    default:\n      if (angleOrDirection.includes('deg')) {\n        angle = parseFloat(angleOrDirection);\n      }\n      break;\n  }\n\n  const { x1 = 0, y1 = 0, x2 = 100, y2 = 100 } = calculateLinearGradientCoords(angle);\n\n  const stopsGradient: ReactElement[] = [];\n  stops.forEach((stop, index) => {\n    if (!stop) return;\n\n    stopsGradient.push(\n      <stop key={stop.offset} offset={stop.offset || `${(index / (stops.length - 1)) * 100}%`} stopColor={stop.color} />\n    );\n  });\n\n  return (\n    <linearGradient id={id} x1={`${x1}%`} y1={`${y1}%`} x2={`${x2}%`} y2={`${y2}%`}>\n      {stopsGradient}\n    </linearGradient>\n  );\n};\n\nexport const getDefaultGradient = (gradientID: string): ReactElement => {\n  return (\n    <linearGradient id={gradientID}>\n      <stop stopColor=\"#DEBE44\" />\n      <stop offset=\"0.25\" stopColor=\"#395CB6\" />\n      <stop offset=\"0.50\" stopColor=\"#CE4C92\" />\n      <stop offset=\"0.75\" stopColor=\"#B5385A\" />\n      <stop offset=\"1\" stopColor=\"#F2B865\" />\n    </linearGradient>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"gameButton\":\"uj_qL\",\"gameButton__innerWrapper\":\"uj_qV\",\"gameButton_grow\":\"uj_qQ\",\"gameButton__badge\":\"uj_qW\",\"gameButton_isPassive\":\"uj_qR\",\"gameButton_pulse\":\"uj_qS\",\"pulse\":\"uj_qT\",\"gameButton_active\":\"uj_qP\",\"gameButton__border\":\"uj_uk\",\"gameButton_border\":\"uj_ul\",\"gameButton__content\":\"uj_um\"};","import type { ButtonHTMLAttributes, ReactNode } from 'react';\nimport { forwardRef } from 'react';\n\nimport { useModifiers } from '../../../../styles/hooks/useModifiers';\nimport { Badge, BadgeSize } from '../../../controls/badge/Badge';\nimport { Icon, Icons } from '../../../icons';\n\nimport styles from './gameButton.module.css';\n\nexport interface GameButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  icon?: keyof Icons;\n  active?: boolean;\n  border?: boolean;\n  pulse?: boolean;\n  label?: ReactNode;\n  labelClass?: string;\n  badge?: string | number;\n  grow?: boolean;\n  isPassive?: boolean;\n}\n\nexport const OldGameButton = forwardRef<HTMLDivElement, GameButtonProps>(function GameButtonFunc(\n  { icon, active, border, pulse, label, labelClass, badge, grow, className, isPassive, ...rest },\n  forwardedRef\n) {\n  const mods = useModifiers(styles, 'gameButton', { active, border, pulse, grow, isPassive });\n\n  return (\n    <button className={`${styles.gameButton} ${mods} ${className ?? ''}`} {...rest}>\n      <div className={styles.gameButton__innerWrapper} ref={forwardedRef}>\n        <div className={styles.gameButton__border} />\n        <div className={styles.gameButton__content}>\n          {icon ? <Icon icon={icon} /> : null}\n          {label ? <div className={`${styles.gameButton__label} ${labelClass ?? ''}`}>{label}</div> : null}\n        </div>\n      </div>\n      {badge ? (\n        <span className={styles.gameButton__badge}>\n          <Badge size={BadgeSize.Medium} value={badge} grow=\"start\" />\n        </span>\n      ) : null}\n    </button>\n  );\n});\n\nOldGameButton.displayName = 'GameButtonOld';\n","// extracted by mini-css-extract-plugin\nexport default {\"gameButton\":\"qK_qL\",\"gameButton_small\":\"qK_qM\",\"gameButton_regular\":\"qK_qN\",\"gameButton_large\":\"qK_qO\",\"gameButton_active\":\"qK_qP\",\"gameButton_grow\":\"qK_qQ\",\"gameButton_isPassive\":\"qK_qR\",\"gameButton_pulse\":\"qK_qS\",\"pulse\":\"qK_qT\",\"gameButton_borderGradient\":\"qK_qU\",\"gameButton__innerWrapper\":\"qK_qV\",\"gameButton__badge\":\"qK_qW\",\"gameButton__icon\":\"qK_qX\"};","import type { ButtonHTMLAttributes, MouseEvent, ReactNode } from 'react';\nimport { forwardRef, useContext } from 'react';\n\nimport { withTooltip } from '../../../components/tooltip/withTooltip';\nimport { useAudioTrigger } from '../../../controllers/audioController/hooks';\nimport { useIsLargerThanExtraWide } from '../../../styles/hooks/media';\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { PassiveComponentContext } from '../../context';\nimport { Badge, BadgeSize } from '../../controls/badge/Badge';\nimport { Icon, Icons } from '../../icons';\n\nimport BorderGradient from './borderGradient/BorderGradient';\nimport { OldGameButton } from './oldVersion/gameButton';\n\nimport styles from './gameButton.module.css';\n\nexport enum GameButtonSize {\n  SMALL = 'small',\n  REGULAR = 'regular',\n  LARGE = 'large',\n}\n\nexport interface GameButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Icon to display on the button */\n  icon?: keyof Icons;\n  /** Whether the button is active or not */\n  active?: boolean;\n  /** Whether it has border or not */\n  border?: boolean;\n  /** Whether the button in an active state should pulse green */\n  pulse?: boolean;\n  /** A name of sound sample to be played */\n  sound?: string;\n  /** Label to display on the button */\n  label?: ReactNode;\n  /** Class name to apply to the label */\n  labelClass?: string;\n  /** Badge to display on the button */\n  badge?: string | number;\n  /** Whether the button should grow to fill its container */\n  grow?: boolean;\n  /** Prevent to use new button style **/\n  forceOldStyle?: boolean;\n  /** *(JUST for new Version)*\n   *\n   * If the size property is not set, it will be automatically calculated based on the screen size.\n   *\n   * (width >= 1366px) and (height >= 500px) = REGULAR\n   *\n   * (width >= 1512px) and (height >= 500px) = LARGE\n   *\n   * small = 32px\n   * regular = 40px\n   * large = 48px\n   **/\n  size?: GameButtonSize;\n  /** *(JUST for new Version)*\n   *\n   * border gradient, if boolean === true, default gradient will be used.\n   *\n   * Otherwise use CSS string linear-gradient\n   * *(full notation with direction and offset should be used)*\n   **/\n  borderGradient?: boolean | string;\n}\n\n/**\n * Game button is a component that is used to display a game control or a chip stack control.\n * Built on the base of: `<button></button>`\n *\n * ## CSS Custom Properties\n * #### Old Version\n * | Name                   | Description                              | Default                    |\n * | ---------------------- | ---------------------------------------- | -------------------------- |\n * | **--borderBackground** | Border color (or gradient) of the button | `--game-border-background` |\n *\n * */\nexport const GameButton = forwardRef<HTMLDivElement, GameButtonProps>(function GameButtonFunc(\n  { forceOldStyle, sound, onClick, size, borderGradient, border, ...props },\n  forwardedRef\n) {\n  const isPassive = useContext(PassiveComponentContext);\n  const audioTrigger = useAudioTrigger();\n\n  const handleClick = (event: MouseEvent<HTMLButtonElement>): void => {\n    audioTrigger.play({ name: sound ?? 'menuClick' });\n    onClick?.(event);\n  };\n\n  const isUseOldVersion = Boolean(forceOldStyle);\n\n  return isUseOldVersion ? (\n    <OldGameButton {...props} isPassive={isPassive} border={border} onClick={handleClick} ref={forwardedRef} />\n  ) : (\n    <GameButtonComponent\n      size={size}\n      isPassive={isPassive}\n      borderGradient={borderGradient}\n      onClick={handleClick}\n      {...props}\n      ref={forwardedRef}\n    />\n  );\n});\n\nexport interface GameButtonComponentProps extends GameButtonProps {\n  isPassive?: boolean;\n}\n\nexport const GameButtonComponent = forwardRef<HTMLDivElement, GameButtonComponentProps>(\n  function GameButtonComponentFunc(\n    {\n      icon,\n      active,\n      pulse,\n      label,\n      labelClass = '',\n      badge,\n      grow,\n      className = '',\n      isPassive,\n      borderGradient,\n      size,\n      ...rest\n    },\n    forwardedRef\n  ) {\n    const mods = useModifiers(styles, 'gameButton', {\n      active,\n      pulse,\n      grow,\n      isPassive,\n      borderGradient: Boolean(borderGradient),\n      [size as string]: true,\n    });\n\n    const isLarge = useIsLargerThanExtraWide();\n\n    const badgeSize = size === GameButtonSize.LARGE || (!size && isLarge) ? BadgeSize.Medium : BadgeSize.Small;\n\n    return (\n      <button type=\"button\" className={`${styles.gameButton} ${mods} ${className}`} {...rest}>\n        {borderGradient ? <BorderGradient gradient={borderGradient} size={size} label={label} /> : null}\n        <span className={styles.gameButton__innerWrapper} ref={forwardedRef}>\n          {icon ? <Icon icon={icon} className={styles.gameButton__icon} /> : null}\n          {label ? <span className={labelClass}>{label}</span> : null}\n        </span>\n        {badge ? (\n          <Badge size={badgeSize} className={styles.gameButton__badge} value={badge} grow=\"start\" impact />\n        ) : null}\n      </button>\n    );\n  }\n);\n\nexport const GameButtonWithTooltip = withTooltip(GameButton);\n\nGameButtonWithTooltip.displayName = 'gameButtonWithTooltip';\n","// extracted by mini-css-extract-plugin\nexport default {\"rangeInput\":\"kP_kQ\",\"rangeInput_disabled\":\"kP_kR\",\"rangeInput_vertical\":\"kP_kS\",\"rangeInput__sliderInput\":\"kP_kT\",\"rangeInput__sliderTrack\":\"kP_kU\",\"rangeInput__sliderYardStick\":\"kP_kV\",\"rangeInput__sliderThumb\":\"kP_kW\",\"rangeInput__sliderProgress\":\"kP_kX\"};","import {\n  CSSProperties,\n  FocusEvent,\n  forwardRef,\n  HTMLAttributes,\n  MouseEvent as ReactMouseEvent,\n  useEffect,\n  useRef,\n} from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\n\nimport styles from './gameRangeInput.module.css';\n\nexport interface GameRangeInputProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange' | 'onDrag' | 'onKeyDown'> {\n  value: number;\n  onChange: (value: number) => void;\n  onDrag: (value: number) => void;\n  onDragStart?: () => void;\n  onDragEnd?: () => void;\n  onKeyDown?: (event: KeyboardEvent) => void;\n  min: number;\n  max: number;\n  step: number;\n  vertical?: boolean;\n  disabled?: boolean;\n}\n\nconst GameRangeInput = forwardRef<HTMLDivElement, GameRangeInputProps>(function GameRangeInputFunc(\n  { value, min, max, onChange, onDrag, onDragStart, onDragEnd, step, onKeyDown, vertical, disabled, ...rest },\n  handleRef\n) {\n  const normalizedValue = Math.max(Math.min(value, max), min);\n\n  const mods = useModifiers(styles, 'rangeInput', { vertical, disabled });\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const valueRef = useRef<number>(normalizedValue);\n\n  useEffect(() => {\n    valueRef.current = normalizedValue;\n  }, [normalizedValue]);\n\n  const valueToProgress = (value: number): number => (value - min) / (max - min);\n  const progressToValue = (progress: number): number => progress * (max - min) + min;\n\n  const roundToStep = (value: number, step: number): number => {\n    return Math.round(value / step) * step;\n  };\n\n  const handleDrag = (event: ReactMouseEvent<HTMLDivElement>): void => {\n    if (disabled) {\n      return;\n    }\n    const { clientY, clientX } = event;\n\n    const wrapperBounds = wrapperRef.current?.getBoundingClientRect();\n    const sliderSize = (vertical ? wrapperBounds?.height : wrapperBounds?.width) ?? 0;\n    // minus origin so that logic won't break on transforms\n    let lastDragPosition = vertical ? clientY - (wrapperBounds?.top || 0) : clientX - (wrapperBounds?.left || 0);\n\n    onDragStart?.();\n\n    const clamp = (value: number, firstBoundary: number, secondBoundary: number): number => {\n      if (firstBoundary < secondBoundary) {\n        return Math.min(Math.max(value, firstBoundary), secondBoundary);\n      }\n      return Math.min(Math.max(value, secondBoundary), firstBoundary);\n    };\n\n    const getProgressFromPosition = (): number => {\n      return vertical ? 1 - lastDragPosition / sliderSize : lastDragPosition / sliderSize;\n    };\n\n    const handleMove = (event: PointerEvent): void => {\n      const position = vertical\n        ? event.clientY - (wrapperBounds?.top || 0)\n        : event.clientX - (wrapperBounds?.left || 0);\n      lastDragPosition = clamp(position, 0, sliderSize);\n      const value = progressToValue(getProgressFromPosition());\n      const result = value === max ? max : roundToStep(value, step);\n      onDrag(result);\n    };\n\n    handleMove(event as any);\n\n    window.addEventListener('pointermove', handleMove, { passive: true });\n\n    const handlePointerUp = (): void => {\n      window.removeEventListener('pointermove', handleMove);\n\n      window.removeEventListener('pointerup', handlePointerUp);\n      window.removeEventListener('touchend', handlePointerUp);\n\n      const value = progressToValue(getProgressFromPosition());\n      const result = value === max ? max : roundToStep(value, step);\n      onChange(result);\n      onDragEnd?.();\n    };\n\n    window.addEventListener('pointerup', handlePointerUp);\n    window.addEventListener('touchend', handlePointerUp);\n  };\n\n  const handleFocus = (event: FocusEvent<HTMLDivElement>): void => {\n    const { target } = event;\n\n    const performStep = (scale: 1 | -1): void => {\n      const fullSteps = Math.round(valueRef.current / step);\n      const newValue = fullSteps * step + step * scale;\n      onChange(Math.max(min, Math.min(max, newValue)));\n    };\n\n    const handleKeyDown = (event: KeyboardEvent): void => {\n      if (event.key === 'ArrowLeft' || event.key === 'ArrowDown') {\n        performStep(-1);\n      } else if (event.key === 'ArrowRight' || event.key === 'ArrowUp') {\n        performStep(1);\n      } else if (event.key === 'Home') {\n        onChange(min);\n      } else if (event.key === 'End') {\n        onChange(max);\n      }\n      onKeyDown?.(event);\n    };\n    target.addEventListener('keydown', handleKeyDown);\n    const handleBlur = (): void => {\n      target.removeEventListener('keydown', handleKeyDown);\n      target.removeEventListener('blur', handleBlur);\n    };\n    target.addEventListener('blur', handleBlur);\n  };\n\n  return (\n    <div className={`${styles.rangeInput} ${mods}`} {...rest}>\n      <div className={styles.rangeInput__sliderYardStick} ref={wrapperRef} />\n      <div\n        className={styles.rangeInput__sliderTrack}\n        style={{ '--sliderProgress': valueToProgress(normalizedValue) } as CSSProperties}\n        onPointerDown={handleDrag}\n      >\n        <div className={styles.rangeInput__sliderProgress}></div>\n        <div\n          className={styles.rangeInput__sliderThumb}\n          tabIndex={disabled ? -1 : 0}\n          role=\"slider\"\n          aria-valuemin={min}\n          aria-valuemax={max}\n          aria-valuenow={normalizedValue}\n          onFocus={handleFocus}\n          ref={handleRef}\n        ></div>\n      </div>\n    </div>\n  );\n});\n\nGameRangeInput.displayName = 'GameRangeInput';\n\nexport { GameRangeInput };\n","// extracted by mini-css-extract-plugin\nexport default {\"controlStateValue\":\"pj_pk\"};","import type { FormEvent } from 'react';\nimport { forwardRef, useImperativeHandle, useState } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { useAutoplaySlice } from '../../../store/slices/autoplay/selectors';\nimport { autoplayActions } from '../../../store/slices/autoplay/slice';\nimport type { AutoplayLimits } from '../../../store/slices/autoplay/types';\nimport { useBetSlice } from '../../../store/slices/bets/selectors';\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { useGameStateSlice } from '../../../store/slices/game/selectors';\nimport { CurrencyConnected } from '../../currency/CurrencyConnected';\nimport { GameRangeInput } from '../../game/gameRangeInput';\nimport { L12nText } from '../../text/L12nText';\n\nimport styles from './AutoplayLimitsConnected.module.css';\n\nexport interface AutoPlayLimitRef {\n  onSubmit: (event: FormEvent<HTMLFormElement>) => boolean;\n}\n\nconst MIN_BET_LIMIT_MULTIPLIER = 10_000;\n\nconst AutoPlayLimitInputsConnected = forwardRef<AutoPlayLimitRef>(function AutoPlayLimitRefFunc(_, ref) {\n  const dispatch = useCoreDispatch();\n  const balance = useGameStateSlice.getDeductibleBalance();\n  const limitConfigs = useConfigSlice.compliance()?.extendedAutoplay;\n  const currentLimitValues = useAutoplaySlice.getAutoplayLimits();\n  const decimals = useGameStateSlice.getCurrencyInfo()?.digitsNumber || 2;\n\n  const [decreaseLimit, setDecreaseLimit] = useState(currentLimitValues?.balanceDecreaseLimit || 0);\n  const [increaseLimit, setIncreaseLimit] = useState(currentLimitValues?.balanceIncreaseLimit || 0);\n  const [winLimit, setWinLimit] = useState(currentLimitValues?.singleWinLimit || 0);\n  const minBet = useBetSlice.getMinBet();\n\n  const [requiredError, setRequiredError] = useState(false);\n\n  useImperativeHandle(ref, () => ({\n    onSubmit(): boolean {\n      if (limitConfigs) {\n        if (!decreaseLimit) {\n          setRequiredError(true);\n          return false;\n        }\n\n        const limits: AutoplayLimits = {\n          singleWinLimit: winLimit || null,\n          balanceIncreaseLimit: increaseLimit || null,\n          balanceDecreaseLimit: decreaseLimit,\n        };\n\n        dispatch(autoplayActions.setLimits(limits));\n      }\n\n      return true;\n    },\n  }));\n\n  if (!limitConfigs) return null;\n\n  const sliderStep = Math.pow(1 / 10, decimals);\n\n  const stopDecrease = decreaseLimit > 0 && !requiredError;\n  return (\n    <>\n      <p style={{ marginTop: 0 }}>\n        <L12nText tk=\"STOP_DECREASES\" />*\n        <br />\n        <span className={styles.controlStateValue}>\n          ({stopDecrease ? <CurrencyConnected value={decreaseLimit} /> : <L12nText tk=\"REQUIRED\" />})\n        </span>\n        <br />\n      </p>\n\n      <GameRangeInput\n        value={decreaseLimit}\n        onChange={(val): void => {\n          setDecreaseLimit(val);\n          setRequiredError(false);\n        }}\n        onDrag={setDecreaseLimit}\n        min={0}\n        max={balance > 0 ? balance : 100}\n        step={sliderStep}\n      />\n\n      <p>\n        <L12nText tk=\"STOP_INCREASES\" />\n        <br />\n        <span className={styles.controlStateValue}>\n          ({increaseLimit > 0 ? <CurrencyConnected value={increaseLimit} /> : <L12nText tk=\"OFF\" />})\n        </span>\n      </p>\n\n      <GameRangeInput\n        value={increaseLimit}\n        onChange={setIncreaseLimit}\n        onDrag={setIncreaseLimit}\n        min={0}\n        max={MIN_BET_LIMIT_MULTIPLIER * minBet}\n        step={sliderStep}\n      />\n\n      <p>\n        <L12nText tk=\"STOP_SINGLE_EXCEEDS\" />\n        <br />\n        <span className={styles.controlStateValue}>\n          ({winLimit > 0 ? <CurrencyConnected value={winLimit} /> : <L12nText tk=\"OFF\" />})\n        </span>\n      </p>\n      <GameRangeInput\n        value={winLimit}\n        onChange={setWinLimit}\n        onDrag={setWinLimit}\n        min={0}\n        max={MIN_BET_LIMIT_MULTIPLIER * minBet}\n        step={sliderStep}\n      />\n    </>\n  );\n});\n\nAutoPlayLimitInputsConnected.displayName = 'AutoPlayLimitInputsConnected';\n\nexport { AutoPlayLimitInputsConnected };\n","import type { FunctionComponent, ReactElement } from 'react';\n\nimport styles from './TooltipRoot.module.css';\n\nexport const TooltipRoot: FunctionComponent = (): ReactElement => (\n  <div className={styles.tooltipRoot} id=\"tooltipRoot\" />\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"tooltipRoot\":\"z_A\"};","import type { MouseEvent, ReactElement } from 'react';\n\nimport { GameCommunicationBetSender } from '../../../../controllers/gameCommunication/senders/GameCommunicationBetSender';\nimport { Logger } from '../../../../logger/Logger';\nimport { useCoreDispatch } from '../../../../store/CoreStore';\nimport { useBetSlice } from '../../../../store/slices/bets/selectors';\nimport { betActions } from '../../../../store/slices/bets/slice';\nimport { useGameStateSlice } from '../../../../store/slices/game/selectors';\nimport { type GameButtonProps, GameButtonWithTooltip } from '../../../game/gameButton/gameButton';\nimport { Icons } from '../../../icons/iconNames';\n\nconst betSender = new GameCommunicationBetSender();\n\nexport interface UndoControlConnectedProps extends Omit<GameButtonProps, 'icon'> {}\n\nexport const UndoControlConnected = ({ disabled, onClick, ...rest }: UndoControlConnectedProps): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const bets = useBetSlice.bets();\n  const isBetsOpenStatus = useGameStateSlice.isBetsOpenStatus();\n\n  const handleUndo = (event: MouseEvent<HTMLButtonElement>): void => {\n    dispatch(betActions.popBet());\n    Logger.logEvent('click', 'undo', Date.now(), 1, '', false);\n    betSender.dispatch();\n    onClick?.(event);\n  };\n\n  const isDisabled = disabled || !bets || !isBetsOpenStatus;\n\n  return (\n    <GameButtonWithTooltip\n      data-testid=\"undo-button\"\n      border\n      disabled={isDisabled}\n      icon={Icons.Undo}\n      onClick={handleUndo}\n      sound=\"undoClick\"\n      tooltipOptions={{\n        disabled: isDisabled,\n        text: 'UNDO',\n      }}\n      {...rest}\n    />\n  );\n};\n","import type { MouseEvent, ReactElement } from 'react';\n\nimport { GameCommunicationBetSender } from '../../../../controllers/gameCommunication/senders/GameCommunicationBetSender';\nimport { Logger } from '../../../../logger/Logger';\nimport { useDoubleBetEnabled } from '../../../../store/apiHooks/useDoubleBetEnabled';\nimport { useCoreDispatch } from '../../../../store/CoreStore';\nimport { useBetSlice } from '../../../../store/slices/bets/selectors';\nimport { betActions } from '../../../../store/slices/bets/slice';\nimport { useGameStateSlice } from '../../../../store/slices/game/selectors';\nimport { type GameButtonProps, GameButtonWithTooltip } from '../../../game/gameButton/gameButton';\nimport { Icons } from '../../../icons/iconNames';\n\nconst betSender = new GameCommunicationBetSender();\n\nexport interface ReBetControlConnectedProps extends Omit<GameButtonProps, 'icon'> {\n  tooltip?: string;\n}\n\nexport const ReBetControlConnected = ({\n  disabled,\n  onClick,\n  tooltip,\n  ...rest\n}: ReBetControlConnectedProps): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const isDoubleBetEnabled = useDoubleBetEnabled();\n\n  const bets = useBetSlice.bets();\n  const isBetsOpenStatus = useGameStateSlice.isBetsOpenStatus();\n  const decimals = useGameStateSlice.getCurrencyInfo()?.digitsNumber || 2;\n  const balance = useGameStateSlice.getDeductibleBalance();\n  const isReBetEnabled = useBetSlice.isReBetEnabled(balance, decimals);\n  const hasTotalBet = useBetSlice.hasTotalBet();\n\n  const handleReBet = (event: MouseEvent<HTMLButtonElement>): void => {\n    dispatch(betActions.reBet({ balance, decimals }));\n    Logger.logEvent('click', 'reBet', Date.now(), 1, '', false);\n    betSender.dispatch();\n    onClick?.(event);\n  };\n\n  const handleDoubleBet = (event: MouseEvent<HTMLButtonElement>): void => {\n    dispatch(betActions.doubleBet({ balance, decimals }));\n    Logger.logEvent('click', 'doubleBet', Date.now(), 1, '', false);\n    betSender.dispatch();\n    onClick?.(event);\n  };\n\n  const isDisabled = disabled || !isBetsOpenStatus;\n  const doubleBetDisabled = isDisabled || !isDoubleBetEnabled;\n  const reBetDisabled = isDisabled || !isReBetEnabled;\n\n  return bets && hasTotalBet ? (\n    <GameButtonWithTooltip\n      data-testid=\"double-bet-button\"\n      border\n      disabled={doubleBetDisabled}\n      icon={Icons.DoubleBet}\n      onClick={handleDoubleBet}\n      pulse\n      sound=\"doubleBet\"\n      tooltipOptions={{\n        disabled: doubleBetDisabled,\n        text: tooltip || 'DOUBLE',\n      }}\n      {...rest}\n    />\n  ) : (\n    <GameButtonWithTooltip\n      data-testid=\"re-bet-button\"\n      border\n      disabled={reBetDisabled}\n      icon={Icons.Update}\n      onClick={handleReBet}\n      pulse\n      sound=\"reBet\"\n      tooltipOptions={{\n        disabled: reBetDisabled,\n        text: tooltip || 'REBET',\n      }}\n      {...rest}\n    />\n  );\n};\n","import { Logger } from './Logger';\n\nexport enum BetStatusWatcherStates {\n  AllAccepted = 0b1,\n  SomeAccepted = 0b10,\n  NoneAccepted = 0b100,\n}\n\nconst enum BetStatusWatcherContext {\n  Premature = 0b1,\n}\n\n// provide 4 bits for context flags\nconst CONTEXT_SHIFT = 4;\n\nclass BetStatusWatcherBase {\n  private state: number = 0b0;\n\n  constructor() {\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this.logState(true);\n      }\n    });\n  }\n\n  public reset(): void {\n    this.state = 0;\n  }\n\n  public setState(state: BetStatusWatcherStates): void {\n    this.state |= state;\n  }\n\n  logState(premature?: boolean): void {\n    // If there is no state, do nothing\n    if (!this.state) return;\n\n    // Add context flags\n    let fullState = this.state << CONTEXT_SHIFT;\n    if (premature) {\n      fullState |= BetStatusWatcherContext.Premature;\n    }\n\n    Logger.logEvent('betStatus', {\n      bandwidth: fullState,\n      instant: premature,\n    });\n    this.reset();\n  }\n}\n\nexport const BetStatusWatcher = new BetStatusWatcherBase();\n","import { Curtain } from '../../../components/curtain/Curtain';\nimport { PopupType } from '../../../components/popup/types';\nimport { CrossOriginCommunication } from '../../../controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { Logger } from '../../../logger/Logger';\nimport { betActions } from '../../../store/slices/bets/slice';\nimport type { IBetSpots } from '../../../store/slices/bets/types';\nimport { gameStateActions } from '../../../store/slices/game/slice';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { OutgoingMessage } from '../../crossOriginCommunication/types';\nimport type { GameCommunicationErrorMessageType } from '../types';\nimport { MessageName } from '../types';\n\nimport { BaseBetGameCommunicationProcessor } from './BaseBetGameCommunicationProcessor';\n\n/** Special cases. Other than that, show generic error popup */\nexport enum BetValidationErrors {\n  BetCodeError = 1028,\n  BetCodeInvalid = 1011,\n  BetInvalid = 10002, // ck, gamemode\n  BetNotAllowed = 20602,\n  BetNotExist = 10005,\n  BetNotOnTime = 1007,\n  BetRefunded = 20620,\n  DidntMeetMaximumTableLimit = 1012,\n  DidntMeetMinimumTableLimit = 1013,\n  DidntMeetMinimumBetLimit = 1049,\n  ExternalIgnoreError = 20530,\n  ExternalRetryError = 20621,\n  GameIdMismatch = 1014,\n  GameNotFound = 20038,\n  InstantBetsDisabled = 1055,\n  InsufficientBalance = 20601,\n  InternalServerError = 20003,\n  InvalidHashCode = 20999, // operator specific\n  InvalidToken = 20510,\n  NoResponse = 1001,\n  OperatorInternalError = 101020,\n  PlayerLimitReached = 20610,\n  PlayerNotFound = 20511,\n  RealityCheck = 20520,\n  RequestError = 1046,\n  RequestNoResponse = 1047,\n  RequestTimeout = 1050,\n  UnknownError = 0,\n}\n\ninterface BetValidationErrorMessage extends GameCommunicationErrorMessageType {\n  betCode: string;\n  code: string;\n  desc: string;\n  extendedErrorCode?: string;\n}\n\nexport class CoreBetValidationErrorGameCommunicationProcessor extends BaseBetGameCommunicationProcessor {\n  public messageName = MessageName.BetValidationError;\n  public delay = 0;\n\n  public process(message: BetValidationErrorMessage): void {\n    const state = this.store.getState();\n    const betCode = Number.parseInt(message.betCode);\n    const errorCode = Number.parseInt(message.code);\n    const acceptedBets = state.bets.acceptedBets;\n\n    // ToDo: Should be done batched\n    const updatedAcceptedBets = acceptedBets.map((bet) => {\n      if (bet?.betcode === betCode && bet?.errorCode !== 0) {\n        this.store.dispatch(betActions.wipeBet(betCode));\n        return { ...bet, errorCode };\n      }\n      return bet;\n    });\n\n    switch (errorCode) {\n      case BetValidationErrors.BetNotAllowed:\n        this.store.dispatch(popupActions.pushPopup(PopupType.BetNotAllowed));\n        break;\n      case BetValidationErrors.BetNotOnTime:\n        this.store.dispatch(popupActions.pushPopup(PopupType.BetNotOnTime));\n        break;\n      /** currently this error message is only used for Sisal D-BOX integration */\n      case BetValidationErrors.ExternalIgnoreError:\n        if (message?.extendedErrorCode === '9018') {\n          Curtain.resurrect();\n          this.store.dispatch(popupActions.overwritePopup(PopupType.SessionExpired));\n          this.store.dispatch(gameStateActions.setGameAbandoned(true));\n        }\n        break;\n      case BetValidationErrors.InsufficientBalance:\n        this.store.dispatch(popupActions.pushPopup(PopupType.InsufficientFunds));\n        break;\n      case BetValidationErrors.PlayerLimitReached:\n        this.store.dispatch(popupActions.pushPopup(PopupType.PlayerLimit));\n        break;\n      case BetValidationErrors.RealityCheck:\n      case BetValidationErrors.DidntMeetMinimumTableLimit:\n      case BetValidationErrors.DidntMeetMinimumBetLimit:\n        break;\n      case BetValidationErrors.RequestTimeout:\n      case BetValidationErrors.InternalServerError:\n        this.store.dispatch(popupActions.pushPopup(PopupType.GenericErrorNoRefresh));\n        break;\n      // Commented out cases that anyway show generic error popup\n      // case BetValidationErrors.DidntMeetMaximumTableLimit:\n      // case BetValidationErrors.ExternalRetryError:\n      // case BetValidationErrors.GameIdMismatch:\n      // case BetValidationErrors.GameNotFound:\n      // case BetValidationErrors.InvalidHashCode:\n      // case BetValidationErrors.InvalidToken:\n      // case BetValidationErrors.OperatorInternalError:\n      // case BetValidationErrors.PlayerNotFound:\n      // case BetValidationErrors.UnknownError:\n      default:\n        this.store.dispatch(popupActions.pushPopup(PopupType.GenericError));\n        break;\n    }\n\n    this.store.dispatch(betActions.setAcceptedBets(updatedAcceptedBets));\n\n    const newBetHead: IBetSpots = acceptedBets.reduce((accumulator, bet) => {\n      if (bet.errorCode === 0) {\n        accumulator[bet.betcode] = { value: bet.amount };\n      }\n      return accumulator;\n    }, {} as IBetSpots);\n\n    this.store.dispatch(\n      betActions.updateBetStackHead({\n        betSpots: newBetHead,\n      })\n    );\n\n    this.updateGameStatus();\n\n    CrossOriginCommunication.dispatch(OutgoingMessage.ErrorMessage, {\n      errorCode: message.optExtErrorCode,\n      errorMessage: message.optExtErrorMsg,\n    });\n\n    Logger.logFailure(\n      'errors',\n      'gameCommunicationError',\n      'GameCommunicationBetValidationErrorProcessor',\n      Date.now(),\n      1,\n      errorCode.toString(),\n      false\n    );\n  }\n}\n","import { BetValidationErrors } from '../../../../../controllers/gameCommunication/processors/CoreBetValidationErrorGameCommunicationProcessor';\nimport type { CoreDispatch } from '../../../../../store/CoreStore';\nimport { autoplayActions } from '../../../../../store/slices/autoplay/slice';\nimport { betActions } from '../../../../../store/slices/bets/slice';\nimport type { BetType, AcceptedBet } from '../../../../../store/slices/bets/types';\nimport { toastActions } from '../../../../../store/slices/toast/slice';\n\ninterface ValidateAndSaveBetsProps {\n  dispatch: CoreDispatch;\n  currentBet: BetType;\n  /**\n   * Array of accepted bets that were resolved or are in the process of being resolved by the server.\n   */\n  acceptedBets: AcceptedBet[];\n  /**\n   * Array of invalid betspots that were found during local validation.\n   */\n  invalidBets: string[];\n}\n\nenum ValidateType {\n  None,\n  Local,\n  AcceptedBets,\n}\n\n/**\n * This function is used to validate and save autoplay bets.\n * If acceptedBets are available, it uses them as a source of truth.\n * If not, it uses local validation to remove invalid bets.\n * If no invalid bets are found, it just saves the current bet.\n * If invalid bets are found - they are removed from the current bet and a toast is shown\n * informing the user that not all the bets were saved.\n */\nexport function validateAndSaveBets(props: ValidateAndSaveBetsProps): void {\n  const { dispatch, currentBet, acceptedBets, invalidBets } = props;\n  const betsToSave: BetType = { betSpots: {} };\n  // We need to check each bet as they are resolved one by one.\n  const hasUnresolvedBets = acceptedBets.length > 0 && !!acceptedBets.find((bet) => bet.errorCode === -1);\n\n  // We prioritize accepted bets over local validation.\n  const localValidationMethod = invalidBets.length > 0 ? ValidateType.Local : ValidateType.None;\n  const validateWith =\n    !hasUnresolvedBets && acceptedBets.length > 0 ? ValidateType.AcceptedBets : localValidationMethod;\n\n  switch (validateWith) {\n    case ValidateType.AcceptedBets:\n      saveResolvedBets(dispatch, acceptedBets);\n      break;\n    // If bets are not accepted yet - use local validation to remove invalid bets.\n    case ValidateType.Local:\n      saveLocallyValidatedBets(dispatch, currentBet, invalidBets);\n      break;\n    default:\n      /**\n       * If the bets are not accepted yet and local validation has not found any invalid bets,\n       * then just save the current bet.\n       */\n\n      betsToSave.betSpots = currentBet.betSpots;\n      dispatch(autoplayActions.saveBet(betsToSave));\n      break;\n  }\n}\n\nfunction saveResolvedBets(dispatch: CoreDispatch, acceptedBets: AcceptedBet[]): void {\n  const betsToSave: BetType = { betSpots: {} };\n  let someBetsInvalid = false;\n  for (const bet of acceptedBets) {\n    if (\n      !(\n        bet.errorCode === BetValidationErrors.DidntMeetMinimumTableLimit ||\n        bet.errorCode === BetValidationErrors.BetNotAllowed\n      )\n    ) {\n      betsToSave.betSpots[bet.betcode] = {\n        value: bet.amount,\n        // FIXME: VBB game-specific data\n        ...(bet.ticketNos && { ticketCount: bet.ticketNos.length }),\n        ...(bet.amt !== undefined && { betAmount: bet.amt }),\n      };\n    } else {\n      // No need to wipe bets manually here as they are wiped at the BetsAccepted stage.\n      someBetsInvalid = true;\n    }\n  }\n  if (someBetsInvalid) {\n    dispatch(toastActions.createToast('AUTOPLAY_NOT_ALL_BETS_SAVED'));\n  }\n  dispatch(autoplayActions.saveBet(betsToSave));\n}\n\nfunction saveLocallyValidatedBets(dispatch: CoreDispatch, currentBet: BetType, invalidBets: string[]): void {\n  const betsToSave: BetType = { betSpots: {} };\n  Object.keys(currentBet.betSpots).forEach((betSpot) => {\n    if (!invalidBets.includes(betSpot)) {\n      betsToSave.betSpots[betSpot] = {\n        value: currentBet.betSpots[betSpot].value,\n      };\n    } else {\n      dispatch(betActions.wipeBet(parseInt(betSpot, 10)));\n    }\n  });\n  dispatch(autoplayActions.saveBet(betsToSave));\n  dispatch(toastActions.createToast('AUTOPLAY_NOT_ALL_BETS_SAVED')); // If this function is called, it means that not all bets are valid therefore we dispatch this.\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"trafficLight\":\"pZ_p0\",\"trafficLight_line\":\"pZ_p1\",\"trafficLight__progress\":\"pZ_qa\",\"trafficLight__progressBackground\":\"pZ_qb\",\"trafficLight_isAnimated\":\"pZ_qc\",\"animation-progress-resolve\":\"pZ_qe\",\"animation-progress\":\"pZ_qf\",\"trafficLight_isPaused\":\"pZ_qg\",\"trafficLight_fallbackAnimation\":\"pZ_qh\",\"fallbackProgress-resolve\":\"pZ_qi\",\"fallbackProgress\":\"pZ_qj\",\"trafficLight__label\":\"pZ_qk\",\"trafficLight__counterSeparator\":\"pZ_ql\",\"trafficLight__counter\":\"pZ_qm\",\"trafficLight__counterValue\":\"pZ_qn\"};","import type { CSSProperties, FC } from 'react';\nimport { forwardRef, useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { useModifiers } from '../../../styles/hooks/useModifiers';\nimport { L12nText } from '../../text/L12nText';\n\nimport type { TrafficLightConfigType } from './types';\n\nimport styles from './TrafficLight.module.css';\n\nexport interface ITrafficLightStatus extends TrafficLightConfigType {\n  calculatedScheduledStatusChange?: {\n    nextStatus: string;\n    timeout: number;\n  };\n}\n\ninterface ITrafficLightTimer {\n  timer: number | null;\n}\n\ninterface ITrafficLightLabel extends ITrafficLightTimer {\n  config: TrafficLightConfigType;\n}\n\nexport interface TrafficLightViewProps {\n  animationDuration?: number;\n  /**\n   * Enables fallback animation with \"left\" instead of translateX. This is due to a bug in iOS Chrome LCE-64741\n   */\n  fallbackAnimation?: boolean;\n  /**\n   *  Pauses the timer and animation. Used in game help and storybook\n   */\n  isPaused?: boolean;\n  /** If true traffic light will be shown as line */\n  line?: boolean;\n  onScheduledStatusChange: (nextStatus: string) => void;\n  progressOffset?: number;\n  resetAnimationDurationCallback?: () => void;\n  status: ITrafficLightStatus;\n  timerStartTime: number;\n}\n\nconst TrafficLight = forwardRef<HTMLDivElement, TrafficLightViewProps>(function TrafficLightFunc(\n  {\n    animationDuration = 0,\n    fallbackAnimation,\n    isPaused = false,\n    line,\n    onScheduledStatusChange,\n    progressOffset = 0,\n    resetAnimationDurationCallback,\n    status,\n    timerStartTime,\n  },\n  progressbarForwardRef\n) {\n  const animationDurationInSeconds = useMemo(() => Math.round(animationDuration / 1_000), [animationDuration]);\n\n  const [currentTimer, setCurrentTimer] = useState<number>(0); // in seconds\n\n  const loopRef = useRef<number>();\n\n  const handleTimerExpiration = useCallback((): void => {\n    if (!loopRef.current) return;\n    window.clearTimeout(loopRef.current);\n    loopRef.current = undefined;\n    resetAnimationDurationCallback?.();\n  }, [resetAnimationDurationCallback]);\n\n  const handleTimeout = useCallback((): void => {\n    if (!animationDurationInSeconds) return;\n    const elapsedMilliSeconds = Date.now() - timerStartTime;\n    const elapsedSeconds = elapsedMilliSeconds / 1_000;\n    const newTimerValue = Math.round(animationDurationInSeconds - elapsedSeconds);\n\n    const handleTimerUpdate = (newTimer: number, elapsedSeconds: number): void => {\n      setCurrentTimer(newTimer);\n      const timeUntilNextSecond = (Math.ceil(elapsedSeconds) - elapsedSeconds) * 1_000;\n      loopRef.current = window.setTimeout(handleTimeout, timeUntilNextSecond);\n    };\n\n    if (newTimerValue <= 0) {\n      setCurrentTimer(0);\n    } else {\n      handleTimerUpdate(newTimerValue, elapsedSeconds);\n    }\n  }, [animationDurationInSeconds, timerStartTime]);\n\n  useEffect(() => {\n    if (status.rendersTimer) {\n      if (!loopRef.current && animationDurationInSeconds > 0) {\n        setCurrentTimer(animationDurationInSeconds);\n        loopRef.current = window.setTimeout(handleTimeout, 1_000);\n      }\n    } else if (loopRef.current) {\n      handleTimerExpiration();\n      setCurrentTimer(0);\n    }\n    if (isPaused) {\n      setCurrentTimer(animationDurationInSeconds);\n      window.clearTimeout(loopRef.current);\n      loopRef.current = undefined;\n    }\n  }, [animationDurationInSeconds, handleTimeout, handleTimerExpiration, isPaused, status.rendersTimer, timerStartTime]);\n\n  useEffect(() => {\n    const { calculatedScheduledStatusChange } = status;\n    if (calculatedScheduledStatusChange && animationDuration > 0) {\n      let timeout = calculatedScheduledStatusChange.timeout; // -5000\n      if (timeout < 0) {\n        timeout = animationDuration + timeout;\n      }\n      const timeoutId = window.setTimeout(() => {\n        onScheduledStatusChange(calculatedScheduledStatusChange.nextStatus);\n      }, timeout);\n      return (): void => {\n        window.clearTimeout(timeoutId);\n      };\n    }\n  }, [status, isPaused, onScheduledStatusChange, animationDuration, timerStartTime]);\n\n  const isAnimated = animationDuration !== 0 && status.rendersTimer;\n  const isTrafficLightPaused = isPaused || (animationDuration == 0 && status.rendersTimer);\n\n  const mods = useModifiers(styles, 'trafficLight', {\n    fallbackAnimation,\n    isAnimated: isAnimated,\n    isPaused: isTrafficLightPaused,\n    line,\n  });\n\n  return (\n    <div\n      className={`${styles.trafficLight} ${mods}`}\n      style={\n        {\n          '--trafficLightBackground': `var(--game-traffic-light-${status.style})`,\n          '--trafficLightFontColor': `var(--game-traffic-light-color-${status.color})`,\n        } as CSSProperties\n      }\n    >\n      <div data-testid=\"traffic-light\" className={`${styles.trafficLight__progress}`}>\n        <div\n          className={styles.trafficLight__progressBackground}\n          ref={progressbarForwardRef}\n          style={\n            {\n              '--animationDuration': `${Math.floor(animationDuration / 1000)}s`,\n              '--progressOffset': `${progressOffset * -100}%`,\n            } as CSSProperties\n          }\n        />\n      </div>\n      <div\n        data-testid={status.label}\n        className={styles.trafficLight__label}\n        dir={status.isLTR !== undefined && status.isLTR ? 'ltr' : undefined}\n      >\n        <TrafficLightLabel config={status} timer={currentTimer} />\n      </div>\n    </div>\n  );\n});\n\nconst TrafficLightLabel: FC<ITrafficLightLabel> = ({ config: Config, timer }) => {\n  if (Config.render) {\n    return <Config.render timer={<TrafficLightTimer timer={timer} />} />;\n  }\n\n  return (\n    <>\n      {Config.label ? <L12nText tk={Config.label} dynamicValues={Config.attrs} /> : null}\n      {Config.rendersTimer ? <TrafficLightTimer timer={timer} /> : null}\n    </>\n  );\n};\n\nconst TrafficLightTimer: FC<ITrafficLightTimer> = ({ timer }) => {\n  if (!timer) return null;\n\n  return (\n    <>\n      <span className={styles.trafficLight__counterSeparator}>&nbsp;-&nbsp;</span>\n      <span className={styles.trafficLight__counter}>\n        <span className={styles.trafficLight__counterValue}>{timer}</span>\n        {/* This 88 is a spacer element to avoid fluctating width of the countdown */}\n        88\n      </span>\n    </>\n  );\n};\n\nTrafficLight.displayName = 'TrafficLight';\n\nexport { TrafficLight };\n","import type { FC, ReactElement } from 'react';\n\nimport type { ICoreTimings } from '../../../store/slices/config/types';\nimport { GameStatus } from '../../../store/slices/game/types';\n\nimport { LastBetsRendererConnected } from './renderers/LastBetsRendererConnected';\nimport { PlaceBetsRendererConnected } from './renderers/PlaceBetsRendererConnected';\n\nexport interface TrafficLightRendererProps {\n  timer?: ReactElement;\n}\n\nexport interface TrafficLightConfigType {\n  label: string;\n  rendersTimer: boolean;\n  attrs?: string[];\n  color?: 'inverse' | 'default' | string;\n  isLTR?: boolean;\n  render?: FC<TrafficLightRendererProps>;\n  style?: 'warning' | 'danger' | 'mega' | 'none' | 'default' | string;\n  /** Scheduled status change */\n  scheduledStatusChange?: {\n    /** Timeout before status change in ms */\n    timeout: number | keyof ICoreTimings | ((timings: ICoreTimings) => number);\n    /** Next status after timeout */\n    nextStatus: string;\n  };\n}\n\nexport const baseTrafficLightConfig: Record<string, TrafficLightConfigType> = {\n  WELCOMEMSG: {\n    label: 'WELCOMEMSG',\n    rendersTimer: false,\n    style: 'none',\n  },\n  WAITFORNEXTGAME: {\n    label: 'WAITFORNEXTGAME',\n    rendersTimer: false,\n    style: 'none',\n  },\n  BETSCLOSED: {\n    label: 'BETS_CLOSED',\n    rendersTimer: false,\n    style: 'none',\n  },\n  BETSACCEPTED: {\n    label: 'BETS_ACCEPTED',\n    rendersTimer: false,\n    style: 'default',\n  },\n  PLACEYOURBETS: {\n    label: 'PLACE_YOUR_BETS',\n    rendersTimer: true,\n    render: PlaceBetsRendererConnected,\n    scheduledStatusChange: {\n      timeout: (timings) => -timings.bettingLastCall,\n      nextStatus: GameStatus.LastBets,\n    },\n    style: 'default',\n  },\n  LASTBETS: {\n    label: 'LASTBETS',\n    render: LastBetsRendererConnected,\n    rendersTimer: true,\n    style: 'warning',\n  },\n  BETSREJECTED: {\n    label: 'BETS_REJECTED',\n    rendersTimer: false,\n    style: 'danger',\n  },\n  NOTALLBETSACCEPTED: {\n    label: 'NOT_ALL_BETS_ACCEPTED',\n    rendersTimer: false,\n    style: 'danger',\n  },\n  GAMECANCELLED: {\n    label: 'GAMECANCELLED',\n    rendersTimer: false,\n    style: 'danger',\n  },\n  DRAWING: {\n    label: 'DRAWING: no translation',\n    rendersTimer: false,\n    style: 'none',\n  },\n  DEALING: {\n    label: 'DEALING',\n    rendersTimer: false,\n    style: 'none',\n  },\n  MEGAMULTIPLIERS: {\n    label: 'MEGAMULTIPLIERS',\n    rendersTimer: false,\n    style: 'mega',\n  },\n  TUMBLING: {\n    label: 'TUMBLING_CAPS',\n    rendersTimer: false,\n    style: 'none',\n  },\n  BONUSROUND: {\n    label: 'DECISIONTITLE',\n    rendersTimer: true,\n    style: 'default',\n  },\n  YOUWIN: {\n    label: 'YOU_WIN',\n    rendersTimer: false,\n    style: 'default',\n  },\n  RESULT: {\n    label: 'RESULT',\n    rendersTimer: false,\n    style: 'none',\n  },\n  GREEN: {\n    label: 'GREEN (what is that?)',\n    rendersTimer: false,\n    style: 'none',\n  },\n  PUSH: {\n    label: 'PUSH',\n    rendersTimer: false,\n    style: 'none',\n  },\n  DEALERWINS: {\n    label: 'DEALER_WINS',\n    rendersTimer: false,\n    style: 'none',\n  },\n  SUMTO: {\n    label: 'SUM_TO (What is that?)',\n    rendersTimer: false,\n    style: 'none',\n  },\n};\n","import { MessageGroup } from './types';\n\ntype PayloadType = object | string;\n\n// ToDo: Refactor this\nexport interface IMessage<Name extends string, Payload extends PayloadType> {\n  (payload?: Payload): {\n    name: Name;\n    group?: string;\n    payload: Partial<Payload> | undefined;\n    options?: IMessageOptions<Payload>;\n  };\n  messageName: Name;\n}\n\nexport interface IMessageOptions<Payload extends PayloadType> {\n  defaultPayload?: Payload;\n  group?: MessageGroup | string;\n  payloadProcessor?: (rawPayload: Partial<Payload>) => Partial<Payload>;\n  headless?: boolean;\n}\n\nexport const createMessage = <Name extends string, Payload extends PayloadType>(\n  name: Name,\n  options?: IMessageOptions<Payload>\n): IMessage<Name, Payload> => {\n  const message: IMessage<Name, Payload> = (payload?: Partial<Payload>) => {\n    if (options?.payloadProcessor) {\n      payload = options.payloadProcessor(payload || {});\n    }\n    return { name, group: options?.group, payload: payload || options?.defaultPayload || undefined, options: options };\n  };\n  message.messageName = name;\n  return message;\n};\n\nexport interface IRegisteredMessage<TargetName extends string, Name extends string, Payload extends PayloadType> {\n  targets: TargetName[];\n  message: IMessage<Name, Payload>;\n  registeredTargets: ITarget<TargetName>[];\n}\n\nexport interface ITarget<TargetName extends string> {\n  name: TargetName;\n  origin: string | null;\n  window?: Window;\n  setOrigin: (origin: string) => void;\n  setWindow: (window: Window) => void;\n  reset: () => void;\n}\n\nexport class MessageController<\n  MessageName extends string,\n  // MessagePayload extends object,\n  RegisteredMessage extends IRegisteredMessage<TargetName, MessageName, any>,\n  TargetName extends string,\n> {\n  public targets: Record<TargetName, ITarget<TargetName>> = {} as Record<TargetName, ITarget<TargetName>>;\n  public registeredMessages: Record<RegisteredMessage['message']['messageName'], RegisteredMessage> = {} as Record<\n    RegisteredMessage['message']['messageName'],\n    RegisteredMessage\n  >;\n\n  constructor(\n    targetNames: TargetName | TargetName[],\n    messagesToRegister: Omit<RegisteredMessage, 'registeredTargets'>[]\n  ) {\n    if (!Array.isArray(targetNames)) {\n      targetNames = [targetNames];\n    }\n    targetNames.forEach((targetName) => {\n      this.targets[targetName] = {\n        name: targetName,\n        origin: null,\n        setOrigin: (origin: string): void => this.setTargetOrigin(this.targets[targetName], origin),\n        setWindow: (window: Window): void => this.setTargetWindow(this.targets[targetName], window),\n        reset: (): void => this.resetTarget(this.targets[targetName]),\n      };\n    });\n    messagesToRegister.forEach((messageToRegister) => {\n      this.registeredMessages[messageToRegister.message.messageName] = {\n        ...messageToRegister,\n        registeredTargets: messageToRegister.targets.map((targetName) => this.targets[targetName]),\n      } as RegisteredMessage;\n    });\n  }\n\n  private setTargetWindow(target: ITarget<TargetName>, window: Window): void {\n    target.window = window;\n  }\n\n  private setTargetOrigin(target: ITarget<TargetName>, origin: string): void {\n    target.origin = origin;\n  }\n\n  private resetTarget(target: ITarget<TargetName>): void {\n    target.origin = null;\n    target.window = undefined;\n  }\n\n  post(message: ReturnType<RegisteredMessage['message']>): void {\n    let registeredMessageTargets = this.registeredMessages[message.name].targets;\n    const isHeadless = message.options?.headless || false;\n    if (!Array.isArray(registeredMessageTargets)) {\n      registeredMessageTargets = [registeredMessageTargets];\n    }\n    const messageTargets = registeredMessageTargets.map((targetName) => this.targets[targetName]);\n    messageTargets.forEach((target) => {\n      if (target?.origin && target?.window) {\n        if (isHeadless) {\n          target.window.postMessage(message.payload, target.origin);\n        } else {\n          target.window.postMessage(message, target.origin);\n        }\n      }\n    });\n  }\n}\n","export enum MessageGroup {\n  Common = 'common',\n  Lobby = 'lobby',\n}\n\nexport type IncomingMessage = Record<string, unknown>;\n","import { createMessage } from '../../index';\nimport { MessageGroup } from '../../types';\n\nexport interface IUpdateBalanceMessagePayload {\n  /** A value of actual balance, accounted for total bet and winnings */\n  amount: number;\n  /** A value of bonus balance, accounted for total bet and winnings */\n  bonus: number;\n  /** A value of total bet, not to be used in further bonus calculations, but as indicator of a bet present */\n  totalBet: number;\n}\n\nexport const updateBalanceMessage = createMessage<'updateBalance', IUpdateBalanceMessagePayload>('updateBalance', {\n  group: MessageGroup.Common,\n});\n","import { updateBalanceMessage } from './messages/updateBalance/updateBalanceMessage';\nimport { MessageGroup } from './types'; // ToDo: Core need to be refactored here\n\nimport { createMessage, MessageController } from './index';\n\nexport const hostInfoMessage = createMessage<'hostInfo', { host?: string; id: string | null }>('hostInfo', {\n  group: MessageGroup.Common,\n});\n\nexport const CoreLobbyMessageControllerV2 = new MessageController(\n  ['lobby'],\n  [\n    {\n      targets: ['lobby'],\n      message: updateBalanceMessage,\n    },\n    {\n      targets: ['lobby'],\n      message: hostInfoMessage,\n    },\n  ]\n);\n","import type { FunctionComponent, HTMLAttributes } from 'react';\n\nimport styles from './animatedIconRoot.module.css';\n\nexport interface AnimatedIconRootProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const AnimatedIconRoot: FunctionComponent<AnimatedIconRootProps> = ({ children, className, ...rest }) => {\n  return (\n    <div className={`${className} ${styles.animatedIconRoot}`} {...rest}>\n      {children}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"animatedIconRoot\":\"gs_gt\"};","// extracted by mini-css-extract-plugin\nexport default {\"playingNowIcon\":\"fv_fw\",\"playingNowIcon__stick\":\"fv_fx\",\"playNow1\":\"fv_fy\",\"playNow2\":\"fv_fz\"};","import type { FunctionComponent } from 'react';\n\nimport { AnimatedIconRoot } from '../animatedIconRoot';\n\nimport styles from './PlayingNowIcon.module.css';\n\nexport const PlayingNowIcon: FunctionComponent = () => {\n  return (\n    <AnimatedIconRoot className={styles.playingNowIcon}>\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n    </AnimatedIconRoot>\n  );\n};\n","import { Logger } from '../logger/Logger';\n\nexport interface IWebGLContextOptions extends WebGLContextAttributes {\n  place: string;\n}\n\nexport const getWebGLContext = (\n  canvas: HTMLCanvasElement,\n  options: IWebGLContextOptions\n): WebGLRenderingContext | null => {\n  const { place, ...contextAttributes } = options;\n  let gl: WebGLRenderingContext | null = null;\n\n  if (window.WebGLRenderingContext) {\n    try {\n      gl = canvas.getContext('webgl', contextAttributes);\n    } catch (e) {\n      //\n    }\n  }\n\n  if (!gl) {\n    Logger.logFailure('webgl', {\n      place: place,\n      additional: window.WebGLRenderingContext ? 'getContextFailed' : 'notAvailable',\n    });\n  }\n\n  return gl;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backToGame__wrapper\":\"B_C\",\"backToGame\":\"B_E\",\"backToGame_isOpen\":\"B_F\",\"backToGame__trafficLight\":\"B_G\",\"backToGame__container\":\"B_H\",\"backToGame__videoContainer\":\"B_I\",\"backToGame__poster\":\"B_J\",\"backToGame__video\":\"B_K\",\"backToGame__content\":\"B_L\",\"backToGame__name\":\"B_M\",\"backToGame__nowPlaying\":\"B_N\",\"backToGame__nowPlayingIcon\":\"B_O\",\"backToGame__nowPlayingLabel\":\"B_P\",\"backToGame__action\":\"B_Q\",\"backToGame__actions\":\"B_R\"};","import type { FunctionComponent, HTMLAttributes, MouseEvent, ReactElement, ReactNode } from 'react';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useAudioTrigger } from '../../controllers/audioController/hooks';\nimport { useModifiers } from '../../styles/hooks/useModifiers';\nimport { IconButton, Icons } from '../controls/iconButton/IconButton';\nimport { PlayingNowIcon } from '../icons/animated/playingNow/PlayingNowIcon';\nimport { Icon } from '../icons/icon';\n\nimport { mirrorVideo } from './mirrorVideo';\n\nimport styles from './BackToGame.module.css';\n\nexport interface BackToGameProps {\n  /** Action label */\n  actionLabel?: ReactNode;\n  /** Whether the component is temporarily hidden */\n  isHidden?: boolean;\n  /** Whether the component is open and \"alive\" */\n  isOpen: boolean;\n  /** Game name */\n  name?: ReactNode;\n  /** On click handler */\n  onClick?: HTMLAttributes<HTMLDivElement>['onClick'];\n  /** On close handler */\n  onClose?: () => void;\n  /** Placeholder image src */\n  poster?: string | ReactElement;\n  /** Traffic light ReactNode */\n  trafficLight?: ReactElement;\n  /** A video element to get video data from */\n  videoElement?: HTMLVideoElement | null;\n  /** Label to be shown in besides an animated indicator */\n  nowPlayingLabel?: ReactNode;\n  /** A node of secondary actions, for example a mute icon button */\n  secondaryActions?: ReactNode;\n}\n\nexport const BackToGame: FunctionComponent<BackToGameProps> = ({\n  actionLabel,\n  isHidden,\n  isOpen,\n  name,\n  onClick,\n  onClose,\n  poster,\n  trafficLight,\n  videoElement,\n  nowPlayingLabel,\n  secondaryActions,\n}) => {\n  const audioTrigger = useAudioTrigger();\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const backToGameRef = useRef<HTMLDivElement>(null);\n  const [localIsOpen, setLocalIsOpen] = useState<boolean>(isOpen);\n\n  const classNameWithMods = useModifiers(\n    styles,\n    'backToGame',\n    {\n      isOpen: isOpen && localIsOpen && !isHidden,\n    },\n    { withBaseClass: true }\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      setLocalIsOpen(true);\n      return;\n    }\n    const timeout = setTimeout(() => {\n      setLocalIsOpen(false);\n    }, 300);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [isOpen, setLocalIsOpen]);\n\n  const handleCloseClick = useCallback(\n    function handleCloseFunc(event?: MouseEvent<HTMLButtonElement>): void {\n      if (event) {\n        event.stopPropagation();\n      }\n      if (onClose) {\n        audioTrigger.play({ name: 'menuClick' });\n        onClose();\n      }\n    },\n    [audioTrigger, onClose]\n  );\n\n  const handleClick = useCallback(\n    function handleClickFunc(event: MouseEvent<HTMLDivElement>): void {\n      if (localIsOpen && onClick) {\n        audioTrigger.play({ name: 'menuClick' });\n        onClick(event);\n      }\n    },\n    [audioTrigger, localIsOpen, onClick]\n  );\n\n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    if (!canvasElement || !videoElement || !localIsOpen) {\n      return;\n    }\n\n    const draw = mirrorVideo(videoElement, canvasElement);\n    if (!draw) {\n      return;\n    }\n    let frameId: number;\n\n    if ('requestVideoFrameCallback' in videoElement) {\n      const loop = (): void => {\n        draw();\n        frameId = videoElement.requestVideoFrameCallback(loop);\n      };\n\n      loop();\n\n      return () => {\n        videoElement.cancelVideoFrameCallback(frameId);\n      };\n    } else {\n      const loop = (): void => {\n        draw();\n        frameId = requestAnimationFrame(loop);\n      };\n\n      loop();\n\n      return () => {\n        cancelAnimationFrame(frameId);\n      };\n    }\n  }, [localIsOpen, videoElement]);\n\n  if (!isOpen && !localIsOpen) return null;\n\n  return (\n    <div className={styles.backToGame__wrapper} data-testid=\"back-to-game\">\n      <div className={classNameWithMods} onClick={handleClick} ref={backToGameRef}>\n        {trafficLight ? <div className={styles.backToGame__trafficLight}>{trafficLight}</div> : null}\n        <div className={styles.backToGame__container}>\n          <div className={styles.backToGame__videoContainer}>\n            {typeof poster === 'string' ? <img src={poster} className={styles.backToGame__poster} alt=\"\" /> : poster}\n            <canvas className={styles.backToGame__video} width=\"384\" height=\"216\" ref={canvasRef} />\n          </div>\n          <div className={styles.backToGame__content}>\n            <div className={styles.backToGame__name}>{name}</div>\n            {nowPlayingLabel ? (\n              <div className={styles.backToGame__nowPlaying}>\n                <div className={styles.backToGame__nowPlayingIcon}>\n                  <PlayingNowIcon />\n                </div>\n                <div className={styles.backToGame__nowPlayingLabel}>{nowPlayingLabel}</div>\n              </div>\n            ) : null}\n            <div className={styles.backToGame__action}>\n              {actionLabel}\n              <Icon icon={Icons.ChevronRight} />\n            </div>\n          </div>\n          {onClose || secondaryActions ? (\n            <div className={styles.backToGame__actions}>\n              {secondaryActions ?? null}\n              {onClose ? <IconButton ghost icon={Icons.Close} onClick={handleCloseClick} small /> : null}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Logger } from '../../logger/Logger';\nimport { getWebGLContext } from '../../utils/webgl';\nimport { initVBO } from '../stream/ambientLight/initVBO';\n\nimport BASE_VERTEX_SHADER from './shaders/BaseVertexShader.glsl?raw';\nimport SCREEN_FRAGMENT_SHADER from './shaders/ScreenFragmentShader.glsl?raw';\n\nexport const mirrorVideo = (video: HTMLVideoElement, canvas: HTMLCanvasElement): (() => void) | void => {\n  if (!canvas) return;\n  const gl = getWebGLContext(canvas, { place: 'mirrorVideo', antialias: true });\n\n  if (!gl) return;\n\n  //Configuration\n  gl.enable(gl.CULL_FACE);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n  initVBO(gl);\n\n  const initTexture = (gl: WebGLRenderingContext): WebGLTexture | null => {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = canvas.width;\n    const height = canvas.height;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const data = new Uint8Array(width * height * 4).fill(0);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, data);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n    return texture;\n  };\n\n  const videoTexture = initTexture(gl);\n\n  if (!videoTexture) {\n    return;\n  }\n\n  // Create our vertex shader\n  const VS = gl.createShader(gl.VERTEX_SHADER);\n  if (!VS) return;\n  gl.shaderSource(VS, BASE_VERTEX_SHADER);\n  gl.compileShader(VS);\n\n  const screenFS = gl.createShader(gl.FRAGMENT_SHADER);\n  if (!screenFS) return;\n  gl.shaderSource(screenFS, SCREEN_FRAGMENT_SHADER);\n  gl.compileShader(screenFS);\n\n  const screenProgram = gl.createProgram();\n  if (!screenProgram) return;\n  gl.attachShader(screenProgram, VS);\n  gl.attachShader(screenProgram, screenFS);\n  gl.linkProgram(screenProgram);\n\n  const screenPositionLocation = gl.getAttribLocation(screenProgram, 'position');\n  gl.vertexAttribPointer(screenPositionLocation, 2, gl.FLOAT, false, 8, 0);\n  gl.enableVertexAttribArray(screenPositionLocation);\n\n  gl.useProgram(screenProgram);\n  gl.uniform1i(gl.getUniformLocation(screenProgram, 'screen'), 1);\n\n  gl.activeTexture(gl.TEXTURE1);\n  gl.bindTexture(gl.TEXTURE_2D, videoTexture);\n\n  const level = 0;\n  const internalFormat = gl.RGBA;\n  const srcFormat = gl.RGBA;\n  const srcType = gl.UNSIGNED_BYTE;\n  gl.viewport(0, 0, canvas.width, canvas.height);\n\n  let failedReadingTextureFromVideo = false;\n\n  return (): void => {\n    if (failedReadingTextureFromVideo) return;\n\n    if (video && !video.paused) {\n      try {\n        gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, video);\n      } catch (e) {\n        if (!failedReadingTextureFromVideo) {\n          Logger.logFailure('errors', 'backToGameComponent', 'failedReadingTextureFromVideo', Date.now(), 1, '', false);\n          failedReadingTextureFromVideo = true;\n        }\n      }\n    }\n    //render\n    gl.drawArrays(gl.TRIANGLES, 0, 3);\n  };\n};\n","export const initVBO = (gl: WebGLRenderingContext): void => {\n  const VERTICES = new Float32Array([-1, -1, 3, -1, -1, 3]);\n\n  const vertexBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, VERTICES, gl.STATIC_DRAW);\n};\n","import type { FunctionComponent, HTMLAttributes } from 'react';\n\nimport styles from './BackToGameHolder.module.css';\n\nexport const BackToGameHolder: FunctionComponent<HTMLAttributes<HTMLDivElement>> = ({\n  children,\n  className,\n  ...rest\n}) => {\n  return (\n    <div className={`${styles.backToGameHolder} ${className}`} {...rest}>\n      {children}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backToGameHolder\":\"S_T\"};","import type { FunctionComponent, PropsWithChildren } from 'react';\n\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\nimport { useModifiers } from '../../styles/hooks/useModifiers';\n\nimport styles from './HideDialogs.module.css';\n\nexport interface HideDialogsConnectedProps extends PropsWithChildren {\n  /** Attribute that allow to ignore Desktop from hiding */\n  ignoreDesktop?: boolean;\n  /** Attribute that allow to ignore Mobile from hiding */\n  ignoreMobile?: boolean;\n}\n\nexport const HideDialogsConnected: FunctionComponent<HideDialogsConnectedProps> = ({\n  children,\n  ignoreDesktop,\n  ignoreMobile,\n}) => {\n  const hideUI = useGameStateSlice.hideUI();\n\n  const hideDialogs = useModifiers(styles, 'hideDialogs', {\n    hidden: hideUI,\n    ignoreDesktop,\n    ignoreMobile,\n  });\n\n  return <div className={hideDialogs}>{children}</div>;\n};\n","import { updateBalanceMessage } from './messages/updateBalance/updateBalanceMessage';\n\nimport { createMessage, MessageController } from './index'; // ToDo: Core need to be refactored here\n\nexport const tableInfoMessage = createMessage<'tableInfo', { type: string; tableId: string }>('tableInfo', {\n  headless: true,\n});\n\nexport const CoreLobbyMessageController = new MessageController(\n  ['lobby'],\n  [\n    {\n      targets: ['lobby'],\n      message: updateBalanceMessage,\n    },\n    {\n      targets: ['lobby'],\n      message: tableInfoMessage,\n    },\n  ]\n);\n","import type { FC, ReactElement } from 'react';\nimport { useState } from 'react';\n\nimport { useCoreDispatch } from '../../store/CoreStore';\nimport { useConfigSlice } from '../../store/slices/config/selectors';\nimport { useHeaderSlice } from '../../store/slices/header/selectors';\nimport { headerActions } from '../../store/slices/header/slice';\nimport { HeaderModal } from '../../store/slices/header/types';\nimport { Modal } from '../modal/modal/index';\n\nimport { HistoryContainerConnected } from './container/HistoryContainerConnected';\n\nexport const HistoryModalConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const openedModal = useHeaderSlice.getCoreOpenedModal();\n  const heightAdjustment = useConfigSlice.playAreaDimensions()?.height;\n\n  const [isGameHistoryShown, setIsGameHistoryShown] = useState<boolean>(false);\n\n  const onClose = (): void => {\n    dispatch(headerActions.setOpenedModal(null));\n  };\n\n  const onBack = (): void => {\n    setIsGameHistoryShown(false);\n  };\n\n  const handleSetIsGameHistory = (value: boolean): void => {\n    setIsGameHistoryShown(value);\n  };\n\n  return (\n    <Modal\n      data-testid=\"history-modal\"\n      draggable\n      fullScreenNoClose\n      grow\n      heightAdjustment={heightAdjustment}\n      isHistoryModal\n      onBack={isGameHistoryShown ? onBack : undefined}\n      onClose={onClose}\n      open={openedModal === HeaderModal.History}\n      placement=\"end\"\n      tk=\"HISTORY\"\n    >\n      <HistoryContainerConnected\n        handleGameHistoryShown={handleSetIsGameHistory}\n        isGameHistoryShown={isGameHistoryShown}\n      />\n    </Modal>\n  );\n};\n","import { useCallback } from 'react';\n\nimport { getWindowObject } from '../utils/window';\n\nimport { useLobbyURLConnected } from './useLobbyURLConnected';\n\nexport const useRedirectToLobbyCallbackConnected = (): (() => void) => {\n  const lobbyURL = useLobbyURLConnected();\n  return useCallback(() => {\n    const windowObject = getWindowObject();\n    windowObject.open(lobbyURL, '_self');\n  }, [lobbyURL]);\n};\n","import { useConfigSlice } from '../store/slices/config/selectors';\n\nimport { getLobbyURL, type ILobbyURLOptions } from './helpers/getLobbyUrl';\n\nexport const useLobbyURLConnected = (options?: ILobbyURLOptions): string => {\n  const searchParams = useConfigSlice.urlParams();\n  const lobbyVersion = useConfigSlice.casinoConfig()?.lobbyVersion;\n  return getLobbyURL(lobbyVersion, searchParams, options);\n};\n","export interface ILobbyURLOptions {\n  folderOnly?: boolean;\n}\n\nexport const getLobbyURL = (\n  lobbyVersion: string | undefined,\n  searchParams: string,\n  options?: ILobbyURLOptions\n): string => {\n  let folder = 'lobby2';\n  if (lobbyVersion === '1') {\n    folder = 'lobby';\n  }\n  if (options?.folderOnly) {\n    return folder;\n  }\n  return `/desktop/${folder}/${searchParams}`;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"popup\":\"cq_cr\",\"popup_isAboveAll\":\"cq_cs\",\"popup__content\":\"cq_ct\",\"popup__content_headerless\":\"cq_cu\",\"popup__header\":\"cq_cv\",\"popup__reconnecting\":\"cq_cw\",\"rotate\":\"cq_cx\"};","// extracted by mini-css-extract-plugin\nexport default {\"popup\":\"cJ_cr\",\"popup_isAboveAll\":\"cJ_cs\",\"popup__content\":\"cJ_ct\",\"popup__content_headerless\":\"cJ_cu\",\"popup__header\":\"cJ_cv\",\"popup__reconnecting\":\"cJ_cw\",\"rotate\":\"cJ_cx\"};","import type { FC, ReactElement } from 'react';\n\nimport { useModifiers } from '../../styles/hooks/useModifiers';\nimport { IconButton, Icons } from '../controls/iconButton/IconButton';\nimport { useFeature } from '../featureConfig/FeatureConfigFlags';\n\nimport stylesOld from './Popup.module.css';\nimport stylesNew from './Popup.new.module.css';\n\nexport interface PopupProps {\n  content: ReactElement;\n  handleClose: () => void;\n  headerLess?: boolean;\n  isAboveAll?: boolean;\n}\n\nexport const Popup: FC<PopupProps> = ({ content, handleClose, headerLess, isAboveAll }): ReactElement => {\n  const newMobileLayout = useFeature('feature-newMobileLayout');\n  const styles = newMobileLayout ? stylesNew : stylesOld;\n  const mods = useModifiers(\n    styles,\n    'popup',\n    {\n      isAboveAll, // Curtain is displayed, critical info popup\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <div data-testid=\"popup\" className={mods}>\n      <div\n        data-testid=\"popup-content\"\n        className={`${styles.popup__content}${headerLess ? ` ${styles.popup__content_headerless}` : ''}`}\n      >\n        {headerLess ? null : (\n          <div data-testid=\"popup-header\" className={styles.popup__header}>\n            <IconButton data-testid=\"popup-close\" ghost icon={Icons.Close} onClick={handleClose} tiny={true} />\n          </div>\n        )}\n        {content}\n      </div>\n    </div>\n  );\n};\n","import type { FC } from 'react';\n\nimport { useConfigSlice } from '../../../../store/slices/config/selectors';\nimport { useSettingsSlice } from '../../../../store/slices/settings/selectors';\nimport { toggleFullscreen } from '../../../gameRoot/useFullscreen';\n\nimport { FullScreenControlPlain } from './FullScreenControlPlain';\n\n// Very Old Browsers and new iPads\ninterface WebkitDocument extends Document {\n  webkitFullscreenEnabled?: boolean;\n}\n\nconst fullscreenAvailable = document.fullscreenEnabled || (document as WebkitDocument).webkitFullscreenEnabled;\nexport const FullScreenControlConnected: FC = () => {\n  const isInFullscreen = useSettingsSlice.getIsInFullscreen();\n  const isFullscreenButtonHidden = !fullscreenAvailable || useConfigSlice.casinoConfig()?.hideFullScreenBtn;\n\n  return !isFullscreenButtonHidden && <FullScreenControlPlain condition={isInFullscreen} onClick={toggleFullscreen} />;\n};\n","export class URLUtilities {\n  /**\n   * A method to combine a base URL with a path.\n   * It handles slashes between the base and the path.\n   * If base is empty, it will throw an error as it is not a valid URL.\n   * */\n  public static combine(basePath: string, path: string): URL {\n    let safeBasePath = basePath;\n    let safePath = path;\n    if (safeBasePath.endsWith('/')) {\n      safeBasePath = safeBasePath.replace(/\\/+$/, '/');\n    } else {\n      safeBasePath += '/';\n    }\n    if (safePath.startsWith('/')) safePath = safePath.replace(/^\\/+/, '');\n    const baseURL = new URL(safeBasePath);\n    return new URL(safePath, baseURL);\n  }\n\n  public static isUrlValid(url: string): boolean {\n    try {\n      new URL(url);\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n}\n","import { Logger } from '../logger/Logger';\n\nimport { URLUtilities } from './url';\n\nexport function redirectParentIframe(redirectUrl: string): void {\n  if (!redirectUrl) return;\n\n  if (!URLUtilities.isUrlValid(redirectUrl)) {\n    Logger.logFailure('InvalidRedirectUrl', {\n      additional: redirectUrl,\n    });\n    return;\n  }\n\n  // Directly access parent window from iframe, because there is no post message API for cross-origin communication.\n  // Operator should configure their site to allow cross-origin access from our game iframe for this to work.\n  try {\n    window.parent.location.href = redirectUrl;\n  } catch {\n    window.parent.parent.location.href = redirectUrl;\n  }\n}\n","import type { LottiePlayer } from 'lottie-web/build/player/lottie_light';\n\n// This controller is used to asyc load lottie-web library\nclass LottieController {\n  public lottie: LottiePlayer | null = null;\n  // TO-DO: add error handling if needed\n  // private error: Error | null = null;\n\n  private listeners = new Map<string, (lottie: LottiePlayer) => void>();\n\n  // add listener callback to listeners Map\n  public addListener(name: string, listener: (lottie: LottiePlayer) => void): void {\n    this.listeners.set(name, listener);\n  }\n\n  // load lottie-web library, write it to lottie property\n  init(): void {\n    if (this.lottie) {\n      return;\n    }\n    import(/* webpackChunkName: \"lottie\"*/ 'lottie-web/build/player/lottie_light')\n      .then((lottie) => {\n        this.lottie = lottie.default;\n        for (const callback of this.listeners.values()) {\n          callback(lottie.default);\n        }\n      })\n      .catch(() => {\n        // this.error = err;\n      });\n  }\n\n  // call init() after timeout (default 3s)\n  timeoutInit(timeout: number = 3000): void {\n    setTimeout(() => {\n      this.init();\n    }, timeout);\n  }\n}\n\n// export initialized lottie controller instance\nexport default new LottieController();\n","import type { BrowserCacheResourceConfig } from '../controllers/browserCacheController/types';\nimport { getStaticResourceUrl } from '../utils/getStaticBaseUrl';\n\nexport const CoreResources: BrowserCacheResourceConfig = {\n  /* fonts */\n  REGULAR: {\n    url: getStaticResourceUrl('assets/fonts/Poppins-Regular.woff2'),\n    priority: 'block',\n    kind: 'font',\n  } /* core default regular */,\n  BOLD: {\n    url: getStaticResourceUrl('assets/fonts/Poppins-SemiBold.woff2'),\n    priority: 'block',\n    kind: 'font',\n  } /* core default bold */,\n  CARD: {\n    url: getStaticResourceUrl('assets/fonts/PragmaticFlatCards.woff2'),\n    priority: 'block',\n    kind: 'font',\n  } /* core cards */,\n  CHIP: {\n    url: getStaticResourceUrl('assets/fonts/Montserrat-Chip.woff2'),\n    priority: 'block',\n    kind: 'font',\n  } /* core chips */,\n};\n","import { Logger } from './Logger';\n\nexport enum RoundIntegrityWatcherPhases {\n  Game = 0b1,\n  Timer = 0b10,\n  BetsOpen = 0b100,\n  BetsClosed = 0b1000,\n  StartDealing = 0b10000,\n  Win = 0b100000,\n  WinnersPaid = 0b1000000,\n}\n\n// sum of all phases\nconst fullRound = 0b1111111;\n\n// sum of all phases except win message\nconst roundWithoutBets = 0b1011111;\n\nclass RoundIntegrityWatcherBase {\n  private roundState: number = 0b0;\n  private hadBets = false;\n  private initial: boolean | null = null;\n\n  public setHadBets(): void {\n    if (this.roundState !== 0) {\n      this.hadBets = true;\n    }\n  }\n\n  public resetRoundState(): void {\n    this.roundState = 0;\n    this.hadBets = false;\n  }\n\n  public setPhase(phase: RoundIntegrityWatcherPhases): void {\n    if (this.initial === null && phase === RoundIntegrityWatcherPhases.Game) {\n      this.initial = true;\n    }\n    if (phase === RoundIntegrityWatcherPhases.Game && this.roundState !== 0) {\n      this.logRoundState();\n      this.initial = false;\n    }\n    this.roundState |= phase;\n  }\n\n  logRoundState(): void {\n    const isComplete = this.hadBets ? this.roundState === fullRound : this.roundState === roundWithoutBets;\n\n    Logger.logEvent('roundIntegrity', {\n      additional: `${isComplete ? 'complete' : 'incomplete'}${this.initial ? '-initial' : ''}`,\n      bandwidth: this.roundState,\n    });\n\n    this.resetRoundState();\n  }\n}\n\nexport const RoundIntegrityWatcher = new RoundIntegrityWatcherBase();\n","export interface PerformanceDegradationCallback {\n  (): void;\n}\n\nclass PerformanceControllerBase {\n  private static instance: PerformanceControllerBase;\n  public readonly LONG_FRAME_THRESHOLD = 66.67; // ms (15 fps)\n  readonly LISTENING_WINDOW = 3_000; // 3 seconds\n  readonly DEGRADATION_THRESHOLD = 3; // 3 long frames\n  private longFrameCount = 0;\n  private isDegraded = false;\n  private listeningTimeout: number | null = null;\n  private degradationCallback: PerformanceDegradationCallback | null = null;\n\n  public setDegradationCallback(callback: PerformanceDegradationCallback): void {\n    this.degradationCallback = callback;\n  }\n\n  public static getInstance(): PerformanceControllerBase {\n    if (!PerformanceControllerBase.instance) {\n      PerformanceControllerBase.instance = new PerformanceControllerBase();\n    }\n\n    return PerformanceControllerBase.instance;\n  }\n\n  private degrade(): void {\n    this.handleListeningTimeout();\n    if (this.isDegraded) {\n      return;\n    }\n    this.isDegraded = true;\n    if (this.degradationCallback) {\n      this.degradationCallback();\n    }\n  }\n\n  private handleListeningTimeout(): void {\n    if (this.listeningTimeout) {\n      window.clearTimeout(this.listeningTimeout);\n      this.listeningTimeout = null;\n    }\n    this.longFrameCount = 0;\n  }\n\n  private initialiseListeningTimeout(): void {\n    this.listeningTimeout = window.setTimeout(this.handleListeningTimeout.bind(this), this.LISTENING_WINDOW);\n  }\n\n  private registerLongFrame(): void {\n    if (!this.listeningTimeout) {\n      this.initialiseListeningTimeout();\n    }\n\n    this.longFrameCount++;\n    if (this.longFrameCount >= this.DEGRADATION_THRESHOLD) {\n      this.degrade();\n    }\n  }\n\n  public reportLongFrame(frameDuration: number): void {\n    // Don't report long frames if we're already degraded\n    if (this.isDegraded) return;\n\n    // If frame duration is longer than the threshold, register it\n    if (frameDuration >= this.LONG_FRAME_THRESHOLD) {\n      this.registerLongFrame();\n    }\n  }\n\n  public getIsDegraded(): boolean {\n    return this.isDegraded;\n  }\n}\n\nexport const PerformanceController = PerformanceControllerBase.getInstance();\n","import type { FunctionComponent } from 'react';\nimport { useEffect } from 'react';\n\nimport { Logger } from '../logger/Logger';\n\nimport type { IncomingMessage } from './types';\n\nexport interface MessageReceiverProps {\n  /** Function to handle incoming messages, receives the message as an argument */\n  handler: (message: IncomingMessage) => void;\n  /** Callback to be called when the component starts listening */\n  onListening?: () => void;\n}\n\n/**\n * A component that listens for messages from the other windows and calls a handler function when a message is received\n * */\nexport const MessageReceiver: FunctionComponent<MessageReceiverProps> = ({ handler, onListening }) => {\n  useEffect(() => {\n    const handleMessages = (event: MessageEvent): void => {\n      const message = event.data;\n      if (!message) return;\n      // Lobby messages\n      try {\n        handler(message);\n      } catch (error) {\n        Logger.logFailure('errors', 'messageReceiver', 'messageParsing', Date.now(), 1, message?.name, false);\n      }\n    };\n\n    window.addEventListener('message', handleMessages);\n    if (onListening) onListening();\n    return () => window.removeEventListener('message', handleMessages);\n  }, [handler, onListening]);\n\n  return null;\n};\n","import type { FC, ReactElement } from 'react';\nimport { useEffect } from 'react';\n\nimport { Logger } from '../../../logger/Logger';\nimport { CoreDispatch, useCoreDispatch } from '../../../store/CoreStore';\nimport { useAutoplaySlice } from '../../../store/slices/autoplay/selectors';\nimport { useBetSlice } from '../../../store/slices/bets/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { toastActions } from '../../../store/slices/toast/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { CurrencyConnected } from '../../currency/CurrencyConnected';\nimport { validateAndSaveBets } from '../../game/gameControls/autoplayControl/utils/validateAndSaveBets';\nimport { PopupType } from '../../popup/types';\nimport { L12nText } from '../../text/L12nText';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const AutoplayModifiedConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const currentBet = useBetSlice.bets();\n  const acceptedBets = useBetSlice.acceptedBets();\n  const invalidBets = useBetSlice.invalidBetspots();\n  const totalBet = useBetSlice.totalBet();\n  const autoplayInProgress = useAutoplaySlice.isInProgress();\n\n  useEffect(() => {\n    if (!autoplayInProgress) {\n      dispatch(popupActions.dismissPopup(PopupType.AutoplayModified));\n    }\n  }, [autoplayInProgress, dispatch]);\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'THIS_ROUND_ONLY',\n      type: ButtonVariant.MAIN,\n      click: (): void => {\n        dispatch(toastActions.createToast('AUTOPLAY_CONTINUED_NO_CHANGES'));\n        dispatch(popupActions.dismissPopup(PopupType.AutoplayModified));\n        Logger.logEvent('click', 'autoplay_modify', Date.now(), 1, 'Popup_ThisRound', false);\n      },\n    },\n    {\n      tk: 'MODIFY',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        if (currentBet) {\n          validateAndSaveBets({\n            dispatch: dispatch,\n            currentBet: currentBet,\n            acceptedBets: acceptedBets,\n            invalidBets: invalidBets,\n          });\n        }\n        dispatch(popupActions.dismissPopup(PopupType.AutoplayModified));\n        dispatch(toastActions.createToast('AUTOPLAY_BET_AMOUNT_MODIFIED'));\n        Logger.logEvent('click', 'autoplay_modify', Date.now(), 1, 'Popup_AllRounds', false);\n      },\n    },\n  ];\n  const messageContent = (\n    <>\n      <L12nText tk=\"NEW_BET_AMOUNT\" /> <CurrencyConnected value={totalBet} />\n      <div style={{ paddingTop: '8px' }}>\n        <L12nText tk=\"MODIFY_AUTOPLAY_WITH_NEW_BET\" />\n      </div>\n    </>\n  );\n\n  return <BlockingModalContent titleTk=\"MODIFY_AUTOPLAY\" messageComponent={messageContent} actions={action} />;\n};\n\nexport const autoplayModifiedConnectedOnClose = (dispatch: CoreDispatch): void => {\n  dispatch(toastActions.createToast('AUTOPLAY_CONTINUED_NO_CHANGES'));\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const AutoplayStoppedConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.AutoplayStopped));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"AUTOPLAY_PREFERENCES_STOPPED\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const BetNotAllowedConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.BetNotAllowed));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"SAFE_BETS_ERROR\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const BetNotOnTimeConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.BetNotOnTime));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"NOT_ON_TIME_ERROR\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store';\nimport { getWindowObject } from '../../../utils/window';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { OnCloseCallback } from '../types';\n\nimport type { BlockingModalActionButton } from './BlockingModalContent';\nimport { BlockingModalContent } from './BlockingModalContent';\n\nexport const ConnectionLostConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        connectionLostOnClose(dispatch);\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"NO_INTERNET\" actions={action} />;\n};\n\nexport const connectionLostOnClose: OnCloseCallback = (dispatch): void => {\n  const windowObject = getWindowObject();\n  windowObject.location.reload();\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const DontLeaveRoundInProgressConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.DontLeaveRoundInProgress));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"WAIT_UNTIL_ROUND_IS_RESOLVED\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { usePopupSlice } from '../../../store/slices/popup/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const ErrorConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const currentPopupData = usePopupSlice.currentPopupData();\n  let code: string = '';\n  if (currentPopupData !== null) {\n    code = currentPopupData.code as string;\n  }\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.Error));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk={`ERROR_${code}`} actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useRedirectToLobbyCallbackConnected } from '../../../hooks/useRdirectToLobbyCallbackConnected';\nimport { CoreDispatch, useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const ExitConfirmationConnected: FC = (): ReactElement => {\n  const dispatch: CoreDispatch = useCoreDispatch();\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'CANCEL',\n      type: ButtonVariant.MAIN,\n      click: (): void => {\n        cancel(dispatch);\n      },\n    },\n    {\n      tk: 'EXIT',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        redirectToLobby();\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"EXIT_TO_LOBBY_CHECK\" actions={action} />;\n};\n\nexport const cancel = (dispatch: CoreDispatch): void => {\n  dispatch(popupActions.dismissPopup(PopupType.ExitConfirmation));\n};\n","import type { FunctionComponent, ReactElement } from 'react';\nimport { useEffect } from 'react';\n\nimport { useTranslation } from '../../../api/useTranslation';\nimport { CoreDispatch, useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { Curtain } from '../../curtain/Curtain';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\ninterface GenericErrorConnectedProps {\n  inCurtain?: boolean;\n}\n\nexport const GenericErrorNoRefreshConnected: FunctionComponent<GenericErrorConnectedProps> = ({\n  inCurtain,\n}): ReactElement => {\n  const { translations, isFetching } = useTranslation();\n  const dispatch: CoreDispatch = useCoreDispatch();\n\n  const translationKey =\n    isFetching || !translations ? 'Please contact Customer Support for assistance' : 'GENERIC_ERROR';\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.GenericErrorNoRefresh));\n      },\n    },\n  ];\n\n  useEffect(() => {\n    if (inCurtain) return;\n    // Error may occur on initial loading. Remove curtain so that error popup is displayed\n    Curtain.remove();\n  }, [inCurtain]);\n\n  return <BlockingModalContent messageTk={translationKey} actions={action} inCurtain={inCurtain} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport type { CoreDispatch } from '../../../store/CoreStore';\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { gameStateActions } from '../../../store/slices/game/slice';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport type { BlockingModalActionButton } from './BlockingModalContent';\nimport { BlockingModalContent } from './BlockingModalContent';\n\nexport const InactivityConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.Inactivity));\n        inactivityConnectedOnClose(dispatch);\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"IDLE_MESSAGE\" actions={action} />;\n};\n\nexport const inactivityConnectedOnClose = (dispatch: CoreDispatch): void => {\n  // Resume game socket and video stream\n  dispatch(gameStateActions.setGamePaused(false));\n  dispatch(gameStateActions.setInactivityCounter(0));\n};\n","import type { FC, ReactElement } from 'react';\nimport { useMemo } from 'react';\n\nimport { useCashierCallbackConnected } from '../../../hooks/useCashierCallbackConnected';\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { gameStateActions } from '../../../store/slices/game/slice';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const InsufficientFundsConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const cashierCallback = useCashierCallbackConnected();\n\n  const actions: BlockingModalActionButton[] = useMemo(() => {\n    const actions: BlockingModalActionButton[] = [\n      {\n        tk: cashierCallback ? 'NOTHANKS' : 'OK',\n        type: cashierCallback ? ButtonVariant.MAIN : ButtonVariant.ACCENT,\n        click: (): void => {\n          dispatch(gameStateActions.setBalanceCheckCount(0));\n          dispatch(popupActions.dismissPopup(PopupType.InsufficientFunds));\n        },\n      },\n    ];\n    if (cashierCallback) {\n      actions.push({\n        tk: 'TAKEMETHERE',\n        type: ButtonVariant.ACCENT,\n        click: (): void => {\n          dispatch(gameStateActions.setBalanceCheckCount(0));\n          dispatch(popupActions.dismissPopup(PopupType.InsufficientFunds));\n          cashierCallback();\n        },\n      });\n    }\n    return actions;\n  }, [cashierCallback, dispatch]);\n\n  return (\n    <BlockingModalContent\n      titleTk=\"INSUFFICIENTFUNDS\"\n      messageTk={cashierCallback ? 'LOWBALANCE' : 'LOWBALANCE_SHORT'}\n      actions={actions}\n    />\n  );\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { gameStateActions } from '../../../store/slices/game/slice';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { getWindowObject } from '../../../utils/window';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport type { OnCloseCallback } from '../../popup/types';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const LoggedOutConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        loggedOutClose(dispatch);\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"LOGGED_OUT_ERROR\" actions={action} />;\n};\n\nexport const loggedOutClose: OnCloseCallback = (dispatch): void => {\n  const windowObject = getWindowObject();\n  dispatch(popupActions.dismissPopup(PopupType.LoggedOut));\n  dispatch(gameStateActions.setGamePaused(false));\n  windowObject.location.reload();\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { PopupType } from '../../popup/types';\nimport { NickNameEditFormConnected } from '../../settings/nickName/NickNameEditFormConnected';\nimport { L12nText } from '../../text/L12nText';\n\nimport { BlockingModalContent } from './BlockingModalContent';\n\nimport styles from './popupContent.module.css';\n\nexport const NicknameEnterConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const showNicknameDisclaimer = useConfigSlice.casinoConfig()?.showNicknameDisclaimer;\n\n  const onNickNameSave = (): void => {\n    dispatch(popupActions.dismissPopup(PopupType.NicknameEnter));\n  };\n\n  const messageContent = (\n    <>\n      <NickNameEditFormConnected inPopUp onNickNameSave={onNickNameSave} />\n\n      {showNicknameDisclaimer ? (\n        <div className={styles.popupContent__disclaimer}>\n          <L12nText tk=\"PERSONAL_DATA\" />\n        </div>\n      ) : null}\n    </>\n  );\n\n  return <BlockingModalContent titleTk=\"SETTINGS_CHOOSE_NICKNAME\" messageComponent={messageContent} />;\n};\n","import { FC, ReactElement, useCallback, useMemo } from 'react';\n\nimport { useMedia } from '../../../hooks/useMedia';\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { redirectParentIframe } from '../../../utils/redirect';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const PlayerLimitConnected: FC = (): ReactElement => {\n  const casinoConfig = useConfigSlice.casinoConfig();\n  const dispatch = useCoreDispatch();\n  const isTouch = useMedia('(pointer: coarse)');\n\n  // For touch (mobile) devices, redirect to mobile site version with fallback to desktop version. Otherwise, default to operator's desktop site version.\n  const redirectUrl = useMemo(() => {\n    return isTouch ? casinoConfig?.exitUrl ?? casinoConfig?.homeUrl : casinoConfig?.homeUrl;\n  }, [isTouch, casinoConfig]);\n\n  const handleClick = useCallback((): void => {\n    dispatch(popupActions.dismissPopup(PopupType.PlayerLimit));\n\n    if (!redirectUrl) return;\n\n    redirectParentIframe(redirectUrl);\n  }, [dispatch, redirectUrl]);\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: handleClick,\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"ERROR_20610\" actions={action} />;\n};\n","import { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const PrivateTableByInvitationConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.ByInvitation));\n      },\n    },\n  ];\n\n  return <BlockingModalContent titleTk=\"BY_INVITATION\" messageTk=\"RECEIVED_INVITATION\" actions={action} />;\n};\n","import { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const PrivateTableOccupiedConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.PrivateTableOccupied));\n      },\n    },\n  ];\n\n  return <BlockingModalContent titleTk=\"TABLE_OCCUPIED\" messageTk=\"PRIVATE_OCCUPIED\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { Icon } from '../../icons/icon';\nimport { Icons } from '../../icons/iconNames';\nimport { L12nText } from '../../text/L12nText';\nimport styles from '../Popup.module.css';\n\nexport const ReconnectingPopup: FC = (): ReactElement => (\n  <div className={styles.popup__reconnecting}>\n    <Icon icon={Icons.Update} />\n    <L12nText tk=\"CONNECT_SERVER\" />\n  </div>\n);\n","import type { FC, ReactElement } from 'react';\nimport { useState } from 'react';\n\nimport { useCashierCallbackConnected } from '../../../hooks/useCashierCallbackConnected';\nimport { useRedirectToLobbyCallbackConnected } from '../../../hooks/useRdirectToLobbyCallbackConnected';\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { headerActions } from '../../../store/slices/header/slice';\nimport { HeaderModal } from '../../../store/slices/header/types';\nimport { usePopupSlice } from '../../../store/slices/popup/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { type MessageAction, MessageActionType, MessageLinkType } from '../../../store/slices/popup/types';\nimport { Button, ButtonVariant } from '../../controls/button/Button';\nimport { Loader } from '../../loader/Loader';\nimport { PopupType } from '../../popup/types';\n\nimport styles from './popupContent.module.css';\n\nexport const ServerMessageConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const { text, title, options = [] } = usePopupSlice.customPopup()!;\n  const cashierCallback = useCashierCallbackConnected();\n  const [isLoading, setLoad] = useState(false);\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n\n  const actionsElements = options.map((action: MessageAction) => {\n    const onClick = (): void => {\n      switch (action.action) {\n        case MessageActionType.Cashier:\n          cashierCallback?.();\n          dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n          break;\n        case MessageActionType.Quit:\n          redirectToLobby();\n          break;\n        case MessageActionType.Continue:\n          dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n          break;\n        case MessageActionType.History:\n          dispatch(headerActions.setOpenedModal(HeaderModal.History));\n          dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n          break;\n        case MessageActionType.Link:\n          switch (action.linkType) {\n            case MessageLinkType.Redirect:\n              window.location.href = action.url || '';\n              break;\n            case MessageLinkType.Open:\n              window.open(action.url || '', '_blank');\n              dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n              break;\n            case MessageLinkType.Notify:\n              window.top?.postMessage(action.url || '');\n              dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n              break;\n            case MessageLinkType.Ajax:\n              fetch(action.url || '')\n                .then()\n                .catch((e) => {\n                  console.log(e);\n                  //FIXME Log error here\n                });\n              dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n              break;\n            case MessageLinkType.AjaxResponse:\n              setLoad(true);\n              fetch(action.url || '')\n                .then((response) => {\n                  if (response.ok) {\n                    dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n                  } else {\n                    dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n                    dispatch(popupActions.overwritePopup(PopupType.GenericError));\n                    //FIXME Log error here\n                  }\n                })\n                .catch(() => {\n                  dispatch(popupActions.dismissPopup(PopupType.CustomPopup));\n                  dispatch(popupActions.overwritePopup(PopupType.GenericError));\n                  //FIXME Log error here\n                });\n              break;\n          }\n          break;\n      }\n    };\n    return (\n      <Button key={action.label} variant={ButtonVariant.ACCENT} onClick={onClick}>\n        {action.label}\n      </Button>\n    );\n  });\n\n  return (\n    <div className={styles.popup}>\n      <div className={styles.popupContent}>\n        {title && <div className={styles.popupContent__title}>{title}</div>}\n        {text && <div className={styles.popupContent__message}>{text}</div>}\n        {options.length > 0 &&\n          (isLoading ? <Loader /> : <div className={styles.popupContent__buttons}>{actionsElements}</div>)}\n      </div>\n    </div>\n  );\n};\n","import type { FunctionComponent, ReactNode } from 'react';\n\nimport styles from './DescriptionList.module.css';\n\nexport interface DescriptionListProps {\n  /** a list of items to display, consisting of `title` and `description` */\n  items: Array<{ title: ReactNode; description: ReactNode }>;\n}\n\n/**\n * A list of items with a title and description.\n * */\nexport const DescriptionList: FunctionComponent<DescriptionListProps> = ({ items }) => {\n  return (\n    <dl className={styles.descriptionList}>\n      {items.map((item, index) => (\n        <div className={styles.descriptionList__item} key={index}>\n          <dt>{item.title}</dt>\n          <dd>{item.description}</dd>\n        </div>\n      ))}\n    </dl>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionList\":\"go_gp\",\"descriptionList__item\":\"go_gq\"};","import type { ChangeEvent, FunctionComponent } from 'react';\nimport { useState } from 'react';\n\nimport type { CurrencyInfo } from '../../../store/slices/game/types';\nimport { L12nText } from '../../text/L12nText';\nimport { BaseInput, type InputProps } from '../baseInput/BaseInput';\n\nexport interface CurrencyInputProps extends Omit<InputProps, 'prefix'> {\n  currency: string;\n  initialValue?: string;\n  containerClass?: string;\n  currencyInfo?: CurrencyInfo;\n  errorMsg?: string;\n}\n\nexport const CurrencyInput: FunctionComponent<CurrencyInputProps> = ({\n  currency,\n  initialValue,\n  currencyInfo,\n  errorMsg,\n  ...rest\n}) => {\n  const [error, setError] = useState('');\n  const [value, setValue] = useState(initialValue);\n\n  let placeholder = '0';\n\n  if (currencyInfo && currencyInfo.digitsNumber > 0) {\n    placeholder += currencyInfo.decimalSeparator;\n    for (let i = 0; i < currencyInfo.digitsNumber; i++) {\n      placeholder += 0;\n    }\n  }\n\n  const validateCurrency = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.preventDefault();\n    const input = event.target as HTMLInputElement;\n    const validityState = input.validity;\n\n    if (validityState.valueMissing) {\n      setError('REQUIRED');\n    } else if (validityState.tooLong || validityState.rangeOverflow) {\n      setError(errorMsg ?? 'INCORRECT_VALUE');\n    } else if (\n      validityState.rangeUnderflow ||\n      validityState.patternMismatch ||\n      validityState.stepMismatch ||\n      validityState.tooShort ||\n      validityState.typeMismatch ||\n      validityState.badInput\n    ) {\n      setError('INCORRECT_VALUE');\n    }\n  };\n\n  const resetErrors = (): void => {\n    setError('');\n  };\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    setValue(event.target.value);\n  };\n\n  return (\n    <BaseInput\n      prefix={currency}\n      type=\"number\"\n      step={Math.pow(10, -(currencyInfo?.digitsNumber || 0))}\n      min={0}\n      onChange={onChange}\n      placeholder={placeholder}\n      value={value}\n      errorMessage={error ? <L12nText tk={error} /> : undefined}\n      onInvalid={validateCurrency}\n      onFocus={resetErrors}\n      {...rest}\n    />\n  );\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useHideCurrency } from '../../../store/compositeSelectors/useHideCurrency';\nimport { useGameStateSlice } from '../../../store/slices/game/selectors';\nimport type { InputProps } from '../baseInput/BaseInput';\n\nimport { CurrencyInput } from './index';\n\nexport interface CurrencyInputConnectedProps extends Omit<InputProps, 'prefix'> {\n  initialValue?: string;\n  containerClass?: string;\n  errorMsg?: string;\n}\n\nexport const CurrencyInputConnected: FC<CurrencyInputConnectedProps> = ({ initialValue, ...rest }): ReactElement => {\n  const currency = useGameStateSlice.getCurrency();\n  const currencyInfo = useGameStateSlice.getCurrencyInfo();\n\n  const hideCurrency = useHideCurrency();\n\n  return (\n    <CurrencyInput\n      currency={hideCurrency ? '' : currency!}\n      currencyInfo={currencyInfo || undefined}\n      initialValue={initialValue}\n      {...rest}\n    />\n  );\n};\n","import type { FC, ReactElement } from 'react';\nimport { useRef, useState } from 'react';\n\nimport { fetchSessionBalance } from '../../../api/fetchers/sessionBalance/fetcher';\nimport { useRedirectToLobbyCallbackConnected } from '../../../hooks/useRdirectToLobbyCallbackConnected';\nimport { Logger } from '../../../logger/Logger';\nimport { fetchUserInfoAction } from '../../../store/apiActions/fetchUserInfoAction';\nimport { useCoreDispatch } from '../../../store/CoreStore'; // ToDo: Should be exported as separate file\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { configActions } from '../../../store/slices/config/slice';\nimport { useGameStateSlice } from '../../../store/slices/game/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { CurrencyConnected } from '../../currency';\nimport { DescriptionList } from '../../descriptionList/DescriptionList';\nimport { FormGrid } from '../../formGrid/FormGrid';\nimport { CurrencyInputConnected } from '../../inputs/currencyInput/currencyInputConnected';\nimport { PopupType } from '../../popup/types';\nimport { L12nText } from '../../text/L12nText';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const SessionBalanceConnected: FC = (): ReactElement => {\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const dispatch = useCoreDispatch();\n  const balance = useGameStateSlice.getDeductibleBalance();\n  const userId = useConfigSlice.playerConfig()?.userId as string;\n  const formRef = useRef<HTMLFormElement>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const baseUrl = useConfigSlice.baseUrl() as string;\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n\n  const sessionBalanceLimit = 1000; // FIXME I should not be hardcoded AND most likely I should be currency multiplier dependent\n  const timeStamp = Date.now();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'EXIT',\n      type: ButtonVariant.MAIN,\n      disabled: isLoading,\n      click: (): void => {\n        redirectToLobby();\n      },\n    },\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      loading: isLoading,\n      disabled: isLoading,\n      click: (): void => {\n        const isValid = formRef.current?.reportValidity();\n        if (isValid) {\n          setIsLoading(true);\n          const { sessionBalance } = formRef.current as any;\n\n          const body = {\n            chosenBalance: sessionBalance.value,\n            userId,\n          };\n\n          if (JSESSIONID && baseUrl) {\n            fetchSessionBalance({\n              url: `${baseUrl}/api/ui/rgsChoosenBalance`,\n              ck: timeStamp.toString(),\n              JSESSIONID: JSESSIONID,\n              body,\n            })\n              .then((data) => {\n                dispatch(fetchUserInfoAction({ JSESSIONID, force: true, baseUrl, essential: true }));\n                dispatch(popupActions.dismissPopup(PopupType.SessionBalance));\n                if (data.errorCode === '110') {\n                  dispatch(popupActions.pushPopup(PopupType.SessionBalanceError));\n                } else {\n                  dispatch(configActions.sessionBalanceWasSet());\n                  dispatch(configActions.setAaamsSessions(data));\n                }\n              })\n              .catch((error) => {\n                Logger.logFailure('sessionBalance', {\n                  additional: error?.name ?? '',\n                });\n                dispatch(popupActions.dismissPopup(PopupType.SessionBalance));\n                dispatch(popupActions.pushPopup(PopupType.GenericError));\n              });\n          } else {\n            dispatch(popupActions.pushPopup(PopupType.GenericError));\n          }\n        }\n      },\n    },\n  ];\n  const messageContent = (\n    <form ref={formRef}>\n      <FormGrid>\n        <DescriptionList\n          items={[\n            {\n              title: <L12nText tk=\"AVAILABLE_BALANCE\" />,\n              description: <CurrencyConnected value={balance} />,\n            },\n          ]}\n        />\n        <CurrencyInputConnected\n          data-testid=\"session-balance-input\"\n          name=\"sessionBalance\"\n          initialValue={Math.min(sessionBalanceLimit, balance).toString()}\n          min={0}\n          max={Math.min(sessionBalanceLimit, balance)}\n          errorMsg=\"THE_MAX_LIMIT_IS_1000\"\n          required\n          label={<L12nText tk=\"SESSION_BALANCE\" />}\n        />\n      </FormGrid>\n    </form>\n  );\n\n  return <BlockingModalContent titleTk=\"AMOUNT_TO_PLAY\" messageComponent={messageContent} actions={action} />;\n};\n","import { Fetcher } from '../../Fetcher';\n\nimport type { FetchSessionBalanceParams, SessionBalanceRequest, SessionBalanceResponse } from './types';\n\n// Post session balance\nexport const fetchSessionBalance = ({\n  url,\n  ck,\n  JSESSIONID,\n  body,\n}: FetchSessionBalanceParams): Promise<SessionBalanceResponse> => {\n  return Fetcher.fetch<SessionBalanceResponse, SessionBalanceRequest>(url, {\n    params: {\n      ck,\n      JSESSIONID,\n    },\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body,\n    method: 'POST',\n  });\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useRedirectToLobbyCallbackConnected } from '../../../hooks/useRdirectToLobbyCallbackConnected';\nimport { getWindowObject } from '../../../utils/window';\nimport { ButtonVariant } from '../../controls/button/Button';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const SessionBalanceErrorConnected: FC = (): ReactElement => {\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n  const windowObject = getWindowObject();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'EXIT',\n      type: ButtonVariant.MAIN,\n      click: (): void => {\n        redirectToLobby();\n      },\n    },\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        windowObject.location.reload();\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"ERROR_COMMUNICATION\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useConfigSlice } from '../../../store/slices/config/selectors';\nimport { redirectParentIframe } from '../../../utils/redirect';\nimport { ButtonVariant } from '../../controls/button/Button';\n\nimport type { BlockingModalActionButton } from './BlockingModalContent';\nimport { BlockingModalContent } from './BlockingModalContent';\n\nexport const SessionExpiredConnected: FC = (): ReactElement => {\n  const isSisalEnabled = useConfigSlice.casinoConfig()?.isSisalEnabled;\n  const homeUrl = useConfigSlice.casinoConfig()?.homeUrl;\n\n  const action: BlockingModalActionButton[] = homeUrl\n    ? [\n        {\n          tk: 'OK',\n          type: ButtonVariant.ACCENT,\n          click: () => redirectParentIframe(homeUrl),\n        },\n      ]\n    : [];\n\n  return (\n    <BlockingModalContent\n      titleTk=\"PP_7\"\n      messageTk={isSisalEnabled ? 'ERROR_SISAL_9018' : 'SESSION_EXPIRED'}\n      actions={action}\n    />\n  );\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useRedirectToLobbyCallbackConnected } from '../../../hooks/useRdirectToLobbyCallbackConnected';\nimport { useGameStateSlice } from '../../../store/slices/game/selectors';\nimport { ButtonVariant } from '../../controls/button/Button';\n\nimport {\n  type BlockingModalActionButton,\n  type BlockingModalContentProps,\n  BlockingModalContent,\n} from './BlockingModalContent';\n\nexport const TableClosedConnected: FC = (): ReactElement => {\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n\n  const openTime = useGameStateSlice.table()?.openTime;\n\n  const dateTime = openTime ? new Date(openTime) : null;\n\n  const messageComponent = dateTime ? (\n    <>\n      <h2 style={{ margin: 'var(--core-spacing-tiny) 0' }}>\n        {dateTime.toLocaleTimeString('en-gb', { hour: '2-digit', minute: '2-digit' })}\n      </h2>\n      {dateTime.toLocaleDateString('en-gb')}\n    </>\n  ) : null;\n\n  const blockingModalProps: BlockingModalContentProps = messageComponent\n    ? {\n      messageComponent,\n      messageTk: 'LOBBY_OPEN_TIME',\n      titleTk: 'TABLE_IS_CLOSED',\n    }\n    : { messageTk: 'TABLE_CLOSED_ALERT' };\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: () => redirectToLobby(),\n    },\n  ];\n\n  return <BlockingModalContent {...blockingModalProps} actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { settingsActions } from '../../../store/slices/settings/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const VideoIsDisabledConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'CANCEL',\n      type: ButtonVariant.MAIN,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.VideoIsDisabled));\n      },\n    },\n    {\n      tk: 'ENABLE',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.VideoIsDisabled));\n        dispatch(settingsActions.setStreamEnabled(true));\n      },\n    },\n  ];\n\n  return <BlockingModalContent messageTk=\"NO_VIDEO_BODY\" actions={action} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../types';\n\nimport { type BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const VideoStreamQualityConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n\n  const action = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.VideoStreamQuality));\n      },\n    },\n  ] as BlockingModalActionButton[];\n\n  return <BlockingModalContent messageTk=\"LOW_BANDWIDTH\" actions={action} />;\n};\n","import { FC, ReactElement } from 'react';\n\nimport { useCoreDispatch } from '../../../store/CoreStore';\nimport { usePopupSlice } from '../../../store/slices/popup/selectors';\nimport { popupActions } from '../../../store/slices/popup/slice';\nimport { ButtonVariant } from '../../controls/button/Button';\nimport { PopupType } from '../../popup/types';\n\nimport { BlockingModalActionButton, BlockingModalContent } from './BlockingModalContent';\n\nexport const VipTableLowBalanceConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const currentPopupData = usePopupSlice.currentPopupData();\n  let messageData: string[] = [];\n  if (currentPopupData !== null) {\n    messageData = currentPopupData.messageData as string[];\n  }\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'OK',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(PopupType.VipTableLowBalance));\n      },\n    },\n  ];\n\n  return (\n    <BlockingModalContent\n      titleTk=\"LOWGAMEBALANCE\"\n      messageTk=\"LOBBY_PRIVATE_TABLE_LOW_BALANCE\"\n      messageData={messageData}\n      actions={action}\n    />\n  );\n};\n","import type { FC, ReactElement, ReactNode } from 'react';\n\nimport { useRedirectToLobbyCallbackConnected } from '../../hooks/useRdirectToLobbyCallbackConnected';\nimport { Logger } from '../../logger/Logger';\nimport { useCoreDispatch } from '../../store/CoreStore';\nimport { useGameStateSlice } from '../../store/slices/game/selectors';\nimport { usePopupSlice } from '../../store/slices/popup/selectors';\nimport { popupActions } from '../../store/slices/popup/slice';\n\nimport { AutoplayModifiedConnected, autoplayModifiedConnectedOnClose } from './content/AutoplayModifiedConnected';\nimport { AutoplayStoppedConnected } from './content/AutoplayStoppedConnected';\nimport { BetNotAllowedConnected } from './content/BetNotAllowedConnected';\nimport { BetNotOnTimeConnected } from './content/BetNotOnTimeConnected';\nimport { ConnectionLostConnected, connectionLostOnClose } from './content/ConnectionLostConnected';\nimport { DontLeaveRoundInProgressConnected } from './content/DontLeaveRoundInProgressConnected';\nimport { ErrorConnected } from './content/ErrorConnected';\nimport { ExitConfirmationConnected } from './content/ExitConfirmationConnected';\nimport { GenericErrorConnected } from './content/GenericErrorContentConnected';\nimport { GenericErrorNoRefreshConnected } from './content/GenericErrorNoRefreshConnected';\nimport { InactivityConnected, inactivityConnectedOnClose } from './content/InactivityConnected';\nimport { InsufficientFundsConnected } from './content/InsufficientFundsConnected';\nimport { loggedOutClose, LoggedOutConnected } from './content/LoggedOutConnected';\nimport { NicknameEnterConnected } from './content/NicknameEnterConnected';\nimport { PlayerLimitConnected } from './content/PlayerLimitConnected';\nimport { PrivateTableByInvitationConnected } from './content/PrivateTableByInvitationConnected';\nimport { PrivateTableOccupiedConnected } from './content/PrivateTableOccupiedConnected';\nimport { ReconnectingPopup } from './content/Reconnecting';\nimport { ServerMessageConnected } from './content/ServerMessageConnected';\nimport { SessionBalanceConnected } from './content/SessionBalanceConnected';\nimport { SessionBalanceErrorConnected } from './content/SessionBalanceErrorConnected';\nimport { SessionExpiredConnected } from './content/SessionExpiredConnected';\nimport { TableClosedConnected } from './content/TableClosedConnected';\nimport { VideoIsDisabledConnected } from './content/VideoIsDisabledConnected';\nimport { VideoStreamQualityConnected } from './content/VideoStreamQualityConnected';\nimport { VipTableLowBalanceConnected } from './content/VipTableLowBalanceConnected';\nimport { Popup } from './Popup';\nimport type { OnCloseCallback } from './types';\nimport { PopupType } from './types';\n\nexport interface PopupConfigInterface {\n  content: ReactElement;\n  headerLess?: boolean;\n  onClose?: OnCloseCallback;\n}\n\nconst popupsMap: Record<Exclude<PopupType, PopupType.RealityCheck>, PopupConfigInterface> = {\n  [PopupType.AutoplayModified]: { content: <AutoplayModifiedConnected />, onClose: autoplayModifiedConnectedOnClose },\n  [PopupType.AutoplayStopped]: { content: <AutoplayStoppedConnected /> },\n  [PopupType.BetNotAllowed]: { content: <BetNotAllowedConnected /> },\n  [PopupType.BetNotOnTime]: { content: <BetNotOnTimeConnected /> },\n  [PopupType.ByInvitation]: { content: <PrivateTableByInvitationConnected />, headerLess: true },\n  [PopupType.ConnectionLost]: { content: <ConnectionLostConnected />, onClose: connectionLostOnClose },\n  [PopupType.CustomPopup]: { content: <ServerMessageConnected />, headerLess: true },\n  [PopupType.DontLeaveRoundInProgress]: { content: <DontLeaveRoundInProgressConnected />, headerLess: true },\n  [PopupType.Error]: { content: <ErrorConnected /> },\n  [PopupType.ExitConfirmation]: { content: <ExitConfirmationConnected />, headerLess: true },\n  [PopupType.GenericError]: { content: <GenericErrorConnected />, headerLess: true },\n  [PopupType.GenericErrorNoRefresh]: { content: <GenericErrorNoRefreshConnected />, headerLess: true },\n  [PopupType.Inactivity]: { content: <InactivityConnected />, onClose: inactivityConnectedOnClose },\n  [PopupType.InsufficientFunds]: { content: <InsufficientFundsConnected /> },\n  [PopupType.LoggedOut]: { content: <LoggedOutConnected />, onClose: loggedOutClose },\n  [PopupType.NicknameEnter]: { content: <NicknameEnterConnected />, headerLess: true },\n  [PopupType.PlayerLimit]: { content: <PlayerLimitConnected /> },\n  [PopupType.PrivateTableOccupied]: { content: <PrivateTableOccupiedConnected />, headerLess: true },\n  [PopupType.Reconnecting]: { content: <ReconnectingPopup />, headerLess: true },\n  [PopupType.SessionBalance]: { content: <SessionBalanceConnected /> },\n  [PopupType.SessionBalanceError]: { content: <SessionBalanceErrorConnected /> },\n  [PopupType.SessionExpired]: { content: <SessionExpiredConnected />, headerLess: true },\n  [PopupType.TableClosed]: { content: <TableClosedConnected />, headerLess: true },\n  [PopupType.VideoIsDisabled]: { content: <VideoIsDisabledConnected /> },\n  [PopupType.VideoStreamQuality]: { content: <VideoStreamQualityConnected /> },\n  [PopupType.VipTableLowBalance]: { content: <VipTableLowBalanceConnected />, headerLess: true },\n};\n\nexport interface PopupConnectedProps {\n  additionalPopups?: Record<string, PopupConfigInterface>;\n}\n\nexport const PopupConnected: FC<PopupConnectedProps> = ({ additionalPopups }): ReactNode => {\n  const dispatch = useCoreDispatch();\n  const redirectToLobby = useRedirectToLobbyCallbackConnected();\n  const isGameAbandoned = useGameStateSlice.getIsGameAbandoned();\n\n  const currentPopup = usePopupSlice.currentPopup();\n  if (currentPopup) {\n    Logger.logEvent('click', 'showPopup', Date.now(), 1, currentPopup, false);\n  }\n\n  const allPopups: Record<string, PopupConfigInterface> = { ...popupsMap, ...additionalPopups };\n  const popupContent = currentPopup ? allPopups[currentPopup] : null;\n  const content = popupContent?.content ?? null;\n\n  const handleClose = (): void => {\n    dispatch(popupActions.dismissPopup(currentPopup!));\n    if (popupContent?.onClose) {\n      popupContent.onClose(dispatch);\n    }\n    // TODO: This is need because right now navigation is via hook. We need to create event-driven navigation controller to be able to trigger navigation events from plain components\n    if (currentPopup === PopupType.SessionBalance || currentPopup === PopupType.SessionBalanceError) {\n      redirectToLobby();\n    }\n  };\n\n  return content ? (\n    <Popup\n      content={content}\n      handleClose={handleClose}\n      headerLess={popupContent?.headerLess}\n      isAboveAll={isGameAbandoned}\n    />\n  ) : null;\n};\n","import type { BalanceType } from '../../../../../api/fetchers/userInfo/types';\nimport { GameCommunicationBetSender } from '../../../../../controllers/gameCommunication/senders/GameCommunicationBetSender';\nimport type { CoreDispatch } from '../../../../../store/CoreStore';\nimport { betActions } from '../../../../../store/slices/bets/slice';\nimport type { BetType } from '../../../../../store/slices/bets/types';\nimport { popupActions } from '../../../../../store/slices/popup/slice';\nimport { PopupType } from '../../../../popup/types';\n\nconst betSender = new GameCommunicationBetSender();\n\nexport function placeAutoplayBet(\n  isInProgress: boolean,\n  savedBet: BetType | null,\n  disabledBets: string[],\n  dispatch: CoreDispatch,\n  balance?: BalanceType,\n  digitsNumber?: number\n): void {\n  if (isInProgress) {\n    const deductibleBalance = (balance?.amount ?? 0) + (balance?.bonus ?? 0);\n    const newBet: BetType = { betSpots: {} };\n\n    for (const betId in savedBet!.betSpots) {\n      if (savedBet!.betSpots[betId] && savedBet!.betSpots[betId].value > 0 && !disabledBets.includes(betId)) {\n        newBet.betSpots[betId] = savedBet!.betSpots[betId];\n      }\n    }\n\n    dispatch(\n      betActions.pushBet({\n        bet: newBet,\n        balance: deductibleBalance,\n        decimals: digitsNumber ?? 2,\n      })\n    );\n    betSender.dispatch();\n    dispatch(popupActions.dismissPopup(PopupType.AutoplayModified));\n  }\n}\n","import { useEffect, useRef, useState } from 'react';\n\nimport { useTranslation } from '../../api/useTranslation';\nimport { CoreTelemetryController } from '../../logger/CoreTelemetryController';\nimport { useConfigSlice } from '../../store/slices/config/selectors';\n\n/**\n * Hook that handles curtain disappearing when game is loaded\n * @returns boolean value, that represents if the curtain disappearing animation has finished\n */\nexport const useCurtain = (progress: number): boolean => {\n  const session = useConfigSlice.session();\n  const curtain = useRef<HTMLDivElement>(document.querySelector<HTMLDivElement>('.curtain'));\n  const showJurMsg = useConfigSlice.casinoConfig()?.showAlderneyMsg;\n  const { translations } = useTranslation();\n  const [curtainVisible, setCurtainVisible] = useState<boolean>(true);\n\n  useEffect(() => {\n    const curtainElement = curtain.current;\n    if (curtainElement) {\n      const progressBar = curtainElement.querySelector<HTMLProgressElement>('progress');\n\n      // get access to curtain footer\n      const curtainFooter = curtainElement.querySelector<HTMLDivElement>('.curtain-footer');\n      if (\n        curtainFooter &&\n        showJurMsg &&\n        translations['GAMBLING_COMMISSION_TITLE'] &&\n        translations['AGCC_REGULATORY_MESSAGE']\n      ) {\n        // curtain footer header and message accordingly\n        curtainFooter.childNodes[0].textContent = translations['GAMBLING_COMMISSION_TITLE'];\n        curtainFooter.childNodes[1].textContent = translations['AGCC_REGULATORY_MESSAGE'];\n        curtainFooter.classList.add('visible');\n      } else {\n        curtainFooter?.classList.remove('visible');\n      }\n\n      if (!progressBar) return;\n      progressBar.value = progress;\n      if (progress === 100 || session === null) {\n        CoreTelemetryController.logInitialTelemetry();\n        curtainElement.classList.add('curtain_lifted');\n        const animationEndHandler = (): void => {\n          if (curtainElement) {\n            curtainElement.classList.add('curtain_dead');\n            curtainElement.classList.remove('curtain_lifted');\n            setCurtainVisible(false);\n          }\n        };\n        curtainElement.addEventListener('animationend', animationEndHandler);\n        return (): void => {\n          curtainElement.removeEventListener('animationend', animationEndHandler);\n        };\n      }\n    }\n  }, [progress, session, showJurMsg, translations]);\n\n  return curtainVisible;\n};\n","import type { FC, PropsWithChildren, ReactElement } from 'react';\nimport { connect } from 'react-redux';\n\nimport type { ITableConfigParserOptions } from '../../api/fetchers/tableConfig/types';\nimport { TranslationProvider } from '../../api/useTranslation';\nimport { GameConfigProvider } from '../../config/GameConfigProvider';\nimport { AudioControllerConnected } from '../../controllers/audioController/AudioControllerConnected';\nimport type { SoundResourceType } from '../../controllers/audioController/types';\nimport { BetOverriderConnector } from '../../controllers/betOverrider/BetOverriderConnector';\nimport { BrowserCacheControllerConnector } from '../../controllers/browserCacheController/BrowserCacheControllerConnector';\nimport type { BrowserCacheControllerProps } from '../../controllers/browserCacheController/types';\nimport { ChatCommunicationControllerConnector } from '../../controllers/chatCommunication/ChatCommunicationControllerConnector';\nimport { GameCommunicationControllerConnector } from '../../controllers/gameCommunication/GameCommunicationControllerConnector';\nimport type { GameCommunicationControllerConfig } from '../../controllers/gameCommunication/types';\nimport { PerformanceControllerConnector } from '../../controllers/performanceController/PerformanceControllerConnector';\nimport { LobbyMessageReceiver } from '../../messages/LobbyMessageReceiver';\nimport { MessageConnector } from '../../messages/MessageConnector';\nimport { coreSoundResources } from '../../sounds';\nimport type { CoreRootState, CoreStoreType } from '../../store/CoreStore';\nimport { CoreStoreProvider } from '../../store/CoreStore';\nimport type { ICoreTimings } from '../../store/slices/config/types';\nimport { settingsActions } from '../../store/slices/settings/slice';\nimport type { ITranslationConfig } from '../../utils/language';\nimport type { IChatConfig } from '../chat/types';\nimport { JurisdictionNL } from '../compliance/JurisdictionNL';\nimport { SessionBalanceConnected } from '../compliance/SessionBalanceConnected';\nimport { FinalErrorBoundary } from '../errorBoundary/FinalErrorBoundary';\nimport { LayoutErrorBoundaryConnected } from '../errorBoundary/LayoutErrorBoundaryConnected';\nimport { FeatureConfigProvider } from '../featureConfig/FeatureConfigProvider';\nimport type { TrafficLightConfigType } from '../game/trafficLight/types';\nimport type { HelpConfigType } from '../help/types';\nimport { IconRoot } from '../icons/iconRoot';\nimport { LayoutRoot } from '../layoutRoot/LayoutRoot';\nimport { LegacyContextProvider } from '../legacyMode/LegacyContextProvider';\nimport type { NavBurgerPlainProps } from '../nav/navBurger/NavBurger';\nimport { PopupConnected } from '../popup/PopupConnected';\nimport { VolumeRestorer } from '../settings/index';\nimport type { VolumeChannelControlType } from '../settings/VolumeChannelControlConnected';\nimport type { SubtitlesConfig } from '../subtitles/types';\nimport type { TabProps } from '../tabs/Tabs';\nimport { VideoRefContextProvider } from '../video_v8/VideoRefContext';\n\nimport { GameInitializer } from './GameInitialiser';\n\nexport interface IMainConfig {\n  betConfig: number[];\n  helpConfig: HelpConfigType;\n  translationConfig: ITranslationConfig;\n  playAreaSize: number;\n  uiVolumeChannel: string;\n  tableConfigOptions: ITableConfigParserOptions;\n  volumeChannels: Record<string, string>;\n  gameHeaderOverlayHeight?: number;\n}\n\nexport interface GameConfigType extends IMainConfig {\n  soundResources: SoundResourceType[];\n  gameStore: CoreStoreType;\n  defaultTimings: ICoreTimings;\n  trafficLightConfig: Record<string, TrafficLightConfigType>;\n  chatConfig?: IChatConfig;\n  gameCommunicationConfig?: GameCommunicationControllerConfig;\n  featureConfigs?: string | string[];\n  subtitlesConfig?: SubtitlesConfig;\n  isCrashGame?: boolean;\n  resources?: BrowserCacheControllerProps['resources'];\n  isChipless?: boolean;\n  shouldGroupByWinners?: string[];\n}\n\nexport interface GameConfigurationInterface {\n  betLimitContent: ReactElement;\n  config: GameConfigType;\n  gameSettingsSpecificTab?: TabProps[];\n  navControls?: NavBurgerPlainProps['navControls'];\n  quickGuideContent?: ReactElement[];\n  soundControls: VolumeChannelControlType[];\n}\n\nexport interface GameRootProps extends PropsWithChildren, GameConfigurationInterface {\n  background: ReactElement;\n  useNewMobileLayout?: boolean;\n}\n\nconst TranslationProviderConnected = connect(\n  (state: CoreRootState) => ({\n    locale: state.settings.language.current,\n  }),\n  {\n    setLanguage: settingsActions.setLanguage,\n  }\n)(TranslationProvider);\n\nexport const GameRoot: FC<GameRootProps> = ({\n  background,\n  betLimitContent,\n  children,\n  config,\n  gameSettingsSpecificTab,\n  navControls,\n  quickGuideContent,\n  soundControls,\n}): ReactElement => {\n  const { gameCommunicationConfig, featureConfigs, gameStore, resources, soundResources, translationConfig } = config;\n\n  return (\n    <FinalErrorBoundary>\n      <LegacyContextProvider>\n        <CoreStoreProvider store={gameStore}>\n          <TranslationProviderConnected uiFiles={translationConfig.uiFiles}>\n            <FeatureConfigProvider configs={featureConfigs}>\n              <VideoRefContextProvider>\n                <LayoutErrorBoundaryConnected>\n                  <GameConfigProvider\n                    value={{\n                      betLimitContent,\n                      config,\n                      gameSettingsSpecificTab,\n                      navControls,\n                      quickGuideContent,\n                      soundControls,\n                    }}\n                  >\n                    {background}\n                    <GameInitializer />\n                    <JurisdictionNL />\n                    <SessionBalanceConnected />\n                    <VolumeRestorer />\n                    <IconRoot />\n                    <AudioControllerConnected audioFiles={[...coreSoundResources, ...soundResources]} />\n                    <GameCommunicationControllerConnector gameStore={gameStore} config={gameCommunicationConfig} />\n                    <ChatCommunicationControllerConnector gameStore={gameStore} />\n                    <BrowserCacheControllerConnector resources={resources} />\n                    <PerformanceControllerConnector />\n                    <BetOverriderConnector />\n                    <LayoutRoot>{children}</LayoutRoot>\n                    <PopupConnected />\n                    <MessageConnector />\n                    <LobbyMessageReceiver />\n                  </GameConfigProvider>\n                </LayoutErrorBoundaryConnected>\n              </VideoRefContextProvider>\n            </FeatureConfigProvider>\n          </TranslationProviderConnected>\n        </CoreStoreProvider>\n      </LegacyContextProvider>\n    </FinalErrorBoundary>\n  );\n};\n","import type { FC } from 'react';\n\ninterface HelpFullTemplateProps {}\n\nexport const HelpFullTemplate: FC<HelpFullTemplateProps> = () => {\n  return (\n    <>\n      {/* todo: add Help title page using hr tag */}\n      <header style={{ padding: '1em' }}>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n          {isSafari ? (\n            <div\n              style={{\n                marginTop: '10px',\n                fontSize: '14px',\n                color: '#333333',\n                backgroundColor: '#fff2c9',\n                padding: '10px',\n                borderRadius: '5px',\n                boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n              }}\n            >\n              <p>You are using Safari browser. For the better PDF quality, please use Google Chrome.</p>\n            </div>\n          ) : null}\n\n          <button\n            style={{\n              backgroundColor: '#007bff',\n              color: 'white',\n              marginTop: '1em',\n              padding: '10px 20px',\n              borderRadius: '5px',\n              cursor: 'pointer',\n              fontSize: '16px',\n              border: 'none',\n            }}\n            onClick={handlePrint}\n          >\n            Save as PDF\n          </button>\n        </div>\n      </header>\n    </>\n  );\n};\n\n// Utils\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\nconst handlePrint = (): void => {\n  if (isSafari) {\n    alert('Safari detected. Please use the browser\\'s print functionality: \\'Right click/Print Frame...\\'');\n  } else {\n    window.print();\n  }\n};\n","import type { ImgHTMLAttributes, ReactElement, SyntheticEvent } from 'react';\nimport { useState } from 'react';\n\nimport { SessionStorage } from '../../storage/session/SessionStorage';\nimport { useSettingsSlice } from '../../store/slices/settings/selectors';\nimport { Loader } from '../loader/Loader';\n\nimport styles from './LazyLocalizedImageConnected.module.css';\n\nexport interface LazyLocalizedImageProps extends ImgHTMLAttributes<HTMLImageElement> {\n  src: string;\n  loaderClassName?: string;\n  containerClassName?: string;\n}\n\nconst DEFAULT_LANG = 'en';\nconst LOC = '{loc}';\n\n/**\n * A component that renders a localized image lazily.\n * If src includes {loc} it will be replaced with player selected language.\n * In case if the language in question doesn't have localized image, will fall back to default language (english)\n *\n * Utilizes sessionStorage to avoid unnecessary requests in case of unmounting\n *\n * @component\n * @param {LazyLocalizedImageProps} props - The component props, same as `<img/>` but with required src and no onLoad and onError plus loader class and container class name\n * @returns {React.Element} The rendered component.\n */\n\nexport const LazyLocalizedImageConnected = ({\n  containerClassName,\n  src,\n  loaderClassName = '',\n  alt = '',\n  ...rest\n}: LazyLocalizedImageProps): ReactElement => {\n  const locale = useSettingsSlice.currentLanguage();\n  const [isLoading, setLoad] = useState(true);\n  const fallback = src.replace(LOC, DEFAULT_LANG) ?? '';\n\n  const source = SessionStorage.get(src) ?? src.replace(LOC, locale);\n\n  const errorHandle = (e: SyntheticEvent<HTMLImageElement, Event>): void => {\n    rest?.onError?.(e);\n    const target = e.target as HTMLImageElement;\n    // Using dataset instead of state to avoid re-rendering the whole component on src switch\n    if (target.dataset.fallback !== 'true') {\n      target.src = fallback;\n      SessionStorage.set(src, fallback);\n      target.dataset.fallback = 'true';\n    } else {\n      setLoad(false);\n    }\n  };\n\n  const onLoadHandle = (e: SyntheticEvent<HTMLImageElement, Event>): void => {\n    rest?.onLoad?.(e);\n    setLoad(false);\n  };\n\n  return (\n    <div className={containerClassName}>\n      {isLoading ? (\n        <span className={`${styles.loader} ${loaderClassName}`}>\n          <Loader />\n        </span>\n      ) : null}\n      <img src={source} alt={alt} onLoad={onLoadHandle} onError={errorHandle} {...rest} />\n    </div>\n  );\n};\n","import type { FC, ReactElement } from 'react';\n\nexport enum languageCode {\n  AR = 'AR',\n  HY = 'HY',\n  BG = 'BG',\n  ZH = 'ZH',\n  DA = 'DA',\n  NL = 'NL',\n  EN = 'EN',\n  FI = 'FI',\n  FR = 'FR',\n  KA = 'KA',\n  DE = 'DE',\n  EL = 'EL',\n  HI = 'HI',\n  HU = 'HU',\n  ID = 'ID',\n  IT = 'IT',\n  JA = 'JA',\n  KO = 'KO',\n  LV = 'LV',\n  LT = 'LT',\n  NO = 'NO',\n  FA = 'FA',\n  PL = 'PL',\n  CN = 'CN',\n  PT = 'PT-BR',\n  NF = 'BG-NL',\n  RO = 'RO',\n  RU = 'RU',\n  ES = 'ES',\n  SV = 'SV',\n  TH = 'TH',\n  TR = 'TR',\n  UK = 'UK',\n  VI = 'VI',\n  EN_RU = 'EN_RU',\n}\n\nexport interface LanguageFlagsProps {\n  lang: languageCode;\n  className?: string;\n}\n\nexport const LanguageFlags: FC<LanguageFlagsProps> = ({\n  lang,\n  className = '',\n  ...props\n}): ReactElement<HTMLImageElement> | null => {\n  if (lang === languageCode.AR)\n    return <img src={`./assets/flags/AR.jpg`} alt=\"AR\" width={24} className={className} {...props} />;\n\n  return lang ? (\n    <img src={`./assets/flags/${lang}.svg`} alt={lang} width={24} className={className} {...props} />\n  ) : null;\n};\n","import { Logger } from '../../../logger/Logger';\nimport { getWebGLContext } from '../../../utils/webgl';\n\nimport { initVBO } from './initVBO';\nimport BASE_VERTEX_SHADER from './shaders/BaseVertexShader.glsl?raw';\nimport INTERPOLATION_FRAGMENT_SHADER from './shaders/InterpolationFragmentShader.glsl?raw';\nimport SCREEN_FRAGMENT_SHADER from './shaders/ScreenFragmentShader.glsl?raw';\n\nconst posterSize: {\n  width: number;\n  height: number;\n} = {\n  width: 0,\n  height: 0,\n};\n\nconst PosterResizeObserver = new ResizeObserver((entries) => {\n  for (const entry of entries) {\n    const { width, height } = entry.contentRect;\n    posterSize.width = width;\n    posterSize.height = height;\n  }\n});\n\nexport const initWebGL = (\n  canvas: HTMLCanvasElement,\n  video: HTMLVideoElement | null,\n  poster: HTMLImageElement\n): ((loaded: boolean) => void) | undefined => {\n  const gl = getWebGLContext(canvas, { place: 'ambientLight' });\n  let videoCaptureFailed = false;\n\n  if (!gl) {\n    return;\n  }\n\n  //tracking the size of the poster\n  PosterResizeObserver.observe(poster);\n\n  //Configuration\n  gl.enable(gl.CULL_FACE);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n  initVBO(gl);\n\n  let reverseOrder: boolean = false;\n\n  enum TextureSlots {\n    Video = gl.TEXTURE0,\n    Previous = gl.TEXTURE1,\n    Current = gl.TEXTURE2,\n  }\n\n  const initTexture = (gl: WebGLRenderingContext): WebGLTexture | null => {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 160;\n    const height = 90;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const data = new Uint8Array(width * height * 4).fill(0);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, data);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n    return texture;\n  };\n\n  const videoTexture = initTexture(gl);\n  const previousTexture = initTexture(gl);\n  const currentTexture = initTexture(gl);\n  if (!videoTexture || !previousTexture || !currentTexture) {\n    return;\n  }\n\n  // Create our vertex shader\n  const VS = gl.createShader(gl.VERTEX_SHADER);\n  if (!VS) return;\n  gl.shaderSource(VS, BASE_VERTEX_SHADER);\n  gl.compileShader(VS);\n\n  const screenFS = gl.createShader(gl.FRAGMENT_SHADER);\n  if (!screenFS) return;\n  gl.shaderSource(screenFS, SCREEN_FRAGMENT_SHADER);\n  gl.compileShader(screenFS);\n\n  const interpolationFS = gl.createShader(gl.FRAGMENT_SHADER);\n  if (!interpolationFS) return;\n  gl.shaderSource(interpolationFS, INTERPOLATION_FRAGMENT_SHADER);\n  gl.compileShader(interpolationFS);\n\n  const screenProgram = gl.createProgram();\n  if (!screenProgram) return;\n  gl.attachShader(screenProgram, VS);\n  gl.attachShader(screenProgram, screenFS);\n  gl.linkProgram(screenProgram);\n\n  const interpolationProgram = gl.createProgram();\n  if (!interpolationProgram) return;\n  gl.attachShader(interpolationProgram, VS);\n  gl.attachShader(interpolationProgram, interpolationFS);\n  gl.linkProgram(interpolationProgram);\n\n  const screenPositionLocation = gl.getAttribLocation(screenProgram, 'position');\n  gl.vertexAttribPointer(screenPositionLocation, 2, gl.FLOAT, false, 8, 0);\n  gl.enableVertexAttribArray(screenPositionLocation);\n\n  const basePositionLocation = gl.getAttribLocation(interpolationProgram, 'position');\n  gl.vertexAttribPointer(basePositionLocation, 2, gl.FLOAT, false, 8, 0);\n  gl.enableVertexAttribArray(basePositionLocation);\n\n  gl.useProgram(screenProgram);\n  gl.uniform1i(gl.getUniformLocation(screenProgram, 'screen'), 1);\n  gl.useProgram(interpolationProgram);\n  gl.uniform1i(gl.getUniformLocation(interpolationProgram, 'video'), 0);\n  gl.uniform1i(gl.getUniformLocation(interpolationProgram, 'previous'), 2);\n\n  const fbo = gl.createFramebuffer();\n  if (!fbo) return;\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n\n  gl.activeTexture(TextureSlots.Video);\n  gl.bindTexture(gl.TEXTURE_2D, videoTexture);\n\n  const level = 0;\n  const internalFormat = gl.RGBA;\n  const srcFormat = gl.RGBA;\n  const srcType = gl.UNSIGNED_BYTE;\n\n  return (loaded: boolean): void => {\n    if (!gl || videoCaptureFailed) return;\n\n    const image = loaded && video && !video.paused ? video : poster;\n\n    gl.activeTexture(TextureSlots.Video);\n\n    try {\n      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, image);\n    } catch (e) {\n      videoCaptureFailed = true;\n      Logger.logFailure('errors', 'ambientLight', 'failedReadingTextureFromVideo', Date.now(), 1, '', false);\n    }\n\n    //interpolate\n    gl.useProgram(interpolationProgram);\n    gl.viewport(0, 0, 160, 90);\n    gl.activeTexture(TextureSlots.Previous);\n    gl.bindTexture(gl.TEXTURE_2D, reverseOrder ? currentTexture : previousTexture);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      reverseOrder ? previousTexture : currentTexture,\n      0\n    );\n    gl.drawArrays(gl.TRIANGLES, 0, 3);\n\n    //render\n    const width = posterSize.width / 15;\n    const height = posterSize.height / 15;\n    gl.useProgram(screenProgram);\n    gl.viewport((canvas.width - width) / 2, canvas.height - height, width, height);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.activeTexture(TextureSlots.Current);\n    gl.bindTexture(gl.TEXTURE_2D, reverseOrder ? previousTexture : currentTexture);\n    gl.drawArrays(gl.TRIANGLES, 0, 3);\n\n    reverseOrder = !reverseOrder;\n  };\n};\n","import { getWebGLContext } from '../../../utils/webgl';\n\nimport fragmentShaderSource from './shaders/fragmentShader.glsl?raw';\nimport vertexShaderSource from './shaders/vertexShader.glsl?raw';\n\nexport class ScreenshotCapture {\n  private static instance: ScreenshotCapture | null = null;\n  private canvas: HTMLCanvasElement;\n  private readonly width: number = 420;\n  private readonly height: number = 225;\n  private gl: WebGLRenderingContext | null;\n  private program: WebGLProgram | null;\n  private texture: WebGLTexture | null;\n\n  constructor() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.gl = getWebGLContext(this.canvas, { place: 'screenshotCapture' });\n    this.program = null;\n    this.texture = null;\n    this.initializeGL();\n  }\n\n  public static getInstance(): ScreenshotCapture {\n    if (!this.instance) {\n      this.instance = new ScreenshotCapture();\n    }\n    return this.instance;\n  }\n\n  private initializeGL(): void {\n    if (!this.gl) {\n      return;\n    }\n\n    const vertexShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    const fragmentShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n\n    if (!vertexShader || !fragmentShader) {\n      return console.error('>>>Failed to create shaders.');\n    }\n\n    this.gl.shaderSource(vertexShader, vertexShaderSource);\n    this.gl.shaderSource(fragmentShader, fragmentShaderSource);\n\n    this.gl.compileShader(vertexShader);\n    this.gl.compileShader(fragmentShader);\n\n    if (\n      !this.gl.getShaderParameter(vertexShader, this.gl.COMPILE_STATUS) ||\n      !this.gl.getShaderParameter(fragmentShader, this.gl.COMPILE_STATUS)\n    ) {\n      console.error('>>>Shader compilation failed.');\n    }\n\n    this.program = this.gl.createProgram();\n\n    if (!this.program) {\n      return console.error('>>>Failed to create shader program.');\n    }\n\n    this.gl.attachShader(this.program, vertexShader);\n    this.gl.attachShader(this.program, fragmentShader);\n    this.gl.linkProgram(this.program);\n\n    this.texture = this.gl.createTexture();\n  }\n\n  public makeScreenshot(video: HTMLVideoElement): Promise<string> {\n    return new Promise((resolve, reject) => {\n      if (!this.gl || !this.program || !this.texture) {\n        throw new Error('WebGL context is not available.');\n      }\n\n      if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {\n        throw new Error('>>>Shader program linking failed.');\n      }\n\n      this.gl.useProgram(this.program);\n\n      const positionAttribute = this.gl.getAttribLocation(this.program, 'a_position');\n      const videoTextureLocation = this.gl.getUniformLocation(this.program, 'u_videoTexture');\n\n      const positionBuffer = this.gl.createBuffer();\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, positionBuffer);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), this.gl.STATIC_DRAW);\n      this.gl.enableVertexAttribArray(positionAttribute);\n\n      this.gl.vertexAttribPointer(positionAttribute, 2, this.gl.FLOAT, false, 0, 0);\n\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.texture);\n      try {\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, video);\n      } catch (e) {\n        reject(e);\n      }\n\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n\n      this.gl.uniform1i(videoTextureLocation, 0);\n\n      this.gl.clearColor(0, 0, 0, 0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n\n      const pixels = new Uint8Array(this.width * this.height * 4);\n      this.gl.readPixels(0, 0, this.width, this.height, this.gl.RGBA, this.gl.UNSIGNED_BYTE, pixels);\n\n      resolve(this.canvas.toDataURL('image/jpeg', 0.7));\n    });\n  }\n}\n","import { UserSession } from '@pp/core/src/config/UserSession';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nexport enum HostCommunicationVersions {\n  V1 = 'v1',\n  V2 = 'v2',\n}\n\nexport enum Vendor {\n  LiveCasino = 'live-casino',\n  Slots = 'slots',\n}\n\nexport enum LobbyMode {\n  Lobby = 'lobby',\n  Launcher = 'launcher',\n}\n\nexport enum LobbyRedirector {\n  ForcedCategory = 'forcedCategory',\n  PreviousCategory = 'previousCategory',\n  GameCategory = 'gameCategory',\n}\n\ninterface LobbyConfiguration {\n  /** Version of protocol used for communication with host */\n  hostCommunicationVersion: string;\n  /** Lobby is opened as an iframe in a game  */\n  isInGame: boolean;\n  /** Lobby is opened as a standalone page */\n  isStandalone: boolean;\n  /** Lobby is opened as in a game, or by itself, but top window is not the lobby or the game */\n  isHostedByOperator: boolean;\n  /** Lobby mode */\n  mode: LobbyMode;\n  /** True if lobby is in launcher mode */\n  isInLauncherMode: boolean;\n  /** If lobby mode is equal to launcher, this will contain id of this launcher */\n  launcherId?: string;\n  /** A list of games that should be excluded from the lobby */\n  hiddenGames?: Set<string>;\n  /** Lobby mode, determining if it is a Live casino lobby or slot lobby */\n  vendor: Vendor;\n  /** Duplicates modes, and is true if mode is LiveCasino */\n  isLiveCasino: boolean;\n  /** Duplicates modes, and is true if mode is Slots */\n  isSlots: boolean;\n  /** Order in which to apply redirectors */\n  redirectionOrder: LobbyRedirector[];\n  /** Category to be force selected*/\n  forceCategory?: string;\n}\n\nexport enum LobbyConfigurationMaskFlags {\n  IsInGame = 0b00000001,\n  IsStandalone = 0b00000010,\n  IsHostedByOperator = 0b00000100,\n  IsLauncher = 0b00001000,\n}\n\nconst getLobbyConfiguration = (): LobbyConfiguration => {\n  let topWindowName;\n\n  try {\n    topWindowName = window?.top?.name;\n  } catch (e) {\n    // Ignore\n  }\n\n  const urlSearch = window.location.search ? new URLSearchParams(window.location.search) : null;\n  let forceCategory: string | undefined;\n  if (urlSearch) {\n    forceCategory = urlSearch.get('forceCategory')?.toUpperCase() ?? undefined;\n  }\n\n  const userSession = UserSession.getSession();\n\n  const vendor = (userSession?.vendor as Vendor) || Vendor.LiveCasino;\n\n  const getLobbyMode = (): LobbyMode => {\n    // safely get lobby mode, if passed mode is not in enum, return default value\n    const mode = userSession?.mode as LobbyMode;\n    return Object.values(LobbyMode).includes(mode) ? mode : LobbyMode.Lobby;\n  };\n\n  const getHiddenGames = (): Set<string> | undefined => {\n    const hiddenGames = userSession?.hiddenGames;\n    if (!hiddenGames) return;\n    const hiddenGameArray = hiddenGames.split(',');\n    if (!hiddenGameArray.length) return;\n    return new Set(hiddenGameArray);\n  };\n\n  const configuration: LobbyConfiguration = {\n    hostCommunicationVersion: userSession?.hostCommunicationVersion || HostCommunicationVersions.V1,\n    isInGame: window.name === 'lobby_iframe',\n    isStandalone: window.parent === window,\n    isHostedByOperator: !!window.top && window.top !== window && topWindowName !== 'lobby_iframe',\n    mode: getLobbyMode(),\n    isInLauncherMode: getLobbyMode() === LobbyMode.Launcher,\n    launcherId: userSession?.launcherId,\n    hiddenGames: getHiddenGames(),\n    vendor: vendor,\n    isLiveCasino: vendor === Vendor.LiveCasino,\n    isSlots: vendor === Vendor.Slots,\n    redirectionOrder: [LobbyRedirector.ForcedCategory, LobbyRedirector.GameCategory, LobbyRedirector.PreviousCategory],\n    forceCategory,\n  };\n\n  if (configuration.isInGame) {\n    configuration.redirectionOrder = [\n      LobbyRedirector.ForcedCategory,\n      LobbyRedirector.PreviousCategory,\n      LobbyRedirector.GameCategory,\n    ];\n  }\n\n  let lobbyConfigurationMask = 0;\n  if (configuration.isInGame) {\n    lobbyConfigurationMask |= LobbyConfigurationMaskFlags.IsInGame;\n  }\n  if (configuration.isStandalone) {\n    lobbyConfigurationMask |= LobbyConfigurationMaskFlags.IsStandalone;\n  }\n  if (configuration.isHostedByOperator) {\n    lobbyConfigurationMask |= LobbyConfigurationMaskFlags.IsHostedByOperator;\n  }\n  if (configuration.mode === LobbyMode.Launcher) {\n    lobbyConfigurationMask |= LobbyConfigurationMaskFlags.IsLauncher;\n    if (!configuration.launcherId) {\n      Logger.logFailure('emptyLauncherId', {\n        place: 'lobbyConfiguration',\n      });\n    }\n  }\n\n  Logger.logEvent('lobbyConfiguration', {\n    bandwidth: lobbyConfigurationMask,\n    instant: true,\n  });\n\n  return configuration;\n};\n\nexport const LobbyConfiguration: LobbyConfiguration = getLobbyConfiguration();\n","/**\n * Sanitizes a game symbol by removing the last underscore and everything after it.\n *\n * **USE ONLY IF YOU KNOW THAT GAME SYMBOL IS EXPECTED TO HAVE A POSTFIX!**\n *\n * @param symbol - The game symbol to sanitize.\n * */\nexport const sanitizeGameSymbol = (symbol: string): string => {\n  const sanitized = symbol.replace(/_[^_]*$/, '');\n  return sanitized === 'null' ? '' : sanitized;\n};\n","export interface SlotConfiguration {\n  language: string;\n  country: SlotCountry;\n  magicKey: string;\n  region: SlotRegion;\n  currency: string;\n  gameSymbol: string;\n  isStandalone: boolean;\n  apiUrl?: URL;\n  rootUrl?: URL;\n  requirements?: SlotRequirements;\n  slotLobbyId: string;\n}\n\nexport interface SlotRequirements {\n  noBuyFeature?: boolean;\n}\n\nexport enum SlotRegion {\n  Asia = 'asia',\n  Other = 'other',\n}\n\nexport enum SlotCountry {\n  China = 'zh',\n  Other = 'other',\n}\n","import { UserSession } from '@pp/core/src/config/UserSession';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { sanitizeGameSymbol } from '../../utils/sanitizeGameSymbol';\nimport { LobbyConfiguration } from '../LobbyConfiguration';\n\nimport { type SlotConfiguration, SlotCountry, SlotRegion, type SlotRequirements } from './types';\n\nexport const SLOT_LOBBY_ID = 'slotsLobby';\n\nexport const SLOT_LANGUAGE_MAP: Record<string, string> = {\n  zt: 'zh',\n};\n\nexport class SlotConfigurator {\n  public value: SlotConfiguration | null;\n\n  constructor(session: Record<string, string> | null) {\n    this.value = this.configure(session);\n  }\n\n  processLanguage(rawLanguage: string | undefined): string {\n    if (!rawLanguage) {\n      return '';\n    }\n    const language = rawLanguage.toLowerCase();\n    return SLOT_LANGUAGE_MAP[language] ?? language;\n  }\n\n  configure(session: Record<string, string> | null): SlotConfiguration | null {\n    if (!LobbyConfiguration.isSlots || !session) {\n      return null;\n    }\n\n    let apiUrl: URL | undefined;\n    let rootUrl: URL | undefined;\n\n    try {\n      apiUrl = session.ingameLobbyApiURL\n        ? new URL(`${window.location.protocol}${session.ingameLobbyApiURL}`)\n        : undefined;\n      if (apiUrl) {\n        rootUrl = new URL(apiUrl.origin);\n      }\n    } catch (error) {\n      Logger.logFailure('slotApiUrl');\n    }\n\n    const language = this.processLanguage(session.language);\n\n    const regionKey = session.region ?? '';\n\n    const gameSymbol = sanitizeGameSymbol(session.gameSymbol ?? session.symbol ?? '');\n\n    return {\n      language,\n      country: language === 'zh' ? SlotCountry.China : SlotCountry.Other,\n      magicKey: session.mgckey ?? '',\n      region: this.getRegion(regionKey),\n      currency: session.currency ?? '',\n      gameSymbol: gameSymbol,\n      apiUrl: apiUrl,\n      rootUrl: rootUrl,\n      isStandalone: gameSymbol === SLOT_LOBBY_ID,\n      slotLobbyId: SLOT_LOBBY_ID,\n      requirements: session.requirements ? this.getRequirements(session.requirements) : undefined,\n    };\n  }\n\n  getRegion(regionKey: string): SlotRegion {\n    // Check if region key is one of the SlotRegion enum keys (not values)\n    if (Object.keys(SlotRegion).includes(regionKey as SlotRegion)) {\n      // If it is - easy-peasy, return the SlotRegion value\n      return SlotRegion[regionKey as keyof typeof SlotRegion];\n    }\n    // If it's not - return SlotRegion.Other\n    return SlotRegion.Other;\n  }\n\n  getRequirements(requirements: string): SlotRequirements {\n    // Split the requirements string by commas, string expected to be in format 'key,key:value' something like 'BBB,CLASSIC,COINS_V2,NOBF,MINSPINBET:80000'\n    const parsedRequirements = requirements.split(',').reduce(\n      // Reduce the array of strings into an object\n      (acc, requirement) => {\n        // Split the requirement string by colon, key will be there even if there is nothing after colon, value on the other hand might not be there\n        const [key, value] = requirement.split(':');\n        // Just for good measure - if there is no key, return the accumulator as is\n        if (!key) {\n          return acc;\n        }\n        // If there is no value - key is automatically true\n        else if (!value) {\n          acc[key] = true;\n        }\n        // If there is a value, set it as the value for the key\n        else {\n          acc[key] = value;\n        }\n        return acc;\n      },\n      {} as Record<string, boolean | string>\n    );\n    // After parsing the requirements, return an object of SlotRequirements, setting all the necessary values based on what we got from parsing\n    return {\n      noBuyFeature: !!parsedRequirements.NOBF,\n    };\n  }\n}\n\nexport const SlotLobbyConfiguration = new SlotConfigurator(UserSession.getSession()).value;\n","import { useMedia } from '@pp/core/src/hooks/useMedia';\n\nexport const useIsMediumLandscape = (): boolean => {\n  return useMedia('(min-width: 667px)');\n};\n\nexport const useIsWide = (): boolean => {\n  return useMedia('(min-width: 1024px)');\n};\n\nexport const useIsMediumWide = (): boolean => {\n  return useMedia('(min-width: 1366px)');\n};\n\nexport const useIsExtraWide = (): boolean => {\n  return useMedia('(min-width: 1512px)');\n};\n\nexport const useIsLargerThanExtraExtraWide = (): boolean => {\n  return useMedia('(min-width: 1800px)');\n};\n\nexport const useIsLandScape = (): boolean => {\n  return useMedia('(orientation: landscape)');\n};\n\nexport const useIsTouchDevice = (): boolean => {\n  return useMedia(\n    '(hover: hover) and (pointer: coarse),' +\n      '(hover: none) and (pointer: coarse),' +\n      '(hover: hover) and (pointer: none),' +\n      '(hover: none) and (pointer: none)'\n  );\n};\n","import { createMessage } from '@pp/core/src/messages/index';\nimport { MessageGroup } from '@pp/core/src/messages/types';\n\nimport type { SoundMessagePayload } from './types';\n\nexport const lobbyAddGameMessage = createMessage<\n  'addGame',\n  { url: string; id: string; tableId: string; launcherId?: string }\n>('addGame', {\n  group: MessageGroup.Lobby,\n});\n\nexport const lobbyToggleBackToGameMessage = createMessage<\n  'toggleBackToGame',\n  {\n    isHidden: boolean;\n  }\n>('toggleBackToGame', {\n  group: MessageGroup.Lobby,\n});\n\nexport const lobbyOpenMessage = createMessage<\n  'open',\n  {\n    url: string;\n  }\n>('open', {\n  group: MessageGroup.Lobby,\n});\n\nexport const lobbyLoadedMessage = createMessage('lobbyLoaded', {\n  group: MessageGroup.Lobby,\n  defaultPayload: { name: 'lobbyLoaded', group: MessageGroup.Lobby },\n  headless: true,\n});\n\nexport const lobbySoundMessage = createMessage<'sound', SoundMessagePayload>('sound', {\n  group: MessageGroup.Lobby,\n});\n\nexport const lobbyMuteMessage = createMessage('mute', {\n  group: MessageGroup.Lobby,\n});\n\nexport const lobbyUnmuteMessage = createMessage('unmute', {\n  group: MessageGroup.Lobby,\n});\n","import { createMessage, MessageController } from '@pp/core/src/messages/index';\n\nimport { LobbyConfiguration } from '../config/LobbyConfiguration';\nimport type { GameURLSearchParams } from '../redirection/types';\n\nimport {\n  lobbyAddGameMessage,\n  lobbyLoadedMessage,\n  lobbyMuteMessage,\n  lobbyOpenMessage,\n  lobbySoundMessage,\n  lobbyToggleBackToGameMessage,\n  lobbyUnmuteMessage,\n} from './commonMessages';\n\nexport const lobbyCloseMessage = createMessage('close', {\n  group: 'lobby',\n  defaultPayload: { type: 'closeLobbyMenu', visible: false },\n  headless: true,\n});\n\nexport const lobbyRedirectMessage = createMessage<\n  'redirect',\n  {\n    type: string;\n    path: string;\n    tableType: string;\n    casinoId: string;\n    tableId: string;\n    previousGameType: string;\n    urlMap: GameURLSearchParams;\n  }\n>('redirect', {\n  group: 'lobby',\n  headless: true,\n});\n\nexport const lobbySlotsRedirectMessage = createMessage<\n  'slots_redirect',\n  {\n    type: string;\n    path: string;\n  }\n>('slots_redirect', {\n  group: 'lobby',\n  headless: true,\n});\n\nexport const lobbyReadyMessage = createMessage<\n  'notifyfsloaded_pp',\n  {\n    type: string;\n  }\n>('notifyfsloaded_pp', {\n  group: 'lobby',\n  defaultPayload: { type: 'notifyfsloaded_pp' },\n  headless: true,\n});\n\nexport const lobbyTableIdMessage = createMessage<\n  'pp_get_tableId',\n  {\n    type: string;\n  }\n>('pp_get_tableId', {\n  group: 'lobby',\n  defaultPayload: { type: 'pp_get_tableId' },\n  headless: true,\n});\n\nexport const LobbyMessageController = new MessageController(\n  ['game'],\n  [\n    {\n      targets: ['game'],\n      message: lobbyCloseMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyRedirectMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyReadyMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyTableIdMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyToggleBackToGameMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbySlotsRedirectMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyOpenMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyAddGameMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyLoadedMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbySoundMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyMuteMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyUnmuteMessage,\n    },\n  ]\n);\n\nif (LobbyConfiguration.isInGame || LobbyConfiguration.isInLauncherMode) {\n  LobbyMessageController.targets.game.setOrigin('*');\n  LobbyMessageController.targets.game.setWindow(window.parent);\n}\n","import { createMessage, MessageController } from '@pp/core/src/messages/index';\nimport { MessageGroup } from '@pp/core/src/messages/types';\n\nimport { LobbyConfiguration } from '../config/LobbyConfiguration';\n\nimport {\n  lobbyAddGameMessage,\n  lobbyLoadedMessage,\n  lobbyMuteMessage,\n  lobbyOpenMessage,\n  lobbySoundMessage,\n  lobbyToggleBackToGameMessage,\n  lobbyUnmuteMessage,\n} from './commonMessages';\n\nexport const lobbyCloseMessage = createMessage('close', {\n  group: MessageGroup.Lobby,\n  defaultPayload: { name: 'close', visible: false, group: MessageGroup.Lobby },\n  headless: true,\n});\n\nexport const lobbyReadyToReveiveMessage = createMessage('readyToReceive', {\n  group: MessageGroup.Lobby,\n  defaultPayload: { name: 'readyToReceive', group: MessageGroup.Lobby },\n  headless: true,\n});\n\nexport const LobbyMessageControllerV2 = new MessageController(\n  ['game'],\n  [\n    {\n      targets: ['game'],\n      message: lobbyCloseMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyReadyToReveiveMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyToggleBackToGameMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyLoadedMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyAddGameMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyOpenMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbySoundMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyMuteMessage,\n    },\n    {\n      targets: ['game'],\n      message: lobbyUnmuteMessage,\n    },\n  ]\n);\n\nif (LobbyConfiguration.isInGame || LobbyConfiguration.isInLauncherMode) {\n  LobbyMessageControllerV2.targets.game.setOrigin('*');\n  LobbyMessageControllerV2.targets.game.setWindow(window.parent);\n}\n","import { createMessage, MessageController } from '@pp/core/src/messages';\n\nimport { LobbyConfiguration } from '../config/LobbyConfiguration';\n\nexport const slotSetMutedState = createMessage<\n  'slots_set_muted_state',\n  { event: 'setMuteFromLobby'; payload: { muted: boolean } }\n>('slots_set_muted_state', {\n  group: 'lobby',\n  headless: true,\n});\n\nexport const SlotMessageController = new MessageController(\n  ['slot'],\n  [\n    {\n      targets: ['slot'],\n      message: slotSetMutedState,\n    },\n  ]\n);\n\nif (LobbyConfiguration.isInGame && LobbyConfiguration.isSlots) {\n  SlotMessageController.targets.slot.setOrigin('*');\n  SlotMessageController.targets.slot.setWindow(window.parent);\n}\n","export class NavigationAbortController {\n  public static abortCallback: (() => void) | null = null;\n\n  public static setAbortCallback(callback: () => void): void {\n    this.abortCallback = callback;\n  }\n\n  public static removeAbortCallback(): void {\n    this.abortCallback = null;\n  }\n\n  static abort(): void {\n    this.abortCallback?.();\n    this.removeAbortCallback();\n  }\n}\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { fetchPlayerConfigAction } from '@pp/core/src/store/apiActions/fetchPlayerConfigAction';\n\nexport interface ILobbySlice {\n  isOpenMenu: boolean;\n  isOpenFooterMenu: boolean;\n  currentTableId?: string | null;\n  currentGroupId?: string | number | null;\n  gameUIVolume?: number;\n  gameMasterVolume?: number;\n  translations?: Record<string, string>;\n}\n\nconst initialState: ILobbySlice = {\n  currentTableId: undefined,\n  currentGroupId: undefined,\n  isOpenMenu: false,\n  isOpenFooterMenu: false,\n};\n\nexport const lobbySlice = createSlice({\n  name: 'lobby',\n  initialState,\n\n  reducers: {\n    setCurrentTableId: (state, action: PayloadAction<string>) => {\n      state.currentTableId = action.payload;\n    },\n    setCurrentGroupId: (state, action: PayloadAction<string>) => {\n      state.currentGroupId = action.payload;\n    },\n    resetCurrentGame: (state) => {\n      state.currentTableId = null;\n      state.currentGroupId = null;\n    },\n    setIsOpenMenu: (state, action: PayloadAction<boolean>) => {\n      state.isOpenMenu = action.payload;\n    },\n    setIsOpenFooterMenu: (state, action: PayloadAction<boolean>) => {\n      state.isOpenFooterMenu = action.payload;\n    },\n    setTranslations: (state, action: PayloadAction<Record<string, string>>) => {\n      state.translations = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    // FIXME: FIX after implementing https://pragmaticplay.atlassian.net/browse/UIC-176 task\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      state.gameUIVolume = +action.payload.gameEffectsVolume;\n      state.gameMasterVolume = 1; //+action.payload?.gameMasterVolume;\n    });\n  },\n});\n\nexport const lobbyActions = lobbySlice.actions;\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport type { IGameSection } from '../../store/slices/forYou/types';\nimport type { ICuratedTables } from '../../store/slices/tables/types';\n\nexport interface FetchCuratedTablesParams {\n  JSESSIONID: string;\n  baseUrl: string;\n}\n\nconst PATH = '/api/lobby/curated-tables';\n\nexport const fetchCuratedTables = ({ JSESSIONID, baseUrl }: FetchCuratedTablesParams): Promise<ICuratedTables> => {\n  const url = `${baseUrl}${PATH}`;\n\n  return Fetcher.fetch<string>(url, {\n    params: {\n      JSESSIONID,\n    },\n    format: 'text',\n  })\n    .then(parse)\n    .catch((reason) => {\n      Logger.logFailure('errors', 'fetch', 'curatedTablesProcessing', Date.now(), 1, '', false);\n      throw reason;\n    });\n};\n\nexport const parse = (str: string): ICuratedTables => {\n  const response: ICuratedTables = JSON.parse(str);\n\n  if (!response) {\n    throw new Error('Invalid response from server - curated-tables');\n  }\n\n  const responseSections: Record<string, IGameSection> = {};\n\n  response.sections.forEach((section) => {\n    responseSections[section.id] = section;\n  });\n\n  const parsedResponse: ICuratedTables = {\n    sections: [],\n  };\n\n  if (responseSections['lastPlayedGames']) {\n    parsedResponse.sections.push(responseSections['lastPlayedGames']);\n  }\n  if (responseSections['recommendedGames']) {\n    parsedResponse.sections.push(responseSections['recommendedGames']);\n  }\n  if (responseSections['youMightLike']) {\n    parsedResponse.sections.push(responseSections['youMightLike']);\n  }\n\n  return parsedResponse;\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { type FetchCuratedTablesParams, fetchCuratedTables } from '../../api/fetchers/curatedTables';\n\nexport interface FetchCuratedTablesActionParams extends FetchCuratedTablesParams {\n  essential: boolean;\n}\n\nexport const fetchCuratedTablesAction = createAsyncThunk(\n  'tables/fetchCuratedTables',\n  (params: FetchCuratedTablesActionParams) => fetchCuratedTables(params)\n);\n","import { languageCode } from '@pp/core/src/components/languageFlag/LanguageFlags';\n\nimport { ITableResponse } from '../api/fetchers/type';\nimport { LobbyConfiguration, Vendor } from '../config/LobbyConfiguration';\nimport type { ITable } from '../store/slices/tables/types';\n\nexport const tableGameNameMap: Record<string, string> = {\n  megaroulette: 'megaroulette',\n  lucky6roulette: 'lucky6roulette',\n};\n\nexport const tableTypesWithEnabledLauncher = new Set(['baccarat']);\n\nexport const getITableFromRawTable = (table: ITableResponse): ITable => {\n  const isPrive = table.tableCategoryIds?.includes('PRIVE');\n  const isVip = table.tableCategoryIds?.includes('VIP');\n\n  const isSlots = LobbyConfiguration.isSlots;\n\n  return {\n    id: (isSlots ? table.id : table.operatorGameId) ?? '',\n    tableId: (isSlots ? table.tableId : table.id) ?? '',\n    title: table.title,\n    result: [],\n    dealer: table.dealer,\n    image: null,\n    limits: {\n      maxBet: table.limits?.max,\n      minBet: table.limits?.min,\n      minBalanceToPlay: table.limits?.minBalanceToPlay,\n    },\n    tableOpen: table.open,\n    isActive: table.dealer?.name === 'No dealer' ? false : table.open,\n    tableType: table.game,\n    totalSeatedPlayers: 0,\n    newTable: table.newTable,\n    game: table.gameLoaderKey ? tableGameNameMap[table.gameLoaderKey] || table.game : table.game,\n    gameType: table.gameType,\n    tableCategoryIds: table.tableCategoryIds,\n    operatorTheme: table.operatorTheme || 'default',\n    supportLangTheme: table.supportLangTheme,\n    isPrive,\n    isVip,\n    voiceOver: table.voiceOver,\n    subtitle: table.subtitle,\n    countryFlag: (table.countryFlag?.toUpperCase() as keyof typeof languageCode) ?? null,\n    gameLoaderKey: table.gameLoaderKey,\n    isMultitable: false,\n    vendor: Vendor.LiveCasino,\n    isLauncherEnabled: tableTypesWithEnabledLauncher.has(table.game),\n    translatedName: table.title?.key ?? '',\n    isPlayingNow: false,\n  };\n};\n","export const multiTableTranslationMap: Record<string, string> = {\n  'Multi Baccarat': 'BACCARAT_MULTIPLAY',\n};\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport type { IFilter, IMultiTable, IMultiTableRaw, ITable, ITableCategory } from '../../store/slices/tables/types';\nimport { getITableFromRawTable, tableTypesWithEnabledLauncher } from '../../utils/getITableFromRawTable';\n\nimport { multiTableTranslationMap } from './multiTableTranslationMap';\nimport type { ITableResponse } from './type';\n\nexport interface FetchTablesParams {\n  JSESSIONID: string;\n  baseUrl: string;\n}\n\nconst PATH = '/api/lobby/tables';\n\nexport interface IReturnResponseRaw {\n  multiTables: IMultiTableRaw[];\n  tables: ITableResponse[];\n  filters: IFilter[];\n  tableCategories: ITableCategory[];\n  pragmaticIdToOperatorId: Record<string, string>;\n}\nexport interface IReturnResponse extends Omit<IReturnResponseRaw, 'multiTables' | 'tables'> {\n  multiTables: IMultiTable[];\n  tables: Record<string, ITable>;\n}\n\nexport const fetchTables = ({ JSESSIONID, baseUrl }: FetchTablesParams): Promise<IReturnResponse> => {\n  const url = `${baseUrl}${PATH}`;\n\n  return Fetcher.fetch<string>(url, {\n    params: {\n      JSESSIONID,\n    },\n    format: 'text',\n  })\n    .then(parseTables)\n    .catch((reason) => {\n      Logger.logFailure('errors', 'fetch', 'fetchTablesProcessing', Date.now(), 1, '', false);\n      throw reason;\n    });\n};\n\nexport function parseTables(str: string): IReturnResponse {\n  const response: IReturnResponseRaw = JSON.parse(str);\n\n  if (!response) {\n    throw new Error('Tables are not full');\n  }\n\n  const tables: ITablesParserProduct = getParsedTables(response.tables);\n\n  return {\n    multiTables: getParsedMultiTables(response.multiTables),\n    filters: response.filters,\n    tableCategories: response.tableCategories,\n    tables: tables.tables,\n    pragmaticIdToOperatorId: tables.pragmaticIdToOperatorId,\n  };\n}\n\nexport interface ITablesParserProduct {\n  tables: Record<string, ITable>;\n  pragmaticIdToOperatorId: Record<string, string>;\n}\n\nexport const getParsedMultiTables = (multiTables: IMultiTableRaw[]): IMultiTable[] => {\n  return multiTables.map((multiTable) => {\n    return {\n      ...multiTable,\n      title: {\n        ...multiTable.title,\n        key: multiTableTranslationMap[multiTable.title.key] || multiTable.title.key,\n      },\n      groupId: multiTable.groupId.toString(),\n      game: Number(multiTable.groupId) <= 2 ? 'multi-baccarat' : 'multibaccarat',\n      operatorTheme: Number(multiTable.groupId) === 2 ? 'default/multi_speed_baccarat' : 'default/multi_baccarat',\n      isMultitable: true,\n      vendor: Vendor.LiveCasino,\n      id: multiTable.operatorGameId,\n      tableId: multiTable.id,\n    };\n  });\n};\n\nconst getParsedTables = (tables: ITableResponse[]): ITablesParserProduct => {\n  const priveSet = new Set<string>();\n  let hidePrive = false;\n\n  const parsedTables = tables.reduce(\n    (acc: ITablesParserProduct, table) => {\n      if (!table.operatorGameId) return acc;\n\n      const isPrive = table.tableCategoryIds?.includes('PRIVE');\n\n      if (isPrive) {\n        priveSet.add(table.operatorGameId);\n      }\n\n      if (LobbyConfiguration.isInLauncherMode && !tableTypesWithEnabledLauncher.has(table.game)) {\n        return acc;\n      }\n\n      if (LobbyConfiguration.hiddenGames?.has(table.operatorGameId)) {\n        if (!hidePrive && LobbyConfiguration.isInLauncherMode && isPrive) {\n          hidePrive = true;\n        }\n        return acc;\n      }\n\n      acc.tables[table.operatorGameId] = getITableFromRawTable(table);\n      acc.pragmaticIdToOperatorId[table.id] = table.operatorGameId;\n\n      return acc;\n    },\n    { tables: {}, pragmaticIdToOperatorId: {} }\n  );\n\n  if (hidePrive) {\n    priveSet.forEach((priveId) => {\n      delete parsedTables.tables[priveId];\n    });\n  }\n\n  return parsedTables;\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { type FetchTablesParams, fetchTables } from '../../api/fetchers/tables';\n\ninterface FetchTablesActionParams extends FetchTablesParams {\n  essential: boolean;\n}\n\nexport const fetchTablesAction = createAsyncThunk('tables/fetchTables', (params: FetchTablesActionParams) =>\n  fetchTables(params)\n);\n","export const ID_TOPGAMES = 'TOPGAMES';\nexport const SLUG_TOPGAMES = 'top-games';\n\nexport const ID_ROULETTE = 'ROULETTE';\nexport const SLUG_ROULETTE = 'roulette';\n\nexport const ID_BLACKJACK = 'BLACKJACK';\nexport const SLUG_BLACKJACK = 'blackjack';\n\nexport const ID_SHOWGAMES = 'SHOWGAMES';\nexport const SLUG_SHOWGAMES = 'game-shows';\n\nexport const ID_BACCARAT = 'BACCARAT';\nexport const SLUG_BACCARAT = 'baccarat';\n\nexport const ID_POWERBALL = 'POWERBALL';\nexport const SLUG_POWERBALL = 'power-ball';\n\nexport const ID_ASIANGAMES = 'ASIANGAMES';\nexport const SLUG_ASIANGAMES = 'asian-games';\n\nexport const ID_SICBO = 'SICBO';\nexport const SLUG_SICBO = 'sic-bo';\n\nexport const ID_DRAGONTIGER = 'DRAGONTIGER';\nexport const SLUG_DRAGONTIGER = 'dragon-tiger';\n\nexport const ID_SICBODT = 'SICBODT';\nexport const SLUG_SICBODT = 'sic-bo-dt';\n\nexport const ID_ANDARBAHAR = 'ANDARBAHAR';\nexport const SLUG_ANDARBAHAR = 'andar-bahar';\n\nexport const ID_SLOTS = 'SLOTS';\nexport const SLUG_SLOTS = 'slots';\n\nexport const ID_ALL_SLOTS = 'ALL_SLOTS';\nexport const SLUG_ALL_SLOTS = 'all-slots';\n\nexport const ID_DDW = 'DDW';\nexport const SLUG_DDW = 'ddw';\n\nexport const ID_PROMOTIONS = 'PROMOTIONS';\nexport const SLUG_PROMOTIONS = 'promotions';\n\nexport const ID_FOR_YOU = 'FOR_YOU';\nexport const SLUG_FOR_YOU = 'for-you';\nexport const FOR_YOU_PATH = `/category/${SLUG_FOR_YOU}`;\n\n// DEDICATED CATEGORIES\nexport const ID_M88 = 'STUDIOM88';\nexport const SLUG_M88 = 'M88';\n\nexport const ID_CASINO888 = 'CASINO_888';\nexport const SLUG_CASINO888 = 'casino888';\n\nexport const ID_ROYAL = 'ROYAL_CASINO';\nexport const SLUG_ROYAL = 'royal';\n\nexport const ID_INFINI88 = 'INFINI88_ARENA';\nexport const SLUG_INFINI88 = 'infini88';\n\nexport const ID_SUPERBET = 'SUPERBET_LOBBY';\nexport const SLUG_SUPERBET = 'superbet';\n\nexport const ID_ME88 = 'LOBBY_ME88_LOUNGE';\nexport const SLUG_ME88 = 'me88';\n\nexport const ID_SUPERSWAN = 'BK8_LOUNGE';\nexport const SLUG_SUPERSWAN = 'superswan';\n\nexport const ID_WIN88 = 'NEXUS_LOUNGE';\nexport const SLUG_WIN88 = 'win88';\n\nexport const ID_STAKE = 'STAKE_LOUNGE';\nexport const SLUG_STAKE = 'stake';\n\nexport const ID_UNIBET = 'UNIBET_STUDIO';\nexport const SLUG_UNIBET = 'unibet';\n\nexport const ID_ROOBET = 'ROOBET_LOBBY';\nexport const SLUG_ROOBET = 'roobet';\n\nexport const ID_KGONG = 'KGON_LOBBY';\nexport const SLUG_KGONG = 'kgon1';\n\nexport const ID_BETS10 = 'BETS10';\nexport const SLUG_BETS10 = 'bets10';\n\nexport const ID_BETSAFE = 'BETSAFE';\nexport const SLUG_BETSAFE = 'betsafe';\n\nexport const ID_CASINO_EURO = 'CASINO_EURO';\nexport const SLUG_CASINO_EURO = 'casinoEuro';\n\nexport const ID_CASINOMAXI = 'CASINOMAXI';\nexport const SLUG_CASINOMAXI = 'casinomaxi';\n\nexport const ID_METROPOL = 'CASINO_METROPOL';\nexport const SLUG_METROPOL = 'metropol';\n\nexport const ID_EURO_CASINO = 'EURO_CASINO';\nexport const SLUG_EURO_CASINO = 'euroCasino';\n\nexport const ID_MOBILBAHIS = 'MOBILBAHIS';\nexport const SLUG_MOBILBAHIS = 'mobilbahis';\n\nexport const ID_NORDICBET = 'NORDICBET';\nexport const SLUG_NORDICBET = 'nordicBet';\n\nexport const ID_STARCASINO = 'STARCASINO';\nexport const SLUG_STARCASINO = 'starCasino';\n\nexport const ID_GUTZ = 'GUTZ';\nexport const SLUG_GUTZ = 'gutz';\n\nexport const ID_RIZK = 'RIZK';\nexport const SLUG_RIZK = 'rizk';\n\nexport const ID_BETSSON = 'BETSSON';\nexport const SLUG_BETSSON = 'betsson';\n\nexport const ID_GOLDLOUNGE = 'GOLD_LOUNGE';\nexport const SLUG_GOLDLOUNGE = 'goldLounge';\n\nexport const ID_BET_UK = 'BET_UK';\nexport const SLUG_BET_UK = 'betUK';\n\nexport const ID_EXPEKT = 'EXPEKT';\nexport const SLUG_EXPEKT = 'expekt';\n\nexport const ID_BET_MGM = 'BET_MGM';\nexport const SLUG_BET_MGM = 'betMGM';\n\nexport const ID_LEOVEGAS = 'LEOVEGAS';\nexport const SLUG_LEOVEGAS = 'leoVegas';\n\nexport const ID_WIN2DAY = 'WIN2DAY';\nexport const SLUG_WIN2DAY = 'win2day';\n\nexport const ID_FUN88 = 'FUN88';\nexport const SLUG_FUN88 = 'fun88';\n\nexport const ID_711 = '711';\nexport const SLUG_711 = '711';\n\nexport const ID_SBO = 'SBO';\nexport const SLUG_SBO = 'sbo';\n\nexport const ID_BETVICTOR = 'BETVICTOR';\nexport const SLUG_BETVICTOR = 'betvictor';\n\nexport const ID_TUMBET = 'TUMBET';\nexport const SLUG_TUMBET = 'tumbet';\n\nexport const ID_JACKBIT = 'JACKBIT';\nexport const SLUG_JACKBIT = 'jackbit';\n\nexport const ID_GOLDENBET = 'GOLDENBET';\nexport const SLUG_GOLDENBET = 'goldenbet';\n\nexport const ID_BETNANO = 'BETNANO';\nexport const SLUG_BETNANO = 'betnano';\n\nexport const ID_1XBET = '1XBET';\nexport const SLUG_1XBET = '1xbet';\n\nexport const ID_MCLUB = 'MCLUB';\nexport const SLUG_MCLUB = 'mclub';","import { ID_ALL_SLOTS, ID_DDW } from '../../../constants/navigation';\nimport type { IGameReference, ISlotGame, ITable } from '../../../store/slices/tables/types';\nimport type { ILiveCasinoConfig, ISlotConfig } from '../../../store/slices/vendorConfig/types';\nimport type { ITableResponse } from '../type';\n\nexport enum ConfigVendorName {\n  Slots = 'SLOTS',\n  LiveCasino = 'LC',\n}\n\nexport enum Event {\n  NewGame = 'NGN',\n}\n\nexport interface FetchSlotGamesParams {\n  magicKey: string;\n  baseUrl: string;\n}\n\nexport interface ISlotGameRaw {\n  name: string;\n  symbol: string;\n  tags: string[];\n  lastPlayedDate?: string | number;\n}\n\nexport interface ISlotActivePromo {\n  tournaments?: {\n    id: number;\n    name: string;\n    games: string[];\n  }[];\n  races?: {\n    id: number;\n    name: string;\n    games: string[];\n  }[];\n}\n\nexport interface VendorConfigBase<VendorConfig, Vendor extends string, Game> {\n  games: Game[];\n  vendor: Vendor;\n  vendorConfig: VendorConfig;\n}\n\nexport interface VendorConfigData<PlayerSections extends string[]> {\n  landingPage?: number[];\n  vendorLobby?: Record<\n    string,\n    {\n      games: number[];\n    }\n  >;\n  activePromo?: ISlotActivePromo;\n  playerSections?: Record<PlayerSections[number], number[]>;\n  events?: {\n    id: string;\n    type: Event;\n    data: {\n      game: number;\n    };\n  }[];\n}\n\nexport interface ISlotData\n  extends VendorConfigBase<ISlotConfig, ConfigVendorName.Slots, ISlotGameRaw>,\n    VendorConfigData<['lastPlayed', 'promo']> {}\n\nexport interface ILiveCasinoRawData\n  extends Partial<VendorConfigBase<ILiveCasinoConfig, ConfigVendorName.LiveCasino, ITableResponse>>,\n    VendorConfigData<['lastPlayed', 'heroBanners', 'recommended']> {}\n\nexport interface ILiveCasinoData\n  extends VendorConfigBase<ILiveCasinoConfig, ConfigVendorName.LiveCasino, ITableResponse>,\n    VendorConfigData<['lastPlayed', 'heroBanners', 'recommended']> {}\n\nexport interface ISlotGamesResponse {\n  data: (ISlotData | ILiveCasinoRawData)[];\n  error: number;\n}\n\nexport interface ISlotParsedData {\n  slotGames: ISlotGame[];\n  slotVendorConfig: ISlotConfig;\n  slotCategories: {\n    [ID_ALL_SLOTS]: IGameReference[];\n    [ID_DDW]: IGameReference[];\n  };\n  filters: {\n    [ID_ALL_SLOTS]: string[];\n    [ID_DDW]: string[];\n  };\n  liveCasinoGames?: ITable[];\n  liveCasinoVendorConfig?: ILiveCasinoConfig;\n  featured: IGameReference[];\n  lastPlayedGames: string[];\n  recommendedGames: string[];\n  recentlyAdded: string[];\n  notifications: {\n    newGames: string[];\n  };\n  activePromo?: ISlotActivePromo;\n}\n\nexport interface ISlotGamesResponseParsed {\n  slotGames: ISlotGame[];\n  slotCategories: {\n    [ID_ALL_SLOTS]: IGameReference[];\n    [ID_DDW]: IGameReference[];\n  };\n  filters: {\n    [ID_ALL_SLOTS]: string[];\n    [ID_DDW]: string[];\n  };\n  featured: IGameReference[];\n  lastPlayedGames: ISlotGame[];\n  recommendedGames: string[];\n  recentlyAdded: string[];\n  newGames: string[] | undefined;\n  activePromo?: ISlotActivePromo;\n}\n\nexport interface ILiveCasinoResponseParsed {\n  liveCasinoGames: ITable[];\n  liveCasinoFeatured: IGameReference[];\n  liveCasinoLastPlayed: ITable[];\n  liveCasinoRecommended: string[];\n}\n","import { Logger } from '@pp/core/src/logger/Logger';\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { ID_ALL_SLOTS, ID_DDW } from '../../../constants/navigation';\nimport type { ISlotGame, ITable } from '../../../store/slices/tables/types';\nimport { getITableFromRawTable } from '../../../utils/getITableFromRawTable';\n\nimport {\n  type ILiveCasinoData,\n  type ISlotData,\n  type ISlotParsedData,\n  type ISlotGamesResponseParsed,\n  type ILiveCasinoResponseParsed,\n  ConfigVendorName,\n  Event,\n  type ILiveCasinoRawData,\n} from './type';\n\nconst FILTER_PREFERRED_ORDER = ['BUY_FEATURE', 'PAY_ANYWHERE', 'CLUSTER', 'MEGAWAYS', 'JACKPOT'];\n\nconst sortAndFilterFilters = (filters: string[]): void => {\n  if (SlotLobbyConfiguration?.requirements?.noBuyFeature) {\n    const buyFeatureIndex = filters.indexOf('BUY_FEATURE');\n    if (buyFeatureIndex > -1) {\n      filters.splice(buyFeatureIndex, 1);\n    }\n  }\n  filters.sort((a, b) => {\n    const aIndex = FILTER_PREFERRED_ORDER.indexOf(a);\n    const bIndex = FILTER_PREFERRED_ORDER.indexOf(b);\n    if (aIndex === -1 && bIndex === -1) return 0;\n    if (aIndex === -1) return 1;\n    if (bIndex === -1) return -1;\n    return aIndex - bIndex;\n  });\n};\n\nexport const parseSlotGames = (data: (ISlotData | ILiveCasinoRawData)[]): ISlotParsedData => {\n  const { slotVendorData, liveCasinoVendorData } = extractVendorData(data);\n\n  if (!slotVendorData || slotVendorData.vendor !== ConfigVendorName.Slots) {\n    throw new Error('No slot vendor found');\n  }\n\n  const parsedData = initializeParsedData(slotVendorData);\n\n  const lastPlayedGamesRaw: (ISlotGame | ITable)[] = [];\n\n  const slotsData = parseSlotsVendor(slotVendorData);\n  const updatedParsedDataSlots = updateParsedDataWithSlotsData(parsedData, slotsData, lastPlayedGamesRaw);\n\n  let finalParsedData = updatedParsedDataSlots;\n\n  if (liveCasinoVendorData) {\n    const updatedParsedData = updateParsedDataWithLiveCasinoData(\n      updatedParsedDataSlots,\n      liveCasinoVendorData,\n      lastPlayedGamesRaw\n    );\n    finalParsedData = updatedParsedData;\n  }\n\n  return finalizeParsedData(finalParsedData, lastPlayedGamesRaw);\n};\n\nconst extractVendorData = (\n  data: (ISlotData | ILiveCasinoRawData)[]\n): { slotVendorData: ISlotData | undefined; liveCasinoVendorData: ILiveCasinoData | undefined } => {\n  let slotVendorData: ISlotData | undefined;\n  let liveCasinoVendorData: ILiveCasinoData | undefined;\n\n  for (const vendorData of data) {\n    if (vendorData.vendor === ConfigVendorName.Slots) {\n      slotVendorData = vendorData;\n    } else if (vendorData.vendor === ConfigVendorName.LiveCasino) {\n      if (vendorData.games && vendorData.vendorConfig && vendorData.vendor) {\n        liveCasinoVendorData = vendorData as ILiveCasinoData;\n      } else {\n        Logger.logFailure('vendorConfig', {\n          additional: 'incomplete',\n          place: 'liveCasino',\n        });\n      }\n    } else {\n      Logger.logFailure('vendorConfig', {\n        additional: 'unknown',\n      });\n    }\n  }\n\n  return { slotVendorData, liveCasinoVendorData };\n};\n\nconst initializeParsedData = (slotVendorData: ISlotData): ISlotParsedData => ({\n  slotVendorConfig: slotVendorData.vendorConfig,\n  slotGames: [],\n  slotCategories: {\n    [ID_ALL_SLOTS]: [],\n    [ID_DDW]: [],\n  },\n  featured: [],\n  filters: {\n    [ID_ALL_SLOTS]: [],\n    [ID_DDW]: [],\n  },\n  lastPlayedGames: [],\n  recommendedGames: [],\n  recentlyAdded: [],\n  notifications: {\n    newGames: [],\n  },\n});\n\nconst updateParsedDataWithSlotsData = (\n  parsedData: ISlotParsedData,\n  slotsData: ReturnType<typeof parseSlotsVendor>,\n  lastPlayedGamesRaw: (ISlotGame | ITable)[]\n): ISlotParsedData => {\n  const {\n    featured,\n    lastPlayedGames,\n    recentlyAdded,\n    recommendedGames,\n    slotGames,\n    filters,\n    slotCategories,\n    newGames,\n    activePromo,\n  } = slotsData;\n\n  const newParsedData = {\n    ...parsedData,\n    slotGames,\n    slotCategories,\n    featured,\n    recommendedGames,\n    recentlyAdded,\n    filters,\n    activePromo,\n    notifications: {\n      ...parsedData.notifications,\n      newGames: newGames ?? [],\n    },\n  };\n\n  lastPlayedGamesRaw.push(...lastPlayedGames);\n  return newParsedData;\n};\n\nconst updateParsedDataWithLiveCasinoData = (\n  parsedData: ISlotParsedData,\n  liveCasinoVendorData: ILiveCasinoData,\n  lastPlayedGamesRaw: (ISlotGame | ITable)[]\n): ISlotParsedData => {\n  const liveCasinoData = parseLiveCasinoVendor(liveCasinoVendorData);\n  const { liveCasinoGames, liveCasinoFeatured, liveCasinoLastPlayed, liveCasinoRecommended } = liveCasinoData;\n\n  const newParsedData = {\n    ...parsedData,\n    liveCasinoGames,\n    liveCasinoVendorConfig: liveCasinoVendorData.vendorConfig,\n    featured: mixedAndCuttingSections(parsedData.featured, liveCasinoFeatured),\n    recommendedGames: mixedAndCuttingSections(parsedData.recommendedGames, liveCasinoRecommended),\n  };\n\n  lastPlayedGamesRaw.push(...liveCasinoLastPlayed);\n  return newParsedData;\n};\n\nconst finalizeParsedData = (\n  parsedData: ISlotParsedData,\n  lastPlayedGamesRaw: (ISlotGame | ITable)[]\n): ISlotParsedData => {\n  const sortedLastPlayedGames = lastPlayedGamesRaw.toSorted((a, b) => {\n    if (!a.lastPlayedDate) return 1;\n    if (!b.lastPlayedDate) return -1;\n    return a.lastPlayedDate > b.lastPlayedDate ? -1 : 1;\n  });\n\n  return {\n    ...parsedData,\n    lastPlayedGames: sortedLastPlayedGames.slice(0, 9).map((game) => game.id),\n  };\n};\n\nconst mapGames = <Game extends ITable | ISlotGame>(\n  games: Game[],\n  arr: number[],\n  callback?: (index: number, game: Game) => void\n): string[] => {\n  return arr.map((gameIndex) => {\n    callback?.(gameIndex, games[gameIndex]);\n    return games[gameIndex].id;\n  });\n};\n\nconst parseSlotsVendor = (slotVendorData: ISlotData): ISlotGamesResponseParsed => {\n  const recentlyAddedIndices = slotVendorData.vendorLobby?.new?.games ?? [];\n  const promoIndexes = new Set(slotVendorData.playerSections?.promo ?? []);\n  const allFilters = new Set<string>();\n  const ddwFilter = new Set<string>();\n  const slotGames: ISlotGame[] = slotVendorData.games.map((game, index) => {\n    const isDDW = promoIndexes.has(index);\n    if (isDDW) {\n      game.tags?.forEach((tag) => ddwFilter.add(tag));\n    }\n    return {\n      id: game.symbol,\n      image: `${slotVendorData.vendorConfig.gameIconsURL}/${game.symbol}/${game.symbol}_narrow.jpg`,\n      isDDW,\n      isMultitable: false,\n      tags: game.tags,\n      title: game.name,\n      translatedName: game.name,\n      vendor: Vendor.Slots,\n      isNew: recentlyAddedIndices.includes(index),\n      lastPlayedDate: game?.lastPlayedDate ? +game.lastPlayedDate : undefined,\n    };\n  });\n\n  const featured = mapGames(slotGames, slotVendorData.vendorLobby?.hot?.games ?? []).map((id) => ({\n    id,\n    vendor: Vendor.Slots,\n  }));\n\n  const lastPlayedGames = (slotVendorData.playerSections?.lastPlayed ?? []).map((index) => slotGames[index]);\n  const promoGames = (slotVendorData.playerSections?.promo ?? []).map((index) => slotGames[index]);\n\n  const recommendedGames = mapGames(slotGames, slotVendorData.landingPage ?? []);\n\n  const recentlyAdded = mapGames(slotGames, recentlyAddedIndices);\n\n  const allCategory =\n    slotVendorData.vendorLobby?.all?.games?.map((index) => {\n      slotGames[index].tags?.forEach((tag) => allFilters.add(tag));\n      return {\n        id: slotGames[index].id,\n        vendor: Vendor.Slots,\n      };\n    }) ?? [];\n\n  const newGames = slotVendorData.events\n    ?.filter((event) => {\n      return event.type === Event.NewGame && slotVendorData.games[event.data.game];\n    })\n    .map((event) => {\n      return slotVendorData.games[event.data.game].symbol;\n    });\n\n  const allFilterArray = Array.from(allFilters);\n  sortAndFilterFilters(allFilterArray);\n  const ddwFilterArray = Array.from(ddwFilter);\n  sortAndFilterFilters(ddwFilterArray);\n\n  return {\n    slotGames,\n    activePromo: slotVendorData.activePromo,\n    filters: {\n      [ID_ALL_SLOTS]: allFilterArray,\n      [ID_DDW]: ddwFilterArray,\n    },\n    slotCategories: {\n      [ID_ALL_SLOTS]: allCategory,\n      [ID_DDW]: promoGames,\n    },\n    featured,\n    lastPlayedGames,\n    recommendedGames,\n    recentlyAdded,\n    newGames,\n  };\n};\n\nconst parseLiveCasinoVendor = (liveCasinoVendorData: ILiveCasinoData): ILiveCasinoResponseParsed => {\n  const { playerSections, games } = liveCasinoVendorData;\n\n  const liveCasinoGames: ITable[] = games?.map((game) => getITableFromRawTable(game)) ?? [];\n\n  const liveCasinoFeatured = mapGames(liveCasinoGames, playerSections?.heroBanners ?? []).map((id) => ({\n    id,\n    vendor: Vendor.LiveCasino,\n  }));\n\n  const liveCasinoLastPlayed = (playerSections?.lastPlayed ?? []).map((index) => liveCasinoGames[index]);\n\n  const liveCasinoRecommended = mapGames(liveCasinoGames, playerSections?.recommended ?? []);\n\n  return {\n    liveCasinoGames,\n    liveCasinoFeatured,\n    liveCasinoLastPlayed,\n    liveCasinoRecommended,\n  };\n};\n\nconst mixedAndCuttingSections = <GL1, GL2>(slotsArr: GL1[], LCArr: GL2[], every: number = 2): (GL1 | GL2)[] => {\n  const mixedArr: (GL1 | GL2)[] = [];\n  let index2 = 0;\n  for (let i = 0; i < slotsArr.length; i++) {\n    if (i !== 0 && i % every === 0 && index2 < LCArr.length) {\n      mixedArr.push(LCArr[index2]);\n      index2++;\n    }\n    mixedArr.push(slotsArr[i]);\n  }\n\n  return mixedArr.slice(0, 9);\n};\n","import { NetworkError } from '@pp/core/src/api/errors/NetworkError';\nimport { UnauthorizedError } from '@pp/core/src/api/errors/UnauthorizedError';\nimport { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { parseSlotGames } from './parser';\nimport type { FetchSlotGamesParams, ISlotGamesResponse, ISlotParsedData } from './type';\n\nexport const fetchSlotGames = ({ magicKey, baseUrl }: FetchSlotGamesParams): Promise<ISlotParsedData> => {\n  const url = `${baseUrl}`;\n\n  return Fetcher.fetch<ISlotGamesResponse>(url, {\n    params: {\n      mgckey: magicKey,\n    },\n  })\n    .then((response) => {\n      if (response.error === 3) {\n        throw new UnauthorizedError(`UnauthorizedError`);\n      }\n      if (response.error !== 0) {\n        throw new NetworkError('fetchSlotGames', response.data);\n      }\n\n      return parseSlotGames(response.data);\n    })\n    .catch((reason) => {\n      Logger.logFailure('errors', 'fetch', 'fetchSlotGamesProcessing', Date.now(), 1, '', false);\n      throw reason;\n    });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchSlotGames } from '../../../api/fetchers/slots/games';\nimport type { FetchSlotGamesParams } from '../../../api/fetchers/slots/type';\n\nexport interface FetchSlotGamesActionParams extends FetchSlotGamesParams {\n  essential: boolean;\n}\n\nexport const fetchSlotGamesAction = createAsyncThunk(\n  'fetch/slots/fetchSlotGames',\n  (params: FetchSlotGamesActionParams) => fetchSlotGames(params)\n);\n","export const LOBBY_FREE_SEATS = 'LOBBY_FREE_SEATS';\nexport const LOBBY_GAME_TYPE = 'LOBBY_GAME_TYPE';\nexport const GOOD_ROADS = 'GOOD_ROADS';\nexport const MIN_BET = 'MIN_BET';\nexport const TABLE_TYPE = 'TABLE_TYPE';\nexport const HOT_SLOTS = 'HOT_SLOTS';\nexport const NEW_SLOTS = 'NEW_SLOTS';\nexport const ALL_SLOTS = 'ALL_SLOTS';\n\nexport const MIN_BET_RANGES = [{ min: 1, max: 10 }, { min: 25, max: 50 }, { min: 100 }];\nexport const BJ_LEAGUE_TAGS = { BRONZE: 'BBJT', SILVER: 'SBJT', GOLD: 'GBJT', PRIVE: 'PRBJT' };\n\nexport const TABLE_CATEGORIES = {\n  AUTO: 'Auto',\n  NATIVE: 'Native',\n  VARIANTS: 'Variants',\n  UNLIMITED: 'Unlimited',\n  PRIVE: 'PRIVE',\n  BLACKJACKX: 'BLACKJACKX',\n  SPEED: 'Speed',\n  REGULAR: 'Regular',\n  VIP: 'VIP',\n};\n","export const PromotionFilterLabel = 'PROMOTIONS';\nexport const PromotionTagDDW = 'DDW';\nexport const PromotionTagKrBaccarat = 'KrBaccarat';\nexport const PromotionTagOther = 'OTHER_PROMO';\nexport const BJPromotionsFilterLabel = 'BJ_LEAGUE';\nexport const BonusPromotionTag = 'PROMO_FREE_CHIPS';\n","export const pruneArray = (arr: Array<any>) => arr.filter(Boolean);\n\nexport const isEmpty = (arg: any) => {\n  if (arg === null || arg === undefined) return true;\n  if (typeof arg === 'string') return arg.trim().length === 0;\n  if (Array.isArray(arg)) return arg.length === 0;\n  if (typeof arg === 'object') return Object.keys(arg).length === 0;\n  return false;\n};\n","import type { ILimit } from '@pp/core/src/store/slices/bets/types';\n\nimport type { PromoTableType } from '../api/fetchers/promo';\nimport { Vendor } from '../config/LobbyConfiguration';\nimport { MIN_BET_RANGES } from '../constants/filters';\nimport { ID_BACCARAT, ID_BLACKJACK, ID_PROMOTIONS } from '../constants/navigation';\nimport { BonusPromotionTag, PromotionTagDDW, PromotionTagKrBaccarat, PromotionTagOther } from '../constants/promotions';\nimport type { GameType } from '../store/slices/games/slice';\nimport type { IMultiTable, ISlotGame, ITable } from '../store/slices/tables/types';\n\nimport { isEmpty } from './index';\n\nexport const filterByType = (tags: string[], types: string[]): boolean => {\n  return !types || types.length === 0 || tags.some((type) => types.includes(type));\n};\n\nexport const filterByBlackjackLeague = (table: ITable, blackjackLeagueSet: Set<string> | undefined): boolean => {\n  if (!blackjackLeagueSet) return true;\n\n  return blackjackLeagueSet.has(table.id);\n};\n\nexport const isNotFullTable = (table: ITable): boolean => {\n  if (table?.tableSubtype && table?.tableSubtype?.toLowerCase() === 'betbehindpro') {\n    return true;\n  }\n  if (table.isPrive) {\n    return !table.currentUserId;\n  }\n  if (table.isVip && table.playerCount === 3) {\n    return false;\n  }\n  for (let i = 1; i <= 7; i++) {\n    if (!table[`seat${i}`]) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const filterByFullTables = (table: ITable, fullTables: string[]): boolean => {\n  return !fullTables || fullTables.length === 0 || isNotFullTable(table);\n};\n\nexport const filterByGoodRoads = (table: ITable, goodRoads: string[], goodRoadsTables: string[]): boolean => {\n  return !goodRoads || goodRoads.length === 0 || goodRoadsTables.includes(table.id);\n};\n\nexport const filterBySearch = (searchString: string | undefined | null, searchValue: string): boolean => {\n  if (searchString === null) return false;\n\n  return (\n    searchString === undefined ||\n    !searchValue ||\n    searchValue.length === 0 ||\n    searchString.toLowerCase().includes(searchValue.toLowerCase())\n  );\n};\n\nexport const filterByPromotions = (\n  table: ITable,\n  categoryId: string[] | undefined,\n  promotions: PromoTableType\n): boolean | undefined => {\n  return !categoryId || promotions.all?.includes(table.id) || promotions.bonus?.includes(table.id);\n};\n\nexport const filterByMinBet = (table: ITable, limitRange: ILimit | null): boolean => {\n  if (!limitRange) return true;\n\n  const tableMinBet = table.limits?.minBet;\n  if (!tableMinBet) return true;\n\n  return !(tableMinBet < limitRange.min || tableMinBet > limitRange.max);\n};\n\nexport const filterByPromotionsType = (\n  table: ITable,\n  promoFilters: string[],\n  promoTables: PromoTableType,\n  categoryId: string\n): boolean => {\n  if (!promoFilters?.length || categoryId !== ID_PROMOTIONS) return true;\n\n  return promoFilters.some((type) => {\n    if (type === PromotionTagDDW) {\n      return promoTables.ddw?.includes(table.id);\n    }\n    if (type === PromotionTagKrBaccarat) {\n      return promoTables.krBacc?.includes(table.id);\n    }\n    if (type === PromotionTagOther) {\n      return promoTables.other?.includes(table.id);\n    }\n    if (type === BonusPromotionTag) {\n      return promoTables.bonus?.includes(table.id);\n    }\n    return false;\n  });\n};\n\ninterface IIsFilteredTableLC {\n  table: ITable | IMultiTable;\n  promoTables: PromoTableType;\n  selectedFilters: Record<string, string[]>;\n  goodRoadsTables: string[];\n  limitRange: ILimit | null;\n  blackjackLeagueSet: Set<string> | undefined;\n  categoryId: string;\n}\n\nexport const isFilteredTableLC = ({\n  blackjackLeagueSet,\n  categoryId,\n  goodRoadsTables,\n  limitRange,\n  promoTables,\n  selectedFilters,\n  table,\n}: IIsFilteredTableLC): boolean => {\n  const { TABLE_TYPE, LOBBY_FREE_SEATS, GOOD_ROADS, PROMOTIONS } = selectedFilters;\n\n  const isFilterApplied = !isEmpty(selectedFilters);\n  // multitables are excluded as soon as filters are applied, as filter attributes are not applicable to it.\n  if (table.isMultitable) {\n    return !isFilterApplied;\n  }\n  return !!(\n    filterByMinBet(table, limitRange) &&\n    filterByType(table.tableCategoryIds, TABLE_TYPE) &&\n    filterByFullTables(table, LOBBY_FREE_SEATS) &&\n    filterByGoodRoads(table, GOOD_ROADS, goodRoadsTables) &&\n    filterByPromotions(table, PROMOTIONS, promoTables) &&\n    filterByBlackjackLeague(table, blackjackLeagueSet) &&\n    filterByPromotionsType(table, PROMOTIONS, promoTables, categoryId)\n  );\n};\n\nexport const sortingFunctions = (table: GameType, categoryId: string, array: string[][]): void => {\n  if (table.vendor === Vendor.Slots) {\n    array[0].push(table.id);\n    return;\n  }\n  if (table.isMultitable) {\n    array[0].push(table.id);\n    return;\n  }\n  const id = table.id;\n  const isOpen = table.isActive;\n  const closedToTime = table.openTime;\n  const isBlackjackFullTable = categoryId === ID_BLACKJACK && !isNotFullTable(table);\n  const isBaccaratPriveOccupied = Boolean(categoryId === ID_BACCARAT && table.isPrive && table.currentUserId);\n\n  switch (true) {\n    case !isOpen && !closedToTime:\n      array[3].push(id);\n      break;\n    case !isOpen && Boolean(closedToTime):\n      array[2].push(id);\n      break;\n    case isBlackjackFullTable || isBaccaratPriveOccupied:\n      array[1].push(id);\n      break;\n    case isOpen:\n      array[0].push(id);\n      break;\n    default:\n      break;\n  }\n};\n\ninterface IGetSortableAndFiltrableTables {\n  categoryGamesData: GameType[];\n  categoryId: string;\n  games: Record<GameType['id'], GameType>;\n  goodRoadsTables: string[];\n  promoTables: PromoTableType;\n  currencyMultiplier?: number;\n  selectedFilters?: Record<string, string[]>;\n}\n\nexport const isFilteredTableSlots = (table: ISlotGame, selectedFilters: Record<string, string[]>): boolean =>\n  filterByType(table.tags ?? [], selectedFilters.LOBBY_GAME_TYPE);\n\nexport const assembleLimitRange = (minBetFilter: string[], currencyMultiplier: number): ILimit =>\n  MIN_BET_RANGES.reduce(\n    (acc: ILimit, range, i) => {\n      let select = false;\n\n      minBetFilter.forEach((l) => {\n        if (+l === i + 1) select = true;\n      });\n\n      if (!select) return acc;\n\n      const min = range.min * currencyMultiplier;\n      const max = range.max ? range.max * currencyMultiplier : Infinity;\n\n      return { min: acc.min < min ? acc.min : min, max: acc.max > max ? acc.max : max };\n    },\n\n    { min: Infinity, max: -Infinity }\n  );\n\nexport const createBlackjackLeagueSet = (\n  blackjackLeagues: string[] | undefined,\n  promoTables: PromoTableType\n): Set<string> | undefined => {\n  if (!blackjackLeagues || blackjackLeagues.length === 0) return undefined;\n  const bjLeagueTables: Set<string> = new Set();\n  blackjackLeagues?.forEach((value) => {\n    const promoTable = promoTables[value];\n    if (!promoTable) return;\n    promoTable.forEach((tableId) => {\n      bjLeagueTables.add(tableId);\n    });\n  });\n\n  return bjLeagueTables;\n};\n\nexport const sortAndFilterGames = ({\n  categoryGamesData,\n  categoryId,\n  currencyMultiplier = 1,\n  games,\n  goodRoadsTables,\n  promoTables,\n  selectedFilters = {},\n}: IGetSortableAndFiltrableTables): string[][] => {\n  // prepare limit ranges\n  const minBetFilter: string[] = selectedFilters?.MIN_BET;\n\n  let limitRange = null;\n  if (minBetFilter?.length) {\n    limitRange = assembleLimitRange(minBetFilter, currencyMultiplier);\n  }\n\n  // prepare blackjack leagues\n  const blackjackLeagueFilter: string[] | undefined = selectedFilters.BJ_LEAGUE;\n  const blackjackLeagueSet = createBlackjackLeagueSet(blackjackLeagueFilter, promoTables);\n\n  return categoryGamesData.reduce(\n    (acc: string[][], { id }) => {\n      if (!id) return acc;\n      const table = games[id];\n      if (!table) return acc;\n      let isFiltered;\n      if (table.vendor === Vendor.LiveCasino) {\n        isFiltered = isFilteredTableLC({\n          table,\n          promoTables,\n          selectedFilters,\n          goodRoadsTables,\n          limitRange,\n          blackjackLeagueSet,\n          categoryId,\n        });\n      } else {\n        isFiltered = isFilteredTableSlots(table, selectedFilters);\n      }\n\n      if (isFiltered) {\n        sortingFunctions(table, categoryId, acc);\n      }\n\n      return acc;\n    },\n    [[], [], [], []]\n  );\n};\n\nexport const mergeTables = (\n  existingTables: Array<{ id: string; vendor: Vendor }>,\n  newTableIds: string[]\n): Array<{ id: string; vendor: Vendor }> => {\n  const tableMap = new Map<string, { id: string; vendor: Vendor }>();\n\n  // Add existing tables to the map\n  for (const table of existingTables) {\n    tableMap.set(table.id, table);\n  }\n\n  // Add new tables and avoid duplicates\n  for (const id of newTableIds) {\n    if (!tableMap.has(id)) {\n      tableMap.set(id, { id, vendor: Vendor.LiveCasino });\n    }\n  }\n\n  // Return the merged tables as array\n  return Array.from(tableMap.values());\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport type { BonusCampaignApiParams } from '../../api/fetchers/bonusPromo';\nimport { fetchBonusCampaigns } from '../../api/fetchers/bonusPromo';\n\nexport const fetchBonusCampaignAction = createAsyncThunk(\n  'bonusPromotions/fetchAction',\n  (params: BonusCampaignApiParams) => fetchBonusCampaigns(params)\n);\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\n\nexport interface BonusCampaignApiParams {\n  jwtToken: string | null;\n  bonusPromoUrl: string;\n}\n\nconst PATH = '/v1/campaign/eligible';\n\nexport enum BonusStatus {\n  Pending = 'pending', // No action from Player and not claimed\n  Active = 'active', // Successfully claimed\n  Expired = 'expired', // Expiry date reached and player didn't claim\n  Wagered = 'wagered', // Bonus is exhausted\n  Cancelled = 'cancelled', // Cancel action from operator\n}\n\nexport enum CampaignStatus {\n  Created = 'created',\n  InPrgress = 'in_progress',\n  Given = 'given',\n  Cancelled = 'cancelled',\n  Completed = 'completed',\n}\nexport interface IBonusCampaign {\n  campaignId: number;\n  bonusId: number;\n  bonusCode: string;\n  campaignStatus: CampaignStatus;\n  chipValue: number;\n  currencyCode: string;\n  expDate: number;\n  validityDate: number;\n  requestId: string | null;\n  bonusStatus: BonusStatus;\n  bonusIssued: number;\n  bonusUsed: number;\n  bonusRemaining: number;\n  maxWinningLimit: number | null;\n  accumulatedWins: number;\n  gameDetails: Array<{ gameTypeId: string; externalTableIds: Array<string> }>;\n}\n\nexport interface IBonusResponse {\n  tableIds: Array<string>;\n}\n\nexport interface GetBonusCampaigns {\n  eligible: IBonusCampaign[];\n}\n\nexport const parseBonusPromos = (bonusPromos: IBonusCampaign[]): string[] =>\n  bonusPromos.flatMap((bonusPromo) => bonusPromo.gameDetails.flatMap((gameDetail) => gameDetail.externalTableIds));\n\nexport const fetchBonusCampaigns = ({ jwtToken, bonusPromoUrl }: BonusCampaignApiParams): Promise<IBonusResponse> => {\n  return Fetcher.fetch<GetBonusCampaigns>(`${bonusPromoUrl}${PATH}`, {\n    headers: { Authorization: `Bearer ${jwtToken}` },\n    force: true,\n  }).then((res) => {\n    return {\n      tableIds: parseBonusPromos(res.eligible),\n    };\n  });\n};\n","import { ForbiddenError } from '@pp/core/src/api/errors/ForbiddenError';\nimport { NetworkError } from '@pp/core/src/api/errors/NetworkError';\nimport { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { PromoObjectType } from '@pp/core/src/api/fetchers/promotionsV2/types/promotionsApi';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nexport interface FetchParams {\n  jwtToken: string | null;\n  promoUrl: string;\n}\n\nexport type PromoTableType = Record<string, string[] | undefined>;\n\nconst PATH = '/api/v3/fetchPromotionsInfo';\n\nexport interface IPromoResponse {\n  groups: {\n    all: string[];\n    ddw: string[];\n    other: string[];\n\n    krBacc: string[];\n\n    BBJT: string[];\n    SBJT: string[];\n    GBJT: string[];\n    PRBJT: string[];\n    ntp: string[];\n  };\n  gameInfo: Record<string, IPromoGameInfo>;\n  bjPromoInfo: Record<\n    string,\n    {\n      endDate: number;\n      startDate: number;\n      dailyPrizes: number;\n      dailyPrizePool: number;\n      minBet: number;\n      campaignEndDate?: number;\n    }\n  > | null;\n}\n\nexport interface IPromoGameInfo {\n  /** Cashback Flag */\n  isCashback: boolean;\n  /** Daily Wins Flag */\n  isDDW: boolean;\n  /** Daily Wins Flag */\n  isBJHoliday: boolean;\n  /** Prize Drop Flag */\n  isPrizeDrop: boolean;\n  /** Slot Mania Flag */\n  isSlotMania: boolean;\n  /** Tournament Flag */\n  isTournament: boolean;\n  /** Blackjack League Flag */\n  isBJT: undefined | 'BBJT' | 'SBJT' | 'GBJT' | 'PRBJT';\n  /** Korean Baccarat Flag */\n  isKrBaccarat: boolean;\n}\n\nexport type IPromoPrizeDetails = {\n  prizeCount: number;\n  prizeAmount: number;\n  highestPrize: number;\n};\n\nexport interface IPromotion {\n  clientMode: 'D' | 'H'; // D = Display, H = Hidden\n  consent: boolean; // Is UK Promotion\n  endDate: number; // End Date\n  campaignEndDate?: number; // Campaign End Date use as end date if available\n  feedbackOn?: null;\n  gameIds: string;\n  name: string;\n  opt: string;\n  platformPrizedropId: number;\n  startDate: number; // Start Date\n  promoType: string;\n  prizedropId: number;\n  tournamentId: number;\n  cashbackId: number;\n  platformTournamentId: number;\n  PRIZE_DETAILS: IPromoPrizeDetails;\n  minBetLimit?: number;\n}\n\nexport type IPromotionResponse = { data: IPromotion; objectType: 'PROMOTIONS' } | { data: string; objectType: 'ERROR' };\n\nconst bjtRegexp = /#\\w+BJT#$/;\nconst hashRegexp = /#/g;\n\nexport const fetchPromotionData = ({ promoUrl, jwtToken }: FetchParams): Promise<IPromoResponse> => {\n  const url = `${promoUrl}${PATH}`;\n\n  if (!jwtToken) throw new Error('JWT Token is missing');\n\n  return Fetcher.fetch<IPromotionResponse>(url, {\n    headers: {\n      Authorization: `Bearer ${jwtToken}`,\n    },\n    params: {\n      isLobby: 'true',\n    },\n  })\n    .then((response: IPromotionResponse) => {\n      if (response.objectType == PromoObjectType.Error) {\n        if (response.data.indexOf('Unsupported') === 0) {\n          throw new ForbiddenError(response.data);\n        } else {\n          throw new NetworkError(response.data);\n        }\n      } else if (response.objectType == PromoObjectType.Promotions) {\n        const promotionsArray = Array.isArray(response.data) ? response.data : [response.data];\n        return promotionsArray.reduce(\n          (result: IPromoResponse, promo: IPromotion) => {\n            // Not Activated Promotions - Why?\n            if (promo.clientMode !== 'D' || ['NA', 'not_opted'].includes(promo.opt)) return result;\n\n            const gameIds = promo.gameIds.split(',');\n            const isDDW = promo.name.includes('#DDW#');\n            const isSlotMania = promo.name.includes('#IDNLCSM#');\n            const isKrBaccarat = promo.name.includes('#KR_BACC#');\n            const isBJHoliday = promo.name.includes('#NTP#');\n\n            const bjtMatch = bjtRegexp.exec(promo.name);\n\n            if (bjtMatch) {\n              const tag = bjtMatch[0].replace(hashRegexp, '');\n              result.bjPromoInfo ??= {};\n\n              result.bjPromoInfo[tag] = {\n                endDate: promo.endDate,\n                campaignEndDate: promo.campaignEndDate,\n                startDate: promo.startDate,\n                dailyPrizePool: promo.PRIZE_DETAILS.prizeAmount,\n                dailyPrizes: promo.PRIZE_DETAILS.prizeCount,\n                minBet: promo.minBetLimit || 0,\n              };\n            }\n\n            gameIds.forEach((gameId: string) => {\n              const gameInfo = result.gameInfo[gameId] || {};\n              gameInfo.isTournament = gameInfo.isTournament || (!isDDW && promo.tournamentId !== undefined);\n              gameInfo.isCashback = gameInfo.isCashback || (!isDDW && promo.cashbackId !== undefined);\n              gameInfo.isPrizeDrop = gameInfo.isPrizeDrop || (!isDDW && promo.prizedropId !== undefined);\n              gameInfo.isDDW = gameInfo.isDDW || isDDW;\n              gameInfo.isBJHoliday = gameInfo.isBJHoliday || isBJHoliday;\n              gameInfo.isSlotMania = gameInfo.isSlotMania || isSlotMania;\n              gameInfo.isBJT = gameInfo.isBJT || (bjtMatch?.[0].replace(hashRegexp, '') as IPromoGameInfo['isBJT']);\n              gameInfo.isKrBaccarat = gameInfo.isKrBaccarat || isKrBaccarat;\n              result.gameInfo[gameId] = gameInfo;\n\n              if (!result.groups.all.includes(gameId)) {\n                result.groups.all.push(gameId);\n              }\n\n              if (isDDW && !result.groups.ddw.includes(gameId)) {\n                result.groups.ddw.push(gameId);\n              } else if (isKrBaccarat && !result.groups.krBacc.includes(gameId)) {\n                result.groups.krBacc.push(gameId);\n              } else if (!isDDW && !result.groups.other.includes(gameId)) {\n                result.groups.other.push(gameId);\n              }\n              if (isBJHoliday && !result.groups.ntp.includes(gameId)) {\n                result.groups.ntp.push(gameId);\n              }\n\n              if (bjtMatch) {\n                const bjtTag = bjtMatch[0];\n                const groupMapping: { [key: string]: 'BBJT' | 'SBJT' | 'GBJT' | 'PRBJT' } = {\n                  '#BBJT#': 'BBJT',\n                  '#SBJT#': 'SBJT',\n                  '#GBJT#': 'GBJT',\n                  '#PRBJT#': 'PRBJT',\n                };\n\n                const group = groupMapping[bjtTag];\n                if (group && !result.groups[group].includes(gameId)) {\n                  result.groups[group].push(gameId);\n                }\n              }\n            });\n\n            return result;\n          },\n          {\n            groups: { all: [], ddw: [], other: [], krBacc: [], BBJT: [], SBJT: [], GBJT: [], PRBJT: [], ntp: [] },\n            gameInfo: {},\n            bjPromoInfo: null,\n          }\n        );\n      }\n      throw new Error('Unknown `objectType` field');\n    })\n    .catch((reason) => {\n      Logger.logFailure('errors', 'fetch', 'promoDataProcessing', Date.now(), 1, '', false);\n      throw reason;\n    });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { type FetchParams, fetchPromotionData } from '../../api/fetchers/promo';\n\nexport const fetchPromotionAction = createAsyncThunk('promotions/fetchAction', (params: FetchParams) =>\n  fetchPromotionData(params)\n);\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { CoreConstants } from '@pp/core/src/config/CoreConstants';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\nimport { fetchCasinoConfigAction } from '@pp/core/src/store/apiActions/fetchCasinoConfigAction';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { ID_ALL_SLOTS, ID_BACCARAT, ID_DDW, ID_PROMOTIONS } from '../../../constants/navigation';\nimport { mergeTables } from '../../../utils/filtersFunc';\nimport { fetchBonusCampaignAction } from '../../apiActions/fetchBonusCampaignAction';\nimport { fetchPromotionAction } from '../../apiActions/fetchPromotionAction';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport type { GameType } from '../games/slice';\nimport type { IGameReference } from '../tables/types';\n\nexport interface ICategorySlice {\n  currentCategory: string | null;\n  categoryGames: GameType[];\n  categoryTables: string[];\n  categories?: Record<string, IGameReference[]>;\n}\n\nconst initialState: ICategorySlice = {\n  currentCategory: null,\n  categoryGames: [],\n  categoryTables: [],\n};\n\nexport const categorySlice = createSlice({\n  name: 'category',\n  initialState,\n  reducers: {\n    setCurrentCategory: (state, action: PayloadAction<string | null>) => {\n      const currentCategory = action.payload;\n      if (currentCategory === null) {\n        SessionStorage.remove(CoreConstants.SelectedTableType);\n      } else {\n        SessionStorage.set(CoreConstants.SelectedTableType, currentCategory);\n      }\n      state.currentCategory = currentCategory;\n    },\n    setCategoryGames: (state, action: PayloadAction<GameType[]>) => {\n      state.categoryGames = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      const { slotCategories } = action.payload;\n      state.categories = {\n        ...state.categories,\n        [ID_ALL_SLOTS]: slotCategories[ID_ALL_SLOTS],\n      };\n\n      if (slotCategories[ID_DDW].length > 0) {\n        state.categories = {\n          ...state.categories,\n          [ID_DDW]: slotCategories[ID_DDW],\n        };\n      }\n    });\n    builder.addCase(fetchCasinoConfigAction.fulfilled, (state, action) => {\n      const { tables } = action.payload;\n      const categories = Object.keys(tables).reduce(\n        (acc, key) => {\n          const categoryTables = tables[key];\n          let index = -1;\n          acc[key] = categoryTables.map((table, idx) => {\n            if (table === '007') index = idx;\n            return {\n              id: table,\n              vendor: Vendor.LiveCasino,\n            };\n          });\n\n          //TODO Table order updated for Baccarat as MTB on first place, Hardcoding removed from Cliet side.\n          // To provide same user behaviour, whether 007 is present or not in tables_order for Baccarat\n          if (ID_BACCARAT === key) {\n            if (index > -1) {\n              acc[key] = [\n                { id: '007', vendor: Vendor.LiveCasino },\n                ...acc[key].slice(0, index),\n                ...acc[key].slice(index + 1),\n              ];\n            } else {\n              acc[key].unshift({ id: '007', vendor: Vendor.LiveCasino });\n            }\n          }\n          return acc;\n        },\n        {} as Record<string, IGameReference[]>\n      );\n\n      state.categories = {\n        ...state.categories,\n        ...categories,\n      };\n    });\n    builder.addCase(fetchPromotionAction.fulfilled, (state, action) => {\n      const promoTables = action.payload.groups?.all || [];\n      const existingTables = state.categories?.[ID_PROMOTIONS] || [];\n      if (promoTables.length > 0) {\n        state.categories = {\n          ...state.categories,\n          [ID_PROMOTIONS]: mergeTables(existingTables, promoTables),\n        };\n      }\n    });\n\n    builder.addCase(fetchBonusCampaignAction.fulfilled, (state, action) => {\n      const bonusPromoTables = action.payload.tableIds || [];\n      const existingTables = state.categories?.[ID_PROMOTIONS] || [];\n      if (bonusPromoTables.length > 0) {\n        state.categories = {\n          ...state.categories,\n          [ID_PROMOTIONS]: mergeTables(existingTables, bonusPromoTables),\n        };\n      }\n    });\n  },\n});\n\nexport const categoryActions = categorySlice.actions;\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport {\n  ALL_SLOTS,\n  GOOD_ROADS,\n  HOT_SLOTS,\n  LOBBY_FREE_SEATS,\n  LOBBY_GAME_TYPE,\n  MIN_BET,\n  MIN_BET_RANGES,\n  NEW_SLOTS,\n} from '../../../constants/filters';\nimport { ID_ALL_SLOTS, ID_BACCARAT, ID_BLACKJACK, ID_DDW, ID_SLOTS } from '../../../constants/navigation';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\n\nimport type { IListItemFilter, ISelectedFilter, IURLFilter } from './types';\n\nexport const filtersSlice = createSlice({\n  name: 'filters',\n  initialState: (): {\n    search: string;\n    searchDebounce: string;\n    isSearchOpen: boolean;\n    list: IListItemFilter[];\n    selected: ISelectedFilter;\n    goodRoadsTable: string[];\n    isDrawerOpen: boolean;\n    urlFilters: IURLFilter | null;\n  } => ({\n    search: '',\n    searchDebounce: '',\n    isSearchOpen: false,\n    list: [\n      {\n        label: LOBBY_FREE_SEATS,\n        tags: [LOBBY_FREE_SEATS],\n        tab: ID_BLACKJACK,\n      },\n      {\n        label: GOOD_ROADS,\n        tags: [GOOD_ROADS],\n        tab: ID_BACCARAT,\n      },\n      {\n        label: MIN_BET,\n        tags: MIN_BET_RANGES,\n        tab: ID_BLACKJACK,\n      },\n      {\n        label: LOBBY_GAME_TYPE,\n        tags: [HOT_SLOTS, NEW_SLOTS, ALL_SLOTS],\n        tab: ID_SLOTS,\n      },\n    ],\n    selected: {},\n    goodRoadsTable: [],\n    isDrawerOpen: false,\n    urlFilters: null,\n  }),\n  reducers: {\n    setFilterList: (state, action: PayloadAction<IListItemFilter[]>) => {\n      state.list = state.list.concat(action.payload);\n    },\n    setURLFilters: (state, action: PayloadAction<IURLFilter | null>) => {\n      state.urlFilters = action.payload;\n    },\n    setSearch: (state, action: PayloadAction<string>) => {\n      state.search = action.payload;\n    },\n    setSearchDebounce: (state, action: PayloadAction<string>) => {\n      state.searchDebounce = action.payload;\n    },\n    resetSearch: (state) => {\n      state.search = '';\n      state.searchDebounce = '';\n      state.isSearchOpen = false;\n    },\n    setIsSearchOpen: (state, action: PayloadAction<boolean>) => {\n      state.isSearchOpen = action.payload;\n    },\n    resetFilterInTab: (state, action: PayloadAction<string>) => {\n      const category = action.payload;\n      delete state.selected[category];\n      state.search = '';\n      state.searchDebounce = '';\n    },\n    setSelectedFilter: (state, action: PayloadAction<ISelectedFilter | null>) => {\n      if (action.payload === null) {\n        return;\n      }\n      state.selected = action.payload;\n    },\n    updateSelectedFilters: (state, action: PayloadAction<{ categoryId: string; value: Record<string, string[]> }>) => {\n      const { categoryId, value } = action.payload;\n      Object.keys(value).forEach((key) => {\n        if (!value[key].length) {\n          delete value[key];\n        }\n      });\n      if (!Object.keys(value).length) {\n        delete state.selected[categoryId];\n      } else {\n        state.selected[categoryId] = value;\n      }\n    },\n    updateGoodRoads: (\n      state,\n      action: PayloadAction<{ id: string; hasGoodRoads: boolean } | { id: string; hasGoodRoads: boolean }[]>\n    ) => {\n      let updatedTables = [];\n      if (Array.isArray(action.payload)) {\n        updatedTables = action.payload;\n      } else {\n        updatedTables = [action.payload];\n      }\n\n      const tableSet = new Set(state.goodRoadsTable);\n\n      let setHasChanged = false;\n\n      updatedTables.forEach(({ id, hasGoodRoads }) => {\n        if (hasGoodRoads) {\n          if (!tableSet.has(id)) {\n            tableSet.add(id);\n            setHasChanged = true;\n          }\n        } else if (tableSet.has(id)) {\n          tableSet.delete(id);\n          setHasChanged = true;\n        }\n      });\n\n      if (!setHasChanged) return;\n      state.goodRoadsTable = Array.from(tableSet);\n    },\n    setIsDrawerOpen: (state, action: PayloadAction<boolean>) => {\n      state.isDrawerOpen = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotGamesAction.fulfilled, ({ list }, { payload: { filters } }) => {\n      const translationsAll = filters[ID_ALL_SLOTS].map((tag) => `LOBBY_FILTERS_${tag}`);\n      const translationsDDW = filters[ID_DDW].map((tag) => `LOBBY_FILTERS_${tag}`);\n      list.push(\n        {\n          label: LOBBY_GAME_TYPE,\n          tags: filters[ID_ALL_SLOTS],\n          translations: translationsAll,\n          tab: ID_ALL_SLOTS,\n        },\n        {\n          label: LOBBY_GAME_TYPE,\n          tags: filters[ID_DDW],\n          translations: translationsDDW,\n          tab: ID_DDW,\n        }\n      );\n    });\n  },\n});\n\nexport const filtersActions = filtersSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport type { LobbyRootState } from '../LobbyStore';\nimport { categoryActions } from '../slices/category/slice';\nimport { filtersActions } from '../slices/filters/slice';\n\nexport const changeTabMiddleware = createListenerMiddleware<LobbyRootState>();\n\nchangeTabMiddleware.startListening({\n  actionCreator: categoryActions.setCurrentCategory,\n  effect: (_, { dispatch }) => {\n    dispatch(filtersActions.resetSearch());\n  },\n});\n","import { getStaticBaseUrl } from '@pp/core/src/utils/getStaticBaseUrl';\n\nexport const ASSETS_S3_PATH = 'apps/lobby-assets/1.0.0';\nexport const assetsAbsolutePath = `${getStaticBaseUrl().base}/${ASSETS_S3_PATH}`;\n\nexport const getRemoteAssetsPath = (path: string): string => {\n  return `${assetsAbsolutePath}/${path}`;\n};\n\nexport const getSlotAssetsPath = (path: string): string => {\n  return `${getStaticBaseUrl().base.includes('localhost') ? 'https://gp33-gs2c-static.s3.eu-central-1.amazonaws.com/gs2c/common/lobby/v1' : getStaticBaseUrl().base}/apps/slots-lobby-assets/${path}`;\n};\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { assetsAbsolutePath } from '../../utils/remoteAssetsPath';\n\ntype HeroBannersConfigType = Record<string, string>;\ntype TileExceptionConfigType = Record<string, string[]>;\n\nexport const fetchHeroBannersConfig = (): Promise<HeroBannersConfigType> => {\n  return Fetcher.fetch<HeroBannersConfigType>(`${assetsAbsolutePath}/configs/heroBanners.json`)\n    .then(prepareHeroBannersConfig)\n    .catch(() => {\n      Logger.logFailure('fetch', {\n        place: 'fetchHeroBannersConfig',\n      });\n\n      return {};\n    });\n};\nexport const fetchTileExceptionConfig = (): Promise<TileExceptionConfigType> => {\n  return Fetcher.fetch<TileExceptionConfigType>(`${assetsAbsolutePath}/configs/tileException.json`).catch(() => {\n    Logger.logFailure('fetch', {\n      place: 'fetchTileExceptionConfig',\n    });\n\n    return {};\n  });\n};\n\nconst prepareHeroBannersConfig = (rawConfig: HeroBannersConfigType): HeroBannersConfigType => {\n  return Object.keys(rawConfig).reduce((acc, cur) => {\n    acc[cur] = rawConfig[cur].replace('.', assetsAbsolutePath);\n    return acc;\n  }, {} as HeroBannersConfigType);\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchHeroBannersConfig, fetchTileExceptionConfig } from '../../api/fetchers/remoteConfigs';\n\nexport const fetchHeroBannersConfigAction = createAsyncThunk('tables/fetchHeroBannersConfig', () =>\n  fetchHeroBannersConfig()\n);\n\nexport const fetchTileExceptionConfigAction = createAsyncThunk('tables/fetchTileExceptionConfig', () =>\n  fetchTileExceptionConfig()\n);\n","import { createSlice, type PayloadAction } from '@reduxjs/toolkit';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { fetchCasinoConfigAction } from '@pp/core/src/store/apiActions/fetchCasinoConfigAction';\nimport { fetchPlayerConfigAction } from '@pp/core/src/store/apiActions/fetchPlayerConfigAction';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { fetchCuratedTablesAction } from '../../apiActions/fetchCuratedTablesAction';\nimport { fetchHeroBannersConfigAction } from '../../apiActions/fetchRemoteConfigsAction';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\n\nimport type { IGameSection } from './types';\n\nexport interface IForYouState {\n  sections: Record<string, IGameSection> | null;\n  rawSections: Record<string, IGameSection> | null;\n  slotSections?: IGameSection[];\n  sectionIds?: string[];\n  curatedTablesResponse?: IGameSection[];\n  tablesInSections?: string[];\n  tablesInFeatured?: string[];\n  featured?: string[];\n  rawFeatured?: { id: string; vendor: Vendor }[];\n  fetchedFeatured?: { id: string; vendor: Vendor }[];\n  featuredImagesExceptions: Record<string, string> | null;\n  favouriteList: string[];\n}\n\nconst initialState: IForYouState = {\n  sections: null,\n  rawSections: null,\n  featuredImagesExceptions: null,\n  favouriteList: [],\n};\n\nexport const forYouSlice = createSlice({\n  initialState,\n  name: 'forYou',\n  reducers: {\n    setSections: (state, action: PayloadAction<Record<string, IGameSection>>) => {\n      state.sections = action.payload;\n      state.sectionIds = Object.keys(action.payload);\n    },\n    setRawSections: (state, action: PayloadAction<Record<string, IGameSection>>) => {\n      state.rawSections = action.payload;\n    },\n    setTablesInSections: (state, action: PayloadAction<string[]>) => {\n      state.tablesInSections = action.payload;\n    },\n    setTablesInFeatured: (state, action: PayloadAction<string[]>) => {\n      state.tablesInFeatured = action.payload;\n    },\n    setFeatured: (state, action: PayloadAction<string[]>) => {\n      state.featured = action.payload;\n    },\n    setRawFeatured: (state, action: PayloadAction<{ id: string; vendor: Vendor }[]>) => {\n      state.rawFeatured = action.payload;\n    },\n    toggleFavourite: (state, action: PayloadAction<string>) => {\n      const tableId = action.payload;\n      const favouriteList = state.favouriteList;\n      const index = favouriteList.indexOf(tableId);\n\n      if (index === -1) {\n        favouriteList.unshift(tableId);\n        Logger.logEvent('favorite', { additional: 'added', tableId: tableId });\n\n        if (favouriteList.length > 10) {\n          Logger.logEvent('favorite', { additional: 'limitReached', tableId: favouriteList[favouriteList.length - 1] });\n          favouriteList.pop();\n        }\n      }\n\n      if (index !== -1) {\n        favouriteList.splice(index, 1);\n        Logger.logEvent('favorite', { additional: 'removed', tableId: tableId });\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchCuratedTablesAction.fulfilled, (state, action) => {\n      state.curatedTablesResponse = action.payload.sections;\n    });\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      const { lastPlayedGames, recentlyAdded, recommendedGames, featured } = action.payload;\n\n      const sections = [\n        {\n          id: 'lastPlayedGames',\n          title: { key: 'LAST_PLAYED_GAMES' },\n          tables: lastPlayedGames,\n        },\n        {\n          id: 'recommendedGames',\n          title: { key: 'RECOMMENDED_GAMES' },\n          tables: recommendedGames,\n        },\n        {\n          id: 'recentlyAdded',\n          title: { key: 'LOBBY_RECENTLY_ADDED' },\n          tables: recentlyAdded,\n        },\n      ];\n\n      state.fetchedFeatured = featured;\n      state.slotSections = sections;\n    });\n    builder.addCase(fetchCasinoConfigAction.fulfilled, (state, action) => {\n      const { heroBanners = [] } = action.payload;\n      state.fetchedFeatured = heroBanners.map((id) => ({ id, vendor: Vendor.LiveCasino }));\n    });\n    builder.addCase(fetchHeroBannersConfigAction.fulfilled, (state, action) => {\n      state.featuredImagesExceptions = action.payload;\n    });\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state, action) => {\n      const { lobbyFavourites } = action.payload;\n      state.favouriteList = lobbyFavourites;\n    });\n  },\n});\n\nexport const forYouActions = forYouSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { PlayerConfigBodyType } from '@pp/core/src/api/fetchers/playerConfigSync/types';\nimport { fetchPlayerConfigSyncAction } from '@pp/core/src/store/apiActions/fetchPlayerConfigSyncAction';\n\nimport type { LobbyRootState } from '../LobbyStore';\nimport { forYouActions } from '../slices/forYou/slice';\n\nexport const saveFavouriteMiddleware = createListenerMiddleware();\n\nconst generateBody = (favouriteList: string[]): PlayerConfigBodyType => {\n  if (favouriteList.length === 0) return { lobbyfavourites: '' };\n\n  const tables = favouriteList.join(',');\n\n  return { lobbyfavourites: tables };\n};\n\nsaveFavouriteMiddleware.startListening({\n  actionCreator: forYouActions.toggleFavourite,\n  effect: (_, { dispatch, getState }): void => {\n    const state = getState() as LobbyRootState;\n    const favouriteList = state.forYou.favouriteList || [];\n\n    const session = state.config.session;\n\n    if (!session) return;\n    const { JSESSIONID, metaServer: url } = session;\n    if (!(JSESSIONID && url)) return;\n\n    const timeStamp = Date.now();\n\n    const body = generateBody(favouriteList);\n\n    dispatch(\n      fetchPlayerConfigSyncAction({\n        JSESSIONID,\n        ck: timeStamp.toString(),\n        url: `${url}/api/ui/savePlayerConfigGeneric`,\n        body,\n      })\n    );\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport type { PlayerConfigBodyType } from '@pp/core/src/api/fetchers/playerConfigSync/types';\nimport { fetchPlayerConfigSyncAction } from '@pp/core/src/store/apiActions/fetchPlayerConfigSyncAction';\n\nimport type { LobbyRootState } from '../LobbyStore';\nimport { filtersActions } from '../slices/filters/slice';\n\nexport const saveFilterMiddleware = createListenerMiddleware<LobbyRootState>();\n\nconst generateBody = (selectedFilters: Record<string, Record<string, string[]>>): PlayerConfigBodyType | null => {\n  const clone = JSON.parse(JSON.stringify(selectedFilters));\n\n  Object.keys(clone).forEach((key) => {\n    Object.keys(clone[key]).forEach((subKey) => {\n      if (clone[key][subKey].length === 0) {\n        delete clone[key][subKey];\n      }\n    });\n    if (Object.keys(clone[key]).length === 0) {\n      delete clone[key];\n    }\n  });\n\n  return Object.keys(clone).length === 0 ? { lobby_filters: '' } : { lobby_filters: JSON.stringify(clone) };\n};\n\nsaveFilterMiddleware.startListening({\n  predicate: (action, currentState, previousState) => {\n    if (\n      action.type !== filtersActions.updateSelectedFilters.type &&\n      action.type !== filtersActions.resetFilterInTab.type\n    ) {\n      return false;\n    }\n    const currentFilters = currentState.filters.selected;\n    const previousFilters = previousState.filters.selected;\n\n    return currentFilters !== previousFilters;\n  },\n  effect: (_, { dispatch, getState }): void => {\n    const state = getState();\n    const selectedFilters = state.filters.selected;\n\n    const session = state.config.session;\n\n    if (!session) return;\n    const { JSESSIONID, metaServer: url } = session;\n    if (!(JSESSIONID && url)) return;\n\n    const timeStamp = Date.now();\n\n    const body = generateBody(selectedFilters);\n\n    if (!body) return;\n\n    dispatch(\n      fetchPlayerConfigSyncAction({\n        JSESSIONID,\n        ck: timeStamp.toString(),\n        url: `${url}/api/ui/savePlayerConfigGeneric`,\n        body,\n      })\n    );\n  },\n});\n","import type { LobbyRootState } from './LobbyStore';\nimport { Predicator } from './Predicator';\n\nexport const LobbyPredicator = new Predicator<LobbyRootState>();\n","import type { AnyListenerPredicate } from '@reduxjs/toolkit';\n\n/**\n * **Predicator** is a class designed to simplify creation of common predicate function for listener middleware.\n * */\nexport class Predicator<RootState> {\n  /**\n   * **all** is a method that creates a predicate function that checks if all the samples returned by the probe function are set.\n   * Depending on the mode, it also checks if the samples have changed.\n   * @param probe - A function that returns an array of samples to be checked.\n   * @param options - An object that contains the mode of comparison.\n   * @param options.mode - A string that defines the mode of comparison. It can be either 'change' or 'once'. Default is 'once'. If set to 'change' it predicate will return true if all samples are set and at least one of them has changed.\n   * @returns A predicate function that checks if all the samples are set and if they have changed.\n   * */\n  all(\n    probe: (state: RootState) => unknown[],\n    options: {\n      mode: 'change' | 'once';\n    } = {\n      mode: 'once',\n    }\n  ): AnyListenerPredicate<RootState> {\n    return (_action, currentState, previousState) => {\n      const currentSamples = probe(currentState);\n      const allGotSet = currentSamples.every((sample) => !!sample);\n      // First we check if all samples even are set\n      if (!allGotSet) return false;\n      const previousSamples = probe(previousState);\n      // Then we check if the samples have changed, based on comparison mode\n      if (options.mode === 'once') {\n        // If mode is \"once\", we check if any of the were not set in previous state.\n        // Because at this point we know that all are set in current state.\n        // And if all are not set in previous state, then we know that they have settled as a result of current state change.\n        return previousSamples.some((sample) => !sample);\n      } else {\n        // If mode is difference, we check if any of the samples have changed.\n        return currentSamples.some((sample, index) => sample !== previousSamples[index]);\n      }\n    };\n  }\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { type FetchParams, fetchSlotsData } from '../../api/fetchers/slots';\n\nexport const fetchSlotsAction = createAsyncThunk('tables/fetchSlots', (params: FetchParams) => fetchSlotsData(params));\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nexport interface FetchParams {\n  JSESSIONID: string;\n  baseUrl: string;\n}\n\nconst PATH = '/api/ui/assignedSlotsForLobby';\n\nexport const fetchSlotsData = ({ baseUrl, JSESSIONID }: FetchParams): Promise<null | IDataSlots> => {\n  const url = `${baseUrl}${PATH}`;\n\n  return Fetcher.fetch(url, {\n    params: {\n      JSESSIONID,\n      ck: new Date().getTime(),\n    },\n    format: 'text',\n  })\n    .then((response) => {\n      if (response === 'Not supported') {\n        throw new Error('Not supported');\n      }\n\n      const data = JSON.parse(response as string);\n\n      if (data.error !== 0) {\n        throw new Error(data.description);\n      }\n\n      return data.data;\n    })\n    .catch((reason) => {\n      Logger.logFailure(\n        'errors',\n        'fetch',\n        'slotsProcessing',\n        Date.now(),\n        1,\n        'message' in reason && reason.message ? reason.message : '',\n        false\n      );\n      throw reason;\n    });\n};\n\nexport interface IDataSlots {\n  vendorConfig?: IVendorConfig;\n  lastPlayed?: null;\n  vendorLobby?: IVendorLobby;\n}\n\nexport interface IVendorConfig {\n  gameIconsURL?: string;\n}\n\nexport interface IVendorLobby {\n  all: IAllSlotGames;\n  new: IAllSlotGames;\n  hot: IAllSlotGames;\n}\n\nexport interface IAllSlotGames {\n  games: IGameSlot[];\n}\n\nexport interface IGameSlot {\n  name: string;\n  symbol: string;\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { fetchCasinoConfigAction } from '@pp/core/src/store/apiActions/fetchCasinoConfigAction';\nimport { fetchPlayerConfigAction } from '@pp/core/src/store/apiActions/fetchPlayerConfigAction';\n\nimport { fetchBonusCampaignAction } from '../../apiActions/fetchBonusCampaignAction';\nimport { fetchPromotionAction } from '../../apiActions/fetchPromotionAction';\nimport {\n  fetchHeroBannersConfigAction,\n  fetchTileExceptionConfigAction,\n} from '../../apiActions/fetchRemoteConfigsAction';\nimport { fetchSlotsAction } from '../../apiActions/fetchSlotsAction';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\n\nexport interface IInitSlice {\n  tableInIt: boolean;\n  socketInIt: boolean;\n  filtersInIt: boolean;\n  userConfigInIt: boolean;\n  slotsInIt: boolean;\n  promoInIt: boolean;\n  casinoConfigInIt: boolean;\n  heroBannersConfigInit: boolean;\n  tileExceptionConfigInit: boolean;\n  bonusPromoInit: boolean;\n}\n\nexport const initSlice = createSlice({\n  name: 'lobbyInit',\n  initialState: (): IInitSlice => ({\n    tableInIt: false,\n    socketInIt: false,\n    filtersInIt: false,\n    userConfigInIt: false,\n    slotsInIt: false,\n    promoInIt: false,\n    casinoConfigInIt: false,\n    heroBannersConfigInit: false,\n    tileExceptionConfigInit: false,\n    bonusPromoInit: false,\n  }),\n\n  reducers: {\n    setTableInIt: (state, action) => {\n      state.tableInIt = action.payload;\n    },\n    setSocketInIt: (state, action) => {\n      state.socketInIt = action.payload;\n    },\n    setFiltersInIt: (state, action) => {\n      state.filtersInIt = action.payload;\n    },\n    setBonusPromoInIt: (state, action) => {\n      state.bonusPromoInit = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotsAction.fulfilled, (state) => {\n      state.slotsInIt = true;\n    });\n    builder.addCase(fetchSlotsAction.rejected, (state) => {\n      state.slotsInIt = true;\n    });\n    builder.addCase(fetchPlayerConfigAction.fulfilled, (state) => {\n      state.userConfigInIt = true;\n    });\n    builder.addCase(fetchPromotionAction.fulfilled, (state) => {\n      state.promoInIt = true;\n    });\n    builder.addCase(fetchPromotionAction.rejected, (state) => {\n      state.promoInIt = true;\n    });\n\n    builder.addCase(fetchBonusCampaignAction.fulfilled, (state) => {\n      state.bonusPromoInit = true;\n    });\n    builder.addCase(fetchBonusCampaignAction.rejected, (state) => {\n      state.bonusPromoInit = true;\n    });\n    builder.addCase(fetchCasinoConfigAction.fulfilled, (state) => {\n      state.casinoConfigInIt = true;\n    });\n    builder.addCase(fetchHeroBannersConfigAction.fulfilled, (state) => {\n      state.heroBannersConfigInit = true;\n    });\n    builder.addCase(fetchHeroBannersConfigAction.rejected, (state) => {\n      state.heroBannersConfigInit = true;\n    });\n    builder.addCase(fetchTileExceptionConfigAction.fulfilled, (state) => {\n      state.tileExceptionConfigInit = true;\n    });\n    builder.addCase(fetchTileExceptionConfigAction.rejected, (state) => {\n      state.tileExceptionConfigInit = true;\n    });\n    //SLOTS\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state) => {\n      state.tableInIt = true;\n    });\n  },\n});\n\nexport const initActions = initSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport type { PromoTableType } from '../../api/fetchers/promo';\nimport { Vendor } from '../../config/LobbyConfiguration';\nimport { GOOD_ROADS, LOBBY_FREE_SEATS, MIN_BET } from '../../constants/filters';\nimport { ID_BACCARAT, ID_BLACKJACK, ID_PROMOTIONS, ID_ROULETTE } from '../../constants/navigation';\nimport {\n  BJPromotionsFilterLabel,\n  PromotionFilterLabel,\n  PromotionTagDDW,\n  PromotionTagKrBaccarat,\n  PromotionTagOther,\n  BonusPromotionTag,\n} from '../../constants/promotions';\nimport { LobbyPredicator } from '../LobbyPredicator';\nimport type { LobbyRootState } from '../LobbyStore';\nimport { filtersActions } from '../slices/filters/slice';\nimport type { IListItemFilter, ISelectedFilter } from '../slices/filters/types';\nimport type { GameType } from '../slices/games/slice';\nimport { initActions } from '../slices/lobbyInit/slice';\nimport type { IPromoBJInfo, IPromotionsSlice } from '../slices/promotions/slice';\nimport type { IGameReference } from '../slices/tables/types';\n\nconst FILTERING = [ID_BACCARAT, ID_BLACKJACK, ID_ROULETTE];\n\nexport const getTag = (\n  categories: Record<string, IGameReference[]>,\n  gameList: Record<GameType['id'], GameType>\n): Record<string, string[]> =>\n  FILTERING.reduce(\n    (acc, tab: string) => {\n      if (categories[tab]) {\n        acc[tab] = Array.from(\n          new Set(\n            categories[tab].flatMap((game) => {\n              const table = gameList[game.id];\n              if (!table || table.vendor !== Vendor.LiveCasino || table.isMultitable) return [];\n              return table.tableCategoryIds ?? [];\n            })\n          )\n        );\n      }\n      return acc;\n    },\n    {} as Record<string, string[]>\n  );\n\nexport const getTableTypeFilter = (tags: Record<string, string[]>): IListItemFilter[] =>\n  Object.keys(tags).map((tab) => ({\n    label: 'TABLE_TYPE',\n    tags: tags[tab],\n    tab,\n  }));\n\nexport const getBasePromoFilter = (promoTables: PromoTableType, isAsia: boolean): IListItemFilter | null => {\n  const tags: string[] = [];\n  const translations: string[] = [];\n  if (!promoTables) return null;\n  if (promoTables.ddw?.length) {\n    tags.push(PromotionTagDDW);\n    translations.push(isAsia ? 'DAILY_WINS' : 'DROPS_WINS');\n  }\n  if (promoTables.krBacc?.length) {\n    tags.push(PromotionTagKrBaccarat);\n    translations.push('PROMO_DAILY_TOURNAMENTS');\n  }\n  if (promoTables.other?.length) {\n    tags.push(PromotionTagOther);\n    translations.push('OTHER_PROMOS');\n  }\n  if (promoTables.bonus?.length) {\n    tags.push(BonusPromotionTag);\n    translations.push(BonusPromotionTag);\n  }\n  if (tags.length === 0) return null;\n  return {\n    label: PromotionFilterLabel,\n    tags,\n    tab: ID_PROMOTIONS,\n    translations,\n  };\n};\n\nexport const getBJLeagueFilter = (\n  promoTables: PromoTableType,\n  promoBjInfo: Record<string, IPromoBJInfo> | null,\n  categories: Record<string, IGameReference[]>\n): IListItemFilter[] | null => {\n  if (promoBjInfo && Object.keys(promoBjInfo).length > 0) {\n    const BJLeagueTags: string[] = ['BBJT', 'SBJT', 'GBJT', 'PRBJT'].filter((tag) => {\n      const tagPromoTables = promoTables[tag];\n      if (!tagPromoTables) return false;\n      return tagPromoTables.length > 0 && categories[ID_BLACKJACK].some((game) => tagPromoTables.includes(game.id));\n    });\n\n    return [\n      {\n        label: BJPromotionsFilterLabel,\n        tags: BJLeagueTags,\n        tab: ID_PROMOTIONS,\n      },\n      {\n        label: BJPromotionsFilterLabel,\n        tags: BJLeagueTags,\n        tab: ID_BLACKJACK,\n      },\n    ];\n  }\n  return null;\n};\n\nexport const getPromoFilterInTabs = (\n  categories: Record<string, IGameReference[]>,\n  promotions: IPromotionsSlice\n): IListItemFilter[] | null => {\n  const tabs = Object.keys(categories).filter((tab) => {\n    if (tab === ID_PROMOTIONS) return false;\n    return (\n      categories?.[tab]?.some(\n        (game) => promotions.promoTables?.all?.includes(game.id) || promotions.promoTables?.bonus?.includes(game.id)\n      ) ?? []\n    );\n  });\n\n  if (tabs.length) {\n    return tabs.map((tab: string) => ({ label: 'PROMOTIONS', tags: ['PROMOTIONS'], tab }));\n  }\n  return null;\n};\n\nconst filterTabs = (\n  fTab: Record<string, string[]>,\n  tab: string,\n  filtersList: IListItemFilter[]\n): Record<string, Record<string, string[]>> => {\n  const userFilters: Record<string, Record<string, string[]>> = {};\n\n  Object.keys(fTab).forEach((fType: string) => {\n    const isPresetFilter = [GOOD_ROADS, LOBBY_FREE_SEATS, MIN_BET].includes(fType);\n    if (isPresetFilter) {\n      userFilters[tab] = { ...userFilters[tab], [fType]: fTab[fType] };\n    } else {\n      const filterItemTab = filtersList.find((item) => item.tab === tab && item.label === fType);\n      if (filterItemTab) {\n        const filteredTab = fTab[fType].filter((tag: string) => (filterItemTab.tags as string[]).includes(tag));\n        if (filteredTab.length) {\n          userFilters[tab] = { ...userFilters[tab], [fType]: filteredTab };\n        }\n      }\n    }\n  });\n\n  return userFilters;\n};\n\nconst removeEmptyTabs = (\n  userFilters: Record<string, Record<string, string[]>>\n): Record<string, Record<string, string[]>> => {\n  Object.keys(userFilters).forEach((tab) => {\n    if (Object.keys(userFilters[tab]).length === 0) {\n      delete userFilters[tab];\n    }\n  });\n\n  return userFilters;\n};\n\nexport const getUserFilters = (\n  savedFilters: Record<string, Record<string, string[]>>,\n  filtersList: IListItemFilter[]\n): Record<string, Record<string, string[]>> => {\n  let userFilters: Record<string, Record<string, string[]>> = {};\n\n  Object.keys(savedFilters).forEach((tab) => {\n    const fTab = savedFilters[tab];\n    if (fTab) {\n      userFilters = { ...userFilters, ...filterTabs(fTab, tab, filtersList) };\n    }\n  });\n\n  userFilters = removeEmptyTabs(userFilters);\n\n  return userFilters;\n};\n\n/**\n * set precedence of filters url provided filters vs saved filters\n * */\nexport const getPrefferedAppliedFilters = (\n  state: LobbyRootState,\n  filters: IListItemFilter[]\n): ISelectedFilter | null => {\n  const savedFilters = state.config.playerConfig?.lobbyFilters;\n  const { filters: { urlFilters: urlAppliedFilters } = {} } = state;\n  const filtersList: IListItemFilter[] = [...filters, state.filters.list] as IListItemFilter[];\n  let appliedFilters: Record<string, Record<string, string[]>> = {};\n  if (urlAppliedFilters) {\n    appliedFilters = getUserFilters(urlAppliedFilters, filtersList);\n  } else if (savedFilters) {\n    appliedFilters = getUserFilters(savedFilters, filtersList);\n  }\n  if (Object.keys(appliedFilters).length === 0) return null;\n  return appliedFilters;\n};\n\nexport const setFiltersMiddleware = createListenerMiddleware<LobbyRootState>();\n\nconst unsubscribeSetFiltersMiddleware = setFiltersMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.category.categories,\n    state.gameList.ids.length,\n    state.lobbyInit.casinoConfigInIt,\n    state.lobbyInit.promoInIt,\n    state.lobbyInit.userConfigInIt,\n    !state.lobbyInit.filtersInIt,\n    state.lobbyInit.bonusPromoInit,\n  ]),\n  effect: function setFiltersEffect(_, { dispatch, getState }) {\n    const state = getState();\n    const { lobbyInit, promotions } = state;\n    const gameList = state.gameList.entities;\n    const categories = state.category.categories;\n    const { promoInIt, userConfigInIt, casinoConfigInIt, filtersInIt, bonusPromoInit } = lobbyInit;\n    const { promoTables, promoBjInfo } = promotions;\n    if (\n      filtersInIt ||\n      !categories ||\n      !promoInIt ||\n      !userConfigInIt ||\n      !casinoConfigInIt ||\n      !gameList ||\n      !bonusPromoInit\n    )\n      return;\n\n    const tags = getTag(categories, gameList);\n    const filters: IListItemFilter[] = [];\n\n    const tableTypesFilter = getTableTypeFilter(tags);\n    filters.push(...tableTypesFilter);\n    if (promoTables.all || promoTables.bonus) {\n      const casinoRegion = state.config.casinoConfig?.casinoRegion?.toLowerCase();\n      const isAsia = casinoRegion === 'asia' || casinoRegion === 'manila';\n      const basePromoFilter = getBasePromoFilter(promoTables, isAsia);\n      if (basePromoFilter) {\n        filters.push(basePromoFilter);\n      }\n\n      const BJLeagueFilter = getBJLeagueFilter(promoTables, promoBjInfo, categories);\n      if (BJLeagueFilter) {\n        filters.push(...BJLeagueFilter);\n      }\n\n      const promoFilterInTabs = getPromoFilterInTabs(categories, promotions);\n      if (promoFilterInTabs) {\n        filters.push(...promoFilterInTabs);\n      }\n    }\n\n    const appliedFilters = getPrefferedAppliedFilters(state, filters);\n    dispatch(filtersActions.setFilterList(filters));\n    dispatch(filtersActions.setSelectedFilter(appliedFilters));\n    dispatch(initActions.setFiltersInIt(true));\n\n    unsubscribeSetFiltersMiddleware();\n  },\n});\n","/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n","import Fuse from 'fuse.js';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport type { GameType } from '../store/slices/games/slice';\n\nconst DEFAULT_SEARCH_KEY = 'translatedName';\nconst DEFAULT_THRESHOLD_VALUE = 0.4;\n\ninterface FilterListOptions<T> {\n  list: T[];\n  searchValue: string;\n}\n\ninterface ValidateStringOptions {\n  searchKey: string;\n  searchValue: string;\n}\n\ninterface IEngine<T> {\n  processQuery: (options: FilterListOptions<T>) => T[];\n}\n\n/**\n * DefaultEngine class implements a basic search engine.\n */\nexport class DefaultEngine<T> implements IEngine<T> {\n  private readonly searchKey: string;\n\n  constructor(searchKey: string = DEFAULT_SEARCH_KEY) {\n    this.searchKey = searchKey;\n  }\n\n  private validateString({ searchKey, searchValue }: ValidateStringOptions): boolean {\n    return searchKey.toLowerCase().includes(searchValue.toLowerCase());\n  }\n\n  public processQuery({ list, searchValue }: FilterListOptions<T>): T[] {\n    return list.filter((item) => {\n      return (\n        !!item?.[this.searchKey as keyof T] &&\n        this.validateString({ searchKey: item[this.searchKey as keyof T] as string, searchValue })\n      );\n    });\n  }\n}\n\nexport class FuseEngine<T> implements IEngine<T> {\n  private readonly fuse: Fuse<T>;\n\n  /**\n   * Creates an instance of FuseEngine.\n   * @param {number} [threshold=DEFAULT_THRESHOLD_VALUE] - The threshold value for Fuse.\n   * @param {string} [searchKey=DEFAULT_SEARCH_KEY] - The search key for Fuse.\n   */\n  constructor(searchKey: string = DEFAULT_SEARCH_KEY, threshold: number = DEFAULT_THRESHOLD_VALUE) {\n    this.fuse = new Fuse([], {\n      keys: [searchKey],\n      threshold: threshold,\n      ignoreLocation: true,\n      includeScore: true,\n    });\n  }\n\n  public processQuery({ list, searchValue }: FilterListOptions<T>): T[] {\n    this.fuse.setCollection(list);\n    return this.fuse.search(searchValue).map((res) => res.item);\n  }\n}\n\nexport class SearchProcessorRoot<T> {\n  private readonly engine: IEngine<T>;\n  private list: T[];\n  private cachedSearchValue: string = '';\n  private cachedSearchResult: T[] = [];\n\n  /**\n   * If no engine is provided, it defaults to using FuseEngine.\n   * @param {IEngine<T>} [engine] - The search engine to use.\n   */\n  constructor(engine?: IEngine<T>) {\n    this.engine = engine || new FuseEngine<T>();\n    this.list = [];\n  }\n\n  /**\n   * Normalize a string by removing diacritics.\n   * @param {string} str - The string to normalize.\n   * @returns {string} - The normalized string.\n   */\n  private normalizeString(str: string): string {\n    return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n  }\n\n  /**\n   * Set the list with a generic type.\n   * @param {T[]} list - The list to store in the class.\n   * @returns {this} - The instance of the SearchProcessorRoot.\n   */\n  public setList(list: T[]): this {\n    this.cachedSearchResult = [];\n    this.list = list;\n    return this;\n  }\n\n  /**\n   * Run a query on the list by comparing the specified key's value with the provided search value.\n   * If the search value is empty, it returns the original list.\n   * If the search value is the same as the previous search, it returns the cached result.\n   * @param {string} searchValue - The value to search for.\n   * @returns {T[]} - The list of items that match the query.\n   */\n  public runQuery(searchValue: string): T[] {\n    if (!searchValue || !this.list.length) return this.list;\n    if (this.cachedSearchValue === searchValue) return this.cachedSearchResult;\n\n    this.cachedSearchValue = searchValue;\n    try {\n      const options = {\n        list: this.list,\n        searchValue: this.normalizeString(searchValue),\n      };\n      const result = this.engine.processQuery(options);\n      this.cachedSearchResult = result;\n      return result;\n    } catch (error) {\n      Logger.logFailure('runQuery', {\n        place: 'SearchProcessorRoot',\n      });\n      return this.list;\n    }\n  }\n}\n\nexport const SearchProcessor = new SearchProcessorRoot<GameType>();\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport type { IDGACredentials } from '../../../controllers/DGA/types';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport { categoryActions } from '../category/slice';\n\nexport interface IDgaState {\n  longPendingTables?: string[] | null;\n  supportedTables?: string[];\n  currentTableList?: string[];\n  credentials?: IDGACredentials;\n  tablesPending: boolean;\n  disabled: boolean;\n  globalStats: {\n    playerCount: number | null;\n    [key: string]: unknown;\n  };\n}\n\nconst initialState: IDgaState = {\n  tablesPending: true,\n  disabled: false,\n  globalStats: {\n    playerCount: null,\n  },\n};\n\nexport const dgaSlice = createSlice({\n  initialState,\n  name: 'dga',\n  reducers: {\n    setPlayerCount: (state, action: PayloadAction<number>) => {\n      state.globalStats.playerCount = action.payload;\n    },\n    setSupportedTables: (state, action: PayloadAction<string[]>) => {\n      if (state.disabled) return;\n      state.supportedTables = action.payload;\n    },\n    setCurrentTableList: (state, action: PayloadAction<string[]>) => {\n      state.currentTableList = action.payload;\n    },\n    setTablesPending: (state, action: PayloadAction<boolean>) => {\n      state.tablesPending = !state.disabled ? action.payload : false;\n    },\n    setCredentials: (state, action: PayloadAction<IDgaState['credentials']>) => {\n      state.credentials = action.payload;\n    },\n    setTablesLongPending: (state, action: PayloadAction<string[] | null>) => {\n      state.longPendingTables = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      const { liveCasinoVendorConfig } = action.payload;\n      if (!liveCasinoVendorConfig || !liveCasinoVendorConfig.dgaWS) {\n        state.supportedTables = [];\n        state.tablesPending = false;\n        state.disabled = true;\n      }\n    });\n    builder.addCase(categoryActions.setCurrentCategory, (state) => {\n      if (!state.disabled) {\n        state.tablesPending = true;\n      }\n      state.longPendingTables = null;\n    });\n  },\n});\n\nexport const dgaActions = dgaSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { SearchProcessor } from '../../../utils/SearchProcessor';\nimport { LobbyPredicator } from '../../LobbyPredicator';\nimport { type LobbyRootState } from '../../LobbyStore';\nimport { dgaActions } from '../dga/slice';\nimport type { GameType } from '../games/slice';\n\nimport { categoryActions } from './slice';\n\nexport const categoryMiddleware = createListenerMiddleware<LobbyRootState>();\n\ncategoryMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [state.category.currentCategory, state.gameList.supportedGames], {\n    mode: 'change',\n  }),\n  effect: (_action, { dispatch, getState, getOriginalState }) => {\n    const state = getState();\n    const currentCategory = state.category.currentCategory;\n    const previousCategory = getOriginalState().category.currentCategory;\n    const gamesForCategory = currentCategory ? state.category?.categories?.[currentCategory] : [];\n    const supportedGames = state.gameList.supportedGames;\n\n    if (!gamesForCategory || !supportedGames) {\n      if (currentCategory !== previousCategory) {\n        dispatch(categoryActions.setCategoryGames([]));\n        dispatch(dgaActions.setCurrentTableList([]));\n        SearchProcessor.setList([]);\n      }\n      return;\n    }\n    const gameList = state.gameList.entities;\n\n    const categoryListData = gamesForCategory.reduce((acc, { id }) => {\n      const game = gameList[id];\n      if (!game) return acc;\n      acc.push(game);\n      return acc;\n    }, [] as GameType[]);\n\n    SearchProcessor.setList(categoryListData);\n    dispatch(categoryActions.setCategoryGames(categoryListData));\n\n    const gamesToSubscribe: string[] = [];\n    gamesForCategory.forEach((game) => {\n      if (game.vendor === Vendor.LiveCasino && supportedGames[game.id]) {\n        gamesToSubscribe.push(game.id);\n      }\n    });\n\n    dispatch(dgaActions.setCurrentTableList(gamesToSubscribe));\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { LobbyConfiguration, Vendor } from '../../../config/LobbyConfiguration';\nimport type { LobbyRootState } from '../../LobbyStore';\n\nimport { dgaActions } from './slice';\n\nexport const dgaMiddleware = createListenerMiddleware<LobbyRootState>();\n\ndgaMiddleware.startListening({\n  predicate: (_action, currentState, previousState) => {\n    const liveCasinoCasinoIdChanged =\n      currentState.config.casinoConfig?.casinoId !== previousState.config.casinoConfig?.casinoId;\n    const liveCasinoDgaWSChanged = currentState.config.env?.dgaWS !== previousState.config.env?.dgaWS;\n    const liveCasinoCurrencyChanged = currentState.gameState.currency !== previousState.gameState.currency;\n\n    const vendorConfigLiveCasinoChanged =\n      currentState.vendorConfig[Vendor.LiveCasino] !== previousState.vendorConfig[Vendor.LiveCasino];\n\n    return (\n      liveCasinoCasinoIdChanged || liveCasinoDgaWSChanged || liveCasinoCurrencyChanged || vendorConfigLiveCasinoChanged\n    );\n  },\n  effect: (_action, { dispatch, getState }) => {\n    switch (LobbyConfiguration.vendor) {\n      case Vendor.LiveCasino: {\n        const casinoId = getState().config.casinoConfig?.casinoId;\n        const url = getState().config.env?.dgaWS;\n        const currency = getState().gameState.currency;\n        if (casinoId && url && currency) {\n          dispatch(dgaActions.setCredentials({ casinoId, currency, url }));\n        }\n        break;\n      }\n      case Vendor.Slots: {\n        const casinoId = getState().vendorConfig[Vendor.LiveCasino]?.casinoId;\n        const url = getState().vendorConfig[Vendor.LiveCasino]?.dgaWS;\n        const currency = getState().gameState.currency;\n        if (casinoId && url && currency) {\n          dispatch(dgaActions.setCredentials({ casinoId, currency, url }));\n        }\n        break;\n      }\n    }\n  },\n});\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nimport type { IGameSlot, IVendorLobby } from '../../../api/fetchers/slots';\nimport { LobbyConfiguration, Vendor } from '../../../config/LobbyConfiguration';\nimport { fetchSlotsAction } from '../../apiActions/fetchSlotsAction';\nimport { fetchTablesAction } from '../../apiActions/fetchTablesAction';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport type { IMultiTable, ISlotGame, ITable } from '../tables/types';\n\nexport type GameType = ITable | ISlotGame | IMultiTable;\n\nexport const gamesAdapter = createEntityAdapter<GameType, GameType['id']>({\n  selectId: (game) => game.id,\n});\n\nexport type ISupportedGames = Record<string, boolean>;\n\nexport interface IGameListState {\n  fetchedTables: Record<string, ITable> | null;\n  fetchedSlotGames: {\n    [Vendor.Slots]: Record<string, ISlotGame>;\n    [Vendor.LiveCasino]?: Record<string, ITable>;\n  } | null;\n  supportedGames: ISupportedGames | null;\n  fetchedMultiTables: Array<IMultiTable> | null;\n}\n\nconst initialState = gamesAdapter.getInitialState<IGameListState>({\n  fetchedTables: null,\n  fetchedSlotGames: null,\n  supportedGames: null,\n  fetchedMultiTables: LobbyConfiguration.isSlots ? [] : null,\n});\n\nexport const gameListSlice = createSlice({\n  name: 'gameList',\n  initialState,\n  reducers: {\n    upsertGames: gamesAdapter.upsertMany,\n    upsertGame: gamesAdapter.upsertOne,\n    setSupportedGames: (state, action: PayloadAction<IGameListState['supportedGames']>) => {\n      state.supportedGames = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchTablesAction.fulfilled, (state, action) => {\n      const { tables, multiTables } = action.payload;\n      state.fetchedTables = tables;\n      state.fetchedMultiTables = LobbyConfiguration.isInLauncherMode ? [] : multiTables;\n    });\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      state.fetchedSlotGames = {\n        [Vendor.Slots]: action.payload.slotGames.reduce(\n          (acc, game) => {\n            acc[game.id] = game;\n            return acc;\n          },\n          {} as Record<string, ISlotGame>\n        ),\n      };\n      state.fetchedTables =\n        action.payload.liveCasinoGames?.reduce(\n          (acc, game) => {\n            acc[game.id] = game;\n            return acc;\n          },\n          {} as Record<string, ITable>\n        ) || {};\n    });\n    builder.addCase(fetchSlotsAction.fulfilled, (state, action) => {\n      if (!action.payload) return;\n      const { vendorLobby, vendorConfig } = action.payload;\n      const imageBaseUrl = vendorConfig?.gameIconsURL;\n      if (!vendorLobby) return;\n      const slotGames: Record<string, IGameSlot> = {};\n      const tabs = Object.keys(vendorLobby) as unknown as (keyof IVendorLobby)[];\n      tabs.forEach((tab) => {\n        if (vendorLobby[tab]?.games) {\n          vendorLobby[tab].games.forEach((game) => {\n            if (slotGames[game.symbol]) return;\n            slotGames[game.symbol] = game;\n          });\n        }\n      });\n      const slotGamesList = Object.values(slotGames);\n      if (slotGamesList.length > 0) {\n        state.fetchedSlotGames = {\n          [Vendor.Slots]: slotGamesList.reduce(\n            (acc, game) => {\n              acc[game.symbol] = {\n                id: game.symbol,\n                title: game.name,\n                translatedName: game.name,\n                image: URLUtilities.combine(imageBaseUrl ?? '', `/${game.symbol}/${game.symbol}_narrow.jpg`).toString(),\n                vendor: Vendor.Slots,\n                isDDW: false,\n                isMultitable: false,\n                isNew: false,\n                tags: [],\n              };\n              return acc;\n            },\n            {} as Record<string, ISlotGame>\n          ),\n        };\n      }\n    });\n  },\n});\n\nexport const gameListActions = gameListSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport * as constants from '../../../constants/navigation';\nimport type { LobbyRootState } from '../../LobbyStore';\nimport { gameListActions, type GameType } from '../games/slice';\n\nimport { filtersActions } from './slice';\n\nexport const filterMiddleware = createListenerMiddleware<LobbyRootState>();\n\nfilterMiddleware.startListening({\n  actionCreator: gameListActions.upsertGames,\n  effect: (action, { dispatch, getState }) => {\n    const currentCategory = getState().category.currentCategory;\n    if (!currentCategory || currentCategory !== constants.ID_BACCARAT) return;\n    const games: GameType[] = Array.isArray(action.payload) ? action.payload : Object.entries(action.payload);\n\n    const goodRoadsPayload: { id: string; hasGoodRoads: boolean }[] = games.map((game) => {\n      return {\n        id: game.id,\n        hasGoodRoads: !!('hasGoodRoads' in game && game.hasGoodRoads),\n      };\n    });\n\n    dispatch(filtersActions.updateGoodRoads(goodRoadsPayload));\n  },\n});\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { LobbyConfiguration, Vendor } from '../../../config/LobbyConfiguration';\nimport { LobbyPredicator } from '../../LobbyPredicator';\nimport { type LobbyRootState } from '../../LobbyStore';\nimport type { GameType, ISupportedGames } from '../games/slice';\nimport { gameListSorter } from '../games/utils';\n\nimport { forYouActions } from './slice';\nimport type { IGameSection } from './types';\n\nexport const forYouMiddleware = createListenerMiddleware<LobbyRootState>();\n\n/* Listen for Live Casino sections */\nconst unsubscribeLiveCasinoSectionAssembler = forYouMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.settings.language.current,\n    state.forYou.curatedTablesResponse,\n    Object.keys(state.gameList.entities).length,\n    state.gameList.supportedGames,\n  ]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const language = state.settings.language.current;\n    const curatedTablesResponse = state.forYou.curatedTablesResponse;\n    const gameList = state.gameList.entities;\n    const supportedGames = state.gameList.supportedGames;\n\n    if (!language || !curatedTablesResponse || !gameList || !supportedGames) return; // never happens with this predicate\n\n    const { tablesToSubscribeTo, sortedSections } = assembleSections(\n      curatedTablesResponse,\n      gameList,\n      supportedGames,\n      language\n    );\n\n    dispatch(forYouActions.setRawSections(sortedSections));\n    dispatch(forYouActions.setTablesInSections(tablesToSubscribeTo));\n\n    unsubscribeLiveCasinoSectionAssembler();\n  },\n});\n\n/* Listen for Slot sections */\nconst unsubscribeSlotSectionAssembler = forYouMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.settings.language.current,\n    state.forYou.slotSections,\n    Object.keys(state.gameList.entities).length,\n    state.gameList.supportedGames,\n  ]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const language = state.settings.language.current;\n    const slotSections = state.forYou.slotSections;\n    const gameList = state.gameList.entities;\n    const supportedGames = state.gameList.supportedGames;\n\n    if (!language || !slotSections || !gameList || !supportedGames) return; // never happens with this predicate\n\n    const { tablesToSubscribeTo, sortedSections } = assembleSections(slotSections, gameList, supportedGames, language);\n\n    dispatch(forYouActions.setRawSections(sortedSections));\n    dispatch(forYouActions.setTablesInSections(tablesToSubscribeTo));\n\n    unsubscribeSlotSectionAssembler();\n  },\n});\n\n/* Listen for raw sections and sort them after tables are no longer pending from dga */\nforYouMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.forYou.rawSections,\n    Object.keys(state.gameList.entities).length,\n    !state.dga.tablesPending,\n  ]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const rawSections = state.forYou.rawSections;\n    const tablesPending = state.dga.tablesPending;\n    const language = state.settings.language.current;\n    const gameList = state.gameList.entities;\n    const supportedGames = state.gameList.supportedGames;\n\n    if (!rawSections || tablesPending || !language || !supportedGames) return;\n\n    const rawSectionList = Object.values(rawSections);\n\n    const { sortedSections } = assembleSections(rawSectionList, gameList, supportedGames, language);\n\n    dispatch(forYouActions.setSections(sortedSections));\n  },\n});\n\nconst assembleSections = (\n  sections: IGameSection[],\n  gameList: Record<GameType['id'], GameType>,\n  supportedGames: ISupportedGames,\n  language: string\n): {\n  sortedSections: Record<string, IGameSection>;\n  tablesToSubscribeTo: string[];\n} => {\n  const tablesToSubscribeTo: string[] = [];\n\n  const sortedSections: Record<string, IGameSection> = {};\n\n  sections.forEach((section) => {\n    // get game record for current section, and filter out games that are not in gameList\n    const sectionGameList: (GameType | string)[] = [];\n    section.tables.forEach((table) => {\n      const game = gameList[table];\n      if (game) {\n        sectionGameList.push(game);\n        if (supportedGames[game.id]) {\n          tablesToSubscribeTo.push(game.id);\n        }\n      } else if (supportedGames[table]) {\n        tablesToSubscribeTo.push(table);\n        sectionGameList.push(table);\n      }\n    });\n\n    // sort sectionGameList using sortGameList function\n    let sortedSectionGameList: (string | GameType)[] = sectionGameList;\n    if (section.id !== 'lastPlayedGames') {\n      sortedSectionGameList = sectionGameList.slice().sort(gameListSorter(language));\n    }\n\n    // dispatch action to update section with sortedSectionGameList\n    sortedSections[section.id] = {\n      ...section,\n      tables: sortedSectionGameList.map((game) => (typeof game === 'string' ? game : game.id)),\n    };\n  });\n\n  return { sortedSections, tablesToSubscribeTo };\n};\n\n/* Process fetched featured games */\nconst unsubscribeSlotFeaturedInitializer = forYouMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [state.forYou.fetchedFeatured, state.gameList.supportedGames]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const fetchedFeatured = state.forYou.fetchedFeatured;\n    const supportedGames = state.gameList.supportedGames;\n\n    if (!fetchedFeatured || !supportedGames) return;\n\n    const featuredTables: string[] = [];\n\n    const featuredGames = fetchedFeatured.filter((game) => {\n      if (game.vendor === Vendor.Slots) {\n        return true;\n      }\n      const gameFromList = supportedGames[game.id];\n      if (!gameFromList) return false;\n      if (game.vendor === Vendor.LiveCasino) {\n        featuredTables.push(game.id);\n      }\n      return true;\n    });\n\n    dispatch(forYouActions.setTablesInFeatured(featuredTables));\n    dispatch(forYouActions.setRawFeatured(featuredGames));\n\n    unsubscribeSlotFeaturedInitializer();\n  },\n});\n\n/* Filter out inactive tables in featured */\nforYouMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.forYou.rawFeatured,\n    Object.keys(state.gameList.entities).length,\n    !state.dga.tablesPending,\n  ]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const rawFeatured = state.forYou.rawFeatured;\n    const gameList = state.gameList.entities;\n    const tablesPending = state.dga.tablesPending;\n\n    if (!rawFeatured || !gameList || tablesPending) return;\n\n    const featured = rawFeatured\n      .filter((game) => {\n        const gameFromList = gameList[game.id];\n        if (!gameFromList) return false;\n        if (gameFromList.vendor === Vendor.Slots) {\n          return true;\n        } else {\n          const imageKey = gameFromList.id;\n          if (!imageKey || ('id' in gameFromList.dealer && gameFromList.dealer.id === 'nodealer')) {\n            return false;\n          }\n\n          return gameFromList.vendor === Vendor.LiveCasino ? gameFromList.isActive : true;\n        }\n      })\n      .slice(0, LobbyConfiguration.isLiveCasino ? 3 : 5)\n      .map((game) => game.id);\n\n    Logger.logEvent('heroBanners', { additional: `${featured.length}/${rawFeatured.length}` });\n    dispatch(forYouActions.setFeatured(featured));\n  },\n});\n","import { languageCode } from '@pp/core/src/components/languageFlag/LanguageFlags';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { isNotFullTable } from '../../../utils/filtersFunc';\nimport type { ITable } from '../tables/types';\n\nimport type { GameType } from './slice';\n\ntype GameOrId = GameType | string;\n\nexport const gameListSorter = (langauge: string): ((gameA: GameOrId, gameB: GameOrId) => number) => {\n  return (gameA: GameOrId, gameB: GameOrId): number => {\n    if (!gameA || !gameB) return 0;\n    if (typeof gameA === 'string' || typeof gameB === 'string') return 0;\n\n    /* If game is inactive - it should be sorted back */\n    const isOpenA = 'isActive' in gameA ? gameA.isActive : true;\n    const isOpenB = 'isActive' in gameB ? gameB.isActive : true;\n    if (isOpenA && !isOpenB) return -1;\n    if (!isOpenA && isOpenB) return 1;\n\n    /* If game has time of opening - it should be sorted back */\n    const closedToTimeA = 'openTime' in gameA ? gameA.openTime : true;\n    const closedToTimeB = 'openTime' in gameB ? gameB.openTime : true;\n    if (closedToTimeA && !closedToTimeB) return -1;\n    if (!closedToTimeA && closedToTimeB) return 1;\n\n    /* If either game is a slot game - leave order as is*/\n    if (gameA.vendor === Vendor.Slots || gameB.vendor === Vendor.Slots) return 0;\n\n    const hasFlagA =\n      gameA.countryFlag && gameA.countryFlag in languageCode\n        ? languageCode[gameA.countryFlag] === langauge.toUpperCase()\n        : false;\n    const isBlackjackFullTableA = !isNotFullTable(gameA as ITable);\n    const priveOccupiedA = Boolean(gameA.isPrive && gameA.currentUserId);\n\n    const hasFlagB =\n      gameB.countryFlag && gameB.countryFlag in languageCode\n        ? languageCode[gameB.countryFlag] === langauge.toUpperCase()\n        : false;\n    const isBlackjackFullTableB = !isNotFullTable(gameB as ITable);\n    const priveOccupiedB = Boolean(gameB.isPrive && gameB.currentUserId);\n\n    if (hasFlagA && !hasFlagB) return -1;\n    if (!hasFlagA && hasFlagB) return 1;\n\n    if (isBlackjackFullTableA && !isBlackjackFullTableB) return -1;\n    if (!isBlackjackFullTableA && isBlackjackFullTableB) return 1;\n\n    if (priveOccupiedA && !priveOccupiedB) return -1;\n    if (!priveOccupiedA && priveOccupiedB) return 1;\n\n    return 0;\n  };\n};\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { LobbyConfiguration, Vendor } from '../../../config/LobbyConfiguration';\nimport { LobbyPredicator } from '../../LobbyPredicator';\nimport type { LobbyRootState } from '../../LobbyStore';\nimport type { IMultiTable, ISlotGame, ITable } from '../tables/types';\n\nimport type { ISupportedGames } from './slice';\nimport { gameListActions } from './slice';\n\nexport const gameListMiddleware = createListenerMiddleware<LobbyRootState>();\n\nconst unsubscribeTablesListener = gameListMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [\n    state.gameList.fetchedTables,\n    state.gameList.fetchedMultiTables,\n    state.dga.supportedTables,\n    state.lobby.translations,\n  ]),\n  effect: function tableReadyEffect(_action, { dispatch, getState }) {\n    const state = getState();\n    const fetchedGames = state.gameList.fetchedTables;\n    const fetchedMultiTablesGames = state.gameList.fetchedMultiTables;\n    const gamesSupportedByDGA = state.dga.supportedTables;\n    const translations = state.lobby.translations;\n\n    if (!fetchedGames || !gamesSupportedByDGA || !translations) {\n      return;\n    }\n\n    // intersection of games supported by DGA and fetched games\n    const games: (ITable | IMultiTable)[] = [];\n    const supportedGames: ISupportedGames = {};\n    let tablesWithNoTranslation: string = '';\n    gamesSupportedByDGA.forEach((id) => {\n      const table = fetchedGames[id];\n      if (table) {\n        const tableTitle = table.title;\n        let translatedName = tableTitle ? translations[tableTitle.key] : '';\n\n        if (!translatedName) {\n          if (tableTitle) {\n            tablesWithNoTranslation += `\\n${table.id} - ${tableTitle.key}`;\n            translatedName = tableTitle.key;\n          }\n        }\n        supportedGames[id] = true;\n        games.push({ ...table, translatedName });\n      }\n    });\n\n    if (fetchedMultiTablesGames) {\n      const mGames = fetchedMultiTablesGames.map((mtable) => {\n        return { ...mtable, translatedName: translations?.[mtable.title.key] || mtable.title.key };\n      });\n      games.push(...mGames);\n    }\n\n    if (tablesWithNoTranslation) {\n      console.warn('Tables with no translation:', tablesWithNoTranslation);\n    }\n\n    dispatch(gameListActions.setSupportedGames(supportedGames));\n    dispatch(gameListActions.upsertGames(games));\n\n    unsubscribeTablesListener();\n  },\n});\n\nconst LANGUAGES_TO_TRANSLATE = new Set(['zh']);\n\nconst unsubscribeSlotGameListener = gameListMiddleware.startListening({\n  predicate: LobbyPredicator.all(\n    (state) => [\n      state.gameList.fetchedSlotGames,\n      state.lobby.translations,\n      state.settings.language.current,\n      LobbyConfiguration.isSlots || state.gameList.ids.length, // if we are in LC mode, wait for LC games to be set first\n    ],\n    {\n      mode: 'change',\n    }\n  ),\n  effect: function slotsReadyEffect(_action, { dispatch, getState }) {\n    const state = getState();\n    const fetchedSlotGames = state.gameList.fetchedSlotGames?.[Vendor.Slots];\n    if (!fetchedSlotGames) {\n      return;\n    }\n    const games: ISlotGame[] = [];\n    const translations = state.lobby.translations;\n    const language = state.settings.language.current;\n\n    if (!translations || !LANGUAGES_TO_TRANSLATE.has(language)) {\n      dispatch(gameListActions.upsertGames(Object.values(fetchedSlotGames)));\n    } else {\n      for (const id in fetchedSlotGames) {\n        const game = fetchedSlotGames[id];\n\n        games.push({ ...game, translatedName: translations?.[game.id] ?? game.title });\n      }\n      // intersection of games supported by DGA and fetched games\n      dispatch(gameListActions.upsertGames(games));\n    }\n\n    unsubscribeSlotGameListener();\n  },\n});\n","import { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport * as constants from '../../constants/navigation';\n\nexport interface ILobbyCategory {\n  id: string;\n  slug: string;\n  label: string;\n}\n\nexport const dedicatedCategories: ILobbyCategory[] = [\n  {\n    id: constants.ID_M88,\n    slug: constants.SLUG_M88,\n    label: 'M88_PICKS',\n  },\n  {\n    id: constants.ID_CASINO888,\n    slug: constants.SLUG_CASINO888,\n    label: 'CASINO_888',\n  },\n  {\n    id: constants.ID_ROYAL,\n    slug: constants.SLUG_ROYAL,\n    label: 'ROYAL_CASINO',\n  },\n  {\n    id: constants.ID_INFINI88,\n    slug: constants.SLUG_INFINI88,\n    label: 'INFINI88_ARENA',\n  },\n  {\n    id: constants.ID_SUPERBET,\n    slug: constants.SLUG_SUPERBET,\n    label: 'SUPERBET_LOBBY',\n  },\n  {\n    id: constants.ID_ME88,\n    slug: constants.SLUG_ME88,\n    label: 'LOBBY_ME88_LOUNGE',\n  },\n  {\n    id: constants.ID_SUPERSWAN,\n    slug: constants.SLUG_SUPERSWAN,\n    label: 'BK8_LOUNGE',\n  },\n  {\n    id: constants.ID_WIN88,\n    slug: constants.SLUG_WIN88,\n    label: 'NEXUS_LOUNGE',\n  },\n  {\n    id: constants.ID_STAKE,\n    slug: constants.SLUG_STAKE,\n    label: 'STAKE_LOUNGE',\n  },\n  {\n    id: constants.ID_UNIBET,\n    slug: constants.SLUG_UNIBET,\n    label: 'UNIBET_STUDIO',\n  },\n  {\n    id: constants.ID_ROOBET,\n    slug: constants.SLUG_ROOBET,\n    label: 'ROOBET_LOBBY',\n  },\n  {\n    id: constants.ID_KGONG,\n    slug: constants.SLUG_KGONG,\n    label: 'KGON_LOBBY',\n  },\n  {\n    id: constants.ID_BETS10,\n    slug: constants.SLUG_BETS10,\n    label: 'BETS10',\n  },\n  {\n    id: constants.ID_BETSAFE,\n    slug: constants.SLUG_BETSAFE,\n    label: 'BETSAFE',\n  },\n  {\n    id: constants.ID_CASINO_EURO,\n    slug: constants.SLUG_CASINO_EURO,\n    label: 'CASINO_EURO',\n  },\n  {\n    id: constants.ID_CASINOMAXI,\n    slug: constants.SLUG_CASINOMAXI,\n    label: 'CASINO_MAXI',\n  },\n  {\n    id: constants.ID_METROPOL,\n    slug: constants.SLUG_METROPOL,\n    label: 'CASINO_METROPOL',\n  },\n  {\n    id: constants.ID_EURO_CASINO,\n    slug: constants.SLUG_EURO_CASINO,\n    label: 'EURO_CASINO',\n  },\n  {\n    id: constants.ID_MOBILBAHIS,\n    slug: constants.SLUG_MOBILBAHIS,\n    label: 'MOBILBAHIS',\n  },\n  {\n    id: constants.ID_NORDICBET,\n    slug: constants.SLUG_NORDICBET,\n    label: 'NORDICBET',\n  },\n  {\n    id: constants.ID_STARCASINO,\n    slug: constants.SLUG_STARCASINO,\n    label: 'STARCASINO',\n  },\n  {\n    id: constants.ID_GUTZ,\n    slug: constants.SLUG_GUTZ,\n    label: 'GUTZ',\n  },\n  {\n    id: constants.ID_RIZK,\n    slug: constants.SLUG_RIZK,\n    label: 'RIZK',\n  },\n  {\n    id: constants.ID_BETSSON,\n    slug: constants.SLUG_BETSSON,\n    label: 'BETSSON',\n  },\n  {\n    id: constants.ID_GOLDLOUNGE,\n    slug: constants.SLUG_GOLDLOUNGE,\n    label: 'GOLD_LOUNGE',\n  },\n  {\n    id: constants.ID_BET_UK,\n    slug: constants.SLUG_BET_UK,\n    label: 'LOBBY_CATEGORY_EXCLUSIVE',\n  },\n  {\n    id: constants.ID_EXPEKT,\n    slug: constants.SLUG_EXPEKT,\n    label: 'LOBBY_CATEGORY_EXCLUSIVE',\n  },\n  {\n    id: constants.ID_BET_MGM,\n    slug: constants.SLUG_BET_MGM,\n    label: 'LOBBY_CATEGORY_EXCLUSIVE',\n  },\n  {\n    id: constants.ID_LEOVEGAS,\n    slug: constants.SLUG_LEOVEGAS,\n    label: 'LOBBY_CATEGORY_EXCLUSIVE',\n  },\n  {\n    id: constants.ID_WIN2DAY,\n    slug: constants.SLUG_WIN2DAY,\n    label: 'EXCLUSIVES',\n  },\n  {\n    id: constants.ID_FUN88,\n    slug: constants.SLUG_FUN88,\n    label: 'FUN88_LOUNGE',\n  },\n  {\n    id: constants.ID_711,\n    slug: constants.SLUG_711,\n    label: '711',\n  },\n  {\n    id: constants.ID_SBO,\n    slug: constants.SLUG_SBO,\n    label: 'SBO_LOUNGE',\n  },\n  {\n    id: constants.ID_BETVICTOR,\n    slug: constants.SLUG_BETVICTOR,\n    label: 'BETVICTOR',\n  },\n  {\n    id: constants.ID_TUMBET,\n    slug: constants.SLUG_TUMBET,\n    label: 'TUMBET_LOBBY',\n  },\n  {\n    id: constants.ID_JACKBIT,\n    slug: constants.SLUG_JACKBIT,\n    label: 'JACKBIT_LOBBY',\n  },\n  {\n    id: constants.ID_GOLDENBET,\n    slug: constants.SLUG_GOLDENBET,\n    label: 'GOLDENBET_LOBBY',\n  },\n  {\n    id: constants.ID_BETNANO,\n    slug: constants.SLUG_BETNANO,\n    label: 'BETNANO_LOBBY',\n  },\n  {\n    id: constants.ID_1XBET,\n    slug: constants.SLUG_1XBET,\n    label: '1XBET_LOBBY',\n  },\n  {\n    id: constants.ID_MCLUB,\n    slug: constants.SLUG_MCLUB,\n    label: 'M_CLUB_LOBBY',\n  },\n];\n\nexport const slotsCategory: ILobbyCategory = {\n  id: constants.ID_SLOTS,\n  slug: constants.SLUG_SLOTS,\n  label: 'SLOTS',\n};\n\nexport const liveCasinoCategories: ILobbyCategory[] = [\n  ...dedicatedCategories,\n  {\n    id: constants.ID_FOR_YOU,\n    slug: constants.SLUG_FOR_YOU,\n    label: 'FOR_YOU',\n  },\n  {\n    id: constants.ID_ROULETTE,\n    slug: constants.SLUG_ROULETTE,\n    label: 'ROULETTE',\n  },\n  {\n    id: constants.ID_BLACKJACK,\n    slug: constants.SLUG_BLACKJACK,\n    label: 'BLACKJACK',\n  },\n  {\n    id: constants.ID_SHOWGAMES,\n    slug: constants.SLUG_SHOWGAMES,\n    label: 'SHOWGAMES',\n  },\n  {\n    id: constants.ID_BACCARAT,\n    slug: constants.SLUG_BACCARAT,\n    label: 'BACCARAT',\n  },\n  {\n    id: constants.ID_POWERBALL,\n    slug: constants.SLUG_POWERBALL,\n    label: 'POWERBALL',\n  },\n  {\n    id: constants.ID_ASIANGAMES,\n    slug: constants.SLUG_ASIANGAMES,\n    label: 'ASIANGAMES',\n  },\n  {\n    id: constants.ID_SICBO,\n    slug: constants.SLUG_SICBO,\n    label: 'SICBO',\n  },\n  {\n    id: constants.ID_DRAGONTIGER,\n    slug: constants.SLUG_DRAGONTIGER,\n    label: 'DRAGON_TIGER',\n  },\n  {\n    id: constants.ID_SICBODT,\n    slug: constants.SLUG_SICBODT,\n    label: 'SICBODT',\n  },\n  {\n    id: constants.ID_ANDARBAHAR,\n    slug: constants.SLUG_ANDARBAHAR,\n    label: 'ANDAR_BAHAR',\n  },\n  {\n    id: constants.ID_PROMOTIONS,\n    slug: constants.SLUG_PROMOTIONS,\n    label: 'PROMOTIONS',\n  },\n  slotsCategory,\n];\n\nexport const categories = ((): ILobbyCategory[] => {\n  if (LobbyConfiguration.vendor === Vendor.LiveCasino) {\n    return liveCasinoCategories;\n  }\n  if (LobbyConfiguration.vendor === Vendor.Slots) {\n    return [\n      {\n        id: constants.ID_FOR_YOU,\n        slug: constants.SLUG_FOR_YOU,\n        label: 'FOR_YOU',\n      },\n      {\n        id: constants.ID_ALL_SLOTS,\n        slug: constants.SLUG_ALL_SLOTS,\n        label: 'ALL_SLOTS',\n      },\n      {\n        id: constants.ID_DDW,\n        slug: constants.SLUG_DDW,\n        label: '',\n      },\n    ];\n  }\n  return [];\n})();\n\nexport const getCategoryIdFromSlug = (slug: string): string | null => {\n  if (slug === constants.SLUG_SLOTS) {\n    return constants.ID_SLOTS;\n  }\n  const category = categories.find((category) => category.slug === slug);\n  return category?.id ?? null;\n};\n","export function isSlotsLobbySupported(lobbyVersion?: string): boolean {\n  if (!lobbyVersion) {\n    return false;\n  }\n  const versionNumber = Number(lobbyVersion);\n  if (isNaN(versionNumber)) {\n    return false;\n  }\n  return versionNumber >= 3;\n}\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nexport interface FetchSlotsOpenUrlParams {\n  JSESSIONID: string;\n  baseUrl: string;\n  gameID: string;\n  signal: AbortSignal;\n}\n\nexport const fetchSlotsOpenUrl = ({\n  baseUrl,\n  JSESSIONID,\n  gameID,\n  signal,\n}: FetchSlotsOpenUrlParams): Promise<string | undefined | void> => {\n  return Fetcher.fetch(`${baseUrl}/api/ui/SlotLaunch`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: '',\n      'Access-Control-Allow-Origin': '*',\n    },\n    params: {\n      JSESSIONID,\n      ck: new Date().getTime(),\n    },\n    body: {\n      gameID,\n    },\n    signal,\n    format: 'text',\n  })\n    .then((response) => {\n      if (response === 'Not supported') {\n        throw new Error('Not supported');\n      }\n\n      const data: ISlotsResponse = JSON.parse(response as string);\n\n      if (data.error !== 0) {\n        throw new Error(data.description);\n      }\n\n      console.log(data.gameURL);\n\n      return data.gameURL;\n    })\n    .catch((reason) => {\n      Logger.logFailure(\n        'errors',\n        'fetch',\n        'slotsOpenUrlProcessing',\n        Date.now(),\n        1,\n        'message' in reason && reason.message ? reason.message : '',\n        false\n      );\n      throw reason;\n    });\n};\n\nexport interface ISlotsResponse {\n  error?: number;\n  description?: string;\n  gameURL?: string;\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { Logger } from '@pp/core';\n\nimport { fetchSlotsOpenUrl, type FetchSlotsOpenUrlParams } from '../../api/fetchers/slotsOpenUrl';\nimport { HostCommunicationVersions, LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { lobbyOpenMessage } from '../../messages/commonMessages';\nimport { LobbyMessageController, lobbySlotsRedirectMessage } from '../../messages/LobbyMessageController';\nimport type { GameType } from '../slices/games/slice';\n\nexport interface FetchSlotsOpenUrlActionParams extends Omit<FetchSlotsOpenUrlParams, 'signal' | 'gameID'> {\n  game: GameType;\n  activeGameId?: string;\n}\n\nexport const fetchSlotsOpenUrlAction = createAsyncThunk(\n  'tables/fetchSlotsOpenUrl',\n  async ({ game, activeGameId, ...params }: FetchSlotsOpenUrlActionParams, { signal, rejectWithValue }) => {\n    let redirectUrl = await fetchSlotsOpenUrl({ ...params, signal: signal, gameID: game.id });\n    if (!redirectUrl) {\n      return rejectWithValue('No redirect URL');\n    }\n    if (activeGameId) {\n      try {\n        const parsedUrl = new URL(redirectUrl);\n        parsedUrl.searchParams.set('lobbyGameSymbol', activeGameId);\n        redirectUrl = parsedUrl.toString();\n      } catch (error) {\n        Logger.logFailure('parsingSlotRedirectUrl');\n      }\n    }\n    if (LobbyConfiguration.isInGame) {\n      switch (LobbyConfiguration.hostCommunicationVersion) {\n        case HostCommunicationVersions.V2: {\n          LobbyMessageController.post(\n            lobbyOpenMessage({\n              url: redirectUrl,\n            })\n          );\n          break;\n        }\n        default: {\n          LobbyMessageController.post(lobbySlotsRedirectMessage({ type: 'pp_slots_loadGame', path: redirectUrl }));\n          break;\n        }\n      }\n    } else {\n      window.open(redirectUrl, '_self');\n    }\n    return redirectUrl;\n  }\n);\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\nimport { fetchCasinoConfigAction } from '@pp/core/src/store/apiActions/fetchCasinoConfigAction';\n\nimport { categories, slotsCategory } from '../../../components/nav/categories';\nimport type { ILobbyCategory } from '../../../components/nav/categories';\nimport { ID_FOR_YOU, ID_PROMOTIONS, SLUG_FOR_YOU, SLUG_PROMOTIONS } from '../../../constants/navigation';\nimport { isSlotsLobbySupported } from '../../../utils/isSlotsLobbySupported';\nimport { fetchBonusCampaignAction } from '../../apiActions/fetchBonusCampaignAction';\nimport { fetchPromotionAction } from '../../apiActions/fetchPromotionAction';\nimport { fetchSlotsOpenUrlAction } from '../../apiActions/fetchSlotsOpenUrlAction';\n\nimport type { PreviousGame } from './types';\n\nexport interface IInitSlice {\n  categories: ILobbyCategory[];\n  isExpanded: boolean;\n  previousGame?: PreviousGame;\n  isLoading: boolean;\n  loadingGameName?: string;\n}\n\nconst ForYouCategory: ILobbyCategory = {\n  id: ID_FOR_YOU,\n  slug: SLUG_FOR_YOU,\n  label: 'LOBBY_FOR_YOU',\n};\n\nexport const navSlice = createSlice({\n  name: 'nav',\n  initialState: (): IInitSlice => ({\n    categories: [ForYouCategory],\n    isExpanded: false,\n    isLoading: false,\n  }),\n\n  reducers: {\n    setCategories: (state, action: PayloadAction<ILobbyCategory[]>) => {\n      state.categories = [ForYouCategory, ...action.payload];\n    },\n    setIsExpanded: (state, action: PayloadAction<boolean>) => {\n      state.isExpanded = action.payload;\n    },\n    setPreviousGame: (state, action: PayloadAction<IInitSlice['previousGame']>) => {\n      state.previousGame = action.payload;\n    },\n    setLoadingGameName: (state, action: PayloadAction<string>) => {\n      state.loadingGameName = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchCasinoConfigAction.fulfilled, (state, action) => {\n      const { tabs, lobbyVersion, slotsLobbyEnabled } = action.payload;\n      const isSlotsCategoryEnabled = !isSlotsLobbySupported(lobbyVersion) && slotsLobbyEnabled;\n\n      state.categories = [\n        ForYouCategory,\n        ...categories\n          .filter((category) => tabs.includes(category.id))\n          .sort((a, b) => tabs.indexOf(a.id) - tabs.indexOf(b.id)),\n      ];\n\n      if (isSlotsCategoryEnabled) {\n        state.categories.push(slotsCategory);\n      }\n    });\n    builder.addCase(fetchPromotionAction.fulfilled, (state, action) => {\n      const promoTables = action.payload.groups?.all;\n      const promoExists = state.categories.some((category) => category.id === ID_PROMOTIONS);\n      if (promoTables && promoTables.length > 0 && !promoExists) {\n        state.categories.push({\n          id: ID_PROMOTIONS,\n          slug: SLUG_PROMOTIONS,\n          label: 'PROMOTIONS',\n        });\n      }\n    });\n    builder.addCase(fetchBonusCampaignAction.fulfilled, (state, action) => {\n      const bonusPromoTables = action.payload.tableIds;\n      const promoExists = state.categories.some((category) => category.id === ID_PROMOTIONS);\n      if (bonusPromoTables && bonusPromoTables.length > 0 && !promoExists) {\n        state.categories.push({\n          id: ID_PROMOTIONS,\n          slug: SLUG_PROMOTIONS,\n          label: 'PROMOTIONS',\n        });\n      }\n    });\n    builder.addCase(fetchSlotsOpenUrlAction.pending, (state, action) => {\n      const { game } = action.meta.arg;\n      state.isLoading = true;\n      state.loadingGameName = game.translatedName;\n    });\n    builder.addCase(fetchSlotsOpenUrlAction.rejected, (state) => {\n      state.isLoading = false;\n      state.loadingGameName = undefined;\n    });\n  },\n});\n\nexport const navActions = navSlice.actions;\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nexport interface GetSlotSettingsParams {\n  magicKey: string;\n  rootUrl: string;\n}\n\nexport interface PostSlotSettingsParams {\n  magicKey: string;\n  rootUrl: string;\n  payload: SlotSettingsResponse;\n}\n\nexport interface SlotSettingsResponse {\n  notifications: {\n    seenGames: string[];\n  };\n}\n\nconst SETTINGS_KEY = 'lobby';\nconst ENDPOINT = 'gs2c/saveSettings.do';\n\nexport const fetchGetSlotSettings = async ({\n  magicKey,\n  rootUrl,\n}: GetSlotSettingsParams): Promise<SlotSettingsResponse | null> => {\n  const formData = new FormData();\n  formData.append('id', SETTINGS_KEY);\n  formData.append('method', 'load');\n  formData.append('mgckey', magicKey);\n\n  return Fetcher.fetch(URLUtilities.combine(rootUrl, ENDPOINT).toString(), {\n    method: 'POST',\n    body: formData,\n    format: 'text',\n  }).then((response) => {\n    if (!response || typeof response !== 'string') {\n      return null;\n    }\n    const parsedSettings = new URLSearchParams(response);\n    const constructedSettings: SlotSettingsResponse = {\n      notifications: {\n        seenGames: parsedSettings.get('Notifications_SeenGames')?.split(',') ?? [],\n      },\n    };\n\n    return constructedSettings;\n  });\n};\n\nexport const fetchPostSlotSettings = async ({ magicKey, rootUrl, payload }: PostSlotSettingsParams): Promise<void> => {\n  const encodedSettings = new URLSearchParams();\n  encodedSettings.append('Notifications_SeenGames', payload.notifications.seenGames.join(','));\n\n  const formData = new FormData();\n  formData.append('id', SETTINGS_KEY);\n  formData.append('mgckey', magicKey);\n  formData.append('settings', encodedSettings.toString());\n  return Fetcher.fetch(URLUtilities.combine(rootUrl, ENDPOINT).toString(), {\n    method: 'POST',\n    body: formData,\n    format: 'text',\n  });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport {\n  fetchGetSlotSettings,\n  fetchPostSlotSettings,\n  type GetSlotSettingsParams,\n  type PostSlotSettingsParams,\n} from '../../../api/fetchers/slots/settings';\n\nexport interface FetchGetSlotSettingsActionParams extends GetSlotSettingsParams {\n  essential: boolean;\n}\n\nexport interface FetchPostSlotSettingsActionParams extends PostSlotSettingsParams {}\n\nexport const fetchGetSlotSettingsAction = createAsyncThunk(\n  'fetch/slots/fetchGetSlotSettings',\n  (params: FetchGetSlotSettingsActionParams) => fetchGetSlotSettings(params)\n);\n\nexport const fetchPostSlotSettingsAction = createAsyncThunk(\n  'fetch/slots/fetchPostSlotSettings',\n  (params: FetchPostSlotSettingsActionParams) => fetchPostSlotSettings(params)\n);\n","import { createSlice, type PayloadAction } from '@reduxjs/toolkit';\n\nimport type { SlotSettingsResponse } from '../../../api/fetchers/slots/settings';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport { fetchGetSlotSettingsAction } from '../../apiActions/slots/fetchSlotSettings';\n\nexport interface IInitSlice {\n  newGames: string[] | null;\n  seenGames: string[] | null;\n  gamesToBeSeen: string[] | null;\n  newGamesNotification: boolean;\n  settings: SlotSettingsResponse | null;\n}\n\nexport const notificationSlice = createSlice({\n  name: 'notifications',\n  initialState: (): IInitSlice => ({\n    newGames: null,\n    seenGames: null,\n    gamesToBeSeen: null,\n    newGamesNotification: false,\n    settings: null,\n  }),\n  reducers: {\n    setNewGamesNotification: (state, action: PayloadAction<boolean>) => {\n      state.newGamesNotification = action.payload;\n    },\n    setGamesToBeSeen: (state, action: PayloadAction<string[]>) => {\n      state.gamesToBeSeen = action.payload;\n    },\n    viewGames: (state) => {\n      state.seenGames = state.gamesToBeSeen;\n      state.gamesToBeSeen = null;\n    },\n    dismissNewGamesNotification: (state) => {\n      state.newGamesNotification = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      state.newGames = action.payload.notifications.newGames;\n    });\n    builder.addCase(\n      fetchGetSlotSettingsAction.fulfilled,\n      (state, action: PayloadAction<SlotSettingsResponse | null>) => {\n        const settings = action.payload;\n        const seenGames = settings?.notifications?.seenGames;\n        if (seenGames) {\n          state.seenGames = seenGames;\n        } else {\n          state.seenGames = [];\n        }\n        state.settings = settings;\n      }\n    );\n  },\n});\n\nexport const notificationActions = notificationSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { ID_FOR_YOU } from '../../../constants/navigation';\nimport { fetchPostSlotSettingsAction } from '../../apiActions/slots/fetchSlotSettings';\nimport { LobbyPredicator } from '../../LobbyPredicator';\nimport type { LobbyRootState } from '../../LobbyStore';\n\nimport { notificationActions } from './slice';\nimport { getIntersectionWithLeftover } from './utils';\n\nexport const notificationMiddleware = createListenerMiddleware<LobbyRootState>();\n\n// Notification initialization middleware\nconst unsubscribeNotificationInitMiddleware = notificationMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [state.notifications.newGames, state.notifications.seenGames]),\n  effect: (_action, { dispatch, getState }) => {\n    const state = getState();\n    const { newGames, seenGames } = state.notifications;\n\n    if (!newGames || !seenGames) return;\n\n    const [alreadySeenGames, notYetSeenGames] = getIntersectionWithLeftover(newGames, seenGames);\n\n    if (notYetSeenGames.length) {\n      dispatch(notificationActions.setNewGamesNotification(true));\n    }\n    dispatch(notificationActions.setGamesToBeSeen([...alreadySeenGames, ...notYetSeenGames]));\n\n    unsubscribeNotificationInitMiddleware();\n  },\n});\n\n// view Games middleware\nnotificationMiddleware.startListening({\n  actionCreator: notificationActions.viewGames,\n  effect: (_action, { dispatch, getOriginalState }) => {\n    const state = getOriginalState();\n    const { gamesToBeSeen } = state.notifications;\n\n    const magicKey = SlotLobbyConfiguration?.magicKey;\n    const rootUrl = SlotLobbyConfiguration?.rootUrl?.toString();\n\n    if (!gamesToBeSeen || !magicKey || !rootUrl) return;\n    dispatch(\n      fetchPostSlotSettingsAction({\n        magicKey,\n        rootUrl,\n        payload: {\n          notifications: {\n            seenGames: gamesToBeSeen,\n          },\n        },\n      })\n    );\n  },\n});\n\n// Mark games as viewed, if the user is in the For You category\nnotificationMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [state.notifications.seenGames, state.category.currentCategory], {\n    mode: 'change',\n  }),\n  effect: (action, { dispatch, getState }) => {\n    const state = getState();\n    const nextCategory = state.category.currentCategory;\n    const seenGames = state.notifications.seenGames;\n\n    if (nextCategory === ID_FOR_YOU && seenGames) {\n      dispatch(notificationActions.viewGames());\n    }\n  },\n});\n\n// Dismiss notification bubble if all games were viewed and user left the For You category\nnotificationMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [!state.notifications.gamesToBeSeen, state.category.currentCategory], {\n    mode: 'change',\n  }),\n  effect: (action, { dispatch, getState, getOriginalState }) => {\n    const previousCategory = getOriginalState().category.currentCategory;\n    const state = getState();\n    const nextCategory = state.category.currentCategory;\n    const gamesToBeSeen = state.notifications.gamesToBeSeen;\n\n    if (previousCategory === ID_FOR_YOU && nextCategory !== ID_FOR_YOU && !gamesToBeSeen) {\n      dispatch(notificationActions.dismissNewGamesNotification());\n    }\n  },\n});\n","export function getIntersectionWithLeftover<T>(collection1: T[], collection2: T[]): [T[], T[], T[]] {\n  const leftover1 = new Set<T>(collection1);\n  const intersection = [];\n  const leftover2 = new Set<T>(collection2);\n\n  for (const item of collection1) {\n    if (leftover2.has(item)) {\n      intersection.push(item);\n      leftover1.delete(item);\n      leftover2.delete(item);\n    }\n  }\n\n  return [intersection, Array.from(leftover1), Array.from(leftover2)];\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport type { IPromoGameInfo, PromoTableType } from '../../../api/fetchers/promo';\nimport { fetchBonusCampaignAction } from '../../apiActions/fetchBonusCampaignAction';\nimport { fetchPromotionAction } from '../../apiActions/fetchPromotionAction';\n\nexport interface IPromotionsSlice {\n  isPromotionsEnabled: boolean;\n  promoTables: PromoTableType;\n  promoGameInfo: Record<string, IPromoGameInfo>;\n  promoBjInfo: Record<string, IPromoBJInfo> | null;\n  bonusTables?: string[];\n}\n\nexport interface IPromoBJInfo {\n  endDate: number;\n  startDate: number;\n  dailyPrizes: number;\n  dailyPrizePool: number;\n  minBet: number;\n  campaignEndDate?: number;\n}\n\nexport const promotionsSlice = createSlice({\n  name: 'promotions',\n  initialState: (): IPromotionsSlice => {\n    const state: IPromotionsSlice = {\n      isPromotionsEnabled: false,\n      promoTables: {},\n      promoGameInfo: {},\n      promoBjInfo: null,\n    };\n    return state;\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchPromotionAction.fulfilled, (state, action) => {\n        state.promoTables = action.payload.groups;\n\n        state.promoGameInfo = action.payload.gameInfo;\n        state.promoBjInfo = action.payload.bjPromoInfo;\n        state.isPromotionsEnabled = action.payload.groups.all?.length ? action.payload.groups.all?.length > 0 : false;\n      })\n      .addCase(fetchBonusCampaignAction.fulfilled, (state, action) => {\n        state.promoTables.bonus = action.payload.tableIds;\n        state.isPromotionsEnabled = action.payload.tableIds?.length > 0;\n      });\n  },\n});\n\nexport const promotionsActions = promotionsSlice.actions;\n","import { createListenerMiddleware } from '@reduxjs/toolkit';\n\nimport { gameStateActions } from '@pp/core/src/store/slices/game/slice';\n\nimport { LobbyPredicator } from '../../LobbyPredicator';\nimport type { LobbyRootState } from '../../LobbyStore';\n\nexport const slotMiddleware = createListenerMiddleware<LobbyRootState>();\n\nconst unsubscribeSlotBalanceListener = slotMiddleware.startListening({\n  predicate: LobbyPredicator.all((state) => [state.lobbySlots.balance !== undefined]),\n  effect: (action, { dispatch, getState }) => {\n    const state = getState();\n    const balance = state.lobbySlots.balance;\n    if (!balance) {\n      return;\n    } else {\n      const updatedBalance = { amount: balance.cashBalance, bonus: balance.bonusBalance };\n      dispatch(gameStateActions.updateBalance(updatedBalance));\n    }\n    unsubscribeSlotBalanceListener();\n  },\n});\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchSlotBalance, type SlotBalanceParams } from '../../../api/fetchers/slots/balance';\nimport { type PostSlotSettingsParams } from '../../../api/fetchers/slots/settings';\n\nexport interface FetchSlotBalanceActionParams extends SlotBalanceParams {\n  essential: boolean;\n}\n\nexport interface FetchPostSlotSettingsActionParams extends PostSlotSettingsParams {}\n\nexport const fetchSlotBalanceAction = createAsyncThunk(\n  'fetch/slots/fetchSlotBalance',\n  (params: FetchSlotBalanceActionParams) => fetchSlotBalance(params)\n);\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nexport interface SlotBalanceParams {\n  magicKey: string;\n  rootUrl: string;\n}\n\nexport interface SlotBalanceResponse {\n  balance: number;\n  bonusBalance: number;\n  cashBalance: number;\n}\n\nconst ENDPOINT = 'gs2c/reloadBalance.do';\n\nexport const fetchSlotBalance = async ({\n  magicKey,\n  rootUrl,\n}: SlotBalanceParams): Promise<SlotBalanceResponse | null> => {\n  return Fetcher.fetch(URLUtilities.combine(rootUrl, ENDPOINT).toString(), {\n    params: {\n      mgckey: magicKey,\n    },\n    format: 'text',\n  }).then((response) => {\n    if (!response || typeof response !== 'string') {\n      return null;\n    }\n    const parsedBalance = new URLSearchParams(response);\n    const keysToRead = ['balance', 'balance_bonus', 'balance_cash'];\n    const readout: (number | null)[] = [];\n    let hasSomething = false;\n    keysToRead.forEach((key) => {\n      const keyReadout = parsedBalance.get(key);\n      if (keyReadout) {\n        readout.push(parseFloat(keyReadout));\n        hasSomething = true;\n      } else {\n        readout.push(null);\n      }\n    });\n    if (!hasSomething) {\n      return null;\n    }\n\n    return {\n      balance: readout[0] ?? 0,\n      bonusBalance: readout[1] ?? 0,\n      cashBalance: readout[2] ?? 0,\n    };\n  });\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchGetSlotUserSettings, type GetSlotUserSettingsParams } from '../../../api/fetchers/slots/userSettings';\n\nexport interface FetchGetSlotUserSettingsActionParams extends GetSlotUserSettingsParams {\n  essential: boolean;\n}\n\nexport const fetchGetSlotUserSettingsAction = createAsyncThunk(\n  'fetch/slots/fetchGetSlotUserSettings',\n  (params: FetchGetSlotUserSettingsActionParams) => fetchGetSlotUserSettings(params)\n);\n","import { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nimport type { SlotUserSettings } from '../../../store/slices/slots/types';\n\nexport interface GetSlotUserSettingsParams {\n  magicKey: string;\n  rootUrl: string;\n}\n\nconst SETTINGS_KEY = 'vsCommon';\nconst ENDPOINT = 'gs2c/saveSettings.do';\n\nexport const fetchGetSlotUserSettings = async ({\n  magicKey,\n  rootUrl,\n}: GetSlotUserSettingsParams): Promise<SlotUserSettings | null> => {\n  const formData = new FormData();\n  formData.append('id', SETTINGS_KEY);\n  formData.append('method', 'load');\n  formData.append('mgckey', magicKey);\n\n  return Fetcher.fetch<Record<string, string>, FormData>(URLUtilities.combine(rootUrl, ENDPOINT).toString(), {\n    method: 'POST',\n    body: formData,\n    format: 'json',\n  }).then((response) => {\n    if (!response) {\n      return null;\n    }\n    const constructedSettings: SlotUserSettings = {\n      hideMetaNotifications: response.HideMetaNotifications === 'true',\n    };\n\n    return constructedSettings;\n  });\n};\n","export enum TabOptions {\n  NEW_SLOTS = 'new',\n  HOT_SLOTS = 'hot',\n  ALL_SLOTS = 'all',\n}\n\nexport interface SlotUserSettings {\n  hideMetaNotifications: boolean;\n}\n","import { createSlice, type PayloadAction } from '@reduxjs/toolkit';\n\nimport type { SlotBalanceResponse } from '../../../api/fetchers/slots/balance';\nimport { ISlotActivePromo } from '../../../api/fetchers/slots/type';\nimport { fetchSlotBalanceAction } from '../../apiActions/slots/fetchSlotBaance';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport { fetchGetSlotUserSettingsAction } from '../../apiActions/slots/fetchSlotUserSettings';\n\nimport { TabOptions } from './types';\n\nexport interface SlotSlice {\n  tab: TabOptions;\n  balance?: SlotBalanceResponse | null;\n  userSettings?: {\n    hideMetaNotifications: boolean;\n  } | null;\n  activePromo?: ISlotActivePromo;\n}\n\nexport const slotsSlice = createSlice({\n  name: 'lobbySlots',\n  initialState: (): SlotSlice => ({\n    tab: TabOptions.NEW_SLOTS,\n  }),\n\n  reducers: {\n    setTab: (state, action: PayloadAction<TabOptions>) => {\n      state.tab = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotBalanceAction.fulfilled, (state, action) => {\n      state.balance = action.payload;\n    });\n    builder.addCase(fetchSlotBalanceAction.rejected, (state) => {\n      state.balance = null;\n    });\n    builder.addCase(fetchGetSlotUserSettingsAction.fulfilled, (state, action) => {\n      state.userSettings = action.payload;\n    });\n    builder.addCase(fetchGetSlotUserSettingsAction.rejected, (state) => {\n      state.userSettings = null;\n    });\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      const { activePromo } = action.payload;\n      state.activePromo = activePromo;\n    });\n  },\n});\n\nexport const slotsActions = slotsSlice.actions;\n","import type { PayloadAction } from '@reduxjs/toolkit';\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { fetchCuratedTablesAction } from '../../apiActions/fetchCuratedTablesAction';\nimport { fetchTileExceptionConfigAction } from '../../apiActions/fetchRemoteConfigsAction';\nimport { fetchSlotsAction } from '../../apiActions/fetchSlotsAction';\nimport { fetchTablesAction } from '../../apiActions/fetchTablesAction';\n\nimport type { ITableStore } from './types';\n\nexport const tablesSlice = createSlice({\n  name: 'tables',\n  initialState: (): ITableStore => {\n    const state: ITableStore = {\n      multiTables: [],\n      pragmaticIdToOperatorId: {},\n      sections: null,\n      slots: null,\n      tileExceptionConfig: {},\n    };\n    return state;\n  },\n  reducers: {\n    updatedTableStore: (state, action: PayloadAction<Partial<ITableStore>>) => {\n      Object.assign(state, action.payload);\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchTablesAction.fulfilled, (state, action) => {\n      const { pragmaticIdToOperatorId, multiTables } = action.payload;\n      state.multiTables = multiTables;\n      state.pragmaticIdToOperatorId = pragmaticIdToOperatorId;\n    });\n\n    builder.addCase(fetchCuratedTablesAction.fulfilled, (state, action) => {\n      state.sections = action.payload.sections;\n    });\n    builder.addCase(fetchSlotsAction.fulfilled, (state, action) => {\n      const data = action.payload;\n      if (data) {\n        state.slots = data;\n      }\n    });\n\n    builder.addCase(fetchTileExceptionConfigAction.fulfilled, (state, action) => {\n      state.tileExceptionConfig = action.payload;\n    });\n  },\n});\n\nexport const tablesActions = tablesSlice.actions;\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { fetchSlotsAction } from '../../apiActions/fetchSlotsAction';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\n\nimport type { ILiveCasinoConfig, ISlotConfig } from './types';\n\nexport interface ILobbySlice {\n  [Vendor.Slots]?: ISlotConfig;\n  [Vendor.LiveCasino]?: ILiveCasinoConfig;\n}\n\nconst initialState: ILobbySlice = {};\n\nexport const vendorConfigSlice = createSlice({\n  name: 'vendorConfig',\n  initialState,\n\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSlotGamesAction.fulfilled, (state, action) => {\n      state[Vendor.Slots] = action.payload.slotVendorConfig;\n      if (action.payload.liveCasinoVendorConfig) {\n        state[Vendor.LiveCasino] = action.payload.liveCasinoVendorConfig;\n      }\n    });\n    builder.addCase(fetchSlotsAction.fulfilled, (state, action) => {\n      const data = action.payload;\n      if (data) {\n        state[Vendor.Slots] = {\n          gameIconsURL: data.vendorConfig?.gameIconsURL ?? '',\n          gameLaunchURL: '',\n        };\n      }\n    });\n  },\n});\n\nexport const vendorConfigActions = vendorConfigSlice.actions;\n","import type {\n  ActionFromReducersMapObject,\n  EnhancedStore,\n  ListenerMiddlewareInstance,\n  StateFromReducersMapObject,\n  ThunkDispatch,\n} from '@reduxjs/toolkit';\nimport { configureStore } from '@reduxjs/toolkit';\nimport type { FunctionComponent, PropsWithChildren, ReactElement } from 'react';\nimport type { TypedUseSelectorHook } from 'react-redux';\nimport { Provider, useSelector } from 'react-redux';\n\nimport { crossOriginCommunicationMiddleware } from '@pp/core/src/store/middleware/crossOriginCommunicationMiddleware';\nimport { createFetchErrorMiddleware } from '@pp/core/src/store/middleware/fetchErrorMiddleware';\nimport { configSlice } from '@pp/core/src/store/slices/config/slice';\nimport { gameStateSlice } from '@pp/core/src/store/slices/game/slice';\nimport { initializationSlice } from '@pp/core/src/store/slices/initialization/slice';\nimport { popupSlice } from '@pp/core/src/store/slices/popup/slice';\nimport { settingsSlice } from '@pp/core/src/store/slices/settings/slice';\n\nimport { fetchCuratedTablesAction } from './apiActions/fetchCuratedTablesAction';\nimport { fetchTablesAction } from './apiActions/fetchTablesAction';\nimport { fetchSlotGamesAction } from './apiActions/slots/fetchSlotGames';\nimport { changeTabMiddleware } from './middleware/changeTabMiddleware';\nimport { saveFavouriteMiddleware } from './middleware/saveFavouriteMiddleware';\nimport { saveFilterMiddleware } from './middleware/saveFilterMiddleware';\nimport { setFiltersMiddleware } from './middleware/setFiltersMiddleware';\nimport { categoryMiddleware } from './slices/category/middleware';\nimport { categorySlice } from './slices/category/slice';\nimport { dgaMiddleware } from './slices/dga/middleware';\nimport { dgaSlice } from './slices/dga/slice';\nimport { filterMiddleware } from './slices/filters/middleware';\nimport { filtersSlice } from './slices/filters/slice';\nimport { forYouMiddleware } from './slices/forYou/middleware';\nimport { forYouSlice } from './slices/forYou/slice';\nimport { gameListMiddleware } from './slices/games/gamesMiddleware';\nimport { gameListSlice } from './slices/games/slice';\nimport { lobbySlice } from './slices/lobby/slice';\nimport { initSlice } from './slices/lobbyInit/slice';\nimport { navSlice } from './slices/nav/slice';\nimport { notificationMiddleware } from './slices/notifications/middleware';\nimport { notificationSlice } from './slices/notifications/slice';\nimport { promotionsSlice } from './slices/promotions/slice';\nimport { slotMiddleware } from './slices/slots/middleware';\nimport { slotsSlice } from './slices/slots/slice';\nimport { tablesSlice } from './slices/tables/slice';\nimport { vendorConfigSlice } from './slices/vendorConfig/slice';\n\nconst lobbyReducer = {\n  [categorySlice.name]: categorySlice.reducer,\n  [configSlice.name]: configSlice.reducer,\n  [dgaSlice.name]: dgaSlice.reducer,\n  [filtersSlice.name]: filtersSlice.reducer,\n  [forYouSlice.name]: forYouSlice.reducer,\n  [gameListSlice.name]: gameListSlice.reducer,\n  [gameStateSlice.name]: gameStateSlice.reducer,\n  [initSlice.name]: initSlice.reducer,\n  [initializationSlice.name]: initializationSlice.reducer,\n  [lobbySlice.name]: lobbySlice.reducer,\n  [navSlice.name]: navSlice.reducer,\n  [popupSlice.name]: popupSlice.reducer,\n  [promotionsSlice.name]: promotionsSlice.reducer,\n  [settingsSlice.name]: settingsSlice.reducer,\n  [slotsSlice.name]: slotsSlice.reducer,\n  [tablesSlice.name]: tablesSlice.reducer,\n  [vendorConfigSlice.name]: vendorConfigSlice.reducer,\n  [notificationSlice.name]: notificationSlice.reducer,\n};\ntype LobbyReducer = typeof lobbyReducer;\ninterface LobbyRootAction extends ActionFromReducersMapObject<LobbyReducer> {}\nexport interface LobbyRootState extends StateFromReducersMapObject<LobbyReducer> {}\n\nexport const useLobbySelector: TypedUseSelectorHook<LobbyRootState> = useSelector;\n\nconst fetchErrorMiddleware = createFetchErrorMiddleware({\n  additionalActions: [fetchSlotGamesAction.rejected, fetchTablesAction.rejected, fetchCuratedTablesAction.rejected],\n});\n\nconst createLobbyStore = (): EnhancedStore<LobbyRootState, LobbyRootAction> => {\n  return configureStore({\n    reducer: lobbyReducer,\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware()\n        .prepend(changeTabMiddleware.middleware)\n        .prepend(saveFilterMiddleware.middleware)\n        .prepend(setFiltersMiddleware.middleware)\n        .concat(categoryMiddleware.middleware)\n        .concat((crossOriginCommunicationMiddleware as ListenerMiddlewareInstance).middleware)\n        .concat(dgaMiddleware.middleware)\n        .concat(fetchErrorMiddleware.middleware)\n        .concat(filterMiddleware.middleware)\n        .concat(forYouMiddleware.middleware)\n        .concat(gameListMiddleware.middleware)\n        .concat(notificationMiddleware.middleware)\n        .concat(saveFavouriteMiddleware.middleware)\n        .concat(slotMiddleware.middleware),\n  });\n};\n\nexport const LobbyStore = createLobbyStore();\n\nexport type LobbyStore = typeof LobbyStore;\n\nexport const useLobbyDispatch = (): ThunkDispatch<LobbyRootState, never, LobbyRootAction> => LobbyStore.dispatch;\n\nexport const LobbyStoreProvider: FunctionComponent<PropsWithChildren> = ({ children }): ReactElement => (\n  <Provider store={LobbyStore}>{children}</Provider>\n);\n","import { useLobbySelector } from '../../LobbyStore';\n\nexport const useLobbySlice = {\n  getCurrentTableId: (): string | undefined => {\n    return useLobbySelector(({ lobby }) => lobby.currentTableId ?? undefined);\n  },\n  getCurrentGroupId: (): string | number | undefined => {\n    return useLobbySelector(({ lobby }) => lobby.currentGroupId ?? undefined);\n  },\n  getIsOpenMenu: (): boolean => {\n    return useLobbySelector(({ lobby }) => lobby.isOpenMenu);\n  },\n  getIsOpenFooterMenu: (): boolean => {\n    return useLobbySelector(({ lobby }) => lobby.isOpenFooterMenu);\n  },\n  getGameUIVolume: (): number | undefined => {\n    return useLobbySelector(({ lobby }) => lobby.gameUIVolume);\n  },\n  getGameMasterVolume: (): number | undefined => {\n    return useLobbySelector(({ lobby }) => lobby.gameMasterVolume);\n  },\n};\n","import { useCallback } from 'react';\n\nimport { Vendor } from '../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../config/slot/SlotLobbyConfiguration';\nimport { useLobbySlice } from '../store/slices/lobby';\nimport type { IMultiTable, ISlotGame, ITable } from '../store/slices/tables/types';\n\nexport const useGetIsCurrentGame = (): ((game: ITable | IMultiTable | ISlotGame | undefined) => boolean) => {\n  const currentTableId = useLobbySlice.getCurrentTableId();\n  const currentGroupId = useLobbySlice.getCurrentGroupId();\n\n  return useCallback(\n    (game: ITable | IMultiTable | ISlotGame | undefined) => {\n      if (!game) {\n        return false;\n      }\n      if (game.vendor === Vendor.Slots) {\n        return game.id === SlotLobbyConfiguration?.gameSymbol;\n      } else {\n        if (game.isMultitable) {\n          return game.groupId === currentGroupId;\n        } else {\n          return game.tableId === currentTableId;\n        }\n      }\n    },\n    [currentGroupId, currentTableId]\n  );\n};\n\nexport const useIsCurrentGame = (game: ITable | IMultiTable | ISlotGame | undefined): boolean => {\n  const getIsCurrentGame = useGetIsCurrentGame();\n\n  return getIsCurrentGame(game);\n};\n","import { HostCommunicationVersions, LobbyConfiguration } from '../config/LobbyConfiguration';\n\nimport { LobbyMessageController } from './LobbyMessageController';\nimport { LobbyMessageControllerV2 } from './LobbyMessageControllerV2';\n\nexport const LobbyMessageCommonController =\n  LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2\n    ? LobbyMessageControllerV2\n    : LobbyMessageController;\n","import { isSlotsLobbySupported } from '../utils/isSlotsLobbySupported';\n\nimport type { LobbyRootState } from './LobbyStore';\nimport { useLobbySelector } from './LobbyStore';\n\nconst selectLobbyVersion = ({ config }: LobbyRootState): undefined | string => {\n  return config.casinoConfig?.lobbyVersion;\n};\n\nexport const selectIsSlotLobbyEnabled = (state: LobbyRootState): boolean => {\n  const lobbyVersion = selectLobbyVersion(state);\n  return isSlotsLobbySupported(lobbyVersion);\n};\n\nexport const useSlotLobbyEnabled = (): boolean => {\n  return useLobbySelector(selectIsSlotLobbyEnabled);\n};\n","import type { ILobbyCategory } from '../../../components/nav/categories';\nimport { LobbyConfiguration } from '../../../config/LobbyConfiguration';\nimport { selectIsSlotLobbyEnabled } from '../../customCoreSelectors';\nimport { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\n\nimport type { PreviousGame } from './types';\n\nexport const selectPreviousGame = (state: LobbyRootState): PreviousGame | undefined => {\n  const isSlotLobbyEnabled = selectIsSlotLobbyEnabled(state);\n  const previousGame = state.nav.previousGame;\n  if (previousGame && (isSlotLobbyEnabled || LobbyConfiguration.isSlots)) {\n    return previousGame;\n  }\n};\n\nexport const useNavSlice = {\n  getCategories: (): ILobbyCategory[] => {\n    return useLobbySelector((state) => state.nav.categories);\n  },\n  getIsExpanded: (): boolean => {\n    return useLobbySelector((state) => state.nav.isExpanded);\n  },\n  getPreviousGame: (): PreviousGame | undefined => {\n    return useLobbySelector(selectPreviousGame);\n  },\n  getLoadingGameName: (): string | undefined => {\n    return useLobbySelector((state) => state.nav.loadingGameName);\n  },\n  getIsGameLoading: (): boolean => {\n    return useLobbySelector((state) => state.nav.isLoading);\n  },\n};\n","import { type LobbyRootState, useLobbySelector } from '../LobbyStore';\nimport { selectPreviousGame } from '../slices/nav/selectors';\n\nexport const selectActiveGameId = (state: LobbyRootState): string | undefined => {\n  const previousGame = selectPreviousGame(state);\n  const currentGameId = state.lobby.currentTableId ?? undefined;\n  const tableIdToId = state.tables.pragmaticIdToOperatorId;\n  const mappedCurrentGameId = currentGameId ? (tableIdToId[currentGameId] ?? currentGameId) : undefined;\n  return previousGame ? previousGame.id : mappedCurrentGameId;\n};\n\nexport const useActiveGameId = (): string | undefined => {\n  return useLobbySelector(selectActiveGameId);\n};\n","import type { IDataSlots } from '../../../api/fetchers/slots';\nimport { useLobbySelector } from '../../LobbyStore';\n\nimport type { IMultiTable } from './types';\n\nexport const useTablesSlice = {\n  getMultiTables: (): IMultiTable[] => {\n    return useLobbySelector(({ tables }) => tables.multiTables);\n  },\n  getPragmaticIdToOperatorId: (): Record<string, string> => {\n    return useLobbySelector(({ tables }) => tables.pragmaticIdToOperatorId);\n  },\n  getSlots: (): null | IDataSlots => {\n    return useLobbySelector(({ tables }) => tables.slots);\n  },\n};\n","import { Logger } from '@pp/core/src/logger/Logger';\n\nclass NavigationLoggerBase {\n  private wasDispatched = false;\n  private previousGameId = '';\n\n  log(gameId: string): void {\n    let context = 'first';\n    if (this.wasDispatched) {\n      if (this.previousGameId === gameId) {\n        context = 'same';\n      } else {\n        context = 'subsequent';\n      }\n    }\n    Logger.logEvent('navigationDispatched', {\n      additional: context,\n    });\n    this.previousGameId = gameId;\n    this.wasDispatched = true;\n  }\n}\n\nexport const NavigationLogger = new NavigationLoggerBase();\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nimport type { GameURLSearchParams } from './types';\n\ninterface IRedirectMessage {\n  tableBaseURL: string;\n  params: GameURLSearchParams;\n  target?: string;\n}\n\nexport const useRedirectUrlGetter = (): ((data: Omit<IRedirectMessage, 'target'>) => URL | undefined) => {\n  const env = useConfigSlice.env();\n  const playerUI = env?.playerUI;\n\n  return useCallback(\n    ({ tableBaseURL, params }) => {\n      if (!playerUI) {\n        return;\n      }\n      let playerUIUrl = playerUI;\n      // if player UI does not have trailing slash, add it\n      if (!playerUIUrl.endsWith('/')) {\n        playerUIUrl += '/';\n      }\n      const redirectUrl = URLUtilities.combine(playerUIUrl, `${tableBaseURL}/`);\n\n      Object.entries(params).forEach(([key, value]) => {\n        redirectUrl.searchParams.set(key, value as string);\n      });\n\n      redirectUrl.searchParams.set('timeStamp', Date.now().toString());\n\n      return redirectUrl;\n    },\n    [playerUI]\n  );\n};\n\nexport const useGameRedirectConnected = (): ((data: IRedirectMessage) => void) => {\n  const getRedirectUrl = useRedirectUrlGetter();\n\n  return useCallback(\n    ({ target, ...rest }) => {\n      const url = getRedirectUrl(rest);\n      if (!url) {\n        return;\n      }\n\n      window.open(url, target);\n    },\n    [getRedirectUrl]\n  );\n};\n","import { Vendor } from '../../../config/LobbyConfiguration';\nimport { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\n\nimport type { ILiveCasinoConfig, ISlotConfig } from './types';\n\nexport const selectSlotVendorConfig = (state: LobbyRootState): ISlotConfig | undefined => {\n  return state.vendorConfig[Vendor.Slots];\n};\n\nexport const useVendorConfigSlice = {\n  getSlotConfig: (): ISlotConfig | undefined => {\n    return useLobbySelector(selectSlotVendorConfig);\n  },\n  getLiveCasinoConfig: (): ILiveCasinoConfig | undefined => {\n    return useLobbySelector((state) => state.vendorConfig[Vendor.LiveCasino]);\n  },\n};\n","import { useCallback } from 'react';\n\nimport { HostCommunicationVersions, LobbyConfiguration } from '../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../config/slot/SlotLobbyConfiguration';\nimport { lobbyOpenMessage } from '../messages/commonMessages';\nimport { LobbyMessageController } from '../messages/LobbyMessageController';\nimport { LobbyMessageControllerV2 } from '../messages/LobbyMessageControllerV2';\nimport { useActiveGameId } from '../store/compositeSelectors/useActiveGameId';\nimport { useVendorConfigSlice } from '../store/slices/vendorConfig/selectors';\n\nexport const useSlotsRedirectFunction = (): ((gameSymbol: string, searchParams?: Record<string, string>) => void) => {\n  const slotConfig = useVendorConfigSlice.getSlotConfig();\n  const activeGameId = useActiveGameId();\n\n  return useCallback(\n    (gameSymbol: string, searchParams: Record<string, string> = {}): void => {\n      if (gameSymbol === '' || !slotConfig || !SlotLobbyConfiguration || !SlotLobbyConfiguration?.magicKey) return;\n      const redirectUrl = new URL(slotConfig.gameLaunchURL);\n      const params: Record<string, string> = {\n        gameSymbol: gameSymbol,\n        mgckey: SlotLobbyConfiguration.magicKey,\n        ...searchParams,\n      };\n\n      if (activeGameId) {\n        params['lobbyGameSymbol'] = activeGameId;\n      }\n\n      Object.entries(params).forEach(([key, value]) => {\n        redirectUrl.searchParams.set(key, value);\n      });\n\n      if (LobbyConfiguration.isInGame) {\n        if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n          LobbyMessageControllerV2.post(\n            lobbyOpenMessage({\n              url: redirectUrl.toString(),\n            })\n          );\n          return;\n        }\n\n        LobbyMessageController.post(\n          lobbyOpenMessage({\n            url: redirectUrl.toString(),\n          })\n        );\n      } else {\n        window.open(redirectUrl.toString(), LobbyConfiguration.isInGame ? '_parent' : '_self');\n      }\n    },\n    [activeGameId, slotConfig]\n  );\n};\n","import { CoreConstants } from '@pp/core/src/config/CoreConstants';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\n\nimport type { IMultiTable, ITable } from '../../store/slices/tables/types';\n\nconst sessionKeysToRemove = [\n  'selectedChipIndex',\n  'lastbets',\n  'rebetBets',\n  'totalRoundBet',\n  'noOfAutoplays',\n  'statusBarMsg',\n  'multiBacBets',\n  'currentGameType',\n];\n\nexport const prepareSessionStorage = (table: ITable | IMultiTable, seat?: number): void => {\n  // Set groupId in session storage if it exists\n  if (table.isMultitable) {\n    SessionStorage.set('GrpId', table.groupId.toString());\n  }\n  SessionStorage.set('operator_theme', table.operatorTheme);\n\n  // Clear session storage\n  sessionKeysToRemove.forEach((key) => SessionStorage.remove(key));\n\n  // Set a seat if one is provided\n  if (seat !== undefined) {\n    SessionStorage.set(CoreConstants.SeatNumber, seat);\n  }\n};\n","import { useCallback } from 'react';\n\nimport { PopupType } from '@pp/core/src/components/popup/types';\nimport { CrossOriginCommunication } from '@pp/core/src/controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { OutgoingMessage } from '@pp/core/src/controllers/crossOriginCommunication/types';\nimport { useCurrencyFormatterConnected } from '@pp/core/src/hooks/useCurrencyFormatterConnected';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { useGameStateSlice } from '@pp/core/src/store/slices/game/selectors';\nimport { popupActions } from '@pp/core/src/store/slices/popup/slice';\n\nimport { HostCommunicationVersions, LobbyConfiguration, Vendor } from '../config/LobbyConfiguration';\nimport { NavigationAbortController } from '../controllers/DGA/NavigationAbortController';\nimport { useGetIsCurrentGame } from '../hooks/useIsCurrentGame';\nimport { lobbyAddGameMessage, lobbyOpenMessage } from '../messages/commonMessages';\nimport { LobbyMessageCommonController } from '../messages/LobbyMessageCommonController';\nimport { lobbyCloseMessage, LobbyMessageController, lobbyRedirectMessage } from '../messages/LobbyMessageController';\nimport {\n  lobbyCloseMessage as lobbyCloseMessageV2,\n  LobbyMessageControllerV2,\n} from '../messages/LobbyMessageControllerV2';\nimport { fetchSlotsOpenUrlAction } from '../store/apiActions/fetchSlotsOpenUrlAction';\nimport { useActiveGameId } from '../store/compositeSelectors/useActiveGameId';\nimport { useLobbyDispatch } from '../store/LobbyStore';\nimport { useLobbySlice } from '../store/slices/lobby';\nimport { useTablesSlice } from '../store/slices/tables/selectors';\nimport type { IMultiTable, ISlotGame, ITable } from '../store/slices/tables/types';\n\nimport { NavigationLogger } from './navigationLogger';\nimport { useGameRedirectConnected, useRedirectUrlGetter } from './useGameRedirectConnected';\nimport { useSlotsRedirectFunction } from './useSlotsRedirectFunction';\nimport { getGameURLSearchParams } from './utils/getGameURLSearchParams';\nimport { getTableBaseURL } from './utils/getTableBaseURL';\nimport { getUnmetMinBalance } from './utils/getUnmetMinBalance';\nimport { prepareSessionStorage } from './utils/prepareSessionStorage';\n\nconst useLiveCasinoGameRedirectCallbackConnected = (): ((\n  game: ITable | IMultiTable | ISlotGame,\n  seat?: number\n) => void) => {\n  const dispatch = useLobbyDispatch();\n  const currencyFormatter = useCurrencyFormatterConnected();\n  const redirect = useGameRedirectConnected();\n  const getRedirectUrl = useRedirectUrlGetter();\n\n  const casinoConfig = useConfigSlice.casinoConfig();\n  const casinoId = casinoConfig?.casinoId;\n  const isLauncherEnabled = casinoConfig?.isLauncherEnabled;\n  const isSpectator = useConfigSlice.playerConfig()?.userType === 'SPEC';\n  const session = useConfigSlice.session();\n  const balance = useGameStateSlice.balance();\n  const currentTableId = useLobbySlice.getCurrentTableId();\n  const activeGameId = useActiveGameId();\n  const pragmaticIdToOperatorId = useTablesSlice.getPragmaticIdToOperatorId();\n  const baseUrl = useConfigSlice.baseUrl();\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const getIsCurrentGame = useGetIsCurrentGame();\n\n  return useCallback(\n    (game, seat) => {\n      // Check if game clicked is the same as the current game, and if so, close the lobby\n      if (getIsCurrentGame(game)) {\n        LobbyMessageController.post(lobbyCloseMessage());\n        return;\n      }\n\n      if (game.vendor === Vendor.Slots) {\n        if (!baseUrl || !JSESSIONID) return;\n\n        const promise = dispatch(\n          fetchSlotsOpenUrlAction({\n            baseUrl,\n            JSESSIONID,\n            game,\n            // an id of game currently playing under lobby or that was playing before, to pas it to fetchSlotsOpenUrlAction\n            activeGameId,\n          })\n        );\n        NavigationAbortController.setAbortCallback(promise.abort);\n        return;\n      }\n\n      if (!casinoId || !session) return;\n      // Check if table has a base URL\n      const tableBaseURL = getTableBaseURL(game, { isLauncherEnabled });\n      if (!tableBaseURL) return;\n\n      // Check if the player has enough balance to play\n      const unmetMinBalance = getUnmetMinBalance(game, balance, isSpectator);\n      if (unmetMinBalance) {\n        dispatch(\n          popupActions.pushPopupWithData({\n            popupName: PopupType.VipTableLowBalance,\n            popupData: { messageData: [currencyFormatter(unmetMinBalance)] },\n          })\n        );\n        return;\n      }\n\n      const gameURLSearchParams = getGameURLSearchParams(game, casinoId, session, isLauncherEnabled);\n\n      prepareSessionStorage(game, seat);\n\n      if (LobbyConfiguration.isInLauncherMode) {\n        const redirectUrl = getRedirectUrl({ tableBaseURL, params: gameURLSearchParams });\n        if (!redirectUrl) return;\n        LobbyMessageCommonController.post(\n          lobbyAddGameMessage({\n            url: redirectUrl.toString(),\n            id: game.id,\n            tableId: gameURLSearchParams.table_id,\n            launcherId: LobbyConfiguration.launcherId,\n          })\n        );\n      } else {\n        if (LobbyConfiguration.isInGame) {\n          CrossOriginCommunication.dispatch(OutgoingMessage.GoFromGame, {\n            tableId: currentTableId ? pragmaticIdToOperatorId[currentTableId] : '',\n          });\n\n          switch (LobbyConfiguration.hostCommunicationVersion) {\n            case HostCommunicationVersions.V2: {\n              const redirectUrl = getRedirectUrl({ tableBaseURL, params: gameURLSearchParams });\n              if (!redirectUrl) return;\n              LobbyMessageController.post(lobbyOpenMessage({ url: redirectUrl.toString() }));\n              break;\n            }\n            default: {\n              LobbyMessageController.post(\n                lobbyRedirectMessage({\n                  type: 'pp_redirect_game',\n                  path: 'home',\n                  tableType: tableBaseURL,\n                  casinoId,\n                  tableId: gameURLSearchParams.table_id,\n                  previousGameType: session.gametype,\n                  urlMap: gameURLSearchParams,\n                })\n              );\n              break;\n            }\n          }\n        } else {\n          redirect({ tableBaseURL, params: gameURLSearchParams, target: '_self' });\n        }\n      }\n\n      CrossOriginCommunication.dispatch(OutgoingMessage.GoToGame, {\n        tableId: game.isMultitable ? `${game.groupId}` : game.id,\n      });\n\n      NavigationLogger.log(game.id);\n    },\n    [\n      JSESSIONID,\n      activeGameId,\n      balance,\n      baseUrl,\n      casinoId,\n      currencyFormatter,\n      currentTableId,\n      dispatch,\n      getIsCurrentGame,\n      getRedirectUrl,\n      isLauncherEnabled,\n      isSpectator,\n      pragmaticIdToOperatorId,\n      redirect,\n      session,\n    ]\n  );\n};\n\nconst useSlotGameRedirectCallbackConnected = (): ((game: ITable | IMultiTable | ISlotGame) => void) => {\n  const slotsRedirectFunction = useSlotsRedirectFunction();\n  const getIsCurrentGame = useGetIsCurrentGame();\n\n  return useCallback(\n    (game) => {\n      if (getIsCurrentGame(game)) {\n        if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n          LobbyMessageControllerV2.post(lobbyCloseMessageV2());\n        } else {\n          LobbyMessageController.post(lobbyCloseMessage());\n        }\n        return;\n      } else {\n        let gameSymbol = '';\n        switch (game.vendor) {\n          case Vendor.Slots:\n            gameSymbol = game.id;\n            break;\n          case Vendor.LiveCasino:\n            gameSymbol = game.isMultitable ? game.groupId.toString() : game.id;\n            break;\n          default:\n            break;\n        }\n\n        slotsRedirectFunction(gameSymbol);\n      }\n    },\n    [getIsCurrentGame, slotsRedirectFunction]\n  );\n};\n\nexport const useLobbyRedirectCallbackConnected = (): ((\n  game: ITable | IMultiTable | ISlotGame,\n  seat?: number\n) => void) => {\n  const liveCasinoGameRedirectCallback = useLiveCasinoGameRedirectCallbackConnected();\n  const slotGameRedirectCallback = useSlotGameRedirectCallbackConnected();\n\n  return useCallback(\n    (game, seat) => {\n      switch (LobbyConfiguration.vendor) {\n        case Vendor.LiveCasino:\n          liveCasinoGameRedirectCallback(game, seat);\n          break;\n        case Vendor.Slots:\n          slotGameRedirectCallback(game);\n          break;\n        default:\n          break;\n      }\n    },\n    [liveCasinoGameRedirectCallback, slotGameRedirectCallback]\n  );\n};\n","import { Logger } from '@pp/core/src/logger/Logger';\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\n\nimport type { IMultiTable, ITable } from '../../store/slices/tables/types';\n\nconst LAUNCHER_PATH = 'launcher';\n\n/**\n * Returns a value of gameLoaderKey with leading/trailing whitespace removed, and logs an exception if the gameLoaderKey is not found.\n * */\nexport const getTableBaseURL = (\n  table: ITable | IMultiTable,\n  options: {\n    isLauncherEnabled?: boolean;\n    silent?: boolean;\n  } = {\n    silent: false,\n  }\n): string | undefined => {\n  if (\n    !LobbyConfiguration.isInLauncherMode &&\n    options.isLauncherEnabled &&\n    'isLauncherEnabled' in table &&\n    table.isLauncherEnabled\n  ) {\n    return LAUNCHER_PATH;\n  }\n  if (table.gameLoaderKey) {\n    const trimmedGameLoaderKey = table.gameLoaderKey.trim();\n    if (trimmedGameLoaderKey !== table.gameLoaderKey && !options.silent) {\n      Logger.logFailure('errors', 'getTableBaseURL', 'hadWhitespace', Date.now(), 1, '', true);\n      Logger.logException(new Error(`Table ${table.id} gameLoaderKey has leading/trailing whitespace`));\n    }\n    return trimmedGameLoaderKey;\n  } else if (!options.silent) {\n    Logger.logFailure('errors', 'getTableBaseURL', 'notFound', Date.now(), 1, '', true);\n    Logger.logException(new Error(`Table ${table.id} gameLoaderKey not found`));\n  }\n};\n","import type { BalanceType } from '@pp/core/src/api/fetchers/userInfo/types';\n\nimport type { IMultiTable, ITable } from '../../store/slices/tables/types';\n\n/**\n * Check if the player has enough balance to play on a prive table\n * - returns undefined if player has enough balance\n * - returns minBalance if player does not have enough balance\n * */\nexport const getUnmetMinBalance = (\n  table: ITable | IMultiTable,\n  balance: BalanceType | undefined,\n  isSpectator: boolean\n): number | void => {\n  if ('limits' in table) {\n    const minBalance = table.limits ? table.limits.minBet * table.limits.minBalanceToPlay : null;\n    if (minBalance === null) {\n      return;\n    }\n    if (table.isPrive && balance && minBalance > balance.amount + balance.bonus && !isSpectator) {\n      return minBalance;\n    }\n  }\n};\n","import type { IUserSession } from '@pp/core/src/config/UserSession';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport type { IMultiTable, ITable } from '../../store/slices/tables/types';\nimport type { GameURLSearchParams } from '../types';\n\n/**\n * Get the game URL search params. Parameters are prefilled with the session or table data.\n * Other parameters are added based on the table data.\n * */\nexport const getGameURLSearchParams = (\n  table: ITable | IMultiTable,\n  casinoId: string,\n  session: IUserSession,\n  isLauncherEnabled?: boolean\n): GameURLSearchParams => {\n  const removeProxy = (url: string): string => {\n    const proxy = '/proxy/';\n    const index = url.indexOf(proxy);\n    if (index !== -1) {\n      return url.substring(index + proxy.length);\n    }\n    return url;\n  };\n\n  const gameURLSearchParams: GameURLSearchParams = {\n    JSESSIONID: session.JSESSIONID,\n    actual_web_server: removeProxy(session.actualWebServer),\n    casino_id: casinoId,\n    gametype: table.game,\n    lang: session.lang,\n    meta_server: removeProxy(session.metaServer),\n    operator_theme: session.operatorTheme,\n    socket_port: session.socketPort,\n    socket_service: session.socketServer,\n    table_id: table.tableId ?? '',\n    support_lang_theme: 'supportLangTheme' in table ? (table.supportLangTheme ?? '') : '',\n    common_components_theme: session.commonComponentsTheme ?? '',\n  };\n\n  if (table.isMultitable) {\n    gameURLSearchParams.GrpId = table.groupId.toString();\n  }\n\n  if (isLauncherEnabled && 'isLauncherEnabled' in table && table.isLauncherEnabled) {\n    gameURLSearchParams.gameLoaderKey = table.gameLoaderKey ?? '';\n    if (!LobbyConfiguration.isInLauncherMode) {\n      gameURLSearchParams.operatorGameId = table.id;\n    }\n  }\n\n  gameURLSearchParams.operator_theme = table.operatorTheme;\n\n  return gameURLSearchParams;\n};\n","import { ID_BACCARAT, ID_PROMOTIONS } from '../../../constants/navigation';\nimport { useLobbySelector } from '../../LobbyStore';\n\nimport type { IGetSearchResponse, IListItemFilter } from './types';\n\nexport const useFiltersSlice = {\n  getFilterList: (): IListItemFilter[] => {\n    return useLobbySelector(({ filters }) => filters.list);\n  },\n  getSearch: (): IGetSearchResponse => {\n    const { search, searchDebounce } = useLobbySelector(({ filters }) => filters);\n    return { search, searchDebounce };\n  },\n  getIsSearchOpen: (): boolean => {\n    return useLobbySelector(({ filters }) => filters.isSearchOpen);\n  },\n  getGoodRoadsCount: (): number => {\n    const goodRoadsTable = useLobbySelector(({ filters }) => filters.goodRoadsTable);\n    return goodRoadsTable.length;\n  },\n  getSelectedByType: (type?: string | null): undefined | Record<string, string[]> => {\n    if (type) {\n      return useLobbySelector(({ filters }) => filters.selected[type]);\n    }\n    return undefined;\n  },\n  isGoodRoadsEnabled: (): boolean => {\n    return useLobbySelector(\n      ({ filters, category }) =>\n        category.currentCategory === ID_BACCARAT && !!filters.selected[ID_BACCARAT]?.['GOOD_ROADS']\n    );\n  },\n  isPromoFilterEnabled: (categoryId?: string): boolean => {\n    if (!categoryId) return false;\n\n    if (categoryId === ID_PROMOTIONS) return true;\n\n    const selectedFilters = useLobbySelector(({ filters }) => filters.selected[categoryId]);\n\n    if (!selectedFilters) return false;\n\n    return Boolean(selectedFilters?.PROMOTIONS?.length) || Boolean(selectedFilters.BJ_LEAGUE?.length);\n  },\n  getIsDrawerOpen: (): boolean => {\n    return useLobbySelector(({ filters }) => filters.isDrawerOpen);\n  },\n};\n","import { createSelector, weakMapMemoize } from '@reduxjs/toolkit';\n\nimport { useConfigSlice } from '@pp/core';\n\nimport { URLUtilities } from '@pp/core/src/utils/url';\n\nimport { LobbyConfiguration, Vendor } from '../../../config/LobbyConfiguration';\nimport { getRemoteAssetsPath, getSlotAssetsPath } from '../../../utils/remoteAssetsPath';\nimport { selectIsSlotLobbyEnabled } from '../../customCoreSelectors';\nimport { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\nimport type { IForYouState } from '../forYou/slice';\nimport type { ITableStore } from '../tables/types';\nimport { selectSlotVendorConfig } from '../vendorConfig/selectors';\n\nimport { gamesAdapter, type GameType } from './slice';\nimport type { GameImagePath } from './types';\n\nconst { selectById: selectGameById } = gamesAdapter.getSelectors((state: LobbyRootState) => state.gameList);\n\nconst getImagePostfix = (language: string): string => (language === 'zh' ? 'NB_ZH' : 'NB');\n\nexport const selectGameImage = createSelector(\n  [\n    (state: LobbyRootState): ITableStore['tileExceptionConfig'] => state.tables.tileExceptionConfig,\n    (state: LobbyRootState): string => state.settings.language.current,\n    (state: LobbyRootState, id: string | undefined): GameType | undefined =>\n      id ? selectGameById(state, id) : undefined,\n    (state: LobbyRootState, id: string | undefined, isAsia: boolean): boolean => isAsia,\n    selectIsSlotLobbyEnabled,\n    selectSlotVendorConfig,\n  ],\n  (tileExceptionConfig, language, game, isAsia, isSlotLobbyEnabled, slotVendorConfig): GameImagePath | undefined => {\n    const { TileImageExceptionTables = [], AsianTileImageTables = [] } = tileExceptionConfig;\n\n    if (!game) return undefined;\n\n    let urlWithoutExtension: string | undefined;\n\n    if (game.vendor === Vendor.LiveCasino) {\n      const { tableId, operatorTheme, supportLangTheme, id } = game;\n      if (game.isMultitable) {\n        return {\n          urlWithoutExtension: getRemoteAssetsPath(`assets/multitables/${id}/poster`),\n        };\n      }\n\n      if (supportLangTheme && supportLangTheme.indexOf(language) >= 0) {\n        if (operatorTheme.startsWith(`default`)) {\n          urlWithoutExtension = getRemoteAssetsPath(`assets/snaps/${tableId}/${language}/poster`);\n        } else {\n          urlWithoutExtension = getRemoteAssetsPath(`assets/snaps/${tableId}/${operatorTheme}/poster`);\n        }\n      }\n      if (tableId && TileImageExceptionTables.indexOf(tableId) >= 0) {\n        if (isAsia && AsianTileImageTables.indexOf(tableId) >= 0) {\n          urlWithoutExtension = getRemoteAssetsPath(`assets/snaps/${tableId}/asia-poster-840x469`);\n        } else {\n          urlWithoutExtension = getRemoteAssetsPath(`assets/snaps/${tableId}/poster-840x469`);\n        }\n      }\n\n      return {\n        url: game.image ?? undefined,\n        urlWithoutExtension,\n      };\n    } else if (game.vendor === Vendor.Slots && slotVendorConfig) {\n      const slotImagePostfix = getImagePostfix(language);\n      if (LobbyConfiguration.isSlots) {\n        return {\n          urlWithoutExtension: URLUtilities.combine(\n            slotVendorConfig.gameIconsURL,\n            `${game.id}/${game.id}_800x600_${slotImagePostfix}`\n          ).toString(),\n          urlWithoutExtensionSmall: URLUtilities.combine(\n            slotVendorConfig.gameIconsURL,\n            `${game.id}/${game.id}_584x438_${slotImagePostfix}`\n          ).toString(),\n          failoverUrlWithoutExtension: URLUtilities.combine(\n            slotVendorConfig.gameIconsURL,\n            `default/default_800x600_${slotImagePostfix}`\n          ).toString(),\n          failoverUrlWithoutExtensionSmall: URLUtilities.combine(\n            slotVendorConfig.gameIconsURL,\n            `default/default_584x438_${slotImagePostfix}`\n          ).toString(),\n        };\n      } else {\n        if (isSlotLobbyEnabled) {\n          return {\n            urlWithoutExtension: URLUtilities.combine(\n              slotVendorConfig.gameIconsURL,\n              `${game.id}/${game.id}_584x438_${slotImagePostfix}`\n            ).toString(),\n            failoverUrlWithoutExtension: URLUtilities.combine(\n              slotVendorConfig.gameIconsURL,\n              `default/default_584x438_${slotImagePostfix}`\n            ).toString(),\n          };\n        } else {\n          return {\n            url: URLUtilities.combine(slotVendorConfig.gameIconsURL, `${game.id}/${game.id}_narrow.jpg`).toString(),\n          };\n        }\n      }\n    }\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  }\n);\n\nexport const selectFeaturedImage = createSelector(\n  [\n    (state: LobbyRootState): IForYouState['featuredImagesExceptions'] => state.forYou.featuredImagesExceptions,\n    (state: LobbyRootState): string => state.settings.language.current,\n    (state: LobbyRootState, id: string | undefined): GameType | undefined =>\n      id ? selectGameById(state, id) : undefined,\n  ],\n  ( featuredImagesExceptions, language, game): GameImagePath | undefined => {\n    if (!game) return undefined;\n\n    if (game.vendor === Vendor.LiveCasino) {\n      let featuredImage;\n      if (featuredImagesExceptions?.[game.id]) {\n        featuredImage = featuredImagesExceptions[game.id];\n      } else {\n        featuredImage = getRemoteAssetsPath(`./assets/heroBanners/${game.id}.jpg`);\n      }\n\n      const urlWithoutExtension = featuredImage.split('.jpg')[0] || undefined;\n\n      return {\n        url: featuredImage,\n        urlWithoutExtension,\n      };\n    } else if (game.vendor === Vendor.Slots) {\n      const slotImagePostfix = getImagePostfix(language);\n      return {\n        urlWithoutExtension: getSlotAssetsPath(`${game.id}/${game.id}_1200x800_${slotImagePostfix}`),\n      };\n    }\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  }\n);\n\nexport const useGameListSlice = {\n  getGame: (id: string | undefined): GameType | undefined => {\n    return useLobbySelector((state) => (id ? selectGameById(state, id) : undefined));\n  },\n  getGameImage: (id: string | undefined): GameImagePath | undefined => {\n    const isAsia = useConfigSlice.isAsia();\n    return useLobbySelector((state) => selectGameImage(state, id, isAsia));\n  },\n  selectFeaturedImage: (id: string | undefined): GameImagePath | undefined => {\n    return useLobbySelector((state) => selectFeaturedImage(state, id));\n  },\n};\n","import { FunctionComponent, ImgHTMLAttributes, useState } from 'react';\n\nexport interface PictureProps {\n  baseUrl: string;\n  baseUrlSmall?: string;\n  failoverUrl?: string;\n  failoverUrlSmall?: string;\n  imgProps?: ImgHTMLAttributes<HTMLImageElement>;\n}\nexport const Picture: FunctionComponent<PictureProps> = ({\n  baseUrl,\n  baseUrlSmall,\n  failoverUrl,\n  failoverUrlSmall,\n  imgProps,\n}) => {\n  const [failed, setFailed] = useState<boolean>(false);\n\n  let url = baseUrl;\n  let smallUrl = baseUrlSmall;\n  if (failed && failoverUrl) {\n    url = failoverUrl;\n    smallUrl = failoverUrlSmall;\n  }\n\n  return (\n    <picture>\n      {smallUrl ? (\n        <>\n          <source srcSet={smallUrl + '.avif'} type=\"image/avif\" media=\"(max-width: 468px)\" />\n          <source srcSet={smallUrl + '.webp'} type=\"image/webp\" media=\"(max-width: 468px)\" />\n          <source srcSet={smallUrl + '.jpg'} type=\"image/jpg\" media=\"(max-width: 468px)\" />\n        </>\n      ) : null}\n      <source srcSet={url + '.avif'} type=\"image/avif\" />\n      <source srcSet={url + '.webp'} type=\"image/webp\" />\n      <img\n        alt=\"\"\n        {...imgProps}\n        src={url + '.jpg'}\n        onError={(e) => {\n          setFailed(true);\n          imgProps?.onError?.(e);\n        }}\n      />\n    </picture>\n  );\n};\n","import { type FunctionComponent, ImgHTMLAttributes } from 'react';\n\nimport type { GameImagePath } from '../../store/slices/games/types';\nimport { Picture } from '../picture/Picture';\n\nexport interface GameImageProps extends ImgHTMLAttributes<HTMLImageElement> {\n  image: GameImagePath;\n}\n\nexport const GameImage: FunctionComponent<GameImageProps> = ({ image, ...rest }) => {\n  if (image?.urlWithoutExtension)\n    return (\n      <Picture\n        baseUrl={image?.urlWithoutExtension}\n        baseUrlSmall={image.urlWithoutExtensionSmall}\n        failoverUrl={image?.failoverUrlWithoutExtension}\n        failoverUrlSmall={image.failoverUrlWithoutExtensionSmall}\n        imgProps={rest}\n      />\n    );\n  if (image?.url) return <img src={image?.url} alt=\"\" {...rest} />;\n};\n","import { type FunctionComponent, useCallback, useState, useEffect, type MouseEvent } from 'react';\n\nimport { useSettingsSlice } from '@pp/core';\n\nimport { BackToGame } from '@pp/core/src/components/backToGame/BackToGame';\nimport { BackToGameHolder } from '@pp/core/src/components/backToGame/BackToGameHolder';\nimport { IconButton } from '@pp/core/src/components/controls/iconButton/IconButton';\nimport { Icons } from '@pp/core/src/components/icons/iconNames';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { HostCommunicationVersions, LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../../config/slot/SlotLobbyConfiguration';\nimport { useIsWide } from '../../hooks/useLobbyBreakpoints';\nimport { lobbyCloseMessage, LobbyMessageController } from '../../messages/LobbyMessageController';\nimport {\n  lobbyCloseMessage as lobbyCloseMessageV2,\n  LobbyMessageControllerV2,\n} from '../../messages/LobbyMessageControllerV2';\nimport { SlotMessageController, slotSetMutedState } from '../../messages/SlotMessageController';\nimport { useLobbyRedirectCallbackConnected } from '../../redirection/useLobbyRedirectCallbackConnected';\nimport { useActiveGameId } from '../../store/compositeSelectors/useActiveGameId';\nimport { useFiltersSlice } from '../../store/slices/filters/selectors';\nimport { useGameListSlice } from '../../store/slices/games/selectors';\nimport { useNavSlice } from '../../store/slices/nav/selectors';\nimport { GameImage } from '../gameImage/GameImage';\n\nimport styles from './BackToGameSlot.module.css';\n\nexport const BackToGameSlotConnected: FunctionComponent = () => {\n  const isWide = useIsWide();\n  const audioTrigger = useAudioTrigger();\n  const isDrawerOpen = useFiltersSlice.getIsDrawerOpen();\n  const previousGame = useNavSlice.getPreviousGame();\n  const activeGameId = useActiveGameId();\n  const redirect = useLobbyRedirectCallbackConnected();\n  const masterVolume = useSettingsSlice.getMasterChannelValue();\n\n  const game = useGameListSlice.getGame(activeGameId);\n  const gameImage = useGameListSlice.getGameImage(game?.id);\n\n  const [isOpen, setIsOpen] = useState(true);\n\n  const handleClick = useCallback((): void => {\n    if (!game) return;\n    if (previousGame) {\n      Logger.logEvent('backToGameClick', { additional: 'previous' });\n      redirect(game);\n    } else {\n      Logger.logEvent('backToGameClick', { additional: 'current' });\n      if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n        LobbyMessageControllerV2.post(lobbyCloseMessageV2());\n      } else {\n        LobbyMessageController.post(lobbyCloseMessage());\n      }\n    }\n  }, [game, previousGame, redirect]);\n\n  useEffect(() => {\n    if (activeGameId && !game) {\n      Logger.logFailure('backToGame', {\n        additional: 'noGame',\n      });\n    }\n  }, [activeGameId, game]);\n\n  const handleCloseClick = useCallback((): void => {\n    setIsOpen((prev) => !prev);\n    SlotMessageController.post(slotSetMutedState({ event: 'setMuteFromLobby', payload: { muted: true } }));\n  }, []);\n\n  const isInActiveSlotGame =\n    LobbyConfiguration.isSlots && LobbyConfiguration.isInGame && !SlotLobbyConfiguration?.isStandalone;\n\n  const handleMute = useCallback(\n    (event?: MouseEvent<HTMLButtonElement>): void => {\n      event?.stopPropagation();\n\n      audioTrigger.play({ name: 'menuClick' });\n      SlotMessageController.post(slotSetMutedState({ event: 'setMuteFromLobby', payload: { muted: !!masterVolume } }));\n    },\n    [audioTrigger, masterVolume]\n  );\n\n  if (!game || (LobbyConfiguration.isLiveCasino && LobbyConfiguration.isInGame)) return;\n  return (\n    <BackToGameHolder className={styles.backToGameSlots__holder}>\n      <BackToGame\n        actionLabel={<L12nText tk=\"LOBBY_BACK_TO_GAME\" />}\n        isHidden={!isWide && isDrawerOpen}\n        isOpen={isOpen}\n        name={game.translatedName}\n        onClick={handleClick}\n        onClose={handleCloseClick}\n        secondaryActions={\n          isInActiveSlotGame ? (\n            <IconButton icon={masterVolume ? Icons.SoundOn : Icons.SoundOff} small ghost onClick={handleMute} />\n          ) : undefined\n        }\n        poster={gameImage ? <GameImage image={gameImage} className={styles.backToGameSlots__image} /> : undefined}\n      />\n    </BackToGameHolder>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backToGameSlots__holder\":\"b_c\",\"backToGameSlots__image\":\"b_e\"};","import { useLobbyDispatch } from '../store/LobbyStore';\nimport { useLobbySlice } from '../store/slices/lobby/selectors';\nimport { lobbyActions } from '../store/slices/lobby/slice';\n\nexport const useOpenMenu = (): { isOpen: boolean; setIsOpen: (state: boolean) => void } => {\n  const dispatch = useLobbyDispatch();\n  const isOpen = useLobbySlice.getIsOpenMenu();\n\n  const setIsOpen = (state: boolean): void => {\n    dispatch(lobbyActions.setIsOpenMenu(state));\n  };\n\n  return {\n    isOpen,\n    setIsOpen,\n  };\n};\n","export default {\n  filteredGames: '',\n};\n","import { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\n\nimport type { SlotSlice } from './slice';\n\nexport const selectHideMetaNotifications = (state: LobbyRootState): boolean => {\n  return !!state.lobbySlots.userSettings?.hideMetaNotifications;\n};\n\nexport const useSlotsSlice = {\n  getTab: (): SlotSlice['tab'] => {\n    return useLobbySelector(({ lobbySlots }) => lobbySlots.tab);\n  },\n  getUserSettings: (): SlotSlice['userSettings'] => {\n    return useLobbySelector(({ lobbySlots }) => lobbySlots.userSettings);\n  },\n  getActivePromotions: (): SlotSlice['activePromo'] => {\n    return useLobbySelector(({ lobbySlots }) => lobbySlots.activePromo);\n  },\n  getHideMetaNotifications: (): boolean => {\n    return useLobbySelector(selectHideMetaNotifications);\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"filterBar__tab\":\"ej_ek\",\"filterBar__tab_active\":\"ej_el\"};","import type { FC, MouseEvent, ReactNode } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './FilterTag.module.css';\n\nexport type FilterTagOnClick = (\n  e: MouseEvent<HTMLButtonElement>,\n  value: { value: string; isActive: boolean; name: string }\n) => void;\n\nexport interface FilterTagProps {\n  /** Function to call when the tag is clicked */\n  onClick: FilterTagOnClick;\n  /** Label to display */\n  label: ReactNode;\n  /** Value to pass to the onClick function */\n  isActive: boolean;\n  /** current value */\n  value: string;\n  /** If the tag is disabled */\n  disabled?: boolean;\n  /** Name of the tag */\n  name: string;\n  /** Additional class name */\n  className?: string;\n}\n\n/**\n * FilterTag component, displays text and count.\n *\n *  */\nexport const FilterTag: FC<FilterTagProps> = ({ onClick, disabled, label, value, isActive, name, className }) => {\n  const mods = useModifiers(\n    styles,\n    'filterBar__tab',\n    {\n      active: isActive,\n    },\n    { withBaseClass: true }\n  );\n\n  const handleClick = (e: MouseEvent<HTMLButtonElement>): void => {\n    onClick(e, { value, isActive, name });\n  };\n\n  return (\n    <button\n      data-testid=\"filter-tag\"\n      type=\"button\"\n      disabled={disabled}\n      className={`${mods} ${className}`}\n      name={name}\n      onClick={handleClick}\n    >\n      {label}\n    </button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"swiper__button\":\"ih_ii\",\"swiper__button_isOverflowingStart\":\"ih_ij\",\"swiper_buttonBack\":\"ih_ik\",\"swiper__button_isOverflowingEnd\":\"ih_il\",\"swiper_buttonNext\":\"ih_im\",\"swiper_btnIcon\":\"ih_in\",\"swiper__button_wideBtn\":\"ih_io\"};","import type { FC, MouseEventHandler } from 'react';\n\nimport { Icon } from '@pp/core/src/components/icons/icon';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { useIsTouchDevice } from '../../../hooks/useLobbyBreakpoints';\n\nimport styles from './SwiperButton.module.css';\n\nexport interface ISwiperButtonProps {\n  isOverflowingStart: boolean;\n  isOverflowingEnd: boolean;\n  className?: string;\n  wideBtn?: boolean;\n  scrollByStep: (direction: -1 | 1) => void;\n}\n\nexport const SwiperButton: FC<ISwiperButtonProps> = ({\n  isOverflowingStart,\n  isOverflowingEnd,\n  className = '',\n  wideBtn = false,\n  scrollByStep,\n}) => {\n  const isTouchDevice = useIsTouchDevice();\n  const audioTrigger = useAudioTrigger('general');\n\n  const mods = useModifiers(\n    styles,\n    'swiper__button',\n    {\n      isOverflowingStart,\n      isOverflowingEnd,\n      wideBtn,\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  const stopMd: MouseEventHandler<HTMLButtonElement> = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  const goNext: MouseEventHandler<HTMLButtonElement> = (e) => {\n    stopMd(e);\n\n    audioTrigger.play({ name: 'menuClick' });\n    scrollByStep(1);\n  };\n\n  const goPrev: MouseEventHandler<HTMLButtonElement> = (e) => {\n    stopMd(e);\n\n    audioTrigger.play({ name: 'menuClick' });\n    scrollByStep(-1);\n  };\n\n  return (\n    <>\n      {!isTouchDevice ? (\n        <>\n          <button\n            onClick={goNext}\n            onMouseDown={stopMd}\n            type=\"button\"\n            className={`${className} ${mods} ${styles.swiper_buttonNext} buttonNext`}\n          >\n            <span className={styles.swiper_btnIcon}>\n              <Icon icon=\"ChevronRight\" />\n            </span>\n          </button>\n\n          <button\n            onMouseDown={stopMd}\n            onClick={goPrev}\n            type=\"button\"\n            className={`${className} ${mods} ${styles.swiper_buttonBack} buttonBack`}\n          >\n            <span className={styles.swiper_btnIcon}>\n              <Icon icon=\"ChevronLeft\" />\n            </span>\n          </button>\n        </>\n      ) : null}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"swiper__wrapper\":\"ew_ex\",\"swiper__container\":\"ew_ey\",\"swiper__container_centered\":\"ew_ez\",\"swiper__container_isOverflowingStart\":\"ew_eA\",\"swiper__container_isOverflowingEnd\":\"ew_eB\",\"swiper__item\":\"ew_eC\",\"swiper__item_grow\":\"ew_eE\"};","import type { FC, MouseEventHandler, ReactNode } from 'react';\nimport { Children, useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { SwiperButton } from './swiperButton/SwiperButton';\n\nimport styles from './HorizontalContentScroll.module.css';\n\nexport interface HorizontalContentScrollProps {\n  children: ReactNode;\n  className?: string;\n  buttonClass?: string;\n  classNameContainer?: string;\n  growItems?: boolean;\n  centered?: boolean;\n  setItem?: number;\n  wideBtn?: boolean;\n  noWrapper?: boolean;\n}\n\nconst MOVEMENT_THRESHOLD = 10;\nconst ATTRACTION_THRESHOLD = 10;\nconst OVERSCROLL_THRESHOLD = 0;\n\nexport const HorizontalContentScroll: FC<HorizontalContentScrollProps> = ({\n  children,\n  buttonClass = '',\n  className = '',\n  classNameContainer = '',\n  growItems = false,\n  centered = false,\n  wideBtn,\n  noWrapper,\n  setItem,\n}) => {\n  const [scrollLeft, setScrollLeft] = useState<number>(0);\n  const [isOverflowingStart, setIsOverflowingStart] = useState(false);\n  const [isOverflowingEnd, setIsOverflowingEnd] = useState(false);\n  const [averageSlideWidth, setAverageSlideWidth] = useState(0);\n\n  const [moveObject, setMoveObject] = useState({\n    startScrollLeft: 0,\n    isStartMove: false,\n    isStopClick: false,\n    startX: 0,\n    endX: 0,\n  });\n\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const mods = useModifiers(\n    styles,\n    'swiper__container',\n    {\n      isOverflowingStart,\n      isOverflowingEnd,\n      centered,\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  const getScrollLength = (): number => {\n    return moveObject.endX === 0 ? 0 : Math.round(moveObject.startX - moveObject.endX);\n  };\n\n  const recalculateScrolling = useCallback(() => {\n    const containerElement = containerRef.current;\n    if (!containerElement) return;\n\n    const overscrollStart = containerElement.scrollLeft;\n    const overscrollEnd = containerElement.scrollWidth - containerElement.scrollLeft - containerElement.clientWidth;\n\n    setIsOverflowingStart(Math.floor(overscrollStart) > OVERSCROLL_THRESHOLD);\n    setIsOverflowingEnd(Math.floor(overscrollEnd) > OVERSCROLL_THRESHOLD);\n    setScrollLeft(overscrollStart);\n  }, []);\n\n  const performScroll = useCallback((scrollOffset: number): void => {\n    const containerElement = containerRef.current;\n    if (!containerElement) return;\n\n    if (scrollOffset <= ATTRACTION_THRESHOLD) {\n      scrollOffset = 0;\n    }\n    if (scrollOffset >= containerElement.scrollWidth - containerElement.clientWidth - ATTRACTION_THRESHOLD) {\n      scrollOffset = containerElement.scrollWidth;\n    }\n    containerElement.scrollTo({ left: scrollOffset, behavior: 'smooth' });\n  }, []);\n\n  const scrollByStep = useCallback(\n    (direction: -1 | 1) => {\n      const containerElement = containerRef.current;\n      if (!containerElement) return;\n\n      performScroll(containerElement.scrollLeft + averageSlideWidth * direction);\n    },\n    [averageSlideWidth, performScroll]\n  );\n\n  const goTo = useCallback(\n    (index: number | 'next' | 'previous'): void => {\n      const containerElement = containerRef.current;\n      if (!containerElement) return;\n      const slides = containerElement.children;\n\n      const scrollTo = (index: number): void => {\n        const slide = slides[index] as HTMLDivElement;\n        const scrollOffset = slide.offsetLeft;\n\n        performScroll(scrollOffset);\n      };\n\n      if (index === 'next' || index === 'previous') {\n        let activeSlideIndex = 0;\n        const scrollLeft = containerElement.scrollLeft;\n        for (let slideIndex = 0; slideIndex < slides.length; slideIndex++) {\n          const slide = slides[slideIndex] as HTMLDivElement;\n          if (slide.offsetLeft > scrollLeft) {\n            activeSlideIndex = slideIndex;\n            break;\n          }\n        }\n\n        if (index === 'next' && activeSlideIndex < slides.length - 1) {\n          scrollTo(activeSlideIndex + 1);\n        } else if (index === 'previous' && activeSlideIndex > 0) {\n          scrollTo(activeSlideIndex - 1);\n        }\n      } else if (index >= 0 && index < slides.length) {\n        scrollTo(index);\n      }\n    },\n    [performScroll]\n  );\n\n  useEffect(() => {\n    const target = containerRef.current;\n    if (!target) return;\n\n    const recalculate = (): void => {\n      recalculateScrolling();\n      setAverageSlideWidth(target.scrollWidth / target.children.length);\n    };\n\n    const resizeObserver = new ResizeObserver(() => {\n      recalculate();\n    });\n\n    resizeObserver.observe(containerRef.current);\n\n    const mutationObserver = new MutationObserver(() => {\n      recalculate();\n    });\n\n    mutationObserver.observe(containerRef.current, { childList: true });\n\n    containerRef.current.scrollTo({ left: 0 });\n\n    return () => {\n      resizeObserver.disconnect();\n      mutationObserver.disconnect();\n    };\n  }, [recalculateScrolling]);\n\n  useEffect(() => {\n    if (setItem !== undefined) {\n      goTo(setItem);\n    }\n  }, [setItem, goTo]);\n\n  const handleClick: MouseEventHandler<HTMLDivElement> = (event) => {\n    if (moveObject.isStopClick) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  };\n\n  const handleMouseDown: MouseEventHandler<HTMLDivElement> = (event) => {\n    const container = containerRef.current;\n\n    if (!container) return;\n\n    container.style.scrollSnapType = 'none';\n\n    setMoveObject((prev) => ({\n      ...prev,\n      isStartMove: true,\n      startX: event.clientX,\n      startScrollLeft: scrollLeft,\n    }));\n  };\n\n  const handleMouseMove: MouseEventHandler<HTMLDivElement> = (event) => {\n    if (!moveObject.isStartMove) return;\n\n    const container = containerRef.current;\n\n    if (!container) return;\n\n    const scrollLength = getScrollLength();\n\n    if (Math.abs(scrollLength) > MOVEMENT_THRESHOLD) {\n      container.scrollTo({ left: moveObject.startScrollLeft + scrollLength });\n    }\n    setMoveObject((prev) => ({\n      ...prev,\n      endX: event.clientX,\n      endY: event.clientY,\n    }));\n  };\n\n  const handleMouseUp: MouseEventHandler<HTMLDivElement> = () => {\n    const container = containerRef.current;\n\n    if (!container) return;\n    //todo: check why it need as inline style;\n    // container.style.scrollSnapType = 'x mandatory';\n\n    const scrollLength = getScrollLength();\n\n    const isStopClick = Math.abs(scrollLength) > MOVEMENT_THRESHOLD;\n\n    setMoveObject({\n      startX: 0,\n      endX: 0,\n      isStartMove: false,\n      isStopClick,\n      startScrollLeft: 0,\n    });\n  };\n\n  const itemMods = useModifiers(\n    styles,\n    'swiper__item',\n    {\n      grow: growItems,\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  const newChildren = useMemo(() => {\n    if (noWrapper) return children;\n    return Children.map(children, (child) => {\n      return <div className={itemMods}>{child}</div>;\n    });\n  }, [children, itemMods, noWrapper]);\n\n  return (\n    <div\n      className={`${className} ${styles.swiper__wrapper}`}\n      onClickCapture={handleClick}\n      onMouseDown={handleMouseDown}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseUp}\n      onMouseUp={handleMouseUp}\n    >\n      <div className={`${classNameContainer} ${mods}`} onScroll={recalculateScrolling} ref={containerRef}>\n        {newChildren}\n      </div>\n      <SwiperButton\n        className={buttonClass}\n        isOverflowingStart={isOverflowingStart}\n        isOverflowingEnd={isOverflowingEnd}\n        wideBtn={wideBtn}\n        scrollByStep={scrollByStep}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"barButton\":\"cY_cZ\",\"barButton_active\":\"cY_c0\"};","import { FC, ReactElement } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './ButtonFilterBar.module.css';\n\nexport interface ButtonFilterBarProps {\n  /* The children of the button */\n  children: ReactElement;\n  /* The function to handle the button click */\n  onClick: () => void;\n  /* If the button is active */\n  active?: boolean;\n}\n\n/**\n * The button for the filter bar\n */\nexport const ButtonFilterBar: FC<ButtonFilterBarProps> = ({ children, onClick, active = false }) => {\n  const filterBtnMods = useModifiers(\n    styles,\n    'barButton',\n    {\n      active,\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <button data-testid=\"button-filter-bar\" type=\"button\" onMouseDown={onClick} className={filterBtnMods}>\n      {children}\n    </button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"warper\":\"eF_eG\",\"warper_hidden\":\"eF_eH\",\"input\":\"eF_eI\",\"input_hidden\":\"eF_eJ\",\"inputIcon\":\"eF_eK\",\"icon\":\"eF_eL\",\"clearButton\":\"eF_eM\",\"clearButton_hidden\":\"eF_eN\",\"clearButton_isStuckOpen\":\"eF_eO\"};","import type { FunctionComponent, InputHTMLAttributes, MouseEventHandler } from 'react';\nimport { useRef } from 'react';\n\nimport { useTranslation } from '@pp/core/src/api/useTranslation';\nimport { Icon, Icons } from '@pp/core/src/components/icons/';\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { ButtonFilterBar } from '../buttonFilterBar/ButtonFilterBar';\n\nimport styles from './inputSearch.module.css';\n\nexport interface InputSearchProps extends InputHTMLAttributes<HTMLInputElement> {\n  /** Value for input  */\n  value?: string;\n  /** Function to clear input field */\n  clearFn: () => void;\n  /** Classname for input wrapper component */\n  className?: string;\n  /** State to control input open state */\n  open: boolean;\n  /** If true, input is stuck open, and can't be closed */\n  isStuckOpen?: boolean;\n  /** Function to set open state */\n  setOpenSearch: (value: boolean) => void;\n}\n\n/** Input component, built on top of plain input component. Can display icons before and after the input field */\nexport const InputSearch: FunctionComponent<InputSearchProps> = ({\n  clearFn,\n  open,\n  isStuckOpen,\n  setOpenSearch,\n  value = '',\n  className = '',\n  onBlur,\n  ...rest\n}) => {\n  const mods = useModifiers(\n    styles,\n    'warper',\n    {\n      hidden: !open,\n    },\n    { withBaseClass: true }\n  );\n\n  const clearButtonMods = useModifiers(\n    styles,\n    'clearButton',\n    {\n      hidden: !value,\n      isStuckOpen,\n    },\n    { withBaseClass: true }\n  );\n\n  const ref = useRef<HTMLInputElement>(null);\n\n  const { translations } = useTranslation();\n\n  const id = 'searchInput__id';\n\n  const handleClick = (): void => {\n    setOpenSearch(true);\n  };\n\n  const handleBlur = (): void => {\n    setOpenSearch(false);\n    ref.current?.blur();\n  };\n\n  const handleClearSearch: MouseEventHandler<HTMLButtonElement> = (e): void => {\n    e.preventDefault();\n    clearFn();\n  };\n\n  const placeholder = translations['LOBBY_SEARCH_FOR_GAMES'];\n\n  return (\n    <label htmlFor={id}>\n      <div className={mods}>\n        <input\n          placeholder={value?.length ? '' : placeholder}\n          data-testid=\"input-field\"\n          spellCheck=\"false\"\n          autoComplete=\"off\"\n          maxLength={80}\n          aria-labelledby=\"searchInput-label\"\n          type=\"text\"\n          name=\"search\"\n          ref={ref}\n          {...rest}\n          onBlur={(event) => {\n            onBlur?.(event);\n            Logger.logEvent('searchUsed', {\n              additional: event.target.value,\n            });\n          }}\n          value={value}\n          className={`${styles.input} ${className}`}\n          id={id}\n        />\n\n        <Icon icon={Icons.Search} className={styles.inputIcon} />\n\n        <button\n          type=\"button\"\n          className={clearButtonMods}\n          onClick={value?.length ? handleClearSearch : handleBlur}\n          onMouseDown={(e) => e.preventDefault()}\n        >\n          <Icon icon={Icons.Close} className={styles.icon} />\n        </button>\n      </div>\n\n      {open ? null : (\n        <ButtonFilterBar onClick={handleClick}>\n          <Icon icon={Icons.Search} className={styles.icon} />\n        </ButtonFilterBar>\n      )}\n    </label>\n  );\n};\n\nInputSearch.displayName = 'InputSearch';\n","// extracted by mini-css-extract-plugin\nexport default {\"filterBar\":\"fB_bj\",\"filterBar_input\":\"fB_fC\",\"filterBar_input_fullWidth\":\"fB_fE\",\"filterBar_input_keepOpen\":\"fB_fF\",\"filterBar_button\":\"fB_fG\",\"filterIcon\":\"fB_bo\",\"filterBar_button_active\":\"fB_fH\",\"filterBar_tags\":\"fB_bp\",\"filterBar_tags_wrapper\":\"fB_fI\",\"scroll_btns\":\"fB_bs\",\"drawerLabel\":\"fB_bt\",\"drawerContentTags\":\"fB_bu\",\"filterBar__tab\":\"fB_ek\"};","import type { FC, HTMLAttributes } from 'react';\nimport { useEffect, useState } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { FilterTag, type FilterTagOnClick } from '../../../components/filterTag/FilterTag';\nimport { HorizontalContentScroll } from '../../../components/horizontalContentScroll/HorizontalContentScroll';\nimport { InputSearch } from '../../../components/inputSearch/inputSearch';\nimport { useIsWide } from '../../../hooks/useLobbyBreakpoints';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { filtersActions } from '../../../store/slices/filters/slice';\nimport type { TabOptions } from '../../../store/slices/slots/types';\n\nimport styles from './SlotsFilterBar.module.css';\n\nexport interface SlotsFilterBarProps extends HTMLAttributes<HTMLDivElement> {\n  searchValue: string;\n  tabs: {\n    label: JSX.Element;\n    value: TabOptions;\n  }[];\n  tabValue: string;\n  setTab: FilterTagOnClick;\n}\n\nexport const SlotsFilterBar: FC<SlotsFilterBarProps> = ({ searchValue, tabValue, setTab, tabs }) => {\n  const dispatch = useLobbyDispatch();\n  const isWide = useIsWide();\n  const [openSearch, setOpenSearch] = useState(false);\n\n  const inputMods = useModifiers(styles, 'filterBar_input', {\n    fullWidth: !isWide,\n    keepOpen: !isWide && searchValue.length !== 0,\n  });\n\n  const setSearchValue = (value: string): void => {\n    dispatch(filtersActions.setSearch(value));\n  };\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleClearSearch = (): void => {\n    dispatch(filtersActions.resetSearch());\n  };\n\n  useEffect(() => {\n    dispatch(filtersActions.resetSearch());\n  }, [dispatch]);\n\n  return (\n    <div className={styles.filterBar}>\n      <div className={`${styles.filterBar_input} ${inputMods}`}>\n        <InputSearch\n          value={searchValue}\n          onChange={handleSearch}\n          clearFn={handleClearSearch}\n          open={openSearch || isWide}\n          setOpenSearch={setOpenSearch}\n        />\n      </div>\n      <div className={`${styles.filterBar_tags_wrapper}`}>\n        <HorizontalContentScroll>\n          {tabs.map(({ label, value }) => (\n            <FilterTag\n              key={value}\n              name=\"typeSlots\"\n              onClick={setTab}\n              label={label}\n              isActive={value === tabValue}\n              value={value as string}\n              className={styles.filterBar__tab}\n            />\n          ))}\n        </HorizontalContentScroll>\n      </div>\n    </div>\n  );\n};\n","import { type FunctionComponent, useMemo } from 'react';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\n\nimport type { FilterTagOnClick } from '../../../components/filterTag';\nimport { useOpenMenu } from '../../../hooks/useOpenMenu';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { useFiltersSlice } from '../../../store/slices/filters/selectors';\nimport { useSlotsSlice } from '../../../store/slices/slots/selectors';\nimport { slotsActions } from '../../../store/slices/slots/slice';\nimport { TabOptions } from '../../../store/slices/slots/types';\n\nimport { SlotsFilterBar } from './SlotsFilterBar';\n\nexport const SlotsFilterBarConnected: FunctionComponent = () => {\n  const dispatch = useLobbyDispatch();\n  const audioTrigger = useAudioTrigger('general');\n  const { search } = useFiltersSlice.getSearch();\n  const tab = useSlotsSlice.getTab();\n  const { setIsOpen } = useOpenMenu();\n\n  const handleTabChange: FilterTagOnClick = (_, { value }) => {\n    audioTrigger.play({ name: 'menuClick' });\n    setIsOpen(false);\n    dispatch(slotsActions.setTab(value as TabOptions));\n  };\n\n  const memoTab = useMemo(() => {\n    return Object.keys(TabOptions).map((key) => {\n      return {\n        label: <L12nText tk={key} />,\n        value: TabOptions[key as keyof typeof TabOptions],\n      };\n    });\n  }, []);\n\n  return <SlotsFilterBar searchValue={search} tabValue={tab} setTab={handleTabChange} tabs={memoTab} />;\n};\n","import { useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { getCategoryIdFromSlug } from './categories';\n\nexport const useCategoryIdConnected = (): string | null => {\n  const { categorySlug } = useParams<{ categorySlug: string }>();\n  return useMemo(() => {\n    if (!categorySlug) return null;\n    return getCategoryIdFromSlug(categorySlug);\n  }, [categorySlug]);\n};\n","import type { FunctionComponent } from 'react';\n\nimport { IconButton, type IconButtonProps } from '@pp/core/src/components/controls/iconButton/IconButton';\nimport { Icons } from '@pp/core/src/components/icons/iconNames';\n\nimport styles from './FilterBarCloseButton.module.css';\n\nexport const FilterBarCloseButton: FunctionComponent<{\n  onClick: IconButtonProps['onClick'];\n}> = ({ onClick }) => {\n  return (\n    <div className={styles.filterBarCloseButton}>\n      <IconButton icon={Icons.Close} tiny className={styles.filterBarCloseButton__button} onClick={onClick} />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"filterBarCloseButton\":\"cy_cz\",\"filterBarCloseButton__button\":\"cy_cA\"};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"gL_cC\",\"button_fullWidth\":\"gL_gM\",\"button_secondary\":\"gL_gN\",\"button_primary\":\"gL_gO\",\"button__icon\":\"gL_gP\"};","import type { ButtonHTMLAttributes, FC, ReactNode } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './Button.module.css';\n\nexport enum ButtonVariants {\n  SECONDARY = 'secondary',\n  PRIMARY = 'primary',\n}\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Icon to display on button. If icon is from core icons set, then pass the name of it, else pass whole icon component */\n  icon?: keyof Icons | ReactNode;\n  /** Button display variant, main for light color, secondary for dark */\n  variant: ButtonVariants | string;\n  /** Count is displayed after icon */\n  count?: number;\n  /** Button width is 100% of parent */\n  fullWidth?: boolean;\n}\n\nconst checkIfKeyOfIcons = (icon: keyof Icons | ReactNode): icon is keyof Icons => {\n  return Object.keys(Icons).includes(`${icon}`);\n};\n\n/** Button element displays text, icon and number or just the collection of children */\nexport const Button: FC<ButtonProps> = ({ count, icon, variant, children, fullWidth, className = '', ...rest }) => {\n  const mods = useModifiers(\n    styles,\n    'button',\n    {\n      secondary: variant === ButtonVariants.SECONDARY,\n      primary: variant === ButtonVariants.PRIMARY,\n      fullWidth,\n    },\n    { withBaseClass: true }\n  );\n\n  const isIcon = checkIfKeyOfIcons(icon);\n\n  return (\n    <button className={`${mods} ${className}`} {...rest}>\n      {children && <span className={styles.button__label}>{children}</span>}\n      {icon && (\n        <div className={styles.button__icon}>\n          {isIcon ? <Icon icon={icon} /> : icon}\n          {count}\n        </div>\n      )}\n    </button>\n  );\n};\n","import type { FC, ReactNode } from 'react';\nimport { useMemo } from 'react';\n\nimport { CoreDrawer, DrawerAnchor, DrawerVariant } from '@pp/core/src/components/drawer/DrawerRoot';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\n\nimport { useIsLandScape } from '../../hooks/useLobbyBreakpoints';\nimport { Button, ButtonVariants } from '../button/Button';\n\nimport styles from './FilterDrawer.module.css';\n\nexport interface FilterDrawerProps {\n  open: boolean;\n  onClose: () => void;\n  onApply: () => void;\n  reset: () => void;\n  children?: ReactNode;\n}\n\nconst customStyle = {\n  '--droverBackground': 'hsl(0, 0%, 12%)',\n  '--droverHeaderBackground': 'hsl(0, 0%, 9%)',\n};\n\nexport const FilterDrawer: FC<FilterDrawerProps> = ({ open, onClose, reset, children }) => {\n  const landscape = useIsLandScape();\n\n  const headerComponent = useMemo(() => {\n    return (\n      <div className={styles.drawerHeader}>\n        <L12nText tk=\"LOBBY_FILTERS\" />\n      </div>\n    );\n  }, []);\n\n  return (\n    <CoreDrawer\n      open={open}\n      onClose={onClose}\n      anchor={landscape ? DrawerAnchor.right : DrawerAnchor.bottom}\n      variant={DrawerVariant.content}\n      header={headerComponent}\n      customStyle={customStyle}\n      footer={\n        <div className={styles.drawerAction}>\n          <Button variant={ButtonVariants.SECONDARY} onClick={reset} fullWidth>\n            <L12nText tk=\"LOBBY_REMOVE_FILTERS\" />\n          </Button>\n          <Button variant={ButtonVariants.PRIMARY} onClick={onClose} fullWidth>\n            <L12nText tk=\"LOBBY_SEE_RESULTS\" />\n          </Button>\n        </div>\n      }\n    >\n      <div className={styles.drawerContent}>{children}</div>\n    </CoreDrawer>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"drawerHeader\":\"c1_ea\",\"drawerAction\":\"c1_eb\",\"drawerContent\":\"c1_ec\"};","import { useEffect } from 'react';\n\nexport const useClickOutside = (ref: React.RefObject<HTMLElement>, isOpen: boolean, onClose: () => void): void => {\n  useEffect(() => {\n    const handleDocumentClick = (event: MouseEvent): void => {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('click', handleDocumentClick);\n      return (): void => {\n        document.removeEventListener('click', handleDocumentClick);\n      };\n    } else {\n      document.removeEventListener('click', handleDocumentClick);\n    }\n  }, [isOpen, onClose, ref]);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"filterPopover\":\"ee_ef\",\"filterPopover_isOpen\":\"ee_eg\",\"filterPopover__body\":\"ee_eh\",\"filterPopover__footer\":\"ee_ei\"};","import type { ReactElement, ReactNode } from 'react';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { useClickOutside } from '../../hooks/useClickOutside';\nimport { Button, ButtonVariants } from '../button/Button';\n\nimport styles from './FilterPopover.module.css';\n\nexport interface FilterPopoverProps {\n  /** Is the popover open */\n  isOpen: boolean;\n  /** Callback to close the popover */\n  onClose: () => void;\n  /** Callback to reset the filters */\n  reset: () => void;\n  /** Children to render in the popover */\n  children: ReactNode;\n  /** Ref for the popover */\n  popoverRef: React.RefObject<HTMLDivElement>;\n}\n\n/**\n * FilterPopover component, displays a popover with filters.\n *  */\nexport const FilterPopover = ({\n  isOpen,\n  children,\n  reset,\n  onClose,\n  popoverRef,\n}: FilterPopoverProps): ReactElement | null => {\n  const classes = useModifiers(\n    styles,\n    'filterPopover',\n    {\n      isOpen,\n    },\n    { withBaseClass: true }\n  );\n\n  useClickOutside(popoverRef, isOpen, onClose);\n\n  return (\n    <div data-testid=\"filter-popover\" className={classes}>\n      <div className={styles.filterPopover__body}>{children}</div>\n      <div className={styles.filterPopover__footer}>\n        <Button data-testid=\"filter-popover-reset-button\" variant={ButtonVariants.SECONDARY} onClick={reset} fullWidth>\n          <L12nText tk=\"LOBBY_REMOVE_FILTERS\" />\n        </Button>\n        <Button data-testid=\"filter-popover-close-button\" variant={ButtonVariants.PRIMARY} onClick={onClose} fullWidth>\n          <L12nText tk=\"LOBBY_SEE_RESULTS\" />\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import type { FunctionComponent, ReactElement } from 'react';\n\nimport { IconSvg, type IconSvgProps } from '@pp/core/src/components/icons/IconSvg';\n\nimport type { LobbyIcons } from './LobbyIconNames';\n\nexport interface LobbyIconProps extends IconSvgProps {\n  icon: keyof LobbyIcons;\n}\n\nexport const LobbyIcon: FunctionComponent<LobbyIconProps> = (props): ReactElement => <IconSvg {...props} />;\n","import { IconSet, ReduceIconSet } from '@pp/core/src/components/icons/iconNames';\n\nimport * as LobbyIconsSource from './LobbyIcons';\n\nexport const LobbyIconsSet: IconSet<typeof LobbyIconsSource> = ReduceIconSet(LobbyIconsSource);\n\nexport const LobbyIcons = { ...LobbyIconsSet };\nexport interface LobbyIcons extends IconSet<typeof LobbyIconsSet> {}\n","// extracted by mini-css-extract-plugin\nexport default {\"filterBar\":\"bi_bj\",\"filterBar_withClose\":\"bi_bk\",\"filterBar_openSearch\":\"bi_bl\",\"filterBar__btnBox\":\"bi_bm\",\"filterBar_closeBtn\":\"bi_bn\",\"filterIcon\":\"bi_bo\",\"filterBar_tags\":\"bi_bp\",\"filterBar__tagsWrapper\":\"bi_bq\",\"filterBar__tagsWrapper_hidden\":\"bi_br\",\"scroll_btns\":\"bi_bs\",\"drawerLabel\":\"bi_bt\",\"drawerContentTags\":\"bi_bu\",\"filterBar_count_label\":\"bi_bv\",\"goodRoadsCount\":\"bi_bw\",\"filterBar_noFilters\":\"bi_bx\"};","import type { ChangeEventHandler, FunctionComponent, HTMLAttributes, ReactElement, ReactNode } from 'react';\nimport { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { useDebounce } from '../../hooks/useDebounce';\nimport { useIsMediumLandscape, useIsWide } from '../../hooks/useLobbyBreakpoints';\nimport { lobbyToggleBackToGameMessage } from '../../messages/commonMessages';\nimport { LobbyMessageController } from '../../messages/LobbyMessageController';\nimport type { IListItemFilter } from '../../store/slices/filters/types';\nimport { ButtonFilterBar } from '../buttonFilterBar/ButtonFilterBar';\nimport { FilterDrawer } from '../filterDrawer/FilterDrawer';\nimport { FilterPopover } from '../filterPopover/FilterPopover';\nimport { FilterTag, type FilterTagOnClick } from '../filterTag/FilterTag';\nimport { HorizontalContentScroll } from '../horizontalContentScroll/HorizontalContentScroll';\nimport { InputSearch } from '../inputSearch/inputSearch';\nimport { LobbyIcon } from '../lobbyIcons/LobbyIcon';\nimport { LobbyIcons } from '../lobbyIcons/LobbyIconNames';\n\nimport styles from './FilterBar.module.css';\n\nexport interface FilterBarProps extends HTMLAttributes<HTMLDivElement> {\n  searchValue: string;\n  setSearch: (value?: string) => void;\n  onBlur: () => void;\n  setSearchDebounce: (value?: string) => void;\n  isSearchOpen: boolean;\n  setSearchOpen: (value: boolean) => void;\n  setFilterValue: (value: Record<string, string[]>) => void;\n  resetSearch: () => void;\n  filters: IListItemFilter[];\n  storeValues?: Record<string, string[]>;\n  setIsMenuOpen: (value: boolean) => void;\n  isDrawerOpen: boolean;\n  setIsDrawerOpen: (value: boolean) => void;\n  setIsOpen: (value: boolean) => void;\n  categoryId: string;\n  closeButton?: ReactNode;\n}\n\nexport const FilterBar: FunctionComponent<FilterBarProps> = ({\n  filters,\n  storeValues,\n  searchValue,\n  setSearch,\n  onBlur,\n  setSearchDebounce,\n  isSearchOpen,\n  resetSearch,\n  setSearchOpen,\n  setFilterValue,\n  setIsMenuOpen,\n  isDrawerOpen,\n  setIsDrawerOpen,\n  setIsOpen,\n  closeButton,\n}) => {\n  const audioTrigger = useAudioTrigger('general');\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  const filterValue: Record<string, string[]> | undefined = useMemo(() => storeValues || {}, [storeValues]);\n\n  const isWide = useIsWide();\n  const isMediumLandscape = useIsMediumLandscape();\n\n  const filterCount = Object.keys(filterValue).reduce((acc, key) => {\n    return acc + filterValue[key].length;\n  }, 0);\n\n  const filterBarMods = useModifiers(\n    styles,\n    'filterBar',\n    {\n      withClose: !!closeButton,\n      openSearch: isSearchOpen || searchValue.length > 0 || filters.length === 0,\n      noFilters: filters.length === 0,\n    },\n    { withBaseClass: true }\n  );\n\n  const sliderMods = useModifiers(\n    styles,\n    'filterBar__tagsWrapper',\n    {\n      hidden: (searchValue.length > 0 || isSearchOpen) && !isMediumLandscape,\n    },\n    { withBaseClass: true }\n  );\n\n  const handleFilterBtn = (): void => {\n    Logger.logEvent('filterButtonClick', {\n      additional: isDrawerOpen ? 'toClose' : 'toOpen',\n    });\n    audioTrigger.play({ name: 'menuClick' });\n\n    setIsMenuOpen(false);\n    setIsDrawerOpen(!isDrawerOpen);\n  };\n\n  const handleCloseDrawer = (): void => {\n    setIsDrawerOpen(false);\n    audioTrigger.play({ name: 'menuClick' });\n  };\n\n  const handleChange: FilterTagOnClick = useCallback(\n    (e, data) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const { name, isActive, value } = data;\n      audioTrigger.play({ name: 'menuClick' });\n      setIsOpen(false);\n\n      const prevValue = filterValue[name];\n      const additionalLogPayload = `${name}-${value}`;\n\n      if (isActive) {\n        Logger.logEvent('filterClear', { additional: additionalLogPayload });\n        setFilterValue({\n          ...filterValue,\n          [name]: prevValue ? prevValue.filter((val) => val !== value) : [],\n        });\n      } else {\n        Logger.logEvent('filterApply', { additional: additionalLogPayload });\n        setFilterValue({\n          ...filterValue,\n          [name]: prevValue ? [...prevValue, value] : [value],\n        });\n      }\n    },\n    [audioTrigger, filterValue, setFilterValue, setIsOpen]\n  );\n\n  const debounceSearchValue = useDebounce(searchValue);\n\n  const handleSearch: ChangeEventHandler<HTMLInputElement> = (e): void => {\n    e.preventDefault();\n    setSearch(e.target.value);\n  };\n\n  useEffect(() => {\n    setSearchDebounce(debounceSearchValue);\n  }, [debounceSearchValue, setSearchDebounce]);\n\n  const handleResetSearch = useCallback((): void => {\n    resetSearch();\n  }, [resetSearch]);\n\n  const resetFilters = (): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    setIsDrawerOpen(false);\n    setFilterValue({});\n  };\n\n  const mappingTags = useCallback(\n    (f: IListItemFilter): ReactNode => {\n      return f.tags.map((tag, i) => {\n        const isMinBet = f.label === 'MIN_BET';\n        const val: string = isMinBet ? `${i + 1}` : `${tag}`;\n        const checked = !!filterValue[f.label]?.includes(val);\n        const isLastChild = i === f.tags.length - 1;\n        const label = (\n          <FilterLabel\n            tag={tag as string}\n            translation={f.translations?.[i]}\n            isMinBet={isMinBet}\n            goodRoadsCount={f.count}\n          />\n        );\n\n        return (\n          <FilterTag\n            key={tag as string}\n            label={label}\n            name={f.label}\n            className={isLastChild ? styles.filterTag_lastChild : ''}\n            value={val}\n            isActive={checked}\n            onClick={handleChange}\n          />\n        );\n      });\n    },\n    [handleChange, filterValue]\n  );\n\n  const drawerContent = useMemo(() => {\n    return (\n      <div className={styles.drawerFiltersBox}>\n        {filters.map((item) => (\n          <>\n            <h3 className={styles.drawerLabel} key={item.label}>\n              {<L12nText tk={item.label} />}\n            </h3>\n            <div className={styles.drawerContentTags}>{mappingTags(item)}</div>\n          </>\n        ))}\n      </div>\n    );\n  }, [filters, mappingTags]);\n\n  const filterBarContent = useMemo(() => {\n    return filters.flatMap((item: IListItemFilter) => mappingTags(item));\n  }, [filters, mappingTags]);\n\n  useEffect(() => {\n    LobbyMessageController.post(\n      lobbyToggleBackToGameMessage({\n        isHidden: !isWide && isDrawerOpen,\n      })\n    );\n  }, [isWide, isDrawerOpen]);\n\n  return (\n    <div className={filterBarMods} data-testid=\"filter-bar\">\n      {closeButton ?? null}\n      <InputSearch\n        value={searchValue}\n        onChange={handleSearch}\n        clearFn={handleResetSearch}\n        open={isSearchOpen || filters.length === 0 || isWide}\n        isStuckOpen={filters.length === 0}\n        setOpenSearch={setSearchOpen}\n        onBlur={onBlur}\n      />\n\n      {filters.length > 0 ? (\n        <>\n          <div className={styles.filterBar__btnBox} ref={popoverRef}>\n            <ButtonFilterBar onClick={handleFilterBtn} active={filterCount > 0}>\n              <LobbyIcon className={styles.filterIcon} icon={LobbyIcons.Filter} />\n            </ButtonFilterBar>\n\n            {isWide ? (\n              <FilterPopover\n                popoverRef={popoverRef}\n                isOpen={isDrawerOpen}\n                onClose={() => {\n                  Logger.logEvent('filterPopoverClosed');\n                  handleCloseDrawer();\n                }}\n                reset={() => {\n                  Logger.logEvent('filterReset', { additional: 'popover' });\n                  resetFilters();\n                }}\n              >\n                {drawerContent}\n              </FilterPopover>\n            ) : null}\n          </div>\n\n          <div className={sliderMods}>\n            <HorizontalContentScroll className={styles.filterBar_tags} buttonClass={styles.scroll_btns}>\n              {filterBarContent}\n            </HorizontalContentScroll>\n          </div>\n\n          {!isWide &&\n            createPortal(\n              <FilterDrawer\n                open={isDrawerOpen}\n                onClose={() => {\n                  Logger.logEvent('filterDrawerClosed', {\n                    additional: 'closed',\n                  });\n                  handleCloseDrawer();\n                }}\n                onApply={() => {\n                  Logger.logEvent('filterDrawerClosed', {\n                    additional: 'applied',\n                  });\n                  handleCloseDrawer();\n                }}\n                reset={() => {\n                  Logger.logEvent('filterReset', { additional: 'drawer' });\n                  resetFilters();\n                }}\n              >\n                {drawerContent}\n              </FilterDrawer>,\n              document.body\n            )}\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nFilterBar.displayName = 'FilterBar';\n\nexport interface IFilterLabelProps {\n  tag: string;\n  translation?: string;\n  isMinBet?: boolean;\n  goodRoadsCount?: number;\n}\n\nconst FilterLabel: FunctionComponent<IFilterLabelProps> = ({\n  tag,\n  goodRoadsCount,\n  isMinBet,\n  translation,\n}): ReactElement => {\n  return isMinBet ? (\n    <>{tag}</>\n  ) : (\n    <p className={styles.filterBar_count_label}>\n      {goodRoadsCount !== undefined ? <span className={styles.goodRoadsCount}>{goodRoadsCount}</span> : null}\n      <L12nText tk={translation || tag.toUpperCase()} />\n    </p>\n  );\n};\n","import { useEffect, useState } from 'react';\n\nexport const useDebounce = <T>(value: T, delay: number = 300): T => {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n","import type { FunctionComponent, HTMLAttributes } from 'react';\nimport { memo, useEffect, useState, useCallback } from 'react';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { CurrencyFormatter } from '@pp/core/src/formatters/CurrencyFormatter';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { useGameStateSlice } from '@pp/core/src/store/slices/game/selectors';\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\n\nimport { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport { ID_FOR_YOU, ID_SLOTS } from '../../constants/navigation';\nimport { useOpenMenu } from '../../hooks/useOpenMenu';\nimport LoggerState from '../../logger/LoggerState';\nimport {\n  lobbyCloseMessage as lobbyCloseMessageV2,\n  LobbyMessageControllerV2,\n} from '../../messages/LobbyMessageControllerV2';\nimport { SlotsFilterBarConnected } from '../../pages/slots/slotsFilterBar/SlotsFilterBarConnected';\nimport { useLobbyDispatch } from '../../store/LobbyStore';\nimport { useFiltersSlice } from '../../store/slices/filters/selectors';\nimport { filtersActions } from '../../store/slices/filters/slice';\nimport type { IListItemFilter, IMinBetFilter } from '../../store/slices/filters/types';\nimport { useCategoryIdConnected } from '../nav/useCategoryId';\n\nimport { FilterBarCloseButton } from './closeButton/FilterBarCloseButton';\nimport { FilterBar } from './FilterBar';\n\nexport interface GameFilterBarConnectedProps extends HTMLAttributes<HTMLDivElement> {\n  categoryId: string;\n}\n\nexport const GameFilterBarConnected: FunctionComponent<GameFilterBarConnectedProps> = memo(({ categoryId }) => {\n  const dispatch = useLobbyDispatch();\n  const [filters, setFilters] = useState<IListItemFilter[]>();\n  const { setIsOpen } = useOpenMenu();\n\n  const filterList = useFiltersSlice.getFilterList();\n  const currency = useGameStateSlice.getCurrency();\n  const currentLanguage = useSettingsSlice.currentLanguage();\n  const currencyMultiplier = useConfigSlice.playerConfig()?.currencyMultiplier;\n  const selectedValue = useFiltersSlice.getSelectedByType(categoryId);\n  const { search } = useFiltersSlice.getSearch();\n  const goodRoadsCount = useFiltersSlice.getGoodRoadsCount();\n  const isSearchOpen = useFiltersSlice.getIsSearchOpen();\n  const isDrawerOpen = useFiltersSlice.getIsDrawerOpen();\n\n  useEffect(() => {\n    const newFilters = filterList\n      .filter(({ tab }) => tab === categoryId)\n      .map((item) => formatFilterItem(item, currency, currencyMultiplier, currentLanguage, goodRoadsCount));\n\n    setFilters(newFilters);\n  }, [categoryId, currency, currencyMultiplier, currentLanguage, filterList, goodRoadsCount]);\n\n  const setSearchOpen = useCallback(\n    (isOpen: boolean) => {\n      dispatch(filtersActions.setIsSearchOpen(isOpen));\n    },\n    [dispatch]\n  );\n\n  const resetSearch = useCallback(() => {\n    dispatch(filtersActions.resetSearch());\n  }, [dispatch]);\n\n  const setFilterValue = useCallback(\n    (value: Record<string, string[]>): void => {\n      dispatch(filtersActions.updateSelectedFilters({ categoryId, value }));\n    },\n    [categoryId, dispatch]\n  );\n\n  const setSearch = useCallback(\n    (value?: string) => {\n      dispatch(filtersActions.setSearch(value ?? ''));\n    },\n    [dispatch]\n  );\n\n  const handleBlur = useCallback(() => {\n    if (search !== '') {\n      const filteredGames = LoggerState.filteredGames;\n      Logger.logSearchQuery(search, Vendor.LiveCasino, filteredGames);\n    }\n  }, [search]);\n\n  const setSearchDebounce = useCallback(\n    (value?: string) => {\n      dispatch(filtersActions.setSearchDebounce(value ?? ''));\n    },\n    [dispatch]\n  );\n\n  const setIsDrawerOpen = useCallback(\n    (isOpen: boolean) => {\n      dispatch(filtersActions.setIsDrawerOpen(isOpen));\n    },\n    [dispatch]\n  );\n\n  return (\n    <FilterBar\n      filters={filters || []}\n      storeValues={selectedValue}\n      searchValue={search}\n      setSearch={setSearch}\n      onBlur={handleBlur}\n      setSearchDebounce={setSearchDebounce}\n      isSearchOpen={isSearchOpen}\n      setSearchOpen={setSearchOpen}\n      resetSearch={resetSearch}\n      setFilterValue={setFilterValue}\n      setIsMenuOpen={setIsOpen}\n      isDrawerOpen={isDrawerOpen}\n      setIsDrawerOpen={setIsDrawerOpen}\n      setIsOpen={setIsOpen}\n      categoryId={categoryId}\n      closeButton={\n        LobbyConfiguration.isInLauncherMode ? (\n          <FilterBarCloseButton\n            onClick={() => {\n              LobbyMessageControllerV2.post(lobbyCloseMessageV2());\n            }}\n          />\n        ) : undefined\n      }\n    />\n  );\n});\n\nGameFilterBarConnected.displayName = 'FilterBarConnected';\n\nexport const FilterBarConnected: FunctionComponent = () => {\n  const categoryId = useCategoryIdConnected();\n\n  if (!categoryId || categoryId === ID_FOR_YOU) return null;\n\n  if (categoryId === ID_SLOTS) {\n    return <SlotsFilterBarConnected />;\n  }\n\n  return <GameFilterBarConnected categoryId={categoryId} />;\n};\n\nconst formatTagsForMinBet = (\n  tags: IMinBetFilter[],\n  currency: string | null,\n  currencyMultiplier: number | undefined,\n  currentLanguage: string\n): string[] =>\n  tags.map((obj) => {\n    if (!currency || typeof obj === 'string') return '';\n\n    const multiplier = currencyMultiplier || 1;\n    const formatOptions = { currency, avoidTrailingZero: true };\n\n    const min = CurrencyFormatter.format(obj.min * multiplier, currentLanguage, formatOptions);\n    const max = obj.max\n      ? ' - ' +\n        CurrencyFormatter.format(obj.max * multiplier, currentLanguage, {\n          ...formatOptions,\n          hideCurrency: true,\n        })\n      : '+';\n\n    return min + max;\n  });\n\nconst formatFilterItem = (\n  item: IListItemFilter,\n  currency: string | null,\n  currencyMultiplier: number | undefined,\n  currentLanguage: string,\n  goodRoadsCount: number\n): IListItemFilter => {\n  const { label, tags, tab } = item;\n\n  if (label === 'GOOD_ROADS') return { label, tags: tags as string[], count: goodRoadsCount, tab };\n  if (label === 'MIN_BET')\n    return {\n      label,\n      tags: formatTagsForMinBet(tags as IMinBetFilter[], currency, currencyMultiplier, currentLanguage),\n      tab,\n    };\n\n  return item;\n};\n","import type { FC, HTMLAttributes } from 'react';\n\nimport { Icon } from '@pp/core/src/components/icons/icon';\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\nimport { formatNumber } from '@pp/core/src/utils/formatters';\n\nimport { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport { useDGASlice } from '../../store/slices/dga/selectors';\n\nimport styles from './PlayerCount.module.css';\n\nexport interface PlayerCountProps extends HTMLAttributes<HTMLDivElement> {}\n\nexport const PlayerCountConnected: FC<PlayerCountProps> = ({ className = '', ...rest }) => {\n  const playerCount = useDGASlice.getPlayerCount();\n  const locale = useSettingsSlice.currentLanguage();\n\n  if (!playerCount || LobbyConfiguration.vendor === Vendor.Slots) return null;\n\n  return (\n    <div data-testid=\"player-count\" className={`${styles.playerCount} ${className}`} {...rest}>\n      <Icon icon=\"Player\" className={styles.playerCount__icon} />\n      <span className={styles.playerCount__text}>{formatNumber(locale, playerCount)}</span>\n    </div>\n  );\n};\n","import type { IDGACredentials } from '../../../controllers/DGA/types';\nimport { useLobbySelector } from '../../LobbyStore';\n\nexport const useDGASlice = {\n  getCredentials: (): IDGACredentials | undefined => {\n    return useLobbySelector((state) => state.dga.credentials);\n  },\n  getCurrentTableList: (): string[] | undefined => {\n    return useLobbySelector((state) => state.dga.currentTableList);\n  },\n  areTablesPending: (): boolean => {\n    return useLobbySelector((state) => state.dga.tablesPending);\n  },\n  getSupportedTables: (): string[] | undefined => {\n    return useLobbySelector((state) => state.dga.supportedTables);\n  },\n  isDGADisabled: (): boolean => {\n    return useLobbySelector((state) => state.dga.disabled);\n  },\n  getPlayerCount: (): number | null => {\n    return useLobbySelector((state) => state.dga.globalStats.playerCount);\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"playerCount\":\"bB_r\",\"playerCount__text\":\"bB_bC\",\"playerCount__icon\":\"bB_bE\"};","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"bf_bg\",\"footer__item\":\"bf_bh\"};","import type { FC, HTMLAttributes, ReactNode } from 'react';\n\nimport styles from './Footer.module.css';\n\nexport interface FooterProps extends HTMLAttributes<HTMLDivElement> {\n  /** leftArea to display on left */\n  leftArea?: ReactNode;\n  /** rightArea to display on right */\n  rightArea?: ReactNode;\n}\n\n/** Footer component, built on top of `div` component and fixed at the bottom. Renders text on left & right sides */\nexport const Footer: FC<FooterProps> = ({ leftArea, rightArea, ...rest }) => {\n  return (\n    <footer data-testid=\"lobby-footer\" className={styles.footer} {...rest}>\n      {leftArea ? <div className={styles.footer__item}>{leftArea}</div> : null}\n      {rightArea ? <div className={styles.footer__item}>{rightArea}</div> : null}\n    </footer>\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { CurrencyConnected } from '@pp/core/src/components/currency/CurrencyConnected';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useSessionBalanceConfig } from '@pp/core/src/store/compositeSelectors/useSessionBalanceConfig';\nimport { useGameStateSlice } from '@pp/core/src/store/slices/game/selectors';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { PlayerCountConnected } from '../playerCount/PlayerCountConnected';\n\nimport { Footer } from './Footer';\n\nimport styles from './FooterConnected.module.css';\n\nexport const FooterConnected: FunctionComponent = () => {\n  const balance = useGameStateSlice.balance();\n  const hideSessionBalance = useSessionBalanceConfig();\n  const isSlotsVendor = LobbyConfiguration.isSlots;\n\n  return (\n    <Footer\n      leftArea={<PlayerCountConnected className={styles.playerCount} />}\n      rightArea={\n        !hideSessionBalance && balance?.amount !== undefined && !Number.isNaN(balance.amount) ? (\n          <div className={styles.balance}>\n            <span className={styles.balanceLabel}>\n              {isSlotsVendor ? <L12nText tk=\"LOBBY_CREDIT\" /> : <L12nText tk=\"BALANCE\" />}\n            </span>\n            <CurrencyConnected\n              value={LobbyConfiguration.isSlots ? balance.amount + (balance.bonus ?? 0) : balance.amount}\n            />\n          </div>\n        ) : null\n      }\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"balance\":\"o_p\",\"balanceLabel\":\"o_q\",\"playerCount\":\"o_r\"};","import { useMemo } from 'react';\n\nimport type { CasinoConfigType } from '@pp/core/src/api/fetchers/casinoConfig/types';\nimport { CrossOriginCommunication } from '@pp/core/src/controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { OutgoingMessage } from '@pp/core/src/controllers/crossOriginCommunication/types';\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config';\n\nimport { HostCommunicationVersions, LobbyConfiguration } from '../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../config/slot/SlotLobbyConfiguration';\nimport { lobbyCloseMessage, LobbyMessageController } from '../messages/LobbyMessageController';\nimport {\n  LobbyMessageControllerV2,\n  lobbyCloseMessage as lobbyCloseMessageV2,\n} from '../messages/LobbyMessageControllerV2';\n\nexport type LobbyExitCallback = () => void;\n\nexport const getLobbyExitCallback = (\n  hostedByOperator: boolean,\n  returnMainPage: CasinoConfigType['returnMainPage'],\n  homeUrl: CasinoConfigType['homeUrl'],\n  messageSender: () => void\n): LobbyExitCallback | undefined => {\n  if (LobbyConfiguration.isInGame && LobbyConfiguration.isSlots) {\n    if (SlotLobbyConfiguration?.isStandalone) return;\n    return (): void => {\n      Logger.logEvent('backToGameClick', { additional: 'slot_current' });\n      if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n        LobbyMessageControllerV2.post(lobbyCloseMessageV2());\n      } else {\n        LobbyMessageController.post(lobbyCloseMessage());\n      }\n    };\n  } else if (hostedByOperator && returnMainPage) {\n    return messageSender;\n  } else if (homeUrl) {\n    return () => {\n      try {\n        if (window.top) window.top.location.href = homeUrl;\n      } catch (e) {\n        Logger.logFailure('config', {\n          place: 'homeUrl',\n          additional: homeUrl,\n        });\n      }\n    };\n  }\n};\n\n/**\n * A hook that returns a callback function that will be called when the user exits the lobby.\n *\n * Return value can be undefined - this means that button closing the lobby should not be displayed.\n * */\nexport const useLobbyExitCallbackConnected = (): LobbyExitCallback | undefined => {\n  const casinoConfig = useConfigSlice.casinoConfig();\n\n  const returnMainPage = casinoConfig?.returnMainPage;\n  const homeUrl = casinoConfig?.homeUrl;\n\n  return useMemo(() => {\n    return getLobbyExitCallback(LobbyConfiguration.isHostedByOperator, returnMainPage, homeUrl, () => {\n      CrossOriginCommunication.dispatch(OutgoingMessage.GameQuit);\n    });\n  }, [returnMainPage, homeUrl]);\n};\n","import { useMemo } from 'react';\n\nimport { SLUG_FOR_YOU } from '../constants/navigation';\n\nimport { useDedicatedCategoryRouteConnected } from './useDedicatedCategoryRouteConnected';\n\nexport const useHomePathConnected = (): string | undefined => {\n  const dedicatedCategoryRoute = useDedicatedCategoryRouteConnected();\n\n  return useMemo((): string | undefined => {\n    if (dedicatedCategoryRoute === undefined) return;\n    return `/category/${dedicatedCategoryRoute?.slug || SLUG_FOR_YOU}`;\n  }, [dedicatedCategoryRoute]);\n};\n","import { useMemo } from 'react';\n\nimport type { IUserSessionRaw } from '@pp/core/src/config/UserSession';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\n\nimport { ILobbyCategory } from '../components/nav/categories';\nimport { useNavSlice } from '../store/slices/nav/selectors';\n\nexport const useDedicatedCategoryRouteConnected = (): ILobbyCategory | null | undefined => {\n  const PPG = SessionStorage.getJson<IUserSessionRaw>('PPG') || null;\n  const categories = useNavSlice.getCategories();\n\n  return useMemo((): ILobbyCategory | null | undefined => {\n    if (!categories) return;\n    const dedicatedCategoryId = PPG?.common_components_theme;\n    if (!dedicatedCategoryId) return null;\n\n    const dedicatedCategory = categories.find((category) => category.slug === dedicatedCategoryId);\n\n    if (dedicatedCategory) {\n      return dedicatedCategory;\n    }\n    return null;\n  }, [PPG, categories]);\n};\n","import { ID_BACCARAT, ID_BLACKJACK, ID_FOR_YOU } from './navigation';\n\nexport const GAME_LAUNCH_IDS: Record<string, string> = {\n  [ID_BACCARAT]: '104',\n  [ID_BLACKJACK]: '103',\n  [ID_FOR_YOU]: '101',\n};\n","import { useMemo, FunctionComponent, TouchEvent, MouseEventHandler } from 'react';\nimport { NavLink, NavLinkProps } from 'react-router-dom';\n\nexport interface LobbyLinkProps extends Omit<NavLinkProps, 'replace'> {\n  /** Prevent dragging by default = true */\n  preventDragging?: boolean;\n}\n\nconst handleTouchStart = (event: TouchEvent): void => {\n  if (event.touches.length > 1) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n};\n\nconst handleContextMenu: MouseEventHandler<HTMLAnchorElement> = (event) => {\n  event.preventDefault();\n  event.stopPropagation();\n};\n\nconst onMouseDown: MouseEventHandler<HTMLAnchorElement> = (e): void => {\n  e.preventDefault();\n};\n\nexport const LobbyLink: FunctionComponent<LobbyLinkProps> = ({ preventDragging = true, ...rest }) => {\n  const customProps = useMemo(() => {\n    return preventDragging\n      ? {\n        onMouseDown,\n        draggable: false,\n        ...rest,\n      }\n      : {\n        ...rest,\n      };\n  }, [preventDragging, rest]);\n\n  return <NavLink replace {...customProps} onTouchStart={handleTouchStart} onContextMenu={handleContextMenu} />;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tab\":\"lx_ly\",\"tab_active\":\"lx_lz\",\"tab__icon\":\"lx_lA\",\"tab__label\":\"lx_lB\",\"tab_collapsed\":\"lx_lC\",\"tab__labelContent\":\"lx_lE\",\"tab__badge\":\"lx_lF\",\"tab__badge_icon\":\"lx_lG\"};","import type { ButtonHTMLAttributes, FunctionComponent, PropsWithChildren, ReactElement } from 'react';\nimport { useCallback } from 'react';\nimport { useLocation } from 'react-router';\n\nimport { Badge, BadgeSize } from '@pp/core/src/components/controls/badge';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { LobbyLink, type LobbyLinkProps } from '../lobbyLink/LobbyLink';\n\nimport styles from './Tab.module.css';\n\ninterface TabBaseProps extends PropsWithChildren {\n  /** Icon for tab */\n  icon: ReactElement;\n  /** If false, text is not displayed. Default `true` */\n  showLabel?: boolean;\n  /** If true, badge is displayed */\n  withBadge?: boolean;\n}\n\nexport interface TabProps extends TabBaseProps, Omit<LobbyLinkProps, 'onClick' | 'children'> {\n  /** Action during click */\n  onClick?: (isActive: boolean) => void;\n}\n\n/** Tab component built on top of plain `div`. Displays icon and text below or on right depending on a screen size & orientation */\nexport const Tab: FunctionComponent<TabProps> = ({\n  children,\n  className = '',\n  icon,\n  onClick,\n  showLabel = true,\n  withBadge = false,\n  ...rest\n}): ReactElement => {\n  const location = useLocation();\n  const isActive = location.pathname === rest.to;\n  const tabMods = useModifiers(styles, 'tab', { active: isActive, collapsed: !showLabel }, { withBaseClass: true });\n\n  const handleLinkClick = useCallback((): void => {\n    onClick?.(isActive);\n  }, [isActive, onClick]);\n\n  return (\n    <LobbyLink className={`${className} ${tabMods}`} onClick={handleLinkClick} {...rest}>\n      <div className={styles.tab__icon}>\n        {icon}\n        {withBadge ? (\n          <Badge size={BadgeSize.Dot} impact className={`${styles.tab__badge} ${styles.tab__badge_icon}`} />\n        ) : null}\n      </div>\n      <span className={styles.tab__label}>\n        <span className={styles.tab__labelContent}>\n          {children}\n          {withBadge ? <Badge size={BadgeSize.Dot} impact className={styles.tab__badge} /> : null}\n        </span>\n      </span>\n    </LobbyLink>\n  );\n};\n\nexport interface TabButtonProps extends TabBaseProps, ButtonHTMLAttributes<HTMLButtonElement> {\n  isActive?: boolean;\n}\n\nexport const TabButton: FunctionComponent<TabButtonProps> = ({\n  children,\n  className = '',\n  icon,\n  isActive,\n  showLabel = true,\n  ...rest\n}): ReactElement => {\n  const tabMods = useModifiers(styles, 'tab', { active: isActive, collapsed: !showLabel }, { withBaseClass: true });\n\n  return (\n    <button className={`${className} ${tabMods}`} draggable={false} type=\"button\" {...rest}>\n      <span className={styles.tab__icon}>{icon}</span>\n      <span className={styles.tab__label}>{children}</span>\n    </button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"skeleton\":\"fh_fi\",\"keyframes-pulse\":\"fh_fj\",\"skeleton_circle\":\"fh_fk\",\"keyframes-wave\":\"fh_fl\"};","import type { CSSProperties, FC } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './Skeleton.module.css';\n\nexport interface SkeletonProps {\n  height?: CSSProperties['height'];\n  width?: CSSProperties['width'];\n  variant?: 'circle' | 'rect';\n  className?: string;\n}\n\nexport const Skeleton: FC<SkeletonProps> = ({ height, width, variant, className = '' }) => {\n  const mods = useModifiers(\n    styles,\n    'skeleton',\n    {\n      circle: variant === 'circle',\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  return <div data-testid=\"skeleton\" className={`${mods} ${className}`} style={{ height, width }} />;\n};\n","import { lazy, Suspense, type ReactElement } from 'react';\n\nimport { Vendor } from '../../config/LobbyConfiguration';\nimport * as constants from '../../constants/navigation';\nimport { LobbyIcon } from '../lobbyIcons/LobbyIcon';\nimport { LobbyIcons } from '../lobbyIcons/LobbyIconNames';\nimport { Skeleton } from '../skeleton/Skeleton';\n\nconst Bets10MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/bets10'));\nconst UnibetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/unibet'));\nconst BetsafeMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betsafe'));\nconst SuperBetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/superBet'));\nconst StudioM88MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/studioM88'));\nconst StarCasinoMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/starCasino'));\nconst StakeMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/stake'));\nconst NexusMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/nexus'));\nconst RoyalMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/royal'));\nconst RoobetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/roobet'));\nconst NordicBetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/nordicBet'));\nconst BK8MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/bk8'));\nconst Casino888MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/casino888'));\nconst CasinoEuroMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/casinoEuro'));\nconst CasinomaxiMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/casinomaxi'));\nconst EuroCasinoMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/euroCasino'));\nconst InFiNi88MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/infini88'));\nconst KgonMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/kgon'));\nconst Me88MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/me88'));\nconst MetropolMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/metropol'));\nconst MobilbahisMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/mobilbahis'));\nconst LeoVegasMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/leoVegasIcon'));\nconst GutzMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/gutz'));\nconst RizkMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/rizk'));\nconst BetssonMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betsson'));\nconst GoldLoungeMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/goldLounge'));\nconst BetUKMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betUK'));\nconst ExpektMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/expekt'));\nconst BetMGMMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betMGM'));\nconst Win2dayMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/win2day'));\nconst Fun88MenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/fun88'));\nconst MenuIcon711 = lazy(() => import('../lobbyIcons/CustomThemeIcon/711'));\nconst SBOMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/sbo'));\nconst BetvictorMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betvictor'));\nconst TumbetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/tumbet'));\nconst JackBitMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/jackbit'));\nconst GoldenbetMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/goldenbet'));\nconst BetnanoMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/betnano'));\nconst MenuIcon1xBet = lazy(() => import('../lobbyIcons/CustomThemeIcon/1xbet'));\nconst MClubMenuIcon = lazy(() => import('../lobbyIcons/CustomThemeIcon/mclub'));\n\nconst IsonSkeleton = <Skeleton variant=\"circle\" width={18} height={18} />;\n\nconst withSuspense = (Component: ReactElement): ReactElement => {\n  return <Suspense fallback={IsonSkeleton}>{Component}</Suspense>;\n};\n\nexport const categoryIcons: Record<Vendor, Record<string, ReactElement>> = {\n  [Vendor.Slots]: {\n    [constants.ID_FOR_YOU]: <LobbyIcon icon={LobbyIcons.ForYou} />,\n    [constants.ID_ALL_SLOTS]: <LobbyIcon icon={LobbyIcons.Slots} />,\n    [constants.ID_DDW]: <LobbyIcon icon={LobbyIcons.Promotions} />,\n  },\n  [Vendor.LiveCasino]: {\n    [constants.ID_FOR_YOU]: <LobbyIcon icon={LobbyIcons.ForYou} />,\n    [constants.ID_ROULETTE]: <LobbyIcon icon={LobbyIcons.Roulette} />,\n    [constants.ID_BLACKJACK]: <LobbyIcon icon={LobbyIcons.Blackjack} />,\n    [constants.ID_SHOWGAMES]: <LobbyIcon icon={LobbyIcons.GameShow} />,\n    [constants.ID_BACCARAT]: <LobbyIcon icon={LobbyIcons.Baccarat} />,\n    [constants.ID_POWERBALL]: <LobbyIcon icon={LobbyIcons.PowerBall} />,\n    [constants.ID_ASIANGAMES]: <LobbyIcon icon={LobbyIcons.AsianGames} />,\n    [constants.ID_SICBO]: <LobbyIcon icon={LobbyIcons.SicBo} />,\n    [constants.ID_DRAGONTIGER]: <LobbyIcon icon={LobbyIcons.DragonTiger} />,\n    [constants.ID_SICBODT]: <LobbyIcon icon={LobbyIcons.SickBoDragonTiger} />,\n    [constants.ID_ANDARBAHAR]: <LobbyIcon icon={LobbyIcons.AndarBahar} />,\n    [constants.ID_SLOTS]: <LobbyIcon icon={LobbyIcons.Slots} />,\n    [constants.ID_M88]: withSuspense(<StudioM88MenuIcon />),\n    [constants.ID_CASINO888]: withSuspense(<Casino888MenuIcon />),\n    [constants.ID_ROYAL]: withSuspense(<RoyalMenuIcon />),\n    [constants.ID_INFINI88]: withSuspense(<InFiNi88MenuIcon />),\n    [constants.ID_SUPERBET]: withSuspense(<SuperBetMenuIcon />),\n    [constants.ID_ME88]: withSuspense(<Me88MenuIcon />),\n    [constants.ID_SUPERSWAN]: withSuspense(<BK8MenuIcon />),\n    [constants.ID_WIN88]: withSuspense(<NexusMenuIcon />),\n    [constants.ID_STAKE]: withSuspense(<StakeMenuIcon />),\n    [constants.ID_UNIBET]: withSuspense(<UnibetMenuIcon />),\n    [constants.ID_ROOBET]: withSuspense(<RoobetMenuIcon />),\n    [constants.ID_KGONG]: withSuspense(<KgonMenuIcon />),\n    [constants.ID_BETS10]: withSuspense(<Bets10MenuIcon />),\n    [constants.ID_BETSAFE]: withSuspense(<BetsafeMenuIcon />),\n    [constants.ID_CASINO_EURO]: withSuspense(<CasinoEuroMenuIcon />),\n    [constants.ID_CASINOMAXI]: withSuspense(<CasinomaxiMenuIcon />),\n    [constants.ID_METROPOL]: withSuspense(<MetropolMenuIcon />),\n    [constants.ID_EURO_CASINO]: withSuspense(<EuroCasinoMenuIcon />),\n    [constants.ID_MOBILBAHIS]: withSuspense(<MobilbahisMenuIcon />),\n    [constants.ID_NORDICBET]: withSuspense(<NordicBetMenuIcon />),\n    [constants.ID_STARCASINO]: withSuspense(<StarCasinoMenuIcon />),\n    [constants.ID_GUTZ]: withSuspense(<GutzMenuIcon />),\n    [constants.ID_RIZK]: withSuspense(<RizkMenuIcon />),\n    [constants.ID_BETSSON]: withSuspense(<BetssonMenuIcon />),\n    [constants.ID_GOLDLOUNGE]: withSuspense(<GoldLoungeMenuIcon />),\n    [constants.ID_BET_UK]: withSuspense(<BetUKMenuIcon />),\n    [constants.ID_EXPEKT]: withSuspense(<ExpektMenuIcon />),\n    [constants.ID_BET_MGM]: withSuspense(<BetMGMMenuIcon />),\n    [constants.ID_LEOVEGAS]: withSuspense(<LeoVegasMenuIcon />),\n    [constants.ID_WIN2DAY]: withSuspense(<Win2dayMenuIcon />),\n    [constants.ID_FUN88]: withSuspense(<Fun88MenuIcon />),\n    [constants.ID_711]: withSuspense(<MenuIcon711 />),\n    [constants.ID_SBO]: withSuspense(<SBOMenuIcon />),\n    [constants.ID_BETVICTOR]: withSuspense(<BetvictorMenuIcon />),\n    [constants.ID_TUMBET]: withSuspense(<TumbetMenuIcon />),\n    [constants.ID_JACKBIT]: withSuspense(<JackBitMenuIcon />),\n    [constants.ID_GOLDENBET]: withSuspense(<GoldenbetMenuIcon />),\n    [constants.ID_BETNANO]: withSuspense(<BetnanoMenuIcon />),\n    [constants.ID_1XBET]: withSuspense(<MenuIcon1xBet />),\n    [constants.ID_MCLUB]: withSuspense(<MClubMenuIcon />),\n\n    [constants.ID_PROMOTIONS]: <LobbyIcon icon={LobbyIcons.Promotions} />,\n  },\n};\n","import type { ReactElement } from 'react';\nimport { useMemo } from 'react';\n\nimport { useTranslation } from '@pp/core';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport { SLOT_LOBBY_ID } from '../../config/slot/SlotLobbyConfiguration';\nimport { GAME_LAUNCH_IDS } from '../../constants/global';\nimport { ID_FOR_YOU } from '../../constants/navigation';\nimport { useIsLandScape, useIsWide, useIsMediumWide } from '../../hooks/useLobbyBreakpoints';\nimport { useLobbyRedirectCallbackConnected } from '../../redirection/useLobbyRedirectCallbackConnected';\nimport { useSlotsRedirectFunction } from '../../redirection/useSlotsRedirectFunction';\nimport { useSlotLobbyEnabled } from '../../store/customCoreSelectors';\nimport { useNavSlice } from '../../store/slices/nav/selectors';\nimport { useNotificationSlice } from '../../store/slices/notifications/selectors';\nimport { useVendorConfigSlice } from '../../store/slices/vendorConfig/selectors';\nimport { LobbyIcon } from '../lobbyIcons/LobbyIcon';\nimport { LobbyIcons } from '../lobbyIcons/LobbyIconNames';\nimport { Tab, TabButton } from '../tabs';\n\nimport type { ILobbyCategory } from './categories';\nimport { categoryIcons } from './categoryIcons';\nimport { useCategoryClickConnected } from './useCategoryClickConnected';\n\nexport const useNavCategoryListConnected = (categories: ILobbyCategory[]): ReactElement[] => {\n  const isExpanded = useNavSlice.getIsExpanded();\n  const config = useConfigSlice.casinoConfig();\n  const newGamesNotification = useNotificationSlice.getNewGamesNotification();\n  const { translations } = useTranslation();\n  const isSlotLobbyEnabled = useSlotLobbyEnabled();\n  const liveCasinoConfig = useVendorConfigSlice.getLiveCasinoConfig();\n\n  const handleClick = useCategoryClickConnected();\n  const slotRedirect = useSlotsRedirectFunction();\n  const redirect = useLobbyRedirectCallbackConnected();\n  const isMediumWide = useIsMediumWide();\n  const isLandScape = useIsLandScape();\n  const isWide = useIsWide();\n  const showLabelOnPortrait = !isLandScape && !(isWide && !isMediumWide);\n\n  return useMemo(() => {\n    const showLabel = showLabelOnPortrait || isMediumWide || isExpanded;\n\n    const categoryList = categories.map((category) => (\n      <Tab\n        data-testid={`lobby-category-${category.slug}`}\n        key={category.id}\n        icon={categoryIcons[LobbyConfiguration.vendor][category.id]}\n        onClick={handleClick}\n        showLabel={showLabel}\n        to={`/category/${category.slug}`}\n        withBadge={newGamesNotification && category.id === ID_FOR_YOU}\n      >\n        <L12nText tk={category.label} />\n      </Tab>\n    ));\n\n    switch (LobbyConfiguration.vendor) {\n      case Vendor.Slots: {\n        if (liveCasinoConfig) {\n          categoryList.push(\n            <TabButton\n              icon={<LobbyIcon icon={LobbyIcons.AllGames} />}\n              onClick={() => slotRedirect(GAME_LAUNCH_IDS[ID_FOR_YOU])}\n              showLabel={showLabel}\n            >\n              <L12nText tk=\"LIVE_CASINO\" />\n            </TabButton>\n          );\n        }\n        break;\n      }\n      case Vendor.LiveCasino: {\n        if (config?.slotsLobbyEnabled) {\n          if (isSlotLobbyEnabled) {\n            categoryList.push(\n              <TabButton\n                onClick={() =>\n                  redirect({\n                    id: SLOT_LOBBY_ID,\n                    vendor: Vendor.Slots,\n                    image: '',\n                    isMultitable: false,\n                    tags: [],\n                    title: translations['SLOTS'] ?? '',\n                    translatedName: translations['SLOTS'] ?? '',\n                    isDDW: false,\n                    isNew: false,\n                  })\n                }\n                icon={<LobbyIcon icon={LobbyIcons.Slots} />}\n                showLabel={showLabel}\n              >\n                <L12nText tk=\"SLOTS\" />\n              </TabButton>\n            );\n          }\n        }\n        break;\n      }\n    }\n\n    return categoryList;\n  }, [\n    isLandScape,\n    isMediumWide,\n    showLabelOnPortrait,\n    isWide,\n    isExpanded,\n    categories,\n    handleClick,\n    newGamesNotification,\n    liveCasinoConfig,\n    slotRedirect,\n    config?.slotsLobbyEnabled,\n    isSlotLobbyEnabled,\n    redirect,\n    translations,\n  ]);\n};\n","import { useLobbySelector } from '../../LobbyStore';\nimport { selectHideMetaNotifications } from '../slots/selectors';\n\nexport const useNotificationSlice = {\n  getNewGamesNotification: (): boolean => {\n    return useLobbySelector((state) => {\n      const hideMetaNotifications = selectHideMetaNotifications(state);\n      return !hideMetaNotifications && state.notifications.newGamesNotification;\n    });\n  },\n};\n","import { useCallback } from 'react';\n\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\n\nimport { useIsWide } from '../../hooks/useLobbyBreakpoints';\nimport { useLobbyDispatch } from '../../store/LobbyStore';\nimport { navActions } from '../../store/slices/nav/slice';\n\nexport const useCategoryClickConnected = (): ((isActive: boolean) => void) => {\n  const dispatch = useLobbyDispatch();\n  const audioTrigger = useAudioTrigger('general');\n\n  const isWide = useIsWide();\n\n  return useCallback(\n    (isActive: boolean) => {\n      if (!isActive) {\n        audioTrigger.play({ name: 'menuClick' });\n      }\n      if (isWide === undefined || !isWide) {\n        dispatch(navActions.setIsExpanded(false));\n      }\n    },\n    [audioTrigger, dispatch, isWide]\n  );\n};\n","import { type FunctionComponent } from 'react';\n\nimport type { ILobbyCategory } from './categories';\nimport { useNavCategoryListConnected } from './useNavCategoryListConnected';\n\nexport const NavCategoriesConnected: FunctionComponent<{ categories: ILobbyCategory[] }> = ({ categories }) => {\n  return useNavCategoryListConnected(categories);\n};\n","import type { FunctionComponent, PropsWithChildren, ReactNode } from 'react';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport styles from './NavMenuBalance.module.css';\n\ninterface NavMenuBalanceProps extends PropsWithChildren {\n  label: ReactNode;\n}\n\nexport const NavMenuBalance: FunctionComponent<NavMenuBalanceProps> = ({ children, label }) => {\n  if (!children) return null;\n  return (\n    <div data-testid=\"nav-menu-balance\" className={styles.navMenuBalance}>\n      <div\n        onClick={() => {\n          Logger.logEvent('balanceClick');\n        }}\n      >\n        <p className={styles.navMenuBalance__title}>{label}</p>\n        <p data-testid=\"nav-menu-balance-value\" className={styles.navMenuBalance__value}>\n          {children}\n        </p>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"navMenuBalance\":\"gH_gI\",\"navMenuBalance__title\":\"gH_gJ\",\"navMenuBalance__value\":\"gH_gK\"};","import type { FunctionComponent } from 'react';\nimport { useMemo } from 'react';\n\nimport { CurrencyConnected } from '@pp/core/src/components/currency/CurrencyConnected';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useSessionBalanceConfig } from '@pp/core/src/store/compositeSelectors/useSessionBalanceConfig';\nimport { useGameStateSlice } from '@pp/core/src/store/slices/game/selectors';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\n\nimport { NavMenuBalance } from './NavMenuBalance';\n\nexport const NavMenuBalanceConnected: FunctionComponent = () => {\n  const balance = useGameStateSlice.balance();\n  const hideSessionBalance = useSessionBalanceConfig();\n  const isSlotVendor = LobbyConfiguration.isSlots;\n\n  const label = useMemo(() => {\n    return isSlotVendor ? <L12nText tk=\"LOBBY_CREDIT\" /> : <L12nText tk=\"BALANCE\" />;\n  }, [isSlotVendor]);\n\n  if (hideSessionBalance || balance?.amount === undefined || Number.isNaN(balance.amount)) {\n    return null;\n  }\n\n  return (\n    <NavMenuBalance label={label}>\n      <CurrencyConnected value={LobbyConfiguration.isSlots ? balance.amount + (balance.bonus ?? 0) : balance.amount} />\n    </NavMenuBalance>\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { TabButton } from '../tabs/Tab';\n\ninterface CashierTabProps {\n  showLabel: boolean;\n  callback: () => void;\n  className?: string;\n}\n\nexport const CashierTab: FunctionComponent<CashierTabProps> = ({ showLabel, callback, className = '' }) => {\n  const audioTrigger = useAudioTrigger('general');\n\n  return (\n    <TabButton\n      className={className}\n      icon={<Icon icon={Icons.Cashier} />}\n      showLabel={showLabel}\n      onClick={() => {\n        Logger.logEvent('cashierClick');\n        audioTrigger.play({ name: 'menuClick' });\n        callback();\n      }}\n    >\n      <L12nText tk=\"CASHIER\" />\n    </TabButton>\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport type { LobbyExitCallback } from '../../hooks/useLobbyExitCallbackConnected';\nimport { TabButton } from '../tabs/Tab';\n\ninterface ExitTabProps {\n  showLabel: boolean;\n  callback: LobbyExitCallback;\n  className?: string;\n}\n\nexport const ExitTab: FunctionComponent<ExitTabProps> = ({ showLabel, callback, className = '' }) => {\n  const audioTrigger = useAudioTrigger('general');\n\n  return (\n    <TabButton\n      className={className}\n      icon={<Icon icon={Icons.Logout} />}\n      showLabel={showLabel}\n      onClick={() => {\n        Logger.logEvent('exitClick');\n        audioTrigger.play({ name: 'menuClick' });\n        callback();\n      }}\n    >\n      <L12nText tk=\"EXIT\" />\n    </TabButton>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"navMenuFooter\":\"gQ_gR\",\"navMenuFooter_isOpen\":\"gQ_gS\",\"navMenuFooter__menuWrapper\":\"gQ_gT\",\"popoverFooterMenu\":\"gQ_gU\",\"openFooterMenu\":\"gQ_gV\",\"footerMenu__tab\":\"gQ_gW\",\"navMenuFooter__actions\":\"gQ_gX\"};","import { type FunctionComponent, type PropsWithChildren, useRef, useCallback } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { useClickOutside } from '../../hooks/useClickOutside';\nimport { useIsMediumWide } from '../../hooks/useLobbyBreakpoints';\nimport { CashierTab } from '../cashierTab/CashierTab';\nimport { ExitTab } from '../exitTab/ExitTab';\nimport { TabButton } from '../tabs/Tab';\n\nimport styles from './NavMenuFooter.module.css';\n\nexport interface NavMenuFooterProps extends PropsWithChildren {\n  /** A cashier callback */\n  cashierCallback?: () => void;\n  /** An exit callback */\n  exitCallback?: () => void;\n  /** A flag that indicates that nav is open */\n  isOpen?: boolean;\n  /** A function that sets the open state */\n  setIsOpen: (isOpen: boolean) => void;\n  /** A flag that indicates that footer menu is open */\n  isOpenFooterMenu: boolean;\n  /** A function that sets the open state of the footer menu */\n  setIsOpenFooterMenu: (isOpenFooterMenu: boolean) => void;\n}\n\nexport const NavMenuFooter: FunctionComponent<NavMenuFooterProps> = ({\n  children,\n  isOpen,\n  isOpenFooterMenu,\n  cashierCallback,\n  exitCallback,\n  setIsOpenFooterMenu,\n  setIsOpen,\n}) => {\n  const isWide = useIsMediumWide();\n  const shouldRender = isWide || cashierCallback || exitCallback;\n  const audioTrigger = useAudioTrigger('general');\n  const mods = useModifiers(styles, 'navMenuFooter', { isOpen: isOpen || isWide }, { withBaseClass: true });\n  const footerMenuRef = useRef<HTMLDivElement>(null);\n\n  const handleOpenMenu = useCallback(() => {\n    Logger.logEvent('openMenuClick');\n    audioTrigger.play({ name: 'menuClick' });\n    setIsOpenFooterMenu(!isOpenFooterMenu);\n  }, [audioTrigger, isOpenFooterMenu, setIsOpenFooterMenu]);\n\n  const handleCashierCallback = useCallback(() => {\n    setIsOpenFooterMenu(false);\n    setIsOpen(false);\n    cashierCallback?.();\n  }, [cashierCallback, setIsOpen, setIsOpenFooterMenu]);\n\n  const handleExitCallback = useCallback(() => {\n    setIsOpenFooterMenu(false);\n    setIsOpen(false);\n    exitCallback?.();\n  }, [exitCallback, setIsOpen, setIsOpenFooterMenu]);\n\n  useClickOutside(footerMenuRef, isOpenFooterMenu, () => setIsOpenFooterMenu(false));\n\n  if (!shouldRender) return null;\n  return (\n    <div className={mods}>\n      {cashierCallback || exitCallback ? (\n        <div className={styles.navMenuFooter__actions}>\n          <div className={styles.navMenuFooter__menuWrapper}>\n            <TabButton\n              icon={<Icon icon={Icons.Menu} />}\n              showLabel={isOpen || isWide}\n              isActive={isOpenFooterMenu}\n              onClick={handleOpenMenu}\n            >\n              <L12nText tk=\"MENU\" />\n            </TabButton>\n\n            <div\n              className={`${styles.popoverFooterMenu} ${isOpenFooterMenu ? styles.openFooterMenu : ''}`}\n              ref={footerMenuRef}\n            >\n              {cashierCallback ? (\n                <CashierTab showLabel callback={handleCashierCallback} className={styles.footerMenu__tab} />\n              ) : null}\n              {exitCallback ? (\n                <ExitTab showLabel callback={handleExitCallback} className={styles.footerMenu__tab} />\n              ) : null}\n            </div>\n          </div>\n        </div>\n      ) : null}\n      {isWide ? children : null}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"navMenu\":\"em_en\",\"navMenu_open\":\"em_eo\",\"navMenu__logo\":\"em_ep\",\"navMenu__categoryContainer\":\"em_eq\",\"navMenu__categories\":\"em_er\",\"navMenu__categories_isOverflowingStart\":\"em_es\",\"navMenu__categories_isOverflowingEnd\":\"em_et\",\"navMenu__openButton\":\"em_eu\",\"navMenu__openButtonIcon\":\"em_ev\",\"navMenu__playerCount\":\"em_bz\"};","import type { FC, ReactElement, UIEvent as UIEventHandler } from 'react';\nimport { useEffect, useRef, useState, useCallback } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useModifiers } from '@pp/core/src/styles/hooks';\n\nimport { FOR_YOU_PATH } from '../../constants/navigation';\nimport { useIsMediumWide } from '../../hooks/useLobbyBreakpoints';\nimport { LobbyLink } from '../lobbyLink/LobbyLink';\nimport { NavMenuFooter } from '../navMenuFoter/NavMenuFooter';\n\nimport styles from './NavMenu.module.css';\n\nexport interface INavMenu {\n  /** A balance component */\n  balance?: ReactElement | null;\n  /** A cashier callback */\n  cashierCallback?: () => void;\n  /** An exit callback */\n  exitCallback?: () => void;\n  /** A list of categories */\n  menuItems: ReactElement;\n  /** A home path which will be used to redirect on logo click */\n  homePath?: string;\n  /** A flag that indicates that nav is open */\n  isOpen: boolean;\n  /** A function that sets the open state */\n  setIsOpen: (isOpen: boolean) => void;\n  /** A flag that indicates that footer menu is open */\n  isOpenFooterMenu: boolean;\n  /** A function that sets the open state of the footer menu */\n  setIsOpenFooterMenu: (isOpenFooterMenu: boolean) => void;\n  /** A player count component */\n  playerCount: ReactElement | null;\n}\n\nexport const NavMenu: FC<INavMenu> = ({\n  homePath,\n  isOpen,\n  setIsOpen,\n  menuItems,\n  playerCount,\n  balance,\n  isOpenFooterMenu,\n  setIsOpenFooterMenu,\n  cashierCallback,\n  exitCallback,\n}): ReactElement => {\n  const menuRef = useRef<HTMLDivElement>(null);\n  const [isOverflowingStart, setIsOverflowingStart] = useState(false);\n  const [isOverflowingEnd, setIsOverflowingEnd] = useState(false);\n\n  const isWide = useIsMediumWide();\n\n  const audioTrigger = useAudioTrigger('general');\n\n  const setScrollValues = (target: HTMLDivElement): void => {\n    const overscrollStart = target.scrollTop;\n    const overscrollEnd = target.scrollHeight - target.scrollTop - target.clientHeight;\n    setIsOverflowingStart(overscrollStart > 1);\n    setIsOverflowingEnd(overscrollEnd > 1);\n  };\n\n  const handleScroll = (event: UIEventHandler<HTMLDivElement, UIEvent>): void => {\n    const target = event.currentTarget;\n    setScrollValues(target);\n  };\n\n  const handleResize = (): void => {\n    if (!menuRef.current) return;\n    const overscrollStart = menuRef.current.scrollTop;\n    const overscrollEnd = menuRef.current.scrollHeight - menuRef.current.scrollTop - menuRef.current.clientHeight;\n    setIsOverflowingStart(overscrollStart > 1);\n    setIsOverflowingEnd(overscrollEnd > 1);\n  };\n\n  useEffect(() => {\n    handleResize();\n\n    window.addEventListener('resize', handleResize, { passive: true });\n    return (): void => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const navMenuCategoriesWithMods = useModifiers(\n    styles,\n    'navMenu__categories',\n    {\n      isOverflowingStart: isOverflowingStart,\n      isOverflowingEnd: isOverflowingEnd,\n    },\n    { withBaseClass: true }\n  );\n\n  const navMenuWithMods = useModifiers(\n    styles,\n    'navMenu',\n    {\n      open: isOpen,\n    },\n    { withBaseClass: true }\n  );\n\n  const handleOpenMenu = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    setIsOpen(!isOpen);\n  }, [audioTrigger, isOpen, setIsOpen]);\n\n  const handleLogoClick = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n  }, [audioTrigger]);\n\n  return (\n    <div data-testid=\"lobby-nav-menu\" className={navMenuWithMods}>\n      {isWide ? (\n        <LobbyLink onClick={handleLogoClick} to={homePath ?? FOR_YOU_PATH} className={styles.navMenu__logo} />\n      ) : (\n        <button className={styles.navMenu__openButton} type=\"button\" onClick={handleOpenMenu}>\n          <Icon icon={isOpen ? Icons.ChevronLeft : Icons.ChevronRight} className={styles.navMenu__openButtonIcon} />\n        </button>\n      )}\n      <div data-testid=\"lobby-nav-container\" className={styles.navMenu__categoryContainer}>\n        <nav className={navMenuCategoriesWithMods} onScroll={handleScroll} ref={menuRef}>\n          {menuItems}\n        </nav>\n      </div>\n      <NavMenuFooter\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n        isOpenFooterMenu={isOpenFooterMenu}\n        setIsOpenFooterMenu={setIsOpenFooterMenu}\n        cashierCallback={cashierCallback}\n        exitCallback={exitCallback}\n      >\n        {playerCount}\n        {balance}\n      </NavMenuFooter>\n    </div>\n  );\n};\n","import { type FunctionComponent, type ReactElement, useCallback } from 'react';\n\nimport { useCashierCallbackConnected } from '@pp/core/src/hooks/useCashierCallbackConnected';\n\nimport { LobbyConfiguration, Vendor } from '../../config/LobbyConfiguration';\nimport { useLobbyExitCallbackConnected } from '../../hooks/useLobbyExitCallbackConnected';\nimport { useOpenFooterMenu } from '../../hooks/useOpenFooterMenu';\nimport { useHomePathConnected } from '../../navigation/useHomePathConnected';\nimport { useLobbyDispatch } from '../../store/LobbyStore';\nimport { useNavSlice } from '../../store/slices/nav/selectors';\nimport { navActions } from '../../store/slices/nav/slice';\nimport { NavCategoriesConnected } from '../nav/NavCategoriesConected';\nimport { NavMenuBalanceConnected } from '../navMenuBalance/NavMenuBalanceConnected';\nimport { PlayerCountConnected } from '../playerCount/PlayerCountConnected';\n\nimport { NavMenu } from './NavMenu';\n\nimport styles from './NavMenuConnected.module.css';\n\nexport const NavMenuConnected: FunctionComponent = (): ReactElement | null => {\n  const dispatch = useLobbyDispatch();\n\n  const categories = useNavSlice.getCategories();\n  const isExpanded = useNavSlice.getIsExpanded();\n  const homePath = useHomePathConnected();\n\n  const exitCallback = useLobbyExitCallbackConnected();\n  const cashierCallback = useCashierCallbackConnected();\n\n  const setExpanded = useCallback(\n    (newIsExpanded: boolean) => {\n      dispatch(navActions.setIsExpanded(newIsExpanded));\n    },\n    [dispatch]\n  );\n  const { isOpenFooterMenu, setIsOpenFooterMenu } = useOpenFooterMenu();\n\n  return (\n    <NavMenu\n      menuItems={<NavCategoriesConnected categories={categories} />}\n      cashierCallback={cashierCallback}\n      exitCallback={exitCallback}\n      balance={<NavMenuBalanceConnected />}\n      homePath={homePath}\n      isOpen={isExpanded}\n      setIsOpen={setExpanded}\n      isOpenFooterMenu={isOpenFooterMenu}\n      setIsOpenFooterMenu={setIsOpenFooterMenu}\n      playerCount={\n        LobbyConfiguration.vendor === Vendor.LiveCasino ? (\n          <PlayerCountConnected className={styles.navMenu__playerCount} />\n        ) : null\n      }\n    />\n  );\n};\n","import { useLobbyDispatch } from '../store/LobbyStore';\nimport { useLobbySlice } from '../store/slices/lobby/selectors';\nimport { lobbyActions } from '../store/slices/lobby/slice';\n\nexport const useOpenFooterMenu = (): { isOpenFooterMenu: boolean; setIsOpenFooterMenu: (state: boolean) => void } => {\n  const dispatch = useLobbyDispatch();\n  const isOpenFooterMenu = useLobbySlice.getIsOpenFooterMenu();\n\n  const setIsOpenFooterMenu = (state: boolean): void => {\n    dispatch(lobbyActions.setIsOpenFooterMenu(state));\n  };\n\n  return {\n    isOpenFooterMenu,\n    setIsOpenFooterMenu,\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"navMenu__playerCount\":\"by_bz\",\"divider\":\"by_bA\"};","// extracted by mini-css-extract-plugin\nexport default {\"navSlider\":\"eP_eQ\",\"firstTab\":\"eP_eR\",\"exit\":\"eP_eS\"};","import type { FunctionComponent, ReactElement } from 'react';\n\nimport type { LobbyExitCallback } from '../../hooks/useLobbyExitCallbackConnected';\nimport { CashierTab } from '../cashierTab/CashierTab';\nimport { ExitTab } from '../exitTab/ExitTab';\nimport { HorizontalContentScroll } from '../horizontalContentScroll/HorizontalContentScroll';\n\nimport styles from './NavSlider.module.css';\n\nexport interface NavSliderProps {\n  /** A list of categories */\n  menuItems: ReactElement[];\n  /** An exit callback  */\n  exitCallback?: LobbyExitCallback;\n  /** A cashier callback */\n  cashierCallback?: () => void;\n  /** Menu position */\n  menuPosition?: number;\n}\n\nexport const NavSlider: FunctionComponent<NavSliderProps> = ({\n  cashierCallback,\n  exitCallback,\n  menuItems,\n  menuPosition,\n}): ReactElement => {\n  return (\n    <nav>\n      <HorizontalContentScroll centered className={styles.navSlider} setItem={menuPosition}>\n        {menuItems}\n        {cashierCallback ? (\n          <div className={styles.exit}>\n            <CashierTab showLabel callback={cashierCallback} />\n          </div>\n        ) : null}\n        {exitCallback ? (\n          <div className={styles.exit}>\n            <ExitTab showLabel callback={exitCallback} />\n          </div>\n        ) : null}\n      </HorizontalContentScroll>\n    </nav>\n  );\n};\n","import { type ReactElement, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\n\nimport { useCashierCallbackConnected } from '@pp/core/src/hooks/useCashierCallbackConnected';\n\nimport { useLobbyExitCallbackConnected } from '../../hooks/useLobbyExitCallbackConnected';\nimport { useNavSlice } from '../../store/slices/nav/selectors';\nimport { useNavCategoryListConnected } from '../nav/useNavCategoryListConnected';\n\nimport { NavSlider } from './NavSlider';\n\nexport const NavSliderConnected = (): ReactElement | null => {\n  const navCategories = useNavSlice.getCategories();\n  const [menuPosition, setMenuPosition] = useState(0);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const location = useLocation();\n  const exitCallback = useLobbyExitCallbackConnected();\n  const cashierCallback = useCashierCallbackConnected();\n\n  useEffect(() => {\n    if (navCategories.length === 0) return;\n\n    navCategories.forEach((item, i) => {\n      const isActive = location.pathname.includes(item.slug);\n\n      if (isActive) {\n        setMenuPosition(i === 0 ? 0 : i - 1);\n        setIsInitialized(true);\n      }\n    });\n  }, [location.pathname, navCategories]);\n\n  const navItems = useNavCategoryListConnected(navCategories);\n\n  if (!isInitialized) return null;\n\n  return (\n    <NavSlider\n      menuItems={navItems}\n      exitCallback={exitCallback}\n      cashierCallback={cashierCallback}\n      menuPosition={menuPosition}\n    />\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { useIsLandScape, useIsWide } from '../../hooks/useLobbyBreakpoints';\nimport { NavMenuConnected } from '../navMenu/NavMenuConnected';\nimport { NavSliderConnected } from '../navSlider/NavSliderConnected';\n\nexport const NavConnected: FunctionComponent = () => {\n  const isWide = useIsWide();\n  const isLandScape = useIsLandScape();\n\n  return !isLandScape && !isWide ? <NavSliderConnected /> : <NavMenuConnected />;\n};\n","import { createContext, type FunctionComponent, type PropsWithChildren, useContext, useMemo } from 'react';\n\nexport const TileResizeObserverContext = createContext<{\n  observer: ResizeObserver;\n} | null>(null);\n\nexport const useTileResizeObserverContext = (): { observer: ResizeObserver } | null => {\n  return useContext(TileResizeObserverContext);\n};\n\nexport const TileResizeObserverProvider: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  const observer = useMemo(() => {\n    return new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        const wrapperElement = entry.target as HTMLDivElement;\n        const containerElement = wrapperElement.querySelector('div') as HTMLDivElement;\n        if (containerElement) {\n          const scaleRatio = wrapperElement.offsetWidth / containerElement.offsetWidth;\n          containerElement.style.transform = `scale(${scaleRatio})`;\n          containerElement.style.opacity = `1`;\n        }\n      });\n    });\n  }, []);\n\n  const contextValue = useMemo(() => {\n    return {\n      observer: observer,\n    };\n  }, [observer]);\n\n  return <TileResizeObserverContext.Provider value={contextValue}>{children}</TileResizeObserverContext.Provider>;\n};\n","class LayouterBase {\n  private scrollHandler?: (event: Event) => void;\n  navHeight = 0;\n\n  attachScrollHandler(handler: (event: Event) => void): void {\n    this.scrollHandler = handler;\n  }\n\n  removeScrollHandler(): void {\n    this.scrollHandler = undefined;\n  }\n\n  fireScroll(event: Event): void {\n    if (this.scrollHandler) {\n      this.scrollHandler(event);\n    }\n  }\n\n  setNavHeight(height: number): void {\n    this.navHeight = height;\n  }\n}\n\nexport const Layouter = new LayouterBase();\n","// extracted by mini-css-extract-plugin\nexport default {\"layoutNav\":\"U_V\",\"layoutNav__container\":\"U_W\",\"layoutNav__shadow\":\"U_X\",\"layoutNav_scrollingUp\":\"U_Y\",\"layoutNav_isScrolled\":\"U_Z\",\"layoutNav__filters\":\"U_0\",\"layoutNav_isApproaching\":\"U_1\",\"layoutNav_isScrollingUp\":\"U_ba\",\"layoutNav_wasScrollingUp\":\"U_bb\"};","import type { FunctionComponent, ReactElement, ReactNode } from 'react';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { Layouter } from './Layouter';\n\nimport styles from './LayoutNav.module.css';\n\nlet navContainerHeight = 0;\n\nconst navContainerResizeObserver = new ResizeObserver((entries) => {\n  for (const entry of entries) {\n    const navElement = entry.target as HTMLDivElement;\n    if (navElement) {\n      navContainerHeight = (navElement.firstElementChild as HTMLDivElement).offsetHeight;\n      navElement.style.setProperty('--navContainerHeight', `${navContainerHeight}px`);\n    }\n    const height = entry.contentRect.height;\n    Layouter.setNavHeight(height);\n    const layoutNavPlaceholder = document.getElementById('layoutNavPlaceholder');\n    if (layoutNavPlaceholder) {\n      layoutNavPlaceholder.style.height = `${entry.contentRect.height}px`;\n    }\n  }\n});\n\nexport interface LayoutNavProps {\n  /** A filter bar component */\n  filterBar: ReactNode;\n  /** A navigation component */\n  nav: ReactElement | null;\n\n  isSmallPortrait?: boolean;\n}\n\nexport const LayoutNav: FunctionComponent<LayoutNavProps> = ({ filterBar, isSmallPortrait, nav }): ReactElement => {\n  const navContainerRef = useRef<HTMLDivElement>(null);\n  const navRef = useRef<HTMLDivElement>(null);\n  const prevScrollY = useRef(0);\n  const scrolledSinceDirectionChange = useRef<number>(0);\n  const previousScrollDirectionRef = useRef<'up' | 'down' | null>(null);\n  const scrollWhenDirectionChangeRef = useRef<number>(0);\n  const [isScrollingUp, setIsScrollingUp] = useState(false);\n  const [wasScrollingUp, setWasScrollingUp] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [isApproaching, setIsApproaching] = useState(true);\n\n  useEffect(() => {\n    const navElement = navRef.current;\n    if (!navElement) return;\n\n    navContainerResizeObserver.observe(navElement);\n\n    return () => {\n      navContainerResizeObserver.unobserve(navElement);\n    };\n  }, []);\n\n  useEffect(() => {\n    const navContainerElement = navContainerRef.current;\n    const navElement = navRef.current;\n\n    Layouter.attachScrollHandler((event): void => {\n      const scrollContainerElement = event?.target as HTMLDivElement;\n\n      if (!scrollContainerElement) return;\n\n      if (!navContainerElement || !navElement) return;\n\n      const prevScrollYValue = prevScrollY.current;\n      const currentScrollY = scrollContainerElement.scrollTop;\n\n      prevScrollY.current = currentScrollY;\n\n      setIsScrolled(currentScrollY > navContainerHeight);\n\n      const direction = currentScrollY < prevScrollYValue ? 'up' : 'down';\n      if (\n        direction !== previousScrollDirectionRef.current &&\n        scrolledSinceDirectionChange.current > navContainerHeight\n      ) {\n        previousScrollDirectionRef.current = direction;\n        scrollWhenDirectionChangeRef.current = prevScrollYValue;\n        scrolledSinceDirectionChange.current = 0;\n      } else {\n        scrolledSinceDirectionChange.current = Math.abs(currentScrollY - scrollWhenDirectionChangeRef.current);\n      }\n\n      if (currentScrollY <= navContainerHeight) {\n        if (currentScrollY === 0) {\n          setIsScrollingUp(false);\n        }\n        setIsApproaching(true);\n        setWasScrollingUp(false);\n      } else {\n        setIsApproaching(false);\n\n        if (direction === 'down' && scrolledSinceDirectionChange.current > navContainerHeight) {\n          setIsScrollingUp(false);\n        } else if (\n          direction === 'up' &&\n          scrolledSinceDirectionChange.current > navContainerHeight &&\n          currentScrollY > navContainerHeight * 2\n        ) {\n          setIsScrollingUp(true);\n          setWasScrollingUp(true);\n        }\n      }\n    });\n\n    return () => {\n      Layouter.removeScrollHandler();\n    };\n  }, []);\n\n  const mods = useModifiers(\n    styles,\n    'layoutNav',\n    {\n      isApproaching,\n      isScrolled: isScrolled || isScrollingUp,\n      isScrollingUp,\n      wasScrollingUp,\n    },\n    { withBaseClass: true }\n  );\n\n  return (\n    <div className={mods} ref={navRef}>\n      <div data-testid=\"lobby-layout-nav-container\" className={styles.layoutNav__container} ref={navContainerRef}>\n        {nav}\n      </div>\n      {isSmallPortrait ? <div className={styles.layoutNav__filters}>{filterBar}</div> : null}\n      <div className={styles.layoutNav__shadow} />\n    </div>\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { Layouter } from './Layouter';\n\nimport styles from './LayoutNavPlaceholder.module.css';\n\nexport const LayoutNavPlaceholder: FunctionComponent = () => {\n  return (\n    <div className={styles.layoutNavPlaceholder} style={{ height: Layouter.navHeight }} id=\"layoutNavPlaceholder\" />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"layoutNavPlaceholder\":\"bc_be\"};","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"i_j\",\"layout__filters\":\"i_k\",\"layout__body\":\"i_l\",\"layout__footer\":\"i_m\",\"layout_noNav\":\"i_n\"};","import {\n  type FunctionComponent,\n  type PropsWithChildren,\n  type ReactElement,\n  type ReactNode,\n  useEffect,\n  useRef,\n} from 'react';\nimport { Outlet } from 'react-router';\n\nimport { useIsPortrait } from '@pp/core/src/styles/hooks/media';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { useIsMediumWide, useIsWide } from '../../hooks/useLobbyBreakpoints';\n\nimport { Layouter } from './Layouter';\nimport { type LayoutNavProps, LayoutNav } from './LayoutNav';\nimport { LayoutNavPlaceholder } from './LayoutNavPlaceholder';\n\nimport styles from './Layout.module.css';\n\ninterface LayoutProps extends LayoutNavProps {\n  /** A footer react component*/\n  footer: ReactNode;\n  /** A pathname to yse as a key */\n  pathname: string;\n}\n\n/**\n * # Layout\n *\n * Component responsible for rendering navigation and content of the lobby\n * */\nexport const Layout: FunctionComponent<LayoutProps> = ({ filterBar, footer, nav, pathname }): ReactElement => {\n  const isWide = useIsWide();\n  const isMediumWide = useIsMediumWide();\n  const isPortrait = useIsPortrait();\n  const isSmallPortrait = !isWide && isPortrait;\n\n  const classNameWithModifiers = useModifiers(\n    styles,\n    'layout',\n    {\n      noNav: !nav,\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  return (\n    <>\n      {nav ? <LayoutNav filterBar={filterBar} isSmallPortrait={isSmallPortrait} nav={nav} /> : null}\n      <LayoutBody nav={nav} filterBar={filterBar} footer={footer} className={classNameWithModifiers} key={pathname} />\n      {!isMediumWide && nav ? <div className={styles.layout__footer}>{footer}</div> : null}\n    </>\n  );\n};\n\ninterface LayoutBodyProps extends PropsWithChildren, Pick<LayoutProps, 'nav' | 'filterBar' | 'footer'> {\n  className?: string;\n}\n\nexport const LayoutBody: FunctionComponent<LayoutBodyProps> = ({ nav, filterBar, className }) => {\n  const isWide = useIsWide();\n  const isPortrait = useIsPortrait();\n  const isSmallPortrait = !isWide && isPortrait;\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const scrollContainerElement = scrollContainerRef.current;\n    if (!scrollContainerElement) return;\n\n    const handleScroll = (event: Event): void => {\n      Layouter.fireScroll(event);\n    };\n\n    scrollContainerElement.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      scrollContainerElement.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  return (\n    <div className={className} ref={scrollContainerRef}>\n      <LayoutNavPlaceholder />\n      <div className={styles.layout__body}>\n        {!isSmallPortrait || !nav ? <div className={styles.layout__filters}>{filterBar}</div> : null}\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n","import type { FunctionComponent } from 'react';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { LayoutErrorBoundaryConnected } from '@pp/core/src/components/errorBoundary/LayoutErrorBoundaryConnected';\nimport { TooltipRoot } from '@pp/core/src/components/tooltip/TooltipRoot';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { FilterBarConnected } from '../filterBar/FilterBarConnected';\nimport { FooterConnected } from '../footer/FooterConnected';\nimport { getCategoryIdFromSlug } from '../nav/categories';\nimport { NavConnected } from '../nav/NavConnected';\nimport { TileResizeObserverProvider } from '../tile/tileResizeObserverContext/TileResizeObserverContext';\n\nimport { Layout } from './Layout';\n\nexport const LayoutConnected: FunctionComponent = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    if (!pathname) return;\n    const categoryID = getCategoryIdFromSlug(pathname.split('/')[2]);\n    if (!categoryID) return;\n    Logger.logEvent('categorySwitched', { additional: categoryID });\n  }, [pathname]);\n\n  return (\n    <LayoutErrorBoundaryConnected>\n      <TileResizeObserverProvider>\n        <Layout\n          nav={!LobbyConfiguration.isInLauncherMode ? <NavConnected /> : null}\n          filterBar={<FilterBarConnected />}\n          footer={<FooterConnected />}\n          pathname={pathname}\n        />\n      </TileResizeObserverProvider>\n      <TooltipRoot />\n    </LayoutErrorBoundaryConnected>\n  );\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport type { IPromoGameInfo, PromoTableType } from '../../../api/fetchers/promo';\nimport { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\n\nimport { IPromoBJInfo } from './slice';\n\nexport const selectSpecificPromoTables = createSelector(\n  [\n    (store: LobbyRootState): PromoTableType => store.promotions.promoTables,\n    (_store: LobbyRootState, promoKeys: string[]): string[] => promoKeys,\n  ],\n  (tables, promoKeys) => {\n    return promoKeys.flatMap((key) => tables[key]);\n  }\n);\n\nexport const usePromotionsSlice = {\n  /* Promo */\n  getPromoTables: (): PromoTableType => {\n    return useLobbySelector(({ promotions }) => promotions.promoTables);\n  },\n  getPromoEnabled: (): boolean => {\n    return useLobbySelector(({ promotions }) => promotions.isPromotionsEnabled);\n  },\n  getBjInfo: (): Record<string, IPromoBJInfo> | null => {\n    const bjInfo = useLobbySelector(({ promotions }) => promotions.promoBjInfo);\n    return bjInfo && Object.keys(bjInfo).length > 0 ? bjInfo : null;\n  },\n  getPromoGameInfo: (tableId: string): IPromoGameInfo => {\n    return useLobbySelector(({ promotions }) => promotions.promoGameInfo[tableId]);\n  },\n  getSpecificPromoTables: (promoKeys: string[]): (string | undefined)[] => {\n    return useLobbySelector((state) => selectSpecificPromoTables(state, promoKeys));\n  },\n  getIsBonus: (tableId: string): boolean => {\n    return useLobbySelector(({ promotions }) => promotions.promoTables['bonus']?.includes(tableId) ?? false);\n  },\n};\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { ILobbyCategory } from '../components/nav/categories';\nimport { ID_PROMOTIONS, ID_SLOTS, SLUG_PROMOTIONS, SLUG_SLOTS } from '../constants/navigation';\nimport { useNavSlice } from '../store/slices/nav/selectors';\nimport { usePromotionsSlice } from '../store/slices/promotions/selectors';\n\nconst resolveCategoryRoute = (\n  categoryId: string,\n  options: {\n    isPromoEnabled: boolean;\n    isSlotsEnabled: boolean;\n    categories: ILobbyCategory[];\n  }\n): ILobbyCategory | null => {\n  const category = options.categories.find((category) => category.id === categoryId);\n\n  /*\n   * If promo is enabled, and categoryId maps to \"Promotions\" - return \"Promotions\" slug.\n   * */\n  if (options.isPromoEnabled) {\n    if (categoryId === 'OTHERPROMOS' || categoryId === 'DW') {\n      return {\n        id: ID_PROMOTIONS,\n        slug: SLUG_PROMOTIONS,\n        label: 'PROMOTIONS',\n      };\n    }\n  }\n  /*\n   * Check if category is in tabs, and if it is - return its slug.\n   * */\n  if (category) {\n    return category;\n  }\n\n  if (options.isSlotsEnabled && categoryId === ID_SLOTS) {\n    return {\n      id: ID_SLOTS,\n      slug: SLUG_SLOTS,\n      label: 'SLOTS',\n    };\n  }\n  return null;\n};\n\nexport const useCategoryRouteResolverConnected = (): ((categoryId: string) => ILobbyCategory | null) => {\n  const categories = useNavSlice.getCategories();\n  const isPromoEnabled = usePromotionsSlice.getPromoEnabled();\n  const config = useConfigSlice.casinoConfig();\n\n  return useCallback(\n    (categoryId: string): ILobbyCategory | null => {\n      return resolveCategoryRoute(categoryId, {\n        isPromoEnabled,\n        isSlotsEnabled: config?.slotsLobbyEnabled || false,\n        categories,\n      });\n    },\n    [isPromoEnabled, config, categories]\n  );\n};\n","import { type FunctionComponent, useCallback, useEffect, useMemo, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { CoreConstants } from '@pp/core/src/config/CoreConstants';\nimport { type IUserSessionRaw } from '@pp/core/src/config/UserSession';\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\n\nimport { LobbyConfiguration, LobbyRedirector } from '../../config/LobbyConfiguration';\nimport { ID_PROMOTIONS, SLUG_FOR_YOU, SLUG_PROMOTIONS } from '../../constants/navigation';\nimport { useCategoryRouteResolverConnected } from '../../navigation/useCategorySlugResolverConnected';\nimport { useHomePathConnected } from '../../navigation/useHomePathConnected';\n\nexport const LobbyRedirectConnected: FunctionComponent = () => {\n  const categoryRouteResolver = useCategoryRouteResolverConnected();\n\n  const selectedTableType = SessionStorage.get(CoreConstants.SelectedTableType) || null;\n  const PPG = SessionStorage.getJson<IUserSessionRaw>('PPG') || null;\n\n  const [redirectionPath, setRedirectionPath] = useState<string | null>(null);\n\n  const homePath = useHomePathConnected();\n\n  const gameType = PPG?.gametype?.toUpperCase() || null;\n  const forceCategory = LobbyConfiguration.forceCategory;\n\n  const getCategorySlug = useCallback(\n    (categoryId: string): string | null => {\n      const categoryRoute = categoryRouteResolver(categoryId);\n\n      if (!categoryRoute) {\n        return null;\n      }\n\n      if (categoryRoute.id === ID_PROMOTIONS && categoryId !== ID_PROMOTIONS) {\n        return SLUG_PROMOTIONS;\n      }\n      return categoryRoute.slug;\n    },\n    [categoryRouteResolver]\n  );\n\n  const redirectors: Record<LobbyRedirector, () => string | void> = useMemo(() => {\n    const getCategoryUrl = (slug: string | undefined): void | string => (slug ? `/category/${slug}` : undefined);\n\n    /**\n     * If `forceCategory` is set, redirect to this category if it exists.\n     * */\n    const getForcedCategoryUrl = (): void | string => {\n      if (!forceCategory) return;\n\n      const categorySlug = getCategorySlug(forceCategory);\n      if (categorySlug) {\n        return getCategoryUrl(categorySlug);\n      } else if (LobbyConfiguration.isInLauncherMode) {\n        Logger.logFailure('categoryNotFound', {\n          place: 'lobbyRedirect',\n          additional: forceCategory,\n        });\n        return getCategoryUrl(forceCategory);\n      }\n    };\n    /**\n     * If user had selected a table type, redirect to this category if it exists.\n     * */\n    const getPreviousCategoryUrl = (): void | string => {\n      if (!selectedTableType) return;\n\n      const categorySlug = getCategorySlug(selectedTableType);\n      if (!categorySlug) return;\n      return getCategoryUrl(categorySlug);\n    };\n\n    /**\n     * If in session there is a gametype, and relevant category exists, and this category is not pointing to \"For You\" - redirect to it.\n     * */\n    const getGameCategoryUrl = (): void | string => {\n      if (!gameType) return;\n\n      const categorySlug = getCategorySlug(gameType);\n      if (categorySlug && categorySlug !== SLUG_FOR_YOU) {\n        return getCategoryUrl(categorySlug);\n      }\n    };\n\n    return {\n      [LobbyRedirector.ForcedCategory]: getForcedCategoryUrl,\n      [LobbyRedirector.PreviousCategory]: getPreviousCategoryUrl,\n      [LobbyRedirector.GameCategory]: getGameCategoryUrl,\n    };\n  }, [forceCategory, gameType, getCategorySlug, selectedTableType]);\n\n  useEffect(() => {\n    if (homePath) {\n      for (const Redirector of LobbyConfiguration.redirectionOrder) {\n        const path = redirectors[Redirector]();\n        if (path) {\n          setRedirectionPath(path);\n          return;\n        }\n      }\n      setRedirectionPath(homePath);\n    }\n  }, [forceCategory, gameType, getCategorySlug, homePath, selectedTableType, redirectors]);\n\n  if (!redirectionPath) {\n    return null;\n  }\n  return <Navigate to={redirectionPath} />;\n};\n","import type { FC, ReactElement } from 'react';\n\nimport { IconRoot } from '@pp/core/src/components/icons/iconRoot';\n\nimport * as LobbyIcons from './LobbyIcons';\n\nconst MultiSet = { ...LobbyIcons };\nconst SvgOutput = Object.keys(MultiSet).reduce((output: string, key: string) => {\n  if (typeof MultiSet[key as keyof typeof MultiSet] === 'string') {\n    return (\n      output +\n      MultiSet[key as keyof typeof MultiSet].replace(/xmlns=\"[^\"]+\"/, `id=\"icon-${key}\"`).replace(/svg/g, 'symbol')\n    );\n  } else {\n    return output;\n  }\n}, '');\n\nexport const LobbyIconRoot: FC = (): ReactElement => <IconRoot html={SvgOutput} />;\n","import {\n  BJ_LEAGUE_TAGS,\n  GOOD_ROADS,\n  LOBBY_FREE_SEATS,\n  MIN_BET,\n  TABLE_CATEGORIES,\n  TABLE_TYPE,\n} from '../constants/filters';\nimport {\n  ID_ANDARBAHAR,\n  ID_ASIANGAMES,\n  ID_BACCARAT,\n  ID_BLACKJACK,\n  ID_DRAGONTIGER,\n  ID_PROMOTIONS,\n  ID_ROULETTE,\n  ID_SHOWGAMES,\n  ID_SICBO,\n} from '../constants/navigation';\nimport {\n  BJPromotionsFilterLabel,\n  PromotionFilterLabel,\n  PromotionTagDDW,\n  PromotionTagOther,\n  BonusPromotionTag,\n} from '../constants/promotions';\nimport type { IURLFilter } from '../store/slices/filters/types';\n\n/**\n * CATEGORY_SHORTNAME, DELIMITERS : Dependent on 3rd party! Do not change\n *   */\nexport enum CATEGORY_SHORTNAME {\n  BLACKJACK = 'BJ',\n  ROULETTE = 'RL',\n  GAMESHOWS = 'GS',\n  BACCARAT = 'BC',\n  PROMOTIONS = 'PR',\n  ASIANGAMES = 'AG',\n  SICBO = 'SB',\n  ANDARBAHAR = 'AB',\n  DRAGONTIGER = 'DT',\n}\n\nexport const DELIMITERS = {\n  PAIR_SEPARATOR: '$',\n  KEYS_SEPARATOR: '_',\n  KEY_VALUE_SEPARATOR: ':',\n  VALUES_SEPARATOR: ',',\n};\n\ntype FilterOptions = {\n  [key: string]: {\n    KEY: string;\n    VALUES: Record<string, string>;\n  };\n};\n\n/**\n * 1. Every key inside VALUES object are contract with Operator: Dependent on 3rd party! Do not change\n * 2. KEY are the keys for our implementation and business logic\n * 3. LOBBY_FILTERS_CONFIG is overall config for every category with our Clients\n */\nexport const LOBBY_FILTERS_CONFIG: Record<\n  CATEGORY_SHORTNAME,\n  {\n    KEY: string;\n    VALUES: FilterOptions;\n  }\n> = {\n  [CATEGORY_SHORTNAME.BLACKJACK]: {\n    KEY: ID_BLACKJACK,\n    VALUES: {\n      FS: {\n        KEY: LOBBY_FREE_SEATS,\n        VALUES: {\n          FS: LOBBY_FREE_SEATS,\n        },\n      },\n      MB: {\n        KEY: MIN_BET,\n        VALUES: {\n          1: '1',\n          25: '2',\n          100: '3',\n        },\n      },\n      TYPE: {\n        KEY: TABLE_TYPE,\n        VALUES: {\n          S: TABLE_CATEGORIES.SPEED,\n          R: TABLE_CATEGORIES.REGULAR,\n          U: TABLE_CATEGORIES.UNLIMITED,\n          P: TABLE_CATEGORIES.PRIVE,\n          VIP: TABLE_CATEGORIES.VIP,\n          X: TABLE_CATEGORIES.BLACKJACKX,\n          N: TABLE_CATEGORIES.NATIVE,\n        },\n      },\n      LG: {\n        KEY: BJPromotionsFilterLabel,\n        VALUES: {\n          BBJT: BJ_LEAGUE_TAGS.BRONZE,\n          SBJT: BJ_LEAGUE_TAGS.SILVER,\n          GBJT: BJ_LEAGUE_TAGS.GOLD,\n          PRBJT: BJ_LEAGUE_TAGS.PRIVE,\n        },\n      },\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.ROULETTE]: {\n    KEY: ID_ROULETTE,\n    VALUES: {\n      TYPE: {\n        KEY: TABLE_TYPE,\n        VALUES: {\n          S: TABLE_CATEGORIES.SPEED,\n          R: TABLE_CATEGORIES.REGULAR,\n          VIP: TABLE_CATEGORIES.VIP,\n          N: TABLE_CATEGORIES.NATIVE,\n          V: TABLE_CATEGORIES.VARIANTS,\n          A: TABLE_CATEGORIES.AUTO,\n        },\n      },\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.GAMESHOWS]: {\n    KEY: ID_SHOWGAMES,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.BACCARAT]: {\n    KEY: ID_BACCARAT,\n    VALUES: {\n      TYPE: {\n        KEY: TABLE_TYPE,\n        VALUES: {\n          S: TABLE_CATEGORIES.SPEED,\n          R: TABLE_CATEGORIES.REGULAR,\n          V: TABLE_CATEGORIES.VARIANTS,\n          P: TABLE_CATEGORIES.PRIVE,\n          N: TABLE_CATEGORIES.NATIVE,\n        },\n      },\n      GR: {\n        KEY: GOOD_ROADS,\n        VALUES: {\n          GR: GOOD_ROADS,\n        },\n      },\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.ASIANGAMES]: {\n    KEY: ID_ASIANGAMES,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.SICBO]: {\n    KEY: ID_SICBO,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.DRAGONTIGER]: {\n    KEY: ID_DRAGONTIGER,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.ANDARBAHAR]: {\n    KEY: ID_ANDARBAHAR,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          PROMO: PromotionFilterLabel,\n        },\n      },\n    },\n  },\n  [CATEGORY_SHORTNAME.PROMOTIONS]: {\n    KEY: ID_PROMOTIONS,\n    VALUES: {\n      PROMO: {\n        KEY: PromotionFilterLabel,\n        VALUES: {\n          OP: PromotionTagOther,\n          DW: PromotionTagDDW,\n          BP: BonusPromotionTag,\n        },\n      },\n      LG: {\n        KEY: BJPromotionsFilterLabel,\n        VALUES: {\n          BBJT: BJ_LEAGUE_TAGS.BRONZE,\n          SBJT: BJ_LEAGUE_TAGS.SILVER,\n          GBJT: BJ_LEAGUE_TAGS.GOLD,\n          PRBJT: BJ_LEAGUE_TAGS.PRIVE,\n        },\n      },\n    },\n  },\n};\n\n/**\n * Reverse utility method to create lobbyFilter cipher string from given filter objects\n *\n * @param filters\n * e.g. {\n *          [ID_BLACKJACK]: {\n *            TABLE_TYPE: [TABLE_CATEGORIES.PRIVE],\n *            [MIN_BET]: ['2'],\n *            [LOBBY_FREE_SEATS]: [LOBBY_FREE_SEATS],\n *          },\n *        }\n * @returns lobbyFilter cipher as string BJ_TYPE:P$BJ_MB:25$BJ_FS:FS\n */\nexport const createFilterCipher = (filters: IURLFilter): string => {\n  if (!filters || Object.keys(filters).length === 0) return '';\n\n  const pairs: string[] = [];\n\n  Object.entries(filters).forEach(([categoryKey, categoryFilters]) => {\n    Object.entries(categoryFilters).forEach(([filterKey, filterValues]) => {\n      const categorySN = CATEGORY_SHORTNAME[categoryKey as keyof typeof CATEGORY_SHORTNAME];\n\n      if (!categorySN) return;\n\n      const filterSN = Object.keys(LOBBY_FILTERS_CONFIG[categorySN as CATEGORY_SHORTNAME].VALUES).find(\n        (key) => LOBBY_FILTERS_CONFIG[categorySN as CATEGORY_SHORTNAME].VALUES[key].KEY === filterKey\n      );\n\n      if (!filterSN) return;\n\n      // value map for this filter\n      const valueMap = LOBBY_FILTERS_CONFIG[categorySN as CATEGORY_SHORTNAME].VALUES[filterSN].VALUES;\n\n      // Reverse map the values\n      const reverseMappedValues = filterValues\n        .map((value) => {\n          const entry = Object.entries(valueMap).find(([, v]) => v === value);\n          return entry ? entry[0] : null;\n        })\n        .filter((v): v is string => v !== null); // Remove any null values\n\n      if (reverseMappedValues.length > 0) {\n        const key = `${categorySN}${DELIMITERS.KEYS_SEPARATOR}${filterSN}`;\n        const value = reverseMappedValues.join(DELIMITERS.VALUES_SEPARATOR);\n        pairs.push(`${key}${DELIMITERS.KEY_VALUE_SEPARATOR}${value}`);\n      }\n    });\n  });\n\n  return pairs.join(DELIMITERS.PAIR_SEPARATOR);\n};\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { fetchSlotsAction } from '../apiActions/fetchSlotsAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const useSlotsFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.baseUrl();\n\n  return useCallback((): void => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(fetchSlotsAction({ JSESSIONID, baseUrl }));\n    }\n  }, [JSESSIONID, baseUrl, dispatch]);\n};\n","export enum LobbyLoadingBit {\n  EnvConfig = 0b1,\n  PlayerConfig = 0b10,\n  CasinoConfig = 0b100,\n  FiltersReady = 0b1000,\n  SocketReady = 0b10000,\n  UserConfigReady = 0b100000,\n  PromoReady = 0b1000000,\n  TranslationsReady = 0b10000000,\n  HeroBannersConfigReady = 0b100000000,\n  TileExceptionConfigReady = 0b1000000000,\n  FeatureConfigsReady = 0b10000000000,\n}\n\n// reduce an enum to total sum of bits\nconst maskAllValues = Object.values(LobbyLoadingBit);\nconst maskNumericValues = maskAllValues.splice(maskAllValues.length / 2) as number[];\nconst total = maskNumericValues.reduce((acc, val) => acc + val, 0);\n\nexport const updateLobbyLoadingMask = (bit: LobbyLoadingBit): void => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (window.lobbyLoadingStateMask === null) return;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  window.lobbyLoadingStateMask |= bit;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (window.lobbyLoadingStateMask === total) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    window.lobbyLoadingStateMask = null;\n  }\n};\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nwindow.lobbyLoadingStateMask = 0;\n","export const translationConfig = {\n  uiFiles: ['core', 'table_name', 'lobby', 'slots_lobby', 'slot_game'],\n  excludedLanguages: null,\n};\n","import { useLobbySelector } from '../../LobbyStore';\n\nimport type { IInitSlice } from './slice';\n\nexport const useInitSlice = {\n  getInit: (): IInitSlice => {\n    return useLobbySelector(({ lobbyInit }) => lobbyInit);\n  },\n  getTableInIt: (): boolean => {\n    return useLobbySelector(({ lobbyInit }) => lobbyInit.tableInIt);\n  },\n  isSlotsInIt: (): boolean => {\n    return useLobbySelector(({ lobbyInit }) => lobbyInit.slotsInIt);\n  },\n  isSocketInIt: (): boolean => {\n    return useLobbySelector(({ lobbyInit }) => lobbyInit.socketInIt);\n  },\n};\n","import type { FunctionComponent } from 'react';\nimport { useEffect, useMemo } from 'react';\n\nimport { useTranslation } from '@pp/core/src/api/useTranslation';\nimport { useFeatureContext } from '@pp/core/src/components/featureConfig/FeatureConfigProvider';\nimport { useCurtain } from '@pp/core/src/components/gameRoot/useCurtain';\nimport { CrossOriginCommunication } from '@pp/core/src/controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { OutgoingMessage } from '@pp/core/src/controllers/crossOriginCommunication/types';\nimport { useCasinoConfigFetcher } from '@pp/core/src/store/apiHooks/useCasinoConfigFetcher';\nimport { useEnvFetcher } from '@pp/core/src/store/apiHooks/useEnvFetcher';\nimport { usePlayerConfigFetcher } from '@pp/core/src/store/apiHooks/usePlayerConfigFetcher';\nimport { useUserInfoFetcher } from '@pp/core/src/store/apiHooks/useUserInfoFetcher';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { initializationActions } from '@pp/core/src/store/slices/initialization/slice';\nimport { settingsActions } from '@pp/core/src/store/slices/settings/slice';\nimport { getLanguage } from '@pp/core/src/utils/language';\n\nimport { HostCommunicationVersions, LobbyConfiguration } from '../../../config/LobbyConfiguration';\nimport { LobbyLoadingBit, updateLobbyLoadingMask } from '../../../config/lobbyLoadingMask';\nimport { translationConfig } from '../../../config/translationConfig';\nimport { lobbyLoadedMessage } from '../../../messages/commonMessages';\nimport { LobbyMessageController } from '../../../messages/LobbyMessageController';\nimport { LobbyMessageControllerV2 } from '../../../messages/LobbyMessageControllerV2';\nimport { useBonusCampaignFetcher } from '../../../store/apiHooks/useBonusCampaignFetcher';\nimport { usePromotionFetcher } from '../../../store/apiHooks/usePromotionFetcher';\nimport { useTablesCuratedFetcher } from '../../../store/apiHooks/useTablesCuratedFetcher';\nimport { useTablesFetcher } from '../../../store/apiHooks/useTablesFetcher';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { lobbyActions } from '../../../store/slices/lobby';\nimport { useInitSlice } from '../../../store/slices/lobbyInit/selectors';\n\nimport { useLiveCasinoSoundSetup } from './useLiveCasinoSoundSetup';\n\nexport const LiveCasinoInitializer: FunctionComponent = (): null => {\n  const casinoConfig = useConfigSlice.casinoConfig();\n  const playerConfig = useConfigSlice.playerConfig();\n\n  const dispatch = useLobbyDispatch();\n\n  /* Sound */\n  useLiveCasinoSoundSetup();\n\n  /* Language */\n  const sessionLanguage = useConfigSlice.session()?.lang;\n  useEffect(() => {\n    const currentLanguage = getLanguage(translationConfig, sessionLanguage);\n    dispatch(settingsActions.setLanguage(currentLanguage));\n  }, [dispatch, sessionLanguage]);\n\n  const curatedTablesFetcher = useTablesCuratedFetcher();\n  useEffect(() => {\n    curatedTablesFetcher();\n  }, [curatedTablesFetcher]);\n\n  const envFetcher = useEnvFetcher(true);\n  useEffect(() => {\n    envFetcher();\n  }, [envFetcher]);\n\n  const tablesFetcher = useTablesFetcher();\n  useEffect(() => {\n    tablesFetcher();\n  }, [tablesFetcher]);\n\n  const casinoConfigFetcher = useCasinoConfigFetcher(true, sessionLanguage);\n  useEffect(() => {\n    casinoConfigFetcher();\n  }, [casinoConfigFetcher]);\n\n  const playerConfigFetcher = usePlayerConfigFetcher(true);\n  useEffect(() => {\n    playerConfigFetcher();\n  }, [playerConfigFetcher]);\n\n  const userInfoFetcher = useUserInfoFetcher(true);\n  useEffect(() => {\n    if (casinoConfig && playerConfig) {\n      userInfoFetcher();\n    }\n  }, [casinoConfig, playerConfig, userInfoFetcher]);\n\n  const promotionFetcher = usePromotionFetcher();\n  useEffect(() => {\n    promotionFetcher();\n  }, [promotionFetcher]);\n\n  const bonusPromoFetcher = useBonusCampaignFetcher();\n  useEffect(() => {\n    bonusPromoFetcher();\n  }, [bonusPromoFetcher]);\n\n  const { isFetching, translations } = useTranslation();\n  useEffect(() => {\n    if (!isFetching && translations) {\n      dispatch(lobbyActions.setTranslations(translations));\n    }\n  }, [dispatch, translations, isFetching]);\n  const areTranslationsReady = !isFetching;\n\n  const { filtersInIt, heroBannersConfigInit, promoInIt, socketInIt, tileExceptionConfigInit, userConfigInIt } =\n    useInitSlice.getInit();\n\n  const envReady = useConfigSlice.env();\n\n  const featureConfig = useFeatureContext();\n\n  const progress = useMemo(() => {\n    const isFeatureConfigReady = !featureConfig.isFetching && featureConfig.error === undefined;\n\n    // DO NOT TOUCH THIS ORDER, IT IS VITALLY IMPORTANT FOR LOADING MASK\n    const loading = [\n      true,\n      !!casinoConfig,\n      !!envReady,\n      !!playerConfig,\n      areTranslationsReady,\n      filtersInIt,\n      heroBannersConfigInit,\n      promoInIt,\n      socketInIt,\n      tileExceptionConfigInit,\n      userConfigInIt,\n      isFeatureConfigReady,\n    ];\n\n    // for each of loading flags check if it is set and update loading mask\n    if (loading[1]) updateLobbyLoadingMask(LobbyLoadingBit.CasinoConfig);\n    if (loading[2]) updateLobbyLoadingMask(LobbyLoadingBit.EnvConfig);\n    if (loading[3]) updateLobbyLoadingMask(LobbyLoadingBit.PlayerConfig);\n    if (loading[4]) updateLobbyLoadingMask(LobbyLoadingBit.TranslationsReady);\n    if (loading[5]) updateLobbyLoadingMask(LobbyLoadingBit.FiltersReady);\n    if (loading[6]) updateLobbyLoadingMask(LobbyLoadingBit.HeroBannersConfigReady);\n    if (loading[7]) updateLobbyLoadingMask(LobbyLoadingBit.PromoReady);\n    if (loading[8]) updateLobbyLoadingMask(LobbyLoadingBit.SocketReady);\n    if (loading[9]) updateLobbyLoadingMask(LobbyLoadingBit.TileExceptionConfigReady);\n    if (loading[10]) updateLobbyLoadingMask(LobbyLoadingBit.UserConfigReady);\n    if (loading[11]) updateLobbyLoadingMask(LobbyLoadingBit.FeatureConfigsReady);\n\n    return Math.round(\n      loading.reduce((value: number, currentValue: boolean) => {\n        if (currentValue) {\n          value += 100 / loading.length;\n        }\n        return value;\n      }, 0)\n    );\n  }, [\n    areTranslationsReady,\n    casinoConfig,\n    envReady,\n    filtersInIt,\n    heroBannersConfigInit,\n    playerConfig,\n    promoInIt,\n    socketInIt,\n    tileExceptionConfigInit,\n    userConfigInIt,\n    featureConfig,\n  ]);\n\n  useEffect(() => {\n    switch (progress) {\n      case 100:\n        dispatch(initializationActions.setIsReadyToRender(true));\n        CrossOriginCommunication.dispatch(OutgoingMessage.GameLoadEnd);\n        CrossOriginCommunication.dispatch(OutgoingMessage.UpdateBets);\n        CrossOriginCommunication.dispatch(OutgoingMessage.UpdateWin);\n        if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n          LobbyMessageControllerV2.post(lobbyLoadedMessage());\n        } else {\n          LobbyMessageController.post(lobbyLoadedMessage());\n        }\n        break;\n      case 0:\n        break;\n      default:\n        CrossOriginCommunication.dispatch(OutgoingMessage.GameLoadProgress, { progress });\n        break;\n    }\n  }, [dispatch, progress]);\n\n  useCurtain(progress);\n\n  return null;\n};\n","import { useCallback, useEffect } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\nimport { settingsActions } from '@pp/core/src/store/slices/settings/slice';\n\nimport { LobbyConfiguration } from '../../../config/LobbyConfiguration';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { useLobbySlice } from '../../../store/slices/lobby';\n\nexport const useLiveCasinoSoundSetup = (): void => {\n  const playerConfig = useConfigSlice.playerConfig();\n\n  const dispatch = useLobbyDispatch();\n\n  const gameMasterVolume = useLobbySlice.getGameMasterVolume();\n  const gameUIVolume = useLobbySlice.getGameUIVolume();\n  const setVolume = useCallback((): void => {\n    if (LobbyConfiguration.isInGame) {\n      const masterVolume = gameMasterVolume !== undefined && !Number.isNaN(gameMasterVolume) ? gameMasterVolume : 1;\n      dispatch(settingsActions.setVolume({ channel: 'general', value: masterVolume }));\n\n      const uiVolume = gameUIVolume !== undefined && !Number.isNaN(gameUIVolume) ? gameUIVolume : 1;\n      dispatch(settingsActions.setMasterVolumeOnly(uiVolume));\n    } else {\n      dispatch(settingsActions.setVolume({ channel: 'general', value: 1 }));\n      dispatch(settingsActions.setMasterVolumeOnly(1));\n    }\n  }, [dispatch, gameMasterVolume, gameUIVolume]);\n\n  const channel = useSettingsSlice.getUIVolumeChannel();\n  useEffect(() => {\n    if (playerConfig) {\n      if (!channel) {\n        dispatch(settingsActions.setGameVolumeChannels(['general']));\n        dispatch(settingsActions.setUiVolumeChannel('general'));\n      } else {\n        setVolume();\n      }\n    }\n  }, [channel, dispatch, playerConfig, setVolume]);\n};\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { fetchCuratedTablesAction } from '../apiActions/fetchCuratedTablesAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const useTablesCuratedFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.getMetaServer();\n\n  return useCallback((): void => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(fetchCuratedTablesAction({ JSESSIONID, baseUrl, essential: true }));\n    }\n  }, [JSESSIONID, baseUrl, dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { fetchTablesAction } from '../apiActions/fetchTablesAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const useTablesFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  const JSESSIONID = useConfigSlice.JSESSIONID();\n  const baseUrl = useConfigSlice.getMetaServer();\n\n  return useCallback((): void => {\n    if (JSESSIONID && baseUrl) {\n      dispatch(fetchTablesAction({ JSESSIONID, baseUrl, essential: true }));\n    }\n  }, [JSESSIONID, baseUrl, dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { fetchPromotionAction } from '../apiActions/fetchPromotionAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const usePromotionFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  const jwtToken = useConfigSlice.jwtToken();\n  const env = useConfigSlice.env();\n\n  return useCallback((): void => {\n    if (jwtToken !== undefined && env) {\n      dispatch(\n        fetchPromotionAction({\n          promoUrl: env.promoService,\n          jwtToken,\n        })\n      );\n    }\n  }, [jwtToken, env, dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { useFeature } from '@pp/core/src/components/featureConfig/FeatureConfigFlags';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { fetchBonusCampaignAction } from '../apiActions/fetchBonusCampaignAction';\nimport { useLobbyDispatch } from '../LobbyStore';\nimport { initActions } from '../slices/lobbyInit';\n\nexport const useBonusCampaignFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  const jwtToken = useConfigSlice.jwtToken();\n  const env = useConfigSlice.env();\n  const bonusPromoUrl = env?.bonusPromotionsService;\n  const enableBonusPromotions = useFeature('enableFreeChips');\n\n  return useCallback((): void => {\n    if (!enableBonusPromotions) {\n      dispatch(initActions.setBonusPromoInIt(true));\n      return;\n    }\n\n    if (jwtToken && bonusPromoUrl) {\n      dispatch(\n        fetchBonusCampaignAction({\n          bonusPromoUrl,\n          jwtToken,\n        })\n      );\n      return;\n    }\n\n    if (env && !bonusPromoUrl) {\n      dispatch(initActions.setBonusPromoInIt(true));\n    }\n  }, [jwtToken, bonusPromoUrl, dispatch, enableBonusPromotions]);\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport type { PromoTableType } from '../../../api/fetchers/promo';\nimport LoggerState from '../../../logger/LoggerState';\nimport { sortAndFilterGames } from '../../../utils/filtersFunc';\nimport { SearchProcessor } from '../../../utils/SearchProcessor';\nimport { type LobbyRootState, LobbyStore, useLobbySelector } from '../../LobbyStore';\nimport type { ISelectedFilter } from '../filters/types';\nimport type { GameType } from '../games/slice';\nimport type { IGameReference } from '../tables/types';\n\nconst selectSortedCategory = createSelector(\n  [\n    (state: LobbyRootState): GameType[] => state.category.categoryGames,\n    (state: LobbyRootState): string => state.filters.searchDebounce,\n    (state: LobbyRootState): PromoTableType => state.promotions.promoTables,\n    (state: LobbyRootState): string | null => state.category.currentCategory,\n    (state: LobbyRootState): ISelectedFilter => state.filters.selected,\n    (state: LobbyRootState): number | undefined => state.config.playerConfig?.currencyMultiplier,\n    (state: LobbyRootState): boolean => state.dga.tablesPending,\n    (state: LobbyRootState): string[] => state.filters.goodRoadsTable,\n    (state: LobbyRootState): string[] | undefined | null => state.dga.longPendingTables,\n  ],\n  (\n    categoryGames,\n    searchDebounce,\n    promoTables,\n    currentCategory,\n    selectedFilters,\n    currencyMultiplier,\n    tablesPending,\n    goodRoadsTables,\n    longPendingTables\n  ) => {\n    const store = LobbyStore.getState();\n    const gameList = store.gameList.entities;\n\n    if (!currentCategory || tablesPending) return;\n\n    if (!categoryGames && !tablesPending) {\n      Logger.logFailure(\n        'errors',\n        'noResults',\n        `no_order_array_on_category-${currentCategory}`,\n        Date.now(),\n        1,\n        '',\n        false\n      );\n      return;\n    }\n\n    let searchedData = categoryGames;\n\n    if (searchDebounce) {\n      searchedData = SearchProcessor.runQuery(searchDebounce);\n    }\n\n    if (longPendingTables) {\n      searchedData = searchedData.filter((game) => !longPendingTables.includes(game.id));\n    }\n\n    const result: {\n      games: string[];\n    } = {\n      games: sortAndFilterGames({\n        games: gameList,\n        promoTables,\n        selectedFilters: selectedFilters[currentCategory],\n        currencyMultiplier,\n        categoryId: currentCategory,\n        goodRoadsTables,\n        categoryGamesData: searchedData,\n      }).flat(),\n    };\n\n    LoggerState.filteredGames = result.games.join(',');\n\n    return result;\n  }\n);\n\nexport const useCategorySlice = {\n  getGames: (): { games?: string[] } | undefined => {\n    return useLobbySelector(selectSortedCategory);\n  },\n  getCategories: (): Record<string, IGameReference[]> | undefined => {\n    return useLobbySelector(({ category }) => category.categories);\n  },\n};\n","import type { FunctionComponent } from 'react';\nimport { useEffect, useLayoutEffect, useMemo } from 'react';\n\nimport { useTranslation } from '@pp/core/src/api/useTranslation';\nimport { useCurtain } from '@pp/core/src/components/gameRoot/useCurtain';\nimport { CrossOriginCommunication } from '@pp/core/src/controllers/crossOriginCommunication/CrossOriginCommunicationController';\nimport { OutgoingMessage } from '@pp/core/src/controllers/crossOriginCommunication/types';\nimport { gameStateActions } from '@pp/core/src/store/slices/game/slice';\nimport { initializationActions } from '@pp/core/src/store/slices/initialization/slice';\nimport { settingsActions } from '@pp/core/src/store/slices/settings/slice';\n\nimport { HostCommunicationVersions, LobbyConfiguration } from '../../../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { SlotRegion } from '../../../config/slot/types';\nimport { ID_ALL_SLOTS, ID_DDW, SLUG_ALL_SLOTS, SLUG_DDW } from '../../../constants/navigation';\nimport { lobbyLoadedMessage } from '../../../messages/commonMessages';\nimport { LobbyMessageController } from '../../../messages/LobbyMessageController';\nimport { LobbyMessageControllerV2 } from '../../../messages/LobbyMessageControllerV2';\nimport { useSlotBalanceFetcher } from '../../../store/apiHooks/slots/useSlotBalanceFetcher';\nimport { useSlotGamesFetcher } from '../../../store/apiHooks/slots/useSlotGamesFetcher';\nimport { useGetSlotSettingsFetcher } from '../../../store/apiHooks/slots/useSlotSettingsFetcher';\nimport { useGetSlotUserSettingsFetcher } from '../../../store/apiHooks/slots/useSlotUserSettingsFetcher';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { useCategorySlice } from '../../../store/slices/category/selectors';\nimport { lobbyActions } from '../../../store/slices/lobby/slice';\nimport { useInitSlice } from '../../../store/slices/lobbyInit/selectors';\nimport { navActions } from '../../../store/slices/nav/slice';\nimport { useSlotsSlice } from '../../../store/slices/slots/selectors';\nimport type { ILobbyCategory } from '../../nav/categories';\n\nimport { useSlotSoundSetup } from './useSlotSoundSetup';\n\nexport const SlotsInitializer: FunctionComponent = (): null => {\n  const dispatch = useLobbyDispatch();\n\n  useEffect(() => {\n    if (SlotLobbyConfiguration?.currency) {\n      dispatch(\n        gameStateActions.setUserInfo({\n          casinoId: '',\n          userId: '',\n          userType: '',\n          screenName: '',\n          country: '',\n          enrolmentDate: '',\n          hasActiveBets: false,\n          ranking: 0,\n          points: 0,\n          balance: {\n            amount: NaN,\n            bonus: NaN,\n            currency: SlotLobbyConfiguration?.currency ?? '',\n            currencySymbol: '',\n            currencySymbolBefore: false,\n            updateTimestamp: 0,\n          },\n        })\n      );\n    }\n  }, [dispatch]);\n\n  // If lobby is rendering with slot vendor, and it is rendering inside a game or a \"shell\" (not completely standalone)\n  // then we apply a noSafeArea class to the body to remove the safe area padding\n  useLayoutEffect(() => {\n    if (LobbyConfiguration.isSlots && !LobbyConfiguration.isStandalone) {\n      document.body.classList.add('noSafeArea');\n    }\n  }, []);\n\n  /* Sound */\n  useSlotSoundSetup();\n\n  /* Language */\n  useEffect(() => {\n    if (!SlotLobbyConfiguration) return;\n    dispatch(settingsActions.setLanguage(SlotLobbyConfiguration?.language));\n  }, [dispatch]);\n\n  /* Slots */\n  const slotGamesFetcher = useSlotGamesFetcher();\n  useEffect(() => {\n    slotGamesFetcher();\n  }, [slotGamesFetcher]);\n\n  /* Current Table Id */\n  useEffect(() => {\n    if (!SlotLobbyConfiguration?.gameSymbol) return;\n    dispatch(lobbyActions.setCurrentTableId(SlotLobbyConfiguration.gameSymbol));\n  }, [dispatch]);\n\n  /* Settings */\n  const slotSettingsFetcher = useGetSlotSettingsFetcher();\n  useEffect(() => {\n    slotSettingsFetcher();\n  }, [slotSettingsFetcher]);\n  const slotUserSettingsFetcher = useGetSlotUserSettingsFetcher();\n  useEffect(() => {\n    slotUserSettingsFetcher();\n  }, [slotUserSettingsFetcher]);\n  const userSettings = useSlotsSlice.getUserSettings();\n\n  /* Balance - only if completely standalone */\n  const slotBalanceFetcher = useSlotBalanceFetcher();\n  useEffect(() => {\n    if (LobbyConfiguration.isSlots && LobbyConfiguration.isStandalone) {\n      slotBalanceFetcher();\n    }\n  }, [slotBalanceFetcher]);\n\n  /* Categories */\n  const categories = useCategorySlice.getCategories();\n  useEffect(() => {\n    if (!categories) return;\n\n    const enabledCategories: ILobbyCategory[] = [\n      {\n        id: ID_ALL_SLOTS,\n        slug: SLUG_ALL_SLOTS,\n        label: 'ALL_SLOTS',\n      },\n    ];\n\n    if (categories?.['DDW'] && categories['DDW'].length > 0) {\n      enabledCategories.push({\n        id: ID_DDW,\n        slug: SLUG_DDW,\n        label: SlotLobbyConfiguration?.region === SlotRegion.Asia ? 'DAILY_WINS' : 'DROPS_WINS',\n      });\n    }\n\n    dispatch(navActions.setCategories(enabledCategories));\n  }, [categories, dispatch]);\n\n  const { tableInIt, heroBannersConfigInit, tileExceptionConfigInit } = useInitSlice.getInit();\n\n  // Translations\n  const { isFetching, translations } = useTranslation();\n  useEffect(() => {\n    if (!isFetching && translations) {\n      dispatch(lobbyActions.setTranslations(translations));\n    }\n  }, [dispatch, translations, isFetching]);\n  const areTranslationsReady = !isFetching;\n\n  const progress = useMemo(() => {\n    const loading = [\n      true,\n      !!SlotLobbyConfiguration,\n      areTranslationsReady,\n      tableInIt,\n      userSettings !== undefined,\n      heroBannersConfigInit,\n      tileExceptionConfigInit,\n    ];\n\n    return Math.round(\n      loading.reduce((value: number, currentValue: boolean) => {\n        if (currentValue) {\n          value += 100 / loading.length;\n        }\n        return value;\n      }, 0)\n    );\n  }, [areTranslationsReady, heroBannersConfigInit, tableInIt, tileExceptionConfigInit, userSettings]);\n\n  useEffect((): void => {\n    switch (progress) {\n      case 100:\n        dispatch(initializationActions.setIsReadyToRender(true));\n        CrossOriginCommunication.dispatch(OutgoingMessage.GameLoadEnd);\n        CrossOriginCommunication.dispatch(OutgoingMessage.UpdateBets);\n        CrossOriginCommunication.dispatch(OutgoingMessage.UpdateWin);\n        if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n          LobbyMessageControllerV2.post(lobbyLoadedMessage());\n        } else {\n          LobbyMessageController.post(lobbyLoadedMessage());\n        }\n        break;\n      case 0:\n        break;\n      default:\n        CrossOriginCommunication.dispatch(OutgoingMessage.GameLoadProgress, { progress });\n        break;\n    }\n  }, [dispatch, progress]);\n\n  useCurtain(progress);\n\n  return null;\n};\n","import { useEffect } from 'react';\n\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\nimport { settingsActions } from '@pp/core/src/store/slices/settings/slice';\n\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\n\nexport const useSlotSoundSetup = (): void => {\n  const dispatch = useLobbyDispatch();\n  const channel = useSettingsSlice.getUIVolumeChannel();\n\n  useEffect(() => {\n    if (!channel) {\n      dispatch(settingsActions.setGameVolumeChannels(['general']));\n      dispatch(settingsActions.setUiVolumeChannel('general'));\n    } else {\n      dispatch(settingsActions.setVolume({ channel, value: 1 }));\n      dispatch(settingsActions.setMasterVolumeOnly(1));\n    }\n  }, [dispatch, channel]);\n};\n","import { useCallback } from 'react';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { fetchSlotGamesAction } from '../../apiActions/slots/fetchSlotGames';\nimport { useLobbyDispatch } from '../../LobbyStore';\n\nexport const useSlotGamesFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    const magicKey = SlotLobbyConfiguration?.magicKey;\n    const baseUrl = SlotLobbyConfiguration?.apiUrl;\n    if (magicKey && baseUrl) {\n      dispatch(fetchSlotGamesAction({ magicKey, baseUrl: baseUrl.toString(), essential: true }));\n    }\n  }, [dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { fetchGetSlotSettingsAction } from '../../apiActions/slots/fetchSlotSettings';\nimport { useLobbyDispatch } from '../../LobbyStore';\n\nexport const useGetSlotSettingsFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    const magicKey = SlotLobbyConfiguration?.magicKey;\n    const rootUrl = SlotLobbyConfiguration?.rootUrl;\n    if (magicKey && rootUrl) {\n      dispatch(fetchGetSlotSettingsAction({ magicKey, rootUrl: rootUrl.toString(), essential: false }));\n    }\n  }, [dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { fetchGetSlotUserSettingsAction } from '../../apiActions/slots/fetchSlotUserSettings';\nimport { useLobbyDispatch } from '../../LobbyStore';\n\nexport const useGetSlotUserSettingsFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    const magicKey = SlotLobbyConfiguration?.magicKey;\n    const rootUrl = SlotLobbyConfiguration?.rootUrl;\n    if (magicKey && rootUrl) {\n      dispatch(fetchGetSlotUserSettingsAction({ magicKey, rootUrl: rootUrl.toString(), essential: false }));\n    }\n  }, [dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { fetchSlotBalanceAction } from '../../apiActions/slots/fetchSlotBaance';\nimport { useLobbyDispatch } from '../../LobbyStore';\n\nexport const useSlotBalanceFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    const magicKey = SlotLobbyConfiguration?.magicKey;\n    const rootUrl = SlotLobbyConfiguration?.rootUrl;\n    if (magicKey && rootUrl) {\n      dispatch(fetchSlotBalanceAction({ magicKey, rootUrl: rootUrl.toString(), essential: false }));\n    }\n  }, [dispatch]);\n};\n","import { type FunctionComponent, type PropsWithChildren, useEffect } from 'react';\n\nimport { UserSession } from '@pp/core/src/config/UserSession';\nimport { DeviceInfo } from '@pp/core/src/deviceInfo/deviceInfo';\nimport { useInitializationSlice } from '@pp/core/src/store/slices/initialization/selectors';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { SlotLobbyConfiguration } from '../../config/slot/SlotLobbyConfiguration';\nimport { useUrlFilters } from '../../hooks/useUrlFilters';\nimport { useHeroBannersConfigFetcher } from '../../store/apiHooks/useHeroBannersConfigFetcher';\nimport { useSlotsFetcher } from '../../store/apiHooks/useSlotsFetcher';\nimport { useTileExceptionConfigFetcher } from '../../store/apiHooks/useTileExceptionConfigFetcher';\nimport { useLobbyDispatch } from '../../store/LobbyStore';\nimport { navActions } from '../../store/slices/nav/slice';\nimport { sanitizeGameSymbol } from '../../utils/sanitizeGameSymbol';\n\nimport { LiveCasinoInitializer } from './liveCasino/LiveCasinoInitializer';\nimport { SlotsInitializer } from './slots/SlotsInitializer';\n\nexport const LobbyInitializer: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  const isInitialized = useInitializationSlice.getIsReadyToRender();\n  const dispatch = useLobbyDispatch();\n\n  /* lobby filters from url */\n  useUrlFilters();\n\n  useEffect(() => {\n    DeviceInfo.init();\n    if (LobbyConfiguration.isLiveCasino) {\n      UserSession.clearUrlSession();\n    }\n  }, []);\n\n  const previousGameSymbol = UserSession.getSession()?.lobbyGameSymbol;\n  const slotsFetcher = useSlotsFetcher();\n  useEffect(() => {\n    if (!previousGameSymbol) return;\n    const previousGameId = sanitizeGameSymbol(previousGameSymbol);\n    if (\n      // If there is a previous game id\n      previousGameId &&\n      // In case of slots lobby only in standalone mode\n      (!LobbyConfiguration.isSlots || SlotLobbyConfiguration?.isStandalone) &&\n      // In case of live casino lobby only if not in game\n      !(LobbyConfiguration.isLiveCasino && LobbyConfiguration.isInGame)\n    ) {\n      dispatch(\n        navActions.setPreviousGame({\n          id: previousGameId,\n        })\n      );\n      slotsFetcher();\n    }\n  }, [previousGameSymbol, slotsFetcher, dispatch]);\n\n  const heroBannersConfigFetcher = useHeroBannersConfigFetcher();\n  useEffect(() => {\n    heroBannersConfigFetcher();\n  }, [heroBannersConfigFetcher]);\n\n  const tileExceptionConfigFetcher = useTileExceptionConfigFetcher();\n  useEffect(() => {\n    tileExceptionConfigFetcher();\n  }, [tileExceptionConfigFetcher]);\n\n  return (\n    <>\n      {LobbyConfiguration.isSlots ? <SlotsInitializer /> : <LiveCasinoInitializer />}\n      {isInitialized ? children : null}\n    </>\n  );\n};\n","import { useEffect } from 'react';\n\nimport { UserSession } from '@pp/core/src/config/UserSession';\nimport { Logger } from '@pp/core/src/logger/Logger';\n\nimport { CATEGORY_SHORTNAME, DELIMITERS, LOBBY_FILTERS_CONFIG } from '../config/LobbyFiltersConfig';\nimport { useLobbyDispatch } from '../store/LobbyStore';\nimport { filtersActions } from '../store/slices/filters/slice';\nimport { IURLFilter } from '../store/slices/filters/types';\nimport { isEmpty, pruneArray } from '../utils';\n\nexport const useUrlFilters = (): null => {\n  const userSession = UserSession.getSession();\n  const dispatch = useLobbyDispatch();\n  // accept filters from URL and store in lobbyStore\n  useEffect(() => {\n    const parsedFilters = parseLobbyFilterCipher(userSession?.lobbyFilter);\n    parsedFilters && dispatch(filtersActions.setURLFilters(parsedFilters));\n  }, [userSession, dispatch]);\n  return null;\n};\n\n/**\n *\n * @param filterCipher : string with following contract\n * eg. Create a BJ Lobby with pre-filter options: All BJ tables with available seats, min bet 1-10 euros and speed tables\n * lobbyFilters from Operators \"BJ_FS:FS$BJ_MB:1$BJ_TYPE:S\"\n * @returns lobbyFilters : IURLFilter\n */\nexport const parseLobbyFilterCipher = (filterCipher: string | undefined): IURLFilter | null => {\n  if (!filterCipher) return null;\n\n  const invalidUrlFilters: Array<string> = [];\n  const pairs = filterCipher.split(DELIMITERS.PAIR_SEPARATOR);\n  const lobbyFilters = pairs.reduce((acc, pair) => {\n    const [key, values] = pair.split(DELIMITERS.KEY_VALUE_SEPARATOR);\n    const [categorySN, filterSN] = key.split(DELIMITERS.KEYS_SEPARATOR);\n\n    /**\n     * Validation\n     * if categorySN and filterSN are invalid ignore, work with all the valid filters, SN stands for 'ShortName'\n     *  */\n    const CSN = categorySN as CATEGORY_SHORTNAME;\n    if (!LOBBY_FILTERS_CONFIG[CSN] || !LOBBY_FILTERS_CONFIG[CSN].VALUES[filterSN]) {\n      invalidUrlFilters.push(pair);\n      return acc;\n    }\n    const categoryKey = LOBBY_FILTERS_CONFIG[CSN].KEY;\n    const filterKey = LOBBY_FILTERS_CONFIG[CSN].VALUES[filterSN].KEY;\n    const keyValueMap = LOBBY_FILTERS_CONFIG[CSN].VALUES[filterSN].VALUES;\n    acc[categoryKey] = acc[categoryKey] || {};\n    const filterValues = acc[categoryKey][filterKey] || [];\n    const filterMappedValues = values?.split(DELIMITERS.VALUES_SEPARATOR).map((v) => keyValueMap[v]) || [];\n    acc[categoryKey][filterKey] = [...filterValues, ...pruneArray(filterMappedValues)];\n    return acc;\n  }, {} as IURLFilter);\n\n  if (!isEmpty(invalidUrlFilters)) {\n    Logger.logFailure('invalidURLFilters');\n    Logger.logException(new Error('invalidURLFilters supplied for Lobby, invalid filters: ' + invalidUrlFilters));\n  }\n  return isEmpty(lobbyFilters) ? null : lobbyFilters;\n};\n","import { useCallback } from 'react';\n\nimport { fetchHeroBannersConfigAction } from '../apiActions/fetchRemoteConfigsAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const useHeroBannersConfigFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    dispatch(fetchHeroBannersConfigAction());\n  }, [dispatch]);\n};\n","import { useCallback } from 'react';\n\nimport { fetchTileExceptionConfigAction } from '../apiActions/fetchRemoteConfigsAction';\nimport { useLobbyDispatch } from '../LobbyStore';\n\nexport const useTileExceptionConfigFetcher = (): (() => void) => {\n  const dispatch = useLobbyDispatch();\n\n  return useCallback((): void => {\n    dispatch(fetchTileExceptionConfigAction());\n  }, [dispatch]);\n};\n","import type { FunctionComponent } from 'react';\n\nimport { IconButton } from '@pp/core/src/components/controls/iconButton/IconButton';\nimport { Icons } from '@pp/core/src/components/icons';\nimport { Loader } from '@pp/core/src/components/loader';\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\n\nimport styles from './OpeningOverlay.module.css';\n\nexport const OpeningOverlay: FunctionComponent<{ handleClose: () => void; name?: string }> = ({\n  handleClose,\n  name,\n}) => {\n  return (\n    <div className={styles.openingOverlay}>\n      <IconButton icon={Icons.Close} onClick={handleClose} ghost className={styles.openingOverlay__overlayClose} />\n      <div className={styles.openingOverlay__progress}>\n        <Loader />\n      </div>\n      {name ? (\n        <div className={styles.openingOverlay__title}>\n          <L12nText tk=\"LOBBY_SLOT_LOADING\" dynamicValues={[name]} />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"openingOverlay\":\"s_t\",\"openingOverlay__overlayClose\":\"s_u\",\"openingOverlay__title\":\"s_v\",\"openingOverlay__progress\":\"s_w\"};","import { type FunctionComponent, useCallback } from 'react';\n\nimport { NavigationAbortController } from '../../controllers/DGA/NavigationAbortController';\nimport { useNavSlice } from '../../store/slices/nav/selectors';\n\nimport { OpeningOverlay } from './OpeningOverlay';\n\nexport const OpeningOverlayConnected: FunctionComponent = () => {\n  const loadingGameName = useNavSlice.getLoadingGameName();\n  const isLoading = useNavSlice.getIsGameLoading();\n\n  const handleClose = useCallback(() => {\n    NavigationAbortController.abort();\n  }, []);\n\n  if (!isLoading) return;\n  return <OpeningOverlay handleClose={handleClose} name={loadingGameName} />;\n};\n","export enum LobbyPopupType {\n  PrivateTableKickedOut = 'PrivateTableKickedOut',\n}\n","import type { FC, ReactElement } from 'react';\n\nimport { ButtonVariant } from '@pp/core/src/components/controls/button/Button';\nimport {\n  BlockingModalActionButton,\n  BlockingModalContent,\n} from '@pp/core/src/components/popup/content/BlockingModalContent';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\nimport { useCoreDispatch } from '@pp/core/src/store/CoreStore';\nimport { popupActions } from '@pp/core/src/store/slices/popup/slice';\n\nimport { useLobbyRedirectCallbackConnected } from '../../redirection/useLobbyRedirectCallbackConnected';\nimport { useGameListSlice } from '../../store/slices/games/selectors';\nimport type { GameType } from '../../store/slices/games/slice';\nimport { useTablesSlice } from '../../store/slices/tables/selectors';\n\nimport { LobbyPopupType } from './types';\n\nexport const PrivateTableKickedOutConnected: FC = (): ReactElement => {\n  const dispatch = useCoreDispatch();\n  const redirect = useLobbyRedirectCallbackConnected();\n\n  const PPG = SessionStorage.getJson('PPG');\n  const tableId = PPG?.kickedout;\n  const pragmaticIdToOperatorId = useTablesSlice.getPragmaticIdToOperatorId();\n  let table: GameType | undefined;\n  if (tableId) {\n    const operatorGameId = pragmaticIdToOperatorId[tableId];\n    table = useGameListSlice.getGame(operatorGameId);\n  }\n\n  const clearKickedOutId = (): void => {\n    const PPG = SessionStorage.getJson('PPG');\n    if (PPG) {\n      delete PPG.kickedout;\n      SessionStorage.setJson('PPG', PPG);\n    }\n  };\n\n  const action: BlockingModalActionButton[] = [\n    {\n      tk: 'BACK_TO_LOBBY',\n      type: ButtonVariant.MAIN,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(LobbyPopupType.PrivateTableKickedOut));\n        clearKickedOutId();\n      },\n    },\n    {\n      tk: 'REJOIN_TABLE',\n      type: ButtonVariant.ACCENT,\n      click: (): void => {\n        dispatch(popupActions.dismissPopup(LobbyPopupType.PrivateTableKickedOut));\n        if (table) {\n          redirect(table);\n        }\n        clearKickedOutId();\n      },\n    },\n  ];\n\n  return <BlockingModalContent titleTk=\"REJOIN_TABLE\" messageTk=\"PRIVATE_SESSION_ENDED\" actions={action} />;\n};\n","import { FC, useEffect } from 'react';\n\nimport { PopupConfigInterface, PopupConnected } from '@pp/core/src/components/popup/PopupConnected';\nimport { SessionStorage } from '@pp/core/src/storage/session/SessionStorage';\nimport { useInitializationSlice } from '@pp/core/src/store/slices/initialization/selectors';\nimport { popupActions } from '@pp/core/src/store/slices/popup/slice';\n\nimport { LobbyConfiguration } from '../../config/LobbyConfiguration';\nimport { useLobbyDispatch } from '../../store/LobbyStore';\nimport { useGameListSlice } from '../../store/slices/games/selectors';\n\nimport { PrivateTableKickedOutConnected } from './PrivateTableKickedOutConnected';\nimport { LobbyPopupType } from './types';\n\nconst popupsMap: Record<LobbyPopupType, PopupConfigInterface> = {\n  [LobbyPopupType.PrivateTableKickedOut]: { content: <PrivateTableKickedOutConnected />, headerLess: true },\n};\n\nexport const LobbyPopupConnected: FC = () => {\n  const dispatch = useLobbyDispatch();\n  const isInitialized = useInitializationSlice.getIsReadyToRender();\n  const PPG = SessionStorage.getJson('PPG');\n  const id = PPG?.kickedout;\n  const game = useGameListSlice.getGame(id);\n\n  useEffect(() => {\n    if (isInitialized && game && !LobbyConfiguration.isInLauncherMode) {\n      dispatch(popupActions.pushPopup(LobbyPopupType.PrivateTableKickedOut));\n    }\n  }, [isInitialized, dispatch, game]);\n\n  return <PopupConnected additionalPopups={popupsMap} />;\n};\n","import type { ITable } from '../../store/slices/tables/types';\n\nimport type { ITableMessage } from './types';\n\nexport interface IGoodRoadsData extends Pick<ITableMessage, 'statistics' | 'goodRoadsMap' | 'goodRoadsDepthMap'> {}\n\nexport class GoodRoadsBuffer {\n  buffer: Record<string, IGoodRoadsData> = {};\n\n  processMessage(table: ITable | undefined, messageData: IGoodRoadsData): IGoodRoadsData | undefined {\n    if (table && !table.id) return;\n    // if message does not contain any of the necessary info - return\n    if (!messageData.statistics && !messageData.goodRoadsMap && !messageData.goodRoadsDepthMap) return;\n    // if there was no table before, jut return message data as is\n    if (!table) return messageData;\n    // get buffered data for this table\n    const buffered = this.buffer[table.id];\n    // combine new data with buffered data\n    const combinedData = {\n      statistics: messageData.statistics || buffered?.statistics,\n      goodRoadsMap: messageData.goodRoadsMap || buffered?.goodRoadsMap,\n      goodRoadsDepthMap: messageData.goodRoadsDepthMap || buffered?.goodRoadsDepthMap,\n    };\n    // if combined data has statistics - return it\n    if (combinedData.statistics) {\n      delete this.buffer[table.id];\n      // if no good roads data is present populate with previous data\n      combinedData.goodRoadsMap = combinedData.goodRoadsMap || table.goodRoadsMap;\n      combinedData.goodRoadsDepthMap = combinedData.goodRoadsDepthMap || table.goodRoadsDepthMap;\n      return combinedData;\n    }\n    // if not - buffer the data\n    this.buffer[table.id] = combinedData;\n  }\n}\n","import type { FC } from 'react';\nimport { useCallback, useEffect } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { LobbyStore } from '../../store/LobbyStore';\nimport { useDGASlice } from '../../store/slices/dga/selectors';\nimport { dgaActions } from '../../store/slices/dga/slice';\nimport { gameListActions } from '../../store/slices/games/slice';\nimport { useLobbySlice } from '../../store/slices/lobby/selectors';\nimport { initActions } from '../../store/slices/lobbyInit';\nimport type { ITable } from '../../store/slices/tables/types';\n\nimport { WsDgaController } from './wsDGAcontroller';\n\nexport const dgaController = new WsDgaController();\n\nexport const WsDgaControllerConnector: FC = (): null => {\n  const dispatch = LobbyStore.dispatch;\n  const currentTableList = useDGASlice.getCurrentTableList();\n  const currentTableId = useLobbySlice.getCurrentTableId();\n  const userId = useConfigSlice.userId() ?? '';\n\n  const credentials = useDGASlice.getCredentials();\n\n  /* Handle table updates */\n  const handleTablesUpdate = useCallback(\n    (tables: ITable[]) => {\n      dispatch(gameListActions.upsertGames(tables));\n    },\n    [dispatch]\n  );\n\n  const handlePlayerCount = useCallback(\n    (count: number) => {\n      dispatch(dgaActions.setPlayerCount(count));\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    dgaController.onPlayerCount(handlePlayerCount);\n  }, [handlePlayerCount]);\n\n  useEffect(() => {\n    dgaController.onTablesUpdate(handleTablesUpdate);\n  }, [handleTablesUpdate]);\n\n  /* Provide a way to get stored table data */\n  useEffect(() => {\n    dgaController.setStoredGameGetter((id) => {\n      return LobbyStore.getState().gameList.entities[id];\n    });\n  }, []);\n\n  /* Handle supported tables list */\n  useEffect(() => {\n    dgaController.onSupportedTables((tables) => {\n      dispatch(dgaActions.setSupportedTables(tables));\n    });\n  }, [dispatch]);\n\n  /* Handle initialisation */\n  useEffect(() => {\n    dgaController.onInit(() => {\n      dispatch(initActions.setSocketInIt(true));\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    dgaController.subscribeTables(currentTableList ?? []);\n  }, [currentTableList, dispatch]);\n\n  /* Handle tables loaded */\n  useEffect(() => {\n    dgaController.onTablesLoaded(() => {\n      dispatch(dgaActions.setTablesPending(false));\n    });\n  }, [dispatch]);\n\n  /* Handle long loading tables */\n  useEffect(() => {\n    dgaController.onTablesLongPending((tables: string[]) => {\n      dispatch(dgaActions.setTablesLongPending(tables));\n    });\n  }, [dispatch]);\n\n  /* Handle current table */\n  useEffect(() => {\n    if (!currentTableId) return;\n    dgaController.setCurrentTable(currentTableId);\n  }, [currentTableId]);\n\n  /* Handle user id */\n  useEffect(() => {\n    if (!userId) return;\n    dgaController.setUserId(userId);\n  }, [userId]);\n\n  useEffect(() => {\n    if (!credentials) return;\n    dgaController.setCredentials(credentials);\n    dgaController.start();\n    return () => {\n      dgaController.stop();\n    };\n  }, [credentials]);\n\n  return null;\n};\n","import { Logger } from '@pp/core/src/logger/Logger';\n\nimport { Vendor } from '../../config/LobbyConfiguration';\nimport { GameType } from '../../store/slices/games/slice';\nimport type { ITable } from '../../store/slices/tables/types';\n\nimport { NO_DEALER } from './constants';\nimport { GoodRoadsBuffer } from './GoodRoadsBuffer';\nimport type { IDGACredentials, IStatistics, ITableMassageIncomplete, ITableMessage, ITableMessageRaw } from './types';\n\nconst RECONNECT_LIMIT = 1_000;\nconst RECONNECTION_TIMEOUT = 5_000;\nconst TABLE_CACHE_FLUSH_TIMEOUT = 1_000;\nconst PENDING_TABLES_TIMEOUT = 5_000;\nconst STATISTICS_TIMEOUT = 5_000;\n\nexport class WsDgaController {\n  private ws?: WebSocket;\n  private open = false;\n  private waitingPong: boolean = false;\n  private pingInterval?: ReturnType<typeof setInterval>;\n  private staticInterval?: ReturnType<typeof setInterval>;\n  private casinoId?: string;\n  private tables: Set<string> = new Set();\n  private currency?: string;\n  private url: string = '';\n  private reconnectCount: number = 0;\n  private reconnectInterval?: ReturnType<typeof setInterval>;\n  private shouldReplaceSnapURL: boolean = window.location.host.includes('client');\n  private goodRoadsBuffer = new GoodRoadsBuffer();\n  private pendingTables: Set<string> | null = new Set();\n  private tableCache: Record<string, ITable> = {};\n  private tableCacheFlushTimeout?: number;\n  private currentTableId?: string;\n  private userId?: string;\n\n  private pendingTimeout?: number;\n\n  private tablesUpdateHandler?: (tables: ITable[]) => void;\n  private supportedTablesHandler?: (tables: string[]) => void;\n  private playerCountHandler?: (count: number) => void;\n  private initHandler?: () => void;\n  private getStoredGame?: (tableId: string) => GameType | undefined;\n  private tablesLoadedHandler?: () => void;\n  private handleTablesLongPending?: (tables: string[]) => void;\n\n  private readonly onWebSocketMessage: (msg: MessageEvent<string>) => void;\n\n  /* Subscribers */\n  onTablesUpdate(handler: (tables: ITable[]) => void): void {\n    this.tablesUpdateHandler = handler;\n  }\n\n  onSupportedTables(handler: (tables: string[]) => void): void {\n    this.supportedTablesHandler = handler;\n  }\n\n  onInit(handler: () => void): void {\n    this.initHandler = handler;\n  }\n\n  onTablesLoaded(handler: () => void): void {\n    this.tablesLoadedHandler = handler;\n  }\n\n  onPlayerCount(handler: (count: number) => void): void {\n    this.playerCountHandler = handler;\n  }\n\n  onTablesLongPending(handler: (tables: string[]) => void): void {\n    this.handleTablesLongPending = handler;\n  }\n\n  setStoredGameGetter(getTable: (tableId: string) => GameType | undefined): void {\n    this.getStoredGame = getTable;\n  }\n\n  setCurrentTable(tableId: string): void {\n    this.currentTableId = tableId;\n  }\n\n  setUserId(userId: string): void {\n    this.userId = userId;\n  }\n\n  constructor() {\n    this.onWebSocketMessage = this.processMessage.bind(this);\n\n    window.addEventListener('offline', () => {\n      console.log('offline');\n      this.close();\n    });\n\n    window.addEventListener('online', () => {\n      console.log('online');\n      this.start();\n    });\n  }\n\n  public start(): void {\n    if (this.open) return;\n    this.connectSocket();\n  }\n\n  public stop(): void {\n    if (!this.open) return;\n    this.close();\n  }\n\n  public setCredentials({ url, casinoId, currency }: IDGACredentials): void {\n    const oldUrl = this.url;\n    const oldCasinoId = this.casinoId;\n    const oldCurrency = this.currency;\n\n    this.url = url;\n    this.casinoId = casinoId;\n    this.currency = currency;\n\n    if (this.open) {\n      if (this.url !== oldUrl || this.casinoId !== oldCasinoId || this.currency !== oldCurrency) {\n        this.reconnectProcedure();\n      }\n    }\n  }\n\n  public subscribeTables(tables: string[]): void {\n    if (!this.open || !this.ws || !this.casinoId) {\n      return;\n    }\n\n    const tablesToUnsubscribe = new Set(this.tables);\n    const newTables: string[] = [];\n    tables.forEach((table) => {\n      if (!this.tables.has(table)) {\n        newTables.push(table);\n        this.tables.add(table);\n        this.addTableToPending(table);\n      } else {\n        tablesToUnsubscribe.delete(table);\n      }\n    });\n\n    if (tablesToUnsubscribe.size !== 0) {\n      this.unsubscribeTable(Array.from(tablesToUnsubscribe));\n    }\n\n    if (this.pendingTables && this.pendingTables.size > 0) {\n      if (this.pendingTimeout) {\n        window.clearTimeout(this.pendingTimeout);\n      }\n      this.pendingTimeout = window.setTimeout(() => {\n        let tableComaSeparated = '';\n        if (this.pendingTables) {\n          tableComaSeparated = Array.from(this.pendingTables).join(', ');\n        }\n        Logger.logFailure('pendingTables');\n        console.error('Some tables are still pending', tableComaSeparated);\n        this.handleTablesLongPending?.(Array.from(this.pendingTables ?? []));\n        this.pendingTables = null;\n        this.tablesLoadedHandler?.();\n      }, PENDING_TABLES_TIMEOUT);\n    } else {\n      this.pendingTables = null;\n      this.tablesLoadedHandler?.();\n    }\n\n    if (newTables.length !== 0) {\n      const message = {\n        type: 'subscribe',\n        isDeltaEnabled: true,\n        casinoId: this.casinoId,\n        key: newTables,\n        currency: this.currency,\n      };\n\n      this.sendMessage(message);\n    } else {\n      this.tablesLoadedHandler?.();\n    }\n  }\n\n  private unsubscribeTable(tables: string[]): void {\n    if (!this.open || !this.ws || !this.casinoId) {\n      return;\n    }\n\n    tables.forEach((table) => {\n      this.removeTableFromPending(table);\n      this.tables.delete(table);\n    });\n\n    const message = {\n      type: 'unsubscribe',\n      casinoId: this.casinoId,\n      key: tables,\n      currency: this.currency,\n    };\n\n    this.sendMessage(message);\n  }\n\n  private connectSocket(): void {\n    if (!this.open && this.url !== '') {\n      this.open = true;\n\n      this.ws = new WebSocket(this.url);\n\n      this.ws.addEventListener('message', this.onWebSocketMessage);\n\n      this.ws.addEventListener('open', () => {\n        this.reconnectCount = 0;\n        clearInterval(this.reconnectInterval);\n        this.reconnectInterval = undefined;\n        this.open = true;\n        const message = { type: 'available', casinoId: this.casinoId };\n        this.statisticsRequest();\n        this.ws?.send(JSON.stringify(message));\n        if (this.tables.size > 0) {\n          const tables = Array.from(this.tables);\n          this.tables.clear();\n          this.subscribeTables(tables);\n        }\n        this.initHandler?.();\n      });\n\n      this.ws.addEventListener('close', () => {\n        if (!this.reconnectInterval) {\n          this.reconnectProcedure();\n        }\n      });\n\n      this.staticInterval = setInterval(() => {\n        this.statisticsRequest();\n      }, STATISTICS_TIMEOUT);\n\n      this.pingInterval = setInterval(() => {\n        if (!this.reconnectInterval && this.waitingPong) {\n          // Response taking too long. Trigger reconnection\n          this.reconnectProcedure();\n        } else if (this.ws?.readyState === WebSocket.OPEN) {\n          this.waitingPong = true;\n          const message = {\n            type: 'ping',\n            pingTime: Date.now(),\n          };\n          this.sendMessage(message);\n        }\n      }, RECONNECTION_TIMEOUT);\n    }\n  }\n\n  private sendMessage(message: Record<string, unknown>): void {\n    if (!this.open || !this.ws?.readyState) return;\n    this.ws.send(JSON.stringify(message));\n  }\n\n  private statisticsRequest(): void {\n    if (!this.open || !this.ws?.readyState) return;\n    const message = { type: 'statistics' };\n    this.sendMessage(message);\n  }\n\n  private reconnectProcedure(): void {\n    this.waitingPong = false;\n\n    if (this.reconnectCount >= RECONNECT_LIMIT) {\n      this.close();\n      return;\n    }\n\n    this.reconnectInterval = setInterval(() => {\n      this.reconnectCount++;\n      this.close();\n      this.connectSocket();\n    }, RECONNECTION_TIMEOUT);\n  }\n\n  private close(): void {\n    clearInterval(this.pingInterval);\n    clearInterval(this.staticInterval);\n\n    this.pingInterval = undefined;\n    this.ws?.close();\n    this.ws = undefined;\n\n    this.open = false;\n    this.waitingPong = false;\n  }\n\n  private processMessage(msg: MessageEvent<string>): void {\n    const data = msg.data;\n\n    const parse = JSON.parse(data) as Record<string, unknown>;\n\n    if (!parse) return;\n\n    if (parse?.globalStats) {\n      this.handleStatistics(parse as unknown as IStatistics);\n      return;\n    }\n\n    if (parse?.pongTime) {\n      this.waitingPong = false;\n      return;\n    }\n\n    if (parse?.tableId) {\n      this.handleTableMessage(parse as unknown as ITableMessageRaw);\n      return;\n    }\n\n    if (parse?.tableKey) {\n      this.tableKeyProcessor(parse);\n    }\n  }\n\n  private handleStatistics(data: IStatistics): void {\n    const playerCount: number | null = data.globalStats?.playerCount ? Number(data.globalStats.playerCount) : null;\n    if (!playerCount || Number.isNaN(playerCount)) return;\n\n    this.playerCountHandler?.(playerCount);\n  }\n\n  private tableKeyProcessor(data: Record<string, unknown>): void {\n    const tables = data.tableKey as string[];\n    this.supportedTablesHandler?.(tables);\n  }\n\n  /** TODO: To be removed when https://pragmaticplay.atlassian.net/browse/LCE-84307 is completed*/\n  private replaceSnapURL(url: string): string {\n    if (this.shouldReplaceSnapURL) {\n      const snapURL = new URL(url);\n      snapURL.host = window.location.host;\n      return snapURL.toString();\n    } else {\n      return url;\n    }\n  }\n\n  handleIsTableActive(table: ITable | undefined, data: ITableMassageIncomplete): boolean {\n    const tableOpen = data.tableOpen;\n    const dealerName = data.dealer?.name ?? table?.dealer?.name;\n    /** We take active flag to be a previous open state by default */\n    let isActive: boolean = table?.tableOpen === undefined ? true : table.tableOpen;\n    /** If dealer is not present we are considering table to be inactive */\n    if (dealerName === NO_DEALER) {\n      isActive = false;\n    } else if (tableOpen !== undefined) {\n      /**\n       * If dealer is present we check if tableOpen flag has been returned as part of this massage,\n       * and if it has been - we use it value as a flag for active state\n       * */\n      isActive = tableOpen;\n    }\n    return isActive;\n  }\n\n  handleTableGoodRoads(\n    table: ITable | undefined,\n    data: Omit<ITableMassageIncomplete, 'tableId'>,\n    isActive: boolean\n  ): Pick<ITable, 'hasGoodRoads' | 'statistics' | 'goodRoadsMap' | 'goodRoadsDepthMap'> {\n    const { statistics, goodRoadsMap, goodRoadsDepthMap, shuffle } = data;\n    const isPrive = table?.isPrive;\n\n    const goodRoadsData = this.goodRoadsBuffer.processMessage(table, {\n      statistics,\n      goodRoadsMap,\n      goodRoadsDepthMap,\n    });\n\n    const hadGoodRoads = table?.hasGoodRoads;\n    let hasGoodRoads = !!hadGoodRoads;\n    if (shuffle || isPrive || !isActive) {\n      hasGoodRoads = false;\n    } else if (goodRoadsData?.goodRoadsMap) {\n      hasGoodRoads = Object.values(goodRoadsData.goodRoadsMap).some(Boolean);\n    }\n\n    return {\n      ...goodRoadsData,\n      hasGoodRoads,\n    };\n  }\n\n  sanitizeTableData(data: ITableMassageIncomplete): void {\n    const keysToRemove = ['tableId', 'gameLoaderKey'];\n\n    keysToRemove.forEach((key) => {\n      if (key in data) {\n        delete data[key as keyof typeof data];\n      }\n    });\n\n    if (data.image) {\n      data.image = this.replaceSnapURL(data.image);\n    }\n  }\n\n  updateImage(previousImage: string | null, image: string | undefined): string | null {\n    if (image !== undefined && !image) {\n      Logger.logFailure('emptyImageFromDGA');\n    }\n    if (!image) {\n      return previousImage ?? null;\n    } else {\n      return image;\n    }\n  }\n\n  initTableWithData(table: ITable | undefined, data: ITableMessage): ITable {\n    const { last20Results, gameResult, goodRoadsMap, statistics, goodRoadsDepthMap, shuffle, ...restData } = data;\n\n    const result = this.getNewResult(table?.result, last20Results ?? gameResult);\n    const isActive = this.handleIsTableActive(table, data);\n    const goodRoadsData = this.handleTableGoodRoads(\n      table,\n      {\n        statistics,\n        goodRoadsMap,\n        goodRoadsDepthMap,\n        shuffle,\n      },\n      isActive\n    );\n\n    this.sanitizeTableData(restData);\n\n    const { image } = restData;\n\n    const updatedImage = this.updateImage(table?.image ?? null, image);\n    const isOccupied = this.getIsTableOccupied(table, data?.currentUserId);\n    const seats = this.getBlackjackSeats(table, data);\n\n    const dummyTable: Pick<\n      ITable,\n      | 'isMultitable'\n      | 'vendor'\n      | 'id'\n      | 'limits'\n      | 'tableCategoryIds'\n      | 'operatorTheme'\n      | 'isPrive'\n      | 'isVip'\n      | 'game'\n      | 'gameType'\n      | 'countryFlag'\n    > = {\n      id: data.tableId,\n      vendor: Vendor.LiveCasino,\n      isMultitable: false,\n      limits: restData.tableLimits\n        ? {\n            maxBet: restData.tableLimits.maxBet,\n            minBet: restData.tableLimits.minBet,\n            minBalanceToPlay: restData.tableLimits.minBalanceToPlay,\n            ranges: restData.tableLimits.ranges,\n            maxPlayer: restData.tableLimits.maxPlayers,\n          }\n        : undefined,\n      tableCategoryIds: [],\n      operatorTheme: '',\n      isPrive: false,\n      isVip: false,\n      game: data.tableType,\n      gameType: data.tableVariant,\n      countryFlag: null,\n    };\n\n    return {\n      ...dummyTable,\n      ...table,\n      ...restData,\n      ...goodRoadsData,\n      ...isOccupied,\n      ...seats,\n      image: updatedImage,\n      shuffle,\n      result,\n      isActive,\n      translatedName: table?.translatedName ?? table?.title?.key ?? '',\n    };\n  }\n\n  updateTableWithNewData(table: ITable, newData: ITableMassageIncomplete): ITable {\n    const { last20Results, gameResult, goodRoadsMap, statistics, goodRoadsDepthMap, shuffle, ...restData } = newData;\n\n    const result = this.getNewResult(table?.result, last20Results ?? gameResult);\n    const isActive = this.handleIsTableActive(table, newData);\n    const goodRoadsData = this.handleTableGoodRoads(\n      table,\n      {\n        statistics,\n        goodRoadsMap,\n        goodRoadsDepthMap,\n        shuffle,\n      },\n      isActive\n    );\n\n    const isOccupied = this.getIsTableOccupied(table, newData.currentUserId);\n    const seats = this.getBlackjackSeats(table, newData);\n\n    this.sanitizeTableData(restData);\n\n    const { image } = restData;\n\n    const updatedImage = this.updateImage(table?.image ?? null, image);\n\n    return {\n      ...table,\n      ...restData,\n      ...goodRoadsData,\n      ...isOccupied,\n      ...seats,\n      image: updatedImage,\n      shuffle,\n      result,\n      isActive,\n    };\n  }\n\n  private isTablePlayingNow(tableId: string | undefined): boolean {\n    if (!this.currentTableId) return false;\n    return this.currentTableId === tableId;\n  }\n\n  private getIsTableOccupied(table: ITable | undefined, resultUserId?: string): { isOccupied?: boolean } {\n    if (!table) return {};\n    const tableType = table?.tableType.toUpperCase() ?? '';\n    if (tableType === 'BACCARAT' || tableType === 'BLACKJACK') {\n      const isPlaying = this.isTablePlayingNow(table.tableId);\n      if (isPlaying || !table?.isPrive) return {};\n      const currentUserId = resultUserId ?? table.currentUserId;\n      const isOccupied = Boolean(currentUserId) && currentUserId !== this.userId;\n      return { isOccupied };\n    }\n    return {};\n  }\n\n  private getBlackjackSeats(\n    table: ITable | undefined,\n    data: ITableMessage | ITableMassageIncomplete\n  ): { seats?: boolean[] } {\n    if (data.seat1 === undefined) return {};\n    const newTable = {\n      ...table,\n      ...data,\n    };\n\n    if (newTable?.tableType?.toUpperCase() === 'BLACKJACK') {\n      return {\n        seats: [\n          newTable.seat1 ?? false,\n          newTable.seat2 ?? false,\n          newTable.seat3 ?? false,\n          newTable.seat4 ?? false,\n          newTable.seat5 ?? false,\n          newTable.seat6 ?? false,\n          newTable.seat7 ?? false,\n        ],\n      };\n    }\n\n    return {};\n  }\n\n  private normalizeTableData(data: ITableMessageRaw): ITableMessage {\n    const { tableImage: image, ...restData } = data;\n    const normalizedData = restData as ITableMessage;\n    delete normalizedData.newTable;\n    if (image) {\n      normalizedData.image = image;\n    }\n    return normalizedData;\n  }\n\n  private handleTableMessage(data: ITableMessageRaw): void {\n    const tableId = data.tableId;\n    const table = this.getStoredGame?.(tableId);\n    const tableFromCache = this.tableCache[tableId];\n    const previousTable = tableFromCache || table;\n    const wasPending = this.pendingTables?.has(tableId);\n    const tableData = this.normalizeTableData(data);\n    const updatedTable =\n      !wasPending && previousTable\n        ? this.updateTableWithNewData(previousTable, tableData)\n        : this.initTableWithData(previousTable, tableData);\n    this.removeTableFromPending(tableId);\n\n    this.cacheGameUpdates(updatedTable, previousTable);\n  }\n\n  private skipCachePredicate(previousTable: ITable | undefined, newTable: ITable): boolean {\n    const goodRoadsChanged = previousTable?.hasGoodRoads !== newTable.hasGoodRoads;\n    return goodRoadsChanged;\n  }\n\n  private cacheGameUpdates = (game: ITable, previousTable: ITable): void => {\n    const updatedTable = {\n      ...previousTable,\n      ...game,\n    };\n    this.tableCache[game.id] = updatedTable;\n\n    // If all tables are loaded we can flush cache, regardless of the predicate\n    if (this.pendingTables?.size === 0) {\n      window.clearTimeout(this.pendingTimeout);\n      this.flushCache();\n      this.pendingTables = null;\n      this.tablesLoadedHandler?.();\n      return;\n    }\n\n    const shouldSkipCache = this.skipCachePredicate(previousTable, updatedTable) && !this.pendingTables;\n\n    // if table changes warrant skip changes we skip changes\n    if (shouldSkipCache) {\n      this.flushSingeTableCache(game.id);\n      return;\n    }\n\n    // if there is no timeout set up for cache flushing - set it up\n    if (!this.tableCacheFlushTimeout) {\n      this.tableCacheFlushTimeout = window.setTimeout(() => {\n        this.flushCache();\n      }, TABLE_CACHE_FLUSH_TIMEOUT);\n    }\n  };\n\n  private flushSingeTableCache(tableId: string): void {\n    const table = this.tableCache[tableId];\n    if (!table) return;\n    this.tablesUpdateHandler?.([table]);\n    delete this.tableCache[tableId];\n  }\n\n  private flushCache = (): void => {\n    this.tablesUpdateHandler?.(Object.values(this.tableCache));\n    this.tableCache = {};\n    this.tableCacheFlushTimeout = undefined;\n  };\n\n  private addTableToPending(tableId: string): void {\n    if (!this.pendingTables) {\n      this.pendingTables = new Set();\n    }\n    this.pendingTables.add(tableId);\n  }\n\n  private removeTableFromPending(tableId: string): void {\n    if (!this.pendingTables?.has(tableId)) return;\n    this.pendingTables?.delete(tableId);\n  }\n\n  private getNewResult(result: unknown[] | undefined, newResult?: unknown[]): unknown[] {\n    if (!newResult) return result ?? [];\n\n    return newResult?.concat(result).slice(0, 20);\n  }\n}\n","export const NO_DEALER = 'No dealer';\n","import { type FunctionComponent, useCallback, useEffect, useState } from 'react';\n\nimport { MessageReceiver } from '@pp/core/src/messages/MessageReceiver';\nimport {\n  type IUpdateBalanceMessagePayload,\n  updateBalanceMessage,\n} from '@pp/core/src/messages/messages/updateBalance/updateBalanceMessage';\nimport { type IncomingMessage } from '@pp/core/src/messages/types';\nimport { betActions } from '@pp/core/src/store/slices/bets/slice';\nimport { gameStateActions } from '@pp/core/src/store/slices/game/slice';\nimport { settingsActions } from '@pp/core/src/store/slices/settings/slice';\n\nimport { LobbyConfiguration, HostCommunicationVersions } from '../config/LobbyConfiguration';\nimport { useLobbyDispatch } from '../store/LobbyStore';\nimport { lobbyActions } from '../store/slices/lobby/slice';\n\nimport { LobbyMessageController, lobbyReadyMessage, lobbyTableIdMessage } from './LobbyMessageController';\nimport { LobbyMessageControllerV2, lobbyReadyToReveiveMessage } from './LobbyMessageControllerV2';\n\nexport const LobbyMessageReceiver: FunctionComponent = () => {\n  const dispatch = useLobbyDispatch();\n\n  const [isReadyToReceiveMessages, setIsReadyToReceiveMessages] = useState(false);\n\n  useEffect(() => {\n    if (!isReadyToReceiveMessages) return;\n    if (LobbyConfiguration.hostCommunicationVersion === HostCommunicationVersions.V2) {\n      LobbyMessageControllerV2.post(lobbyReadyToReveiveMessage());\n    } else {\n      LobbyMessageController.post(lobbyReadyMessage());\n      LobbyMessageController.post(lobbyTableIdMessage());\n    }\n  }, [isReadyToReceiveMessages]);\n\n  const handleIncomingMessages = useCallback(\n    (message: IncomingMessage) => {\n      const messageType = message?.type;\n      // Legacy headless messages\n      if (messageType) {\n        switch (messageType) {\n          // V1 messages\n          case 'tableInfo': {\n            const groupId = message?.groupId;\n            if (groupId) {\n              dispatch(lobbyActions.setCurrentGroupId(`${groupId}`));\n            } else {\n              const tableId = message?.tableId;\n              if (tableId && typeof tableId === 'string') {\n                dispatch(lobbyActions.setCurrentTableId(tableId));\n              }\n            }\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      }\n      // Common messages\n      else if (message?.group) {\n        switch (message?.name) {\n          case updateBalanceMessage.messageName: {\n            const payload = message?.payload as IUpdateBalanceMessagePayload;\n            const updatedBalance = { amount: payload?.amount, bonus: payload?.bonus };\n            dispatch(gameStateActions.updateBalance(updatedBalance));\n            dispatch(betActions.setRawTotalBet(payload?.totalBet || 0));\n            break;\n          }\n          case 'hostInfo': {\n            const payload = message?.payload as { id: string | null; host?: string };\n            const id = payload?.id;\n            const host = payload?.host;\n\n            if (id === null) {\n              console.log('id is null');\n              dispatch(lobbyActions.resetCurrentGame());\n            }\n\n            if (!id || typeof id !== 'string') return;\n\n            if (host === 'multiTable') {\n              dispatch(lobbyActions.setCurrentGroupId(id));\n            } else if (host === 'liveCasino') {\n              dispatch(lobbyActions.setCurrentTableId(id));\n            } else if (host === 'slot') {\n              // TODO: Implement slot handler\n            }\n            break;\n          }\n          case 'sound': {\n            const payload = message?.payload as\n              | {\n                  masterVolume: number; // 0-1\n                  channels?: [\n                    {\n                      name: string;\n                      volume: number; // 0-1\n                    },\n                  ];\n                }\n              | undefined;\n            if (!payload) return;\n            const { masterVolume, channels } = payload;\n            dispatch(settingsActions.setMasterVolumeOnly(masterVolume));\n            if (channels) {\n              channels.forEach((channel) => {\n                dispatch(\n                  settingsActions.setVolume({\n                    channel: channel.name,\n                    value: channel.volume,\n                  })\n                );\n              });\n            }\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      }\n    },\n    [dispatch]\n  );\n\n  const onListening = useCallback(() => {\n    setIsReadyToReceiveMessages(true);\n  }, []);\n\n  return <MessageReceiver handler={handleIncomingMessages} onListening={onListening} />;\n};\n","export const blackjackLeagueLang = [\n  'ar',\n  'bg',\n  'cz',\n  'de',\n  'el',\n  'en',\n  'es',\n  'fa',\n  'fi',\n  'fr',\n  'hr',\n  'hu',\n  'hy',\n  'id',\n  'ja',\n  'ka',\n  'ko',\n  'nl',\n  'no',\n  'pt',\n  'ro',\n  'ru',\n  'th',\n  'tr',\n  'uk',\n  'vi',\n  'zn',\n];\n\nexport const megawheelMadnessLang = [\n  'ar',\n  'bg',\n  'cn',\n  'cr',\n  'cs',\n  'de',\n  'el',\n  'en',\n  'es',\n  'et',\n  'fa',\n  'fi',\n  'fr',\n  'hu',\n  'hy',\n  'ja',\n  'ka',\n  'ko',\n  'nl',\n  'no',\n  'pl',\n  'pt',\n  'ru',\n  'sk',\n  'sr',\n  'tr',\n  'uk',\n  'vi',\n  'zh',\n];\n\nexport const rouletteMadnessLang = [\n  'ar',\n  'bg',\n  'cn',\n  'cz',\n  'de',\n  'el',\n  'en',\n  'es',\n  'fa',\n  'fi',\n  'fr',\n  'hr',\n  'hu',\n  'hy',\n  'id',\n  'ja',\n  'ka',\n  'ko',\n  'nl',\n  'no',\n  'pt',\n  'ro',\n  'ru',\n  'th',\n  'tr',\n  'uk',\n  'vi',\n];\nexport const snlMadnessLang = [\n  'ar',\n  'bg',\n  'de',\n  'el',\n  'en',\n  'es',\n  'fa',\n  'fi',\n  'fr',\n  'hr',\n  'hu',\n  'hy',\n  'id',\n  'ja',\n  'ka',\n  'nl',\n  'no',\n  'pt',\n  'ru',\n  'th',\n  'tr',\n  'uk',\n  'vi',\n  'zh',\n];\n\nexport const ddwRowBannerLang = [\n  'ar',\n  'bg',\n  'de',\n  'el',\n  'en',\n  'es',\n  'fa',\n  'fi',\n  'fr',\n  'hr',\n  'hu',\n  'hy',\n  'id',\n  'ja',\n  'ka',\n  'ko',\n  'nl',\n  'no',\n  'pt',\n  'ro',\n  'ru',\n  'tr',\n  'uk',\n  'vi',\n  'zh',\n];\n\nexport const ddwAsiaBannerLang = ['en', 'id', 'th', 'vi', 'zh'];\n\nexport const ntpBjHolidayBannerLang = [\n  'ar',\n  'bg',\n  'de',\n  'el',\n  'en',\n  'es',\n  'fi',\n  'fr',\n  'hr',\n  'hu',\n  'hy',\n  'id',\n  'ja',\n  'ka',\n  'ko',\n  'nl',\n  'no',\n  'pt',\n  'ro',\n  'ru',\n  'th',\n  'tr',\n  'uk',\n  'vi',\n  'zh',\n];\n\nexport const defaultDDWPromotionRegion = 'ASIA';\n\nexport const allowedRegionForAsia = ['ASIA', 'ID', 'KO'];\n\nexport const allowedRegionForRow = ['ROW'];\n\nexport const krBaccaratLang = ['en', 'ko'];\n","// extracted by mini-css-extract-plugin\nexport default {\"promoBanners\":\"fQ_fR\",\"promoBanners_single\":\"fQ_fS\",\"promoBanner\":\"fQ_fT\",\"promoBannerIcon\":\"fQ_fU\",\"promoBannerImage\":\"fQ_fV\",\"promoBannerCloseIcon\":\"fQ_fW\",\"promoBannerTextDim\":\"fQ_fX\",\"promoBannerText\":\"fQ_fY\",\"promoBannerText_coreDrawer\":\"fQ_fZ\",\"promoBannerOverlayPPBJLogo\":\"fQ_f0\",\"promoBannerOverlayPPMWLogo\":\"fQ_f1\",\"promoBannerOverlayDWLogo\":\"fQ_ga\",\"promoBannerDDW\":\"fQ_gb\",\"promoBannerDDW_asia\":\"fQ_gc\",\"promoBannerBj\":\"fQ_ge\",\"promoBannerKrBaccarat\":\"fQ_gf\",\"promoBannerBjHoliday\":\"fQ_gg\",\"promoBannersSlider\":\"fQ_gh\",\"promoBannersSlideContainer\":\"fQ_gi\",\"drawer\":\"fQ_gj\",\"drawerImg\":\"fQ_gk\",\"drawerContent\":\"fQ_ec\"};","import { CSSProperties, type FC, type MouseEvent } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { CoreDrawer, DrawerAnchor } from '@pp/core/src/components/drawer/DrawerRoot';\nimport { Icon } from '@pp/core/src/components/icons/icon';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useMedia } from '@pp/core/src/hooks/useMedia';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './PromotionBanners.module.css';\n\nexport interface IInfoModeProps {\n  setInfoMode: (value: boolean) => void;\n  promoText: string;\n  image: string;\n  isRTL: boolean;\n}\n\nconst customStyle = {\n  '--droverBackground': 'hsl(0, 0%, 12%)',\n  '--droverHeaderBackground': 'hsl(0, 0%, 9%)',\n};\n\nexport const InfoMode: FC<IInfoModeProps> = ({ setInfoMode, promoText, image, isRTL }) => {\n  const audioTrigger = useAudioTrigger('general');\n  const isExtraLargeLandScape = useMedia('(min-width: 931px)');\n\n  const promoBannerTextMods = useModifiers(\n    styles,\n    'promoBannerText',\n    {\n      coreDrawer: !isExtraLargeLandScape,\n    },\n    { withBaseClass: true }\n  );\n  const onInfoClose = (event?: MouseEvent<SVGSVGElement>): void => {\n    event?.stopPropagation();\n    audioTrigger.play({ name: 'menuClick' });\n    setInfoMode(false);\n  };\n\n  const directionVariable = {\n    '--direction': isRTL ? 'rtl' : '',\n  } as CSSProperties;\n\n  const rootElement = document.getElementById('root') as HTMLElement;\n\n  if (isExtraLargeLandScape) {\n    return (\n      <div className={styles.promoBannerTextDim}>\n        <Icon icon=\"Close\" onClick={onInfoClose} className={styles.promoBannerCloseIcon} />\n        <div\n          className={promoBannerTextMods}\n          style={directionVariable}\n          dangerouslySetInnerHTML={{ __html: promoText }}\n        />\n      </div>\n    );\n  }\n\n  return createPortal(\n    <CoreDrawer\n      open\n      onClose={onInfoClose}\n      customStyle={customStyle}\n      anchor={DrawerAnchor.bottom}\n      className={styles.drawer}\n      contentClassName={styles.drawerContent}\n      header={<img src={image} alt=\"promo\" className={styles.drawerImg} />}\n    >\n      <div className={promoBannerTextMods} style={directionVariable} dangerouslySetInnerHTML={{ __html: promoText }} />\n    </CoreDrawer>,\n    rootElement\n  );\n};\n","import { type CSSProperties, type FunctionComponent, type MouseEvent, type ReactNode, useState } from 'react';\n\nimport { IconButton } from '@pp/core/src/components/controls/iconButton/IconButton';\n\nimport { InfoMode } from './InfoMode';\n\nimport styles from './PromotionBanners.module.css';\n\ninterface IPromoBannerProps {\n  image: string;\n  imageWide: string;\n  onClick: () => void;\n  overlay: ReactNode;\n  promoText: string;\n  customStyle?: string;\n  isRTL: boolean;\n}\n\nexport const PromotionBanner: FunctionComponent<IPromoBannerProps> = ({\n  image,\n  imageWide,\n  promoText,\n  overlay,\n  customStyle,\n  onClick,\n  isRTL,\n}) => {\n  const [infoMode, setInfoMode] = useState(false);\n\n  const onInfoOpen = (event?: MouseEvent<HTMLElement>): void => {\n    event?.stopPropagation();\n    setInfoMode(true);\n  };\n\n  return (\n    <div\n      className={`${styles.promoBanner} ${customStyle}`}\n      style={\n        {\n          '--promoImage': `url(${image})`,\n          '--promoImageWide': `url(${imageWide})`,\n        } as CSSProperties\n      }\n      onClick={onClick}\n    >\n      {overlay}\n      {infoMode ? <InfoMode setInfoMode={setInfoMode} promoText={promoText} image={image} isRTL={isRTL} /> : null}\n      {!infoMode ? (\n        <IconButton onClick={onInfoOpen} icon=\"Info\" className={styles.promoBannerIcon} squared light large />\n      ) : null}\n    </div>\n  );\n};\n","import type { FunctionComponent, ReactElement } from 'react';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Swiper } from '@pp/core/src/components/swiper/Swiper';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useMedia } from '@pp/core/src/hooks/useMedia';\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport {\n  blackjackLeagueLang,\n  krBaccaratLang,\n  ddwAsiaBannerLang,\n  ddwRowBannerLang,\n  ntpBjHolidayBannerLang,\n} from '../../../config/promoTextLanguages';\nimport { ID_PROMOTIONS } from '../../../constants/navigation';\nimport { BJPromotionsFilterLabel, PromotionFilterLabel, PromotionTagKrBaccarat } from '../../../constants/promotions';\nimport { useLobbyDispatch } from '../../../store/LobbyStore';\nimport { useFiltersSlice } from '../../../store/slices/filters/selectors';\nimport { filtersActions } from '../../../store/slices/filters/slice';\nimport type { IMinBetFilter } from '../../../store/slices/filters/types';\nimport { usePromotionsSlice } from '../../../store/slices/promotions/selectors';\nimport { getRemoteAssetsPath } from '../../../utils/remoteAssetsPath';\n\nimport { PromotionBanner } from './PromotionBanner';\n\nimport styles from './PromotionBanners.module.css';\n\nconst DDWOverlay: ReactElement = (\n  <>\n    <img\n      src={getRemoteAssetsPath('./assets/promotion/banners/D&WLogo.png')}\n      className={styles.promoBannerOverlayDWLogo}\n      alt=\"Daily Wins\"\n    />\n    {/* UNCOMMENT IF LOGO IS NEEDED FOR BANNER */}\n    {/* <img src={PPLogo} className={styles.promoBannerOverlayPPMWLogo} alt=\"Pragmatic Play\" /> */}\n  </>\n);\n\n// UNCOMMENT IF LOGO IS NEEDED FOR BANNER\n// const BjOverlay: ReactElement = (\n//   <img\n//     src={getRemoteAssetsPath('./assets/promotion/banners/PPLogo.png')}\n//     className={styles.promoBannerOverlayPPBJLogo}\n//     alt=\"Pragmatic Play\"\n//   />\n// );\n\ninterface Banner {\n  alt: string;\n  customStyle: string;\n  img: string;\n  imgWide: string;\n  onClick: () => void;\n  overlay?: ReactElement;\n  promoText: string;\n}\n\nexport const PromotionBannersConnected: FunctionComponent = () => {\n  const dispatch = useLobbyDispatch();\n  const isExtraLargeLandScape = useMedia('(min-width: 931px)');\n  const isAsia = useConfigSlice.isAsia();\n  const audioTrigger = useAudioTrigger('general');\n\n  const bjEnabled = usePromotionsSlice.getBjInfo();\n  const promotables = usePromotionsSlice.getPromoTables();\n\n  const ddwEnabled = !!useFiltersSlice\n    .getFilterList()\n    .find((el) => el.label === 'PROMOTIONS' && el.tags.includes('DDW' as string & IMinBetFilter));\n\n  const KrBaccaratEnabled = !!useFiltersSlice\n    .getFilterList()\n    .find((el) => el.label === 'PROMOTIONS' && el.tags.includes(PromotionTagKrBaccarat as string & IMinBetFilter));\n\n  const bjHolidayEnabled = !isAsia && promotables?.ntp && promotables?.ntp?.length > 0;\n\n  const [ddwBanner, setDdwBanner] = useState<Banner>();\n  const [bjBanner, setBjBanner] = useState<Banner>();\n  const [KrBaccaratBanner, setKrBaccaratBanner] = useState<Banner>();\n  const [bjHolidayBanner, setBjHolidayBanner] = useState<Banner>();\n  const locale = useSettingsSlice.currentLanguage();\n  const isRTL = useSettingsSlice.getIsCurrentLanguageRTL();\n\n  const filterList = useFiltersSlice.getFilterList();\n  const selected = useFiltersSlice.getSelectedByType(ID_PROMOTIONS);\n\n  const ddwBannerLang = isAsia ? ddwAsiaBannerLang : ddwRowBannerLang;\n  const ddwLanguage = ddwBannerLang.includes(locale) ? locale : 'en';\n  const bjLanguage = blackjackLeagueLang.includes(locale) ? locale : 'en';\n  const KrBaccaratLanguage = krBaccaratLang.includes(locale) ? locale : 'en';\n  const bjHolidayLanguage = ntpBjHolidayBannerLang.includes(locale) ? locale : 'en';\n\n  const ddwPath = getRemoteAssetsPath(`./assets/promotion/tncs/ddw/${isAsia ? 'asia' : 'row'}/${ddwLanguage}.html`);\n  const bjPath = getRemoteAssetsPath('./assets/promotion/tncs/blackjackLeague/' + bjLanguage + '.html');\n  const KrBaccaratPath = getRemoteAssetsPath('./assets/promotion/tncs/koreanBaccarat/' + KrBaccaratLanguage + '.html');\n  const bjHolidayPath = getRemoteAssetsPath(`./assets/promotion/tncs/ntp/${bjHolidayLanguage}.html`);\n\n  const ddwBannerStyle = useModifiers(\n    styles,\n    'promoBannerDDW',\n    {\n      asia: isAsia,\n    },\n    { withBaseClass: true }\n  );\n  const BjFilterTags: string[] = useMemo(() => {\n    return (\n      (filterList.find(({ tab, label }) => {\n        return tab === ID_PROMOTIONS && label === BJPromotionsFilterLabel;\n      })?.tags as string[]) ?? []\n    );\n  }, [filterList]);\n\n  const toggleDdwBanner = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    const isActive = selected?.[PromotionFilterLabel]?.find((value) => value === 'DDW');\n    if (isActive) {\n      dispatch(filtersActions.resetFilterInTab(ID_PROMOTIONS));\n    } else {\n      dispatch(\n        filtersActions.updateSelectedFilters({\n          categoryId: ID_PROMOTIONS,\n          value: {\n            [PromotionFilterLabel]: ['DDW'],\n          },\n        })\n      );\n    }\n  }, [dispatch, selected, audioTrigger]);\n\n  const toggleBJBanner = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    const isActive = selected?.[BJPromotionsFilterLabel]?.length === BjFilterTags.length;\n    if (isActive) {\n      dispatch(filtersActions.resetFilterInTab(ID_PROMOTIONS));\n    } else {\n      dispatch(\n        filtersActions.updateSelectedFilters({\n          categoryId: ID_PROMOTIONS,\n          value: {\n            [BJPromotionsFilterLabel]: BjFilterTags,\n          },\n        })\n      );\n    }\n  }, [BjFilterTags, dispatch, selected, audioTrigger]);\n\n  const toggleKrBaccaratBanner = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    const isActive = selected?.[PromotionFilterLabel]?.find((value) => value === 'KrBaccarat');\n    if (isActive) {\n      dispatch(filtersActions.resetFilterInTab(ID_PROMOTIONS));\n    } else {\n      dispatch(\n        filtersActions.updateSelectedFilters({\n          categoryId: ID_PROMOTIONS,\n          value: {\n            [PromotionFilterLabel]: ['KrBaccarat'],\n          },\n        })\n      );\n    }\n  }, [dispatch, selected, audioTrigger]);\n\n  const toggleBjHolidayBanner = useCallback((): void => {\n    audioTrigger.play({ name: 'menuClick' });\n    const isActive = selected?.[PromotionFilterLabel]?.find((value) => value === 'OTHER_PROMO');\n    if (isActive) {\n      dispatch(filtersActions.resetFilterInTab(ID_PROMOTIONS));\n    } else {\n      dispatch(\n        filtersActions.updateSelectedFilters({\n          categoryId: ID_PROMOTIONS,\n          value: {\n            [PromotionFilterLabel]: ['OTHER_PROMO'],\n          },\n        })\n      );\n    }\n  }, [dispatch, selected, audioTrigger]);\n\n  useEffect(() => {\n    if (ddwEnabled) {\n      Fetcher.fetch<string>(ddwPath, { format: 'text' }).then((response) =>\n        setDdwBanner({\n          alt: 'ddwBanner',\n          img: getRemoteAssetsPath(\n            `./assets/promotion/banners/livecasino/ddw/${isAsia ? 'asia' : 'row'}/ddwBanner.jpg`\n          ),\n          imgWide: getRemoteAssetsPath(\n            `./assets/promotion/banners/livecasino/ddw/${isAsia ? 'asia' : 'row'}/ddwBannerWide.jpg`\n          ),\n          promoText: response,\n          ...(isAsia ? {} : { overlay: DDWOverlay }),\n          customStyle: ddwBannerStyle,\n          onClick: toggleDdwBanner,\n        })\n      );\n    }\n  }, [ddwPath, ddwEnabled, toggleDdwBanner, isAsia, ddwBannerStyle]);\n\n  useEffect(() => {\n    if (bjEnabled) {\n      Fetcher.fetch<string>(bjPath, { format: 'text' }).then((response) =>\n        setBjBanner({\n          alt: 'BJLeagueBanner',\n          img: getRemoteAssetsPath('./assets/promotion/banners/BJLeaguePromoBannerNew.png'),\n          imgWide: getRemoteAssetsPath('./assets/promotion/banners/BJLeaguePromoBannerWideNew.png'),\n          promoText: response,\n          customStyle: styles.promoBannerBj,\n          onClick: toggleBJBanner,\n        })\n      );\n    }\n  }, [bjPath, bjEnabled, toggleBJBanner]);\n\n  useEffect(() => {\n    if (KrBaccaratEnabled) {\n      Fetcher.fetch<string>(KrBaccaratPath, { format: 'text' }).then((response) =>\n        setKrBaccaratBanner({\n          alt: 'KrBaccaratBanner',\n          img: getRemoteAssetsPath('./assets/promotion/banners/KoreanBaccaratBanner.jpg'),\n          imgWide: getRemoteAssetsPath('./assets/promotion/banners/KoreanBaccaratBannerWide.jpg'),\n          promoText: response,\n          customStyle: styles.promoBannerKrBaccarat,\n          onClick: toggleKrBaccaratBanner,\n        })\n      );\n    }\n  }, [KrBaccaratEnabled, KrBaccaratPath, toggleKrBaccaratBanner]);\n\n  useEffect(() => {\n    if (bjHolidayEnabled) {\n      Fetcher.fetch<string>(bjHolidayPath, { format: 'text' }).then((response) =>\n        setBjHolidayBanner({\n          alt: 'BjHolidayBanner',\n          img: getRemoteAssetsPath(`./assets/promotion/banners/livecasino/ntp/bjHolidayBanner.png`),\n          imgWide: getRemoteAssetsPath(`./assets/promotion/banners/livecasino/ntp/bjHolidayBannerWide.png`),\n          promoText: response,\n          customStyle: styles.promoBannerBjHoliday,\n          onClick: toggleBjHolidayBanner,\n        })\n      );\n    }\n  }, [bjHolidayEnabled, bjHolidayPath, toggleBjHolidayBanner]);\n\n  const banners = [ddwBanner, bjBanner, bjHolidayBanner, KrBaccaratBanner].filter((el) => el !== undefined) as Banner[];\n\n  const promoBannersMods = useModifiers(\n    styles,\n    'promoBanners',\n    {\n      single: banners.length === 1,\n    },\n    { withBaseClass: true }\n  );\n\n  const renderBanners: () => ReactElement[] = () =>\n    banners.map(({ alt, img, imgWide, promoText, overlay, customStyle, onClick }) => (\n      <PromotionBanner\n        image={img}\n        imageWide={imgWide}\n        key={alt}\n        promoText={promoText}\n        overlay={overlay}\n        customStyle={customStyle}\n        onClick={onClick}\n        isRTL={isRTL}\n      />\n    ));\n\n  if (!banners.length) {\n    return null;\n  }\n\n  return (\n    <div className={promoBannersMods}>\n      {isExtraLargeLandScape || banners.length === 1 ? (\n        renderBanners()\n      ) : (\n        <Swiper className={styles.promoBannersSlider} dots slideContainerClassName={styles.promoBannersSlideContainer}>\n          {renderBanners()}\n        </Swiper>\n      )}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"arrow__button\":\"nf_ng\",\"arrow__button_next\":\"nf_nh\",\"arrow__button_back\":\"nf_ni\",\"arrow__icon\":\"nf_nj\"};","import type { FunctionComponent, SyntheticEvent } from 'react';\n\nimport { Icon } from '@pp/core/src/components/icons/icon';\n\nimport styles from './SliderArrows.module.css';\n\ninterface SliderArrowsProps {\n  currentSlide: number;\n  className?: string;\n  onClickHandler(index: number): void;\n}\n\nconst SliderArrows: FunctionComponent<SliderArrowsProps> = ({ currentSlide, onClickHandler, className }) => {\n  const handleClick = (event: SyntheticEvent<EventTarget>, index: number): void => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    onClickHandler(index);\n  };\n\n  const goNext = (e: SyntheticEvent<EventTarget>): void => {\n    handleClick(e, currentSlide + 1);\n  };\n\n  const goPrev = (e: SyntheticEvent<EventTarget>): void => {\n    handleClick(e, currentSlide - 1);\n  };\n\n  return (\n    <>\n      <button\n        onClick={goNext}\n        onTouchStart={goNext}\n        type=\"button\"\n        className={`${className} ${styles.arrow__button} ${styles.arrow__button_next}`}\n      >\n        <span className={styles.arrow__icon}>\n          <Icon icon=\"ChevronRight\" />\n        </span>\n      </button>\n\n      <button\n        onClick={goPrev}\n        onTouchStart={goPrev}\n        type=\"button\"\n        className={`${className} ${styles.arrow__button} ${styles.arrow__button_back}`}\n      >\n        <span className={styles.arrow__icon}>\n          <Icon icon=\"ChevronLeft\" />\n        </span>\n      </button>\n    </>\n  );\n};\n\nexport default SliderArrows;\n","import type { FunctionComponent, ReactNode, SyntheticEvent } from 'react';\n\nimport styles from './SliderDots.module.css';\n\ninterface SliderDotsProps {\n  slides: ReactNode[];\n  currentSlide: number;\n  className?: string;\n\n  onClickHandler(index: number): void;\n}\n\nexport const SliderDots: FunctionComponent<SliderDotsProps> = ({ className, currentSlide, slides, onClickHandler }) => {\n  const handleDotClick = (event: SyntheticEvent<EventTarget>, index: number): void => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    onClickHandler(index);\n  };\n\n  return (\n    <div data-testid=\"slider-dots\" className={`${className} ${styles.sliderDots}`}>\n      <ul>\n        {slides.map((item, index): ReactNode => {\n          return (\n            <li key={item?.toString()}>\n              <button\n                className={`${styles.sliderDots__button} ${currentSlide === index ? styles.sliderDots__button_active : ''} ${currentSlide + 1 === index || currentSlide - 1 === index ? styles.sliderDots__button_neighbor : ''}`}\n                onClickCapture={(event): void => handleDotClick(event, index)}\n                onTouchStartCapture={(event): void => handleDotClick(event, index)}\n              />\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"sliderDots\":\"nk_nl\",\"sliderDots__button\":\"nk_nm\",\"sliderDots__button_active\":\"nk_nn\",\"sliderDots__button_neighbor\":\"nk_no\"};","import type {\n  ICalculateSliderDimensionsParams,\n  IOnSwipeMoveResult,\n  IStateSlideHandler,\n  IStateSwipeEndHandler,\n  ISwipeEndHandlerSpec,\n  ISwipeMoveHandlerState,\n  ITrackStyle,\n  ResponseSlideHandlerHelper,\n  SlideHandlerHelper,\n  SliderDimensionsResult,\n  ITouchObg,\n} from './Slider.type';\n\nexport const getTrackCSS = (left: number): ITrackStyle => {\n  const transform = 'translate3d(' + left + 'px, 0px, 0px)';\n\n  const style = {\n    transform,\n  };\n\n  return style;\n};\n\nexport const swipeMoveHandler = (spec: ISwipeMoveHandlerState): IOnSwipeMoveResult | void => {\n  const { animating, newCurX, newCurY, currentXOffset, touchObject, delayModifier } = spec;\n\n  if (animating || !delayModifier) {\n    return;\n  }\n\n  const newTouchObject: ITouchObg = {\n    ...touchObject,\n    curX: newCurX,\n    curY: newCurY,\n  };\n\n  if (!newTouchObject.startX || !newTouchObject.startY || !newTouchObject.curX || !newTouchObject.curY) return;\n\n  newTouchObject.swipeLength = Math.round(Math.sqrt(Math.pow(newTouchObject.curX - newTouchObject.startX, 2)));\n\n  const positionOffset = newTouchObject.curX > newTouchObject.startX ? 1 : -1;\n\n  const touchSwipeLength = newTouchObject.swipeLength;\n\n  const swipeLeft = currentXOffset + touchSwipeLength * delayModifier * positionOffset;\n\n  newTouchObject.swipeLength = touchSwipeLength;\n\n  const state = {\n    touchObject: newTouchObject,\n    swipeLeft: currentXOffset,\n    trackStyle: getTrackCSS(swipeLeft),\n  };\n  if (\n    Math.abs(newTouchObject.curX - newTouchObject.startX) <\n    Math.abs(newTouchObject.curY - newTouchObject.startY) * 0.8\n  ) {\n    return state;\n  }\n  if (Math.abs(newTouchObject.swipeLength) > 4) {\n    state.swipeLeft = swipeLeft;\n  }\n  return state;\n};\n\nexport const getSwipeDirection = (touchObject: ITouchObg): string => {\n  if (\n    touchObject.curX === undefined ||\n    touchObject.curY === undefined ||\n    touchObject.startX === undefined ||\n    touchObject.startY === undefined\n  ) {\n    return 'vertical';\n  }\n  let swipeAngle;\n  const xDist = touchObject.startX - touchObject.curX;\n  const yDist = touchObject.startY - touchObject.curY;\n  const r = Math.atan2(yDist, xDist);\n\n  swipeAngle = Math.round((r * 180) / Math.PI);\n  if (swipeAngle < 0) {\n    swipeAngle = 360 - Math.abs(swipeAngle);\n  }\n  if ((swipeAngle <= 45 && swipeAngle >= 0) || (swipeAngle <= 360 && swipeAngle >= 315)) {\n    return 'left';\n  }\n  if (swipeAngle >= 135 && swipeAngle <= 225) {\n    return 'right';\n  }\n\n  return 'vertical';\n};\n\nexport const getTrackAnimateCSS = ({\n  currentXOffset,\n  transitionDuration,\n  transitionFunction,\n}: {\n  currentXOffset: number;\n  transitionDuration: number;\n  transitionFunction: string;\n}): ITrackStyle => {\n  const style: ITrackStyle = getTrackCSS(currentXOffset);\n\n  style.transition = 'transform ' + transitionDuration + 'ms ' + transitionFunction;\n\n  return style;\n};\n\nexport const swipeEndHandler = (spec: ISwipeEndHandlerSpec): undefined | IStateSwipeEndHandler => {\n  const { touchObject, currentSlide, currentXOffset, transitionDuration, transitionFunction, touchThreshold } = spec;\n\n  if (!currentXOffset) return;\n\n  const swipeDirection = getSwipeDirection(touchObject);\n\n  const state: IStateSwipeEndHandler = {};\n\n  if (!touchObject.swipeLength) {\n    return;\n  }\n\n  if (touchObject.swipeLength > touchThreshold) {\n    let newSlide;\n\n    switch (swipeDirection) {\n      case 'left':\n        newSlide = currentSlide + 1;\n        break;\n      case 'right':\n        newSlide = currentSlide - 1;\n        break;\n    }\n    state['triggerSlideHandler'] = newSlide;\n  } else {\n    state['trackStyle'] = getTrackAnimateCSS({\n      currentXOffset,\n      transitionDuration: transitionDuration / 2,\n      transitionFunction,\n    });\n  }\n  return state;\n};\n\nexport const slideHandlerHelper = (spec: SlideHandlerHelper): ResponseSlideHandlerHelper => {\n  const { animationSlide, slideCount, slideWidth, gap, transitionDuration, transitionFunction } = spec;\n\n  const state: IStateSlideHandler = {};\n  const nextState: IStateSlideHandler = {};\n\n  if (!slideWidth) return { state, nextState };\n\n  let finalSlide = animationSlide;\n\n  if (animationSlide === -1) {\n    finalSlide = slideCount - 1;\n  } else if (animationSlide >= slideCount) {\n    finalSlide = 0;\n  }\n\n  const slideWidthWithGap = slideWidth + gap;\n\n  const animationLeft = -1 * slideWidthWithGap * (animationSlide + 1);\n\n  const finalLeft = -1 * slideWidthWithGap * (finalSlide + 1);\n\n  state.trackStyle = getTrackAnimateCSS({ currentXOffset: animationLeft, transitionDuration, transitionFunction });\n\n  nextState.trackStyle = getTrackCSS(finalLeft);\n  nextState.newCurrentXOffset = finalLeft;\n  nextState.nextCurrentSlide = finalSlide;\n\n  return { state, nextState };\n};\n\nexport const calculateSliderDimensions = (params: ICalculateSliderDimensionsParams): SliderDimensionsResult => {\n  const { screenWidth, totalSlides, slidesToShow, gap, firstSlideModifier } = params;\n\n  const roundedSlidesToShow = Math.ceil(slidesToShow);\n  const totalGapsWidth = gap * (roundedSlidesToShow - 1);\n  const totalWidthForSlides = screenWidth - totalGapsWidth;\n  const standardSlideWidth = totalWidthForSlides / (firstSlideModifier + slidesToShow - 1);\n  const firstSlideWidth = standardSlideWidth * firstSlideModifier;\n  const otherSlideWidth = standardSlideWidth;\n  const trackWidth = firstSlideWidth + otherSlideWidth * (totalSlides - 1) + gap * (totalSlides - 1);\n\n  return {\n    firstSlideWidth,\n    otherSlideWidth,\n    trackWidth,\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"slider\":\"hE_hF\",\"slider__list\":\"hE_hG\",\"slider__track\":\"hE_hH\",\"slider__item\":\"hE_hI\",\"slider__item_active\":\"hE_hJ\"};","import type {\n  ReactNode,\n  TouchEventHandler,\n  FunctionComponent,\n  HTMLAttributes,\n  MouseEventHandler,\n  CSSProperties,\n} from 'react';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport type { IOnSwipeMoveResult, IStateSwipeEndHandler, SliderProps, ITouchObg } from './Slider.type';\nimport SliderArrows from './sliderArrows/SliderArrows';\nimport { SliderDots } from './sliderDots/SliderDots';\nimport { calculateSliderDimensions, slideHandlerHelper, swipeEndHandler, swipeMoveHandler } from './sliderUtils';\n\nimport styles from './Slider.module.css';\n\nconst threshold = 5;\n\nexport const Slider: FunctionComponent<SliderProps> = ({\n  slides,\n  slidesOnScreen = 1,\n  gap = 0,\n  autoplay = true,\n  autoplaySpeed = 5000,\n  transitionFunction = 'cubic-bezier(0.4, 0, 0.2, 1)',\n  transitionDuration = 500,\n  withDots = false,\n  dotsClassName = '',\n  withArrows = false,\n  arrowClassName = '',\n  className = '',\n  firstSlideModifier = 1,\n}) => {\n  const [trackWidth, setTrackWidth] = useState<number>();\n  const [slideWidth, setSlideWidth] = useState<number>();\n  const [firstSlideWidth, setFirstSlideWidth] = useState<number>();\n  const [delayModifier, setDelayModifier] = useState<number>(0);\n  const [currentXOffset, setCurrentXOffset] = useState<number>(0);\n  const [touchThreshold, setTouchThreshold] = useState<number>(threshold);\n\n  const [trackStyle, setTrackStyle] = useState({});\n  const [touchObject, setTouchObject] = useState<ITouchObg>({});\n  const [currentSlide, setCurrentSlide] = useState<number>(0);\n  const [animationSlide, setAnimationSlide] = useState<number>(0);\n  const [isAutoplay, setIsAutoplay] = useState(autoplay);\n  const [dragging, setDragging] = useState(false);\n  const [animating, setAnimating] = useState(false);\n  const [clickable, setClickable] = useState(true);\n  const [resizeInitial, setResizeInitial] = useState(false);\n\n  const sliderRef = useRef<HTMLDivElement>(null);\n  const trackRef = useRef<HTMLDivElement>(null);\n  const autoplayTimer = useRef<null | ReturnType<typeof setTimeout>>(null);\n  const [isShouldBeenSlid, setIsShouldBeenSlid] = useState<boolean>(slides.length > slidesOnScreen);\n\n  const onTrackOver = (): void => {\n    if (!autoplay || !isShouldBeenSlid) return;\n    if (autoplayTimer.current) clearTimeout(autoplayTimer.current);\n    setIsAutoplay(false);\n  };\n\n  const onTrackLeave = (): void => {\n    if (!autoplay) return;\n    setIsAutoplay(true);\n  };\n  const trackMouseEvents = {\n    onMouseEnter: onTrackOver,\n    onMouseLeave: onTrackLeave,\n    onMouseOver: onTrackOver,\n  };\n\n  const slideList = useMemo(() => {\n    if (!slides.length) return null;\n\n    const animatingStyle = animating\n      ? { transition: `width, flex-basis ${transitionDuration}ms ${transitionFunction}` }\n      : {};\n\n    const originalSlides = slides.map((slide, index) => (\n      <div\n        key={'original-' + slide?.toString()}\n        className={`${styles.slider__item} ${animationSlide === index ? styles.slider__item_active : ''}`}\n        tabIndex={-1}\n        data-position={index}\n        data-name=\"original\"\n        style={animatingStyle}\n      >\n        {slide}\n      </div>\n    ));\n\n    if (!isShouldBeenSlid) return originalSlides;\n\n    const lastSlide = slides[slides.length - 1];\n\n    const preCloneSlide = (\n      <div\n        key=\"precloned\"\n        className={`${styles.slider__item} ${animationSlide === -1 ? styles.slider__item_active : ''}`}\n        tabIndex={-1}\n        data-position={-1}\n        data-name=\"precloned\"\n        style={animatingStyle}\n      >\n        {lastSlide}\n      </div>\n    );\n\n    const postCloneSlides = slides.slice(0, Math.ceil(slidesOnScreen)).map((slide, index: number): ReactNode => {\n      const postClonedIndex = slides.length + index;\n      return (\n        <div\n          key={'postcloned' + slide?.toString()}\n          className={`${styles.slider__item} ${animationSlide === postClonedIndex ? styles.slider__item_active : ''}`}\n          tabIndex={-1}\n          data-position={postClonedIndex}\n          data-name=\"postcloned\"\n          style={animatingStyle}\n        >\n          {slide}\n        </div>\n      );\n    });\n\n    return [preCloneSlide, originalSlides, postCloneSlides].flat();\n  }, [animating, animationSlide, isShouldBeenSlid, slides, slidesOnScreen, transitionDuration, transitionFunction]);\n\n  useEffect(() => {\n    if (!sliderRef.current || !trackRef.current) return;\n\n    const { width, height } = sliderRef.current.getBoundingClientRect();\n    const slideCount = isShouldBeenSlid ? slides.length + Math.ceil(slidesOnScreen) + 1 : slides.length;\n\n    const { firstSlideWidth, otherSlideWidth, trackWidth } = calculateSliderDimensions({\n      screenWidth: width,\n      totalSlides: slideCount,\n      slidesToShow: slidesOnScreen,\n      gap,\n      firstSlideModifier,\n    });\n\n    setFirstSlideWidth(firstSlideWidth);\n    setSlideWidth(otherSlideWidth);\n    setDelayModifier(height / width);\n    setTouchThreshold(width / threshold);\n    setTrackWidth(trackWidth);\n    setCurrentSlide(0);\n    setAnimationSlide(0);\n    setIsShouldBeenSlid(slides.length > slidesOnScreen);\n    setTrackStyle({});\n    setResizeInitial(true);\n  }, [firstSlideModifier, gap, slidesOnScreen, resizeInitial, isShouldBeenSlid, slides.length]);\n\n  useEffect(() => {\n    if (!slideWidth || !isShouldBeenSlid) return;\n\n    const currentOffset = (slideWidth + gap) * -1;\n\n    setCurrentXOffset(currentOffset);\n\n    setTrackStyle({\n      transform: `translate3d(${currentOffset}px, 0px, 0px)`,\n    });\n  }, [gap, isShouldBeenSlid, slideWidth, resizeInitial]);\n\n  useEffect(() => {\n    const handleWindowResize: () => void = () => {\n      setResizeInitial(false);\n    };\n    window.addEventListener('resize', handleWindowResize);\n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, []);\n\n  const clickHandler: MouseEventHandler = (event) => {\n    if (clickable) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  };\n\n  const slideHandler = useCallback(\n    (index: number): void => {\n      if (animating) return;\n\n      const { state, nextState } = slideHandlerHelper({\n        animationSlide: index,\n        slideCount: slides?.length || 0,\n        slideWidth,\n        gap,\n        transitionDuration,\n        transitionFunction,\n      });\n\n      if (state.trackStyle) {\n        setTrackStyle(state.trackStyle);\n        setAnimating(true);\n\n        setAnimationSlide(index);\n      }\n\n      const { trackStyle, newCurrentXOffset, nextCurrentSlide } = nextState;\n      if (trackStyle && newCurrentXOffset !== undefined && nextCurrentSlide !== undefined) {\n        setTimeout(() => {\n          setTrackStyle(trackStyle);\n          setCurrentSlide(nextCurrentSlide);\n          setCurrentXOffset(newCurrentXOffset);\n          setAnimating(false);\n          setAnimationSlide(nextCurrentSlide);\n        }, transitionDuration + 24);\n      }\n    },\n    [animating, gap, slideWidth, slides?.length, transitionDuration, transitionFunction]\n  );\n\n  useEffect(() => {\n    if ((!isAutoplay && !autoplay) || !isShouldBeenSlid) return;\n    const nextSlide = currentSlide + 1;\n    autoplayTimer.current = setTimeout(() => {\n      slideHandler(nextSlide);\n    }, autoplaySpeed);\n    return () => {\n      if (autoplayTimer.current) clearTimeout(autoplayTimer.current);\n    };\n  }, [isAutoplay, autoplaySpeed, currentSlide, slideHandler, autoplay, isShouldBeenSlid]);\n\n  const onTouchStartHandler: TouchEventHandler<HTMLDivElement> = (event) => {\n    swipeStart({\n      startX: event.touches[0].pageX,\n      startY: event.touches[0].pageY,\n      curX: event.touches[0].pageX,\n      curY: event.touches[0].pageY,\n    });\n  };\n\n  const onMouseDownHandler: MouseEventHandler<HTMLDivElement> = (event) => {\n    swipeStart({\n      startX: event.pageX,\n      startY: event.pageY,\n      curX: event.pageX,\n      curY: event.pageY,\n    });\n  };\n\n  const swipeStart = (points: ITouchObg): void => {\n    setDragging(true);\n    setIsAutoplay(false);\n    setClickable(true);\n\n    if (autoplayTimer.current) clearTimeout(autoplayTimer.current);\n\n    setTouchObject(points);\n  };\n\n  const onSwipeMove = (newCurX: number, newCurY: number): void => {\n    if (!dragging) return;\n\n    const result: IOnSwipeMoveResult | void = swipeMoveHandler({\n      newCurX,\n      newCurY,\n      animating,\n      touchObject,\n      currentXOffset,\n      delayModifier,\n    });\n\n    if (!result) return;\n\n    setTrackStyle(result?.trackStyle || {});\n    setTouchObject(result.touchObject);\n  };\n\n  const onMouseMoveHandler: MouseEventHandler<HTMLDivElement> = (event) => {\n    onSwipeMove(event.clientX, event.clientY);\n  };\n\n  const onTouchMoveHandler: TouchEventHandler<HTMLDivElement> = (event) => {\n    event.preventDefault();\n    onSwipeMove(event.touches[0].pageX, event.touches[0].pageY);\n  };\n\n  const onSwipeEnd = (): void => {\n    if (!dragging) return;\n    setDragging(false);\n\n    if ((touchObject.swipeLength || 0) < 10) {\n      setClickable(false);\n    }\n\n    const result: IStateSwipeEndHandler | undefined = swipeEndHandler({\n      touchObject,\n      currentSlide,\n      currentXOffset,\n      transitionDuration,\n      transitionFunction,\n      touchThreshold,\n    });\n\n    if (!result) return;\n\n    if (result.triggerSlideHandler === undefined && result.trackStyle !== undefined) {\n      setTrackStyle(result.trackStyle);\n      return;\n    }\n    if (result.triggerSlideHandler !== undefined) {\n      slideHandler(result.triggerSlideHandler);\n    }\n  };\n\n  const onTouchEndHandler: TouchEventHandler<HTMLDivElement> = (event): void => {\n    if (touchObject.swipeLength && touchObject.swipeLength > 10) {\n      event.preventDefault();\n      onSwipeEnd();\n    }\n    event.stopPropagation();\n  };\n\n  const onMouseUpHandler: MouseEventHandler<HTMLDivElement> = (): void => {\n    onSwipeEnd();\n  };\n\n  const sliderEvents: HTMLAttributes<HTMLDivElement> = {\n    onClickCapture: clickHandler,\n    onMouseDown: onMouseDownHandler,\n    onTouchStart: onTouchStartHandler,\n    onMouseMove: onMouseMoveHandler,\n    onTouchMove: onTouchMoveHandler,\n    onMouseUp: onMouseUpHandler,\n    onMouseLeave: onMouseUpHandler,\n    onTouchEnd: onTouchEndHandler,\n    onTouchCancel: onTouchEndHandler,\n  };\n\n  const sliderProps = isShouldBeenSlid ? sliderEvents : {};\n\n  return (\n    <div\n      className={`${className} ${styles.slider}`}\n      {...sliderProps}\n      style={\n        {\n          '--firstSlideWidth': `${firstSlideWidth}px`,\n          '--slideWidth': `${slideWidth}px`,\n        } as CSSProperties\n      }\n    >\n      <div className={styles.slider__list} ref={sliderRef}>\n        <div\n          ref={trackRef}\n          className={styles.slider__track}\n          style={{ gap, width: trackWidth, ...trackStyle }}\n          {...trackMouseEvents}\n        >\n          {slideList}\n        </div>\n      </div>\n      {withDots && isShouldBeenSlid ? (\n        <SliderDots\n          slides={slides}\n          currentSlide={currentSlide}\n          className={dotsClassName}\n          onClickHandler={slideHandler}\n        />\n      ) : null}\n      {withArrows && isShouldBeenSlid ? (\n        <SliderArrows currentSlide={currentSlide} onClickHandler={slideHandler} className={arrowClassName} />\n      ) : null}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"promoBanners\":\"gu_fR\",\"promoBanner\":\"gu_fT\",\"promoBannerIcon\":\"gu_fU\",\"promoBannerImage\":\"gu_fV\",\"promoBannerCloseIcon\":\"gu_fW\",\"promoBannerTextDim\":\"gu_fX\",\"promoBannerText\":\"gu_fY\",\"promoBannerText_coreDrawer\":\"gu_fZ\",\"promoBannerOverlayPPBJLogo\":\"gu_f0\",\"promoBannerOverlayPPMWLogo\":\"gu_f1\",\"promoBannerOverlayDWLogo\":\"gu_ga\",\"promoBannerDDW\":\"gu_gb\",\"promoBannerBj\":\"gu_ge\",\"promoBannerKrBaccarat\":\"gu_gf\",\"promoBannersSlider\":\"gu_gh\",\"promoBannersSlideContainer\":\"gu_gi\",\"drawer\":\"gu_gj\",\"drawerImg\":\"gu_gk\",\"drawerContent\":\"gu_ec\"};","import { CSSProperties, type FC, type MouseEvent } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { CoreDrawer, DrawerAnchor } from '@pp/core/src/components/drawer/DrawerRoot';\nimport { Icon } from '@pp/core/src/components/icons/icon';\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useMedia } from '@pp/core/src/hooks/useMedia';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './PromotionBanners.module.css';\n\nexport interface IInfoModeProps {\n  setInfoMode: (value: boolean) => void;\n  promoText: string;\n  image: string;\n  isRTL: boolean;\n}\n\nconst customStyle = {\n  '--droverBackground': 'hsl(0, 0%, 12%)',\n  '--droverHeaderBackground': 'hsl(0, 0%, 9%)',\n};\n\nexport const InfoMode: FC<IInfoModeProps> = ({ setInfoMode, promoText, image, isRTL }) => {\n  const audioTrigger = useAudioTrigger('general');\n  const isExtraLargeLandScape = useMedia('(min-width: 931px)');\n\n  const promoBannerTextMods = useModifiers(\n    styles,\n    'promoBannerText',\n    {\n      coreDrawer: !isExtraLargeLandScape,\n    },\n    { withBaseClass: true }\n  );\n  const onInfoClose = (event?: MouseEvent<SVGSVGElement>): void => {\n    event?.stopPropagation();\n    audioTrigger.play({ name: 'menuClick' });\n    setInfoMode(false);\n  };\n\n  const directionVariable = {\n    '--direction': isRTL ? 'rtl' : '',\n  } as CSSProperties;\n\n  const rootElement = document.getElementById('root') as HTMLElement;\n\n  if (isExtraLargeLandScape) {\n    return (\n      <div className={styles.promoBannerTextDim}>\n        <Icon icon=\"Close\" onClick={onInfoClose} className={styles.promoBannerCloseIcon} />\n        <div\n          className={promoBannerTextMods}\n          style={directionVariable}\n          dangerouslySetInnerHTML={{ __html: promoText }}\n        />\n      </div>\n    );\n  }\n\n  return createPortal(\n    <CoreDrawer\n      open\n      onClose={onInfoClose}\n      customStyle={customStyle}\n      anchor={DrawerAnchor.bottom}\n      className={styles.drawer}\n      contentClassName={styles.drawerContent}\n      header={\n        <div\n          className={styles.drawerImg}\n          style={\n            {\n              '--promoImage': image,\n            } as CSSProperties\n          }\n        ></div>\n      }\n    >\n      <div className={promoBannerTextMods} style={directionVariable} dangerouslySetInnerHTML={{ __html: promoText }} />\n    </CoreDrawer>,\n    rootElement\n  );\n};\n","import { type CSSProperties, type FunctionComponent, type MouseEvent, useState } from 'react';\n\nimport { IconButton } from '@pp/core/src/components/controls/iconButton/IconButton';\n\nimport { getRemoteAssetsPath } from '../../../../utils/remoteAssetsPath';\n\nimport { InfoMode } from './InfoMode';\n\nimport styles from './PromotionBanners.module.css';\n\ninterface IPromoBannerProps {\n  image: string;\n  imageWide: string;\n  ddwPromotionRegion: string;\n  promoText: string;\n  customStyle?: string;\n  isRTL: boolean;\n}\n\nexport const PromotionBanner: FunctionComponent<IPromoBannerProps> = ({\n  image,\n  imageWide,\n  ddwPromotionRegion,\n  promoText,\n  customStyle,\n  isRTL,\n}) => {\n  const [infoMode, setInfoMode] = useState(false);\n\n  const onInfoOpen = (event?: MouseEvent<HTMLElement>): void => {\n    event?.stopPropagation();\n    setInfoMode(true);\n  };\n  const promoImageUrl = `url(${image}),url(${getRemoteAssetsPath(\n    `./assets/promotion/banners/slots/DDW/${ddwPromotionRegion}/default_m.jpg`\n  )})`;\n\n  return (\n    <div\n      className={`${styles.promoBanner} ${customStyle}`}\n      style={\n        {\n          '--promoImage': promoImageUrl,\n          '--promoImageWide': `url(${imageWide}),url(${getRemoteAssetsPath(\n            `./assets/promotion/banners/slots/DDW/${ddwPromotionRegion}/default_d.jpg`\n          )})`,\n        } as CSSProperties\n      }\n    >\n      {infoMode ? (\n        <InfoMode setInfoMode={setInfoMode} promoText={promoText} image={promoImageUrl} isRTL={isRTL} />\n      ) : null}\n      {!infoMode ? (\n        <IconButton onClick={onInfoOpen} icon=\"Info\" className={styles.promoBannerIcon} squared light large />\n      ) : null}\n    </div>\n  );\n};\n","import type { FunctionComponent, ReactElement } from 'react';\nimport { useEffect, useMemo, useState } from 'react';\n\nimport { Fetcher } from '@pp/core/src/api/Fetcher';\nimport { Swiper } from '@pp/core/src/components/swiper/Swiper';\nimport { useMedia } from '@pp/core/src/hooks/useMedia';\nimport { useGameStateSlice } from '@pp/core/src/store/slices/game/selectors';\nimport { useSettingsSlice } from '@pp/core/src/store/slices/settings/selectors';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { allowedRegionForAsia, allowedRegionForRow } from '../../../../config/promoTextLanguages';\nimport { SlotLobbyConfiguration } from '../../../../config/slot/SlotLobbyConfiguration';\nimport { SlotRegion } from '../../../../config/slot/types';\nimport { useIsTouchDevice } from '../../../../hooks/useLobbyBreakpoints';\nimport { useCategorySlice } from '../../../../store/slices/category/selectors';\nimport { useSlotsSlice } from '../../../../store/slices/slots/selectors';\nimport { getRemoteAssetsPath } from '../../../../utils/remoteAssetsPath';\nimport { Slider } from '../../../slider/Slider';\nimport { SliderProps } from '../../../slider/Slider.type';\n\nimport { PromotionBanner } from './PromotionBanner';\n\nimport styles from './PromotionBanners.module.css';\n\ninterface Banner {\n  alt: string;\n  customStyle?: string;\n  img: string;\n  imgWide: string;\n  ddwPromotionRegion: string;\n  promoText: string;\n}\n\nexport const SlotPromotionBannerConnected: FunctionComponent = () => {\n  const isExtraLargeLandScape = useMedia('(min-width: 931px)');\n  const isTouch = useIsTouchDevice();\n  const categories = useCategorySlice.getCategories();\n  const locale = useSettingsSlice.currentLanguage();\n  const currency = useGameStateSlice.getCurrency();\n  const isRTL = useSettingsSlice.getIsCurrentLanguageRTL();\n  const [ddwBanner, setDdwBanner] = useState<Banner[]>([]);\n  const ddwEnabled = categories?.['DDW'] && categories['DDW'].length > 0;\n  const activePromotions = useSlotsSlice.getActivePromotions();\n  const isAsia = SlotLobbyConfiguration?.region === SlotRegion.Asia;\n  const allowedRegions = isAsia ? allowedRegionForAsia : allowedRegionForRow;\n\n  useEffect(() => {\n    if (ddwEnabled) {\n      let promoForBanner = activePromotions?.tournaments?.slice(0, 1);\n      if (!promoForBanner?.length && activePromotions?.races?.length) {\n        promoForBanner = activePromotions?.races?.slice(0, 1);\n      }\n      const regexForPromoRegion = /~(.*?)~/;\n\n      promoForBanner?.forEach((tournament) => {\n        let ddwPromotionRegion = '';\n        const tournamentName = tournament?.name;\n        const match = tournamentName ? regexForPromoRegion.exec(tournamentName) : null;\n        if (match?.[1]) {\n          ddwPromotionRegion = match[1];\n        }\n        if (!allowedRegions.includes(ddwPromotionRegion)) {\n          return null;\n        }\n\n        const ddwPath = getRemoteAssetsPath(\n          `./assets/promotion/tncs/slots/DDW/${ddwPromotionRegion}/${locale}_${currency}.html`\n        );\n        const ddwBannerImage = getRemoteAssetsPath(\n          `./assets/promotion/banners/slots/DDW/${ddwPromotionRegion}/${locale}_${currency}_m.jpg`\n        );\n        const ddwBannerWideImage = getRemoteAssetsPath(\n          `./assets/promotion/banners/slots/DDW/${ddwPromotionRegion}/${locale}_${currency}_d.jpg`\n        );\n        Fetcher.fetch<string>(ddwPath, { format: 'text' })\n          .then((response) =>\n            setDdwBanner((previousBanner) => [\n              ...previousBanner,\n              {\n                alt: 'ddwBanner',\n                img: ddwBannerImage,\n                imgWide: ddwBannerWideImage,\n                ddwPromotionRegion: ddwPromotionRegion,\n                promoText: response,\n              },\n            ])\n          )\n          .catch(() => {\n            Fetcher.fetch<string>(\n              getRemoteAssetsPath(`./assets/promotion/tncs/slots/DDW/${ddwPromotionRegion}/default.html`),\n              {\n                format: 'text',\n              }\n            ).then((response) =>\n              setDdwBanner((previousBanner) => [\n                ...previousBanner,\n                {\n                  alt: 'ddwBanner',\n                  img: ddwBannerImage,\n                  imgWide: ddwBannerWideImage,\n                  ddwPromotionRegion: ddwPromotionRegion,\n                  promoText: response,\n                },\n              ])\n            );\n          });\n      });\n    }\n  }, [ddwEnabled, currency, locale, activePromotions?.tournaments]);\n\n  const banners = ddwBanner.filter((el) => el !== undefined) as Banner[];\n\n  const promoBannersMods = useModifiers(\n    styles,\n    'promoBanners',\n    {\n      single: banners.length === 1,\n    },\n    { withBaseClass: true }\n  );\n\n  const renderBanners: () => ReactElement[] = () =>\n    banners.map(({ alt, img, imgWide, promoText, customStyle, ddwPromotionRegion }) => (\n      <PromotionBanner\n        image={img}\n        imageWide={imgWide}\n        ddwPromotionRegion={ddwPromotionRegion}\n        key={alt}\n        promoText={promoText}\n        customStyle={customStyle}\n        isRTL={isRTL}\n      />\n    ));\n  const renderBannersVal = renderBanners();\n  const sliderProps = useMemo((): SliderProps => {\n    const props: SliderProps = {\n      slides: renderBannersVal,\n      autoplay: false,\n      gap: 8,\n      withDots: true,\n      slidesOnScreen: 1,\n    };\n\n    if (!isTouch) {\n      props.withArrows = true;\n    }\n    return props;\n  }, [isTouch, renderBannersVal]);\n\n  if (!banners.length) {\n    return null;\n  }\n\n  return (\n    <div className={promoBannersMods}>\n      {isExtraLargeLandScape || banners.length === 1 ? (\n        <Slider {...sliderProps} />\n      ) : (\n        <Swiper className={styles.promoBannersSlider} dots slideContainerClassName={styles.promoBannersSlideContainer}>\n          {renderBanners()}\n        </Swiper>\n      )}\n    </div>\n  );\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nimport { Vendor } from '../../../config/LobbyConfiguration';\nimport { getRemoteAssetsPath } from '../../../utils/remoteAssetsPath';\nimport { type LobbyRootState, useLobbySelector } from '../../LobbyStore';\nimport { gamesAdapter, IGameListState, type GameType } from '../games/slice';\n\nimport type { IForYouState } from './slice';\nimport type { IGameSection } from './types';\n\nconst tablesToSubscribeToSelector = createSelector(\n  [\n    (state: LobbyRootState): IForYouState['tablesInSections'] => state.forYou.tablesInSections,\n    (state: LobbyRootState): IForYouState['tablesInFeatured'] => state.forYou.tablesInFeatured,\n    (state: LobbyRootState): IForYouState['favouriteList'] => state.forYou.favouriteList,\n    (state: LobbyRootState): IGameListState['supportedGames'] => state.gameList.supportedGames,\n  ],\n  (tablesInSections, tablesInFeatured, favouriteList, supportedGames) => {\n    if (!tablesInSections || !tablesInFeatured || !supportedGames) return undefined;\n\n    const favouriteListToSubscribe = favouriteList.filter((tableID) => supportedGames[tableID]);\n\n    // merge without repetition\n    const tablesToSubscribeTo = new Set<string>([\n      ...tablesInSections,\n      ...tablesInFeatured,\n      ...favouriteListToSubscribe,\n    ]);\n\n    return Array.from(tablesToSubscribeTo);\n  }\n);\n\nconst sectionSelector = createSelector(\n  [(state: LobbyRootState, sectionId: string): IGameSection | undefined => state.forYou.sections?.[sectionId]],\n  (section) => {\n    if (!section) return undefined;\n    return { ...section, tables: section.tables.slice(0, 10) };\n  }\n);\n\nconst featuredGameSelector = createSelector(\n  [\n    (state: LobbyRootState): IForYouState['featuredImagesExceptions'] => state.forYou.featuredImagesExceptions,\n    (state: LobbyRootState, id): GameType | undefined => gamesAdapter.getSelectors().selectById(state.gameList, id),\n  ],\n  (featuredImagesExceptions, game): GameType | undefined => {\n    if (!game || !featuredImagesExceptions) return undefined;\n    switch (game.vendor) {\n      case Vendor.LiveCasino:\n        return {\n          ...game,\n          image: featuredImagesExceptions[game.id]\n            ? featuredImagesExceptions[game.id]\n            : getRemoteAssetsPath(`./assets/heroBanners/${game.id}.jpg`),\n        };\n      case Vendor.Slots:\n        return game;\n    }\n  }\n);\n\nconst isFavouriteSelector = createSelector(\n  [\n    (store: LobbyRootState): string[] => store.forYou.favouriteList,\n    (_: LobbyRootState, tableID: string): string => tableID,\n  ],\n  (favouriteList, tableID) => {\n    return favouriteList.includes(tableID);\n  }\n);\n\nexport const useForYouSlice = {\n  getSections: (): IForYouState['sectionIds'] => {\n    return useLobbySelector((state) => state.forYou.sectionIds);\n  },\n  getSection: (sectionId: string): IGameSection | undefined => {\n    return useLobbySelector((state) => sectionSelector(state, sectionId));\n  },\n  getTablesToSubscribeTo: (): string[] | undefined => {\n    return useLobbySelector(tablesToSubscribeToSelector);\n  },\n  getFeatured: (): IForYouState['featured'] => {\n    return useLobbySelector((state) => state.forYou.featured);\n  },\n  getFeaturedGame: (gameId: string): GameType | undefined => {\n    return useLobbySelector((state) => featuredGameSelector(state, gameId));\n  },\n  getFavouriteList: (): string[] => {\n    return useLobbySelector(({ forYou }) => forYou.favouriteList);\n  },\n  isFavourite: (tableID: string): boolean => {\n    return useLobbySelector((state) => isFavouriteSelector(state, tableID));\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"imageSvg\":\"tO_tP\"};","import type { FunctionComponent } from 'react';\n\nimport { SlotCountry } from '../../../config/slot/types';\n\nimport DailyWins from './assets/DailyWins.png';\nimport DailyWins_ZH from './assets/DailyWins_ZH.png';\nimport DropsAndWins from './assets/Drop&Wins.png';\n\nimport styles from './SlotsPromoTag.module.css';\n\nexport interface SlotsPromoTagProps {\n  /** Is Asian Region Flag. Works only for DDW promo */\n  isAsia: boolean;\n  /** A country specifier */\n  country?: string;\n}\n\nexport const SlotsPromoTag: FunctionComponent<SlotsPromoTagProps> = ({ isAsia, country }) => {\n  if (isAsia) {\n    if (country === SlotCountry.China) {\n      return <img src={DailyWins_ZH} className={styles.imageSvg} alt=\"Daily Wins\" />;\n    }\n    return <img src={DailyWins} className={styles.imageSvg} alt=\"Daily Wins\" />;\n  } else {\n    return <img src={DropsAndWins} className={styles.imageSvg} alt=\"Drops and Wins\" />;\n  }\n};\n","import type { FunctionComponent } from 'react';\n\nimport { SlotLobbyConfiguration } from '../../../config/slot/SlotLobbyConfiguration';\nimport { SlotRegion } from '../../../config/slot/types';\n\nimport { SlotsPromoTag } from './SlotsPromoTag';\n\nexport const SlotsPromoTagConnected: FunctionComponent = () => {\n  const isAsia = SlotLobbyConfiguration?.region === SlotRegion.Asia;\n  const country = SlotLobbyConfiguration?.country;\n\n  return <SlotsPromoTag isAsia={isAsia} country={country} />;\n};\n","import { IPromoGameInfo } from '../../../api/fetchers/promo';\n\nimport BBJT from './assets/bronzeBjPromoTag.svg';\nimport CB from './assets/cashback.png';\nimport DnWGB from './assets/D_WandGiftBox.png';\nimport DnWT from './assets/D_WandTrophy.png';\nimport DW from './assets/dailyWins.png';\nimport DnW from './assets/dropsWins.png';\nimport DWGB from './assets/DWandGiftBox.png';\nimport DWT from './assets/DWandTrophy.png';\nimport FRC from './assets/freeChip.svg';\nimport BBJTFC from './assets/freeChipBlackjackBronze.svg';\nimport GBJTFC from './assets/freeChipBlackjackGold.svg';\nimport PRBJTFC from './assets/freeChipBlackjackPrive.svg';\nimport SBJTFC from './assets/freeChipBlackjackSilver.svg';\nimport CBFC from './assets/freeChipCashback.svg';\nimport DWFC from './assets/freeChipDailyWin.svg';\nimport DnWFc from './assets/freeChipDropWin.svg';\nimport FCGB from './assets/freeChipGiftBox.svg';\nimport FCRE from './assets/freeChipRedEnvelope.svg';\nimport SMFC from './assets/freeChipSlotMania.svg';\nimport FCTH from './assets/freeChipTrophy.svg';\nimport GBT from './assets/giftboxAndTrophy.png';\nimport GBJT from './assets/goldBjPromoTag.svg';\nimport PRBJT from './assets/priveBjPromoTag.svg';\nimport GB from './assets/prize.png';\nimport RE from './assets/redEnvelope.png';\nimport SBJT from './assets/silverBjPromoTag.svg';\nimport SM from './assets/slotMania.png';\nimport TH from './assets/trophy.png';\n\nconst bjtImages: Record<string, string> = {\n  BBJT,\n  BBJTFC,\n  SBJT,\n  SBJTFC,\n  GBJT,\n  GBJTFC,\n  PRBJT,\n  PRBJTFC,\n};\n\ninterface PromoImage {\n  src: string;\n  alt: string;\n}\n\nconst getBJTImage = (bjtType: string, isBonusPromo: boolean): PromoImage => ({\n  src: bjtImages[`${bjtType}${isBonusPromo ? 'FC' : ''}`],\n  alt: isBonusPromo ? 'Blackjack league and Free Chips' : 'Blackjack league',\n});\n\nconst getSlotManiaImage = (isBonusPromo: boolean): PromoImage => ({\n  src: isBonusPromo ? SMFC : SM,\n  alt: isBonusPromo ? 'Slot Mania Free Chips' : 'Slot Mania',\n});\n\nconst getDDWImage = (\n  isAsia: boolean,\n  redEnvelope: boolean,\n  isBonusPromo: boolean,\n  promoInfo: IPromoGameInfo\n): PromoImage => {\n  const regionPrefix = isAsia ? 'Daily Wins' : 'Drops and Wins';\n  const images = {\n    bonus: isAsia ? DWFC : DnWFc,\n    regular: isAsia ? DW : DnW,\n    trophy: isAsia ? DWT : DnWT,\n    giftBox: isAsia ? DWGB : DnWGB,\n    redEnvelope: isBonusPromo ? FCRE : RE,\n  };\n\n  switch (true) {\n    case isAsia && redEnvelope:\n      return { src: images.redEnvelope, alt: isBonusPromo ? 'Red Envelope and Free Chips' : 'Red Envelope' };\n    case isBonusPromo:\n      return { src: images.bonus, alt: `${regionPrefix} and Free Chips` };\n    case promoInfo.isCashback:\n      return { src: images.regular, alt: regionPrefix };\n    case promoInfo.isTournament:\n      return { src: images.trophy, alt: `${regionPrefix} and Trophy` };\n    case promoInfo.isPrizeDrop:\n      return { src: images.giftBox, alt: `${regionPrefix} and Gift Box` };\n    default:\n      return { src: images.regular, alt: regionPrefix };\n  }\n};\n\nconst getBonusPromoImage = (promoInfo: IPromoGameInfo): PromoImage => {\n  switch (true) {\n    case promoInfo.isCashback:\n      return { src: CBFC, alt: 'Cashback and Free Chips' };\n    case promoInfo.isTournament && promoInfo.isPrizeDrop:\n      return { src: FCTH, alt: 'Free Chip and Trophy' };\n    case promoInfo.isTournament:\n      return { src: FCTH, alt: 'Free Chip and Trophy' };\n    case promoInfo.isPrizeDrop:\n      return { src: FCGB, alt: 'Free Chip and Gift Box' };\n    default:\n      return { src: FRC, alt: 'FreeChip' };\n  }\n};\n\nconst getRegularPromoImage = (promoInfo: IPromoGameInfo): PromoImage => {\n  switch (true) {\n    case promoInfo.isCashback:\n      return { src: CB, alt: 'Cashback' };\n    case promoInfo.isTournament && promoInfo.isPrizeDrop:\n      return { src: GBT, alt: 'Trophy and Gift Box' };\n    case promoInfo.isTournament:\n      return { src: TH, alt: 'Trophy' };\n    case promoInfo.isPrizeDrop:\n      return { src: GB, alt: 'Gift Box' };\n    default:\n      return { src: GB, alt: 'Gift Box' };\n  }\n};\n\nexport const getPromoImage = (\n  promoInfo: IPromoGameInfo,\n  isAsia: boolean,\n  redEnvelope: boolean,\n  isBonusPromo: boolean\n): PromoImage => {\n  switch (true) {\n    case !!promoInfo.isBJT:\n      return getBJTImage(promoInfo.isBJT, isBonusPromo);\n    case promoInfo.isSlotMania:\n      return getSlotManiaImage(isBonusPromo);\n    case promoInfo.isDDW:\n      return getDDWImage(isAsia, redEnvelope, isBonusPromo, promoInfo);\n    default:\n      return isBonusPromo ? getBonusPromoImage(promoInfo) : getRegularPromoImage(promoInfo);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"imageSvg\":\"tQ_tP\"};","import type { FC } from 'react';\n\nimport { IPromoGameInfo } from '../../../api/fetchers/promo';\n\nimport FRC from './assets/freeChip.svg';\nimport { getPromoImage } from './PromoTagUtils';\n\nimport styles from './PromoTag.module.css';\n\nexport interface IPromoTagProps {\n  promoGameInfo: IPromoGameInfo | undefined;\n  /** Is Asian Region Flag. Works only for DDW promo */\n  isAsia: boolean;\n  /** Red Envelope Flag. Works only when DDW promo and isAsia is true */\n  redEnvelope: boolean;\n  isBonusPromo?: boolean;\n}\n\nexport const PromoTag: FC<IPromoTagProps> = ({ promoGameInfo, isAsia, redEnvelope, isBonusPromo = false }) => {\n  if (!promoGameInfo) {\n    return isBonusPromo ? <img src={FRC} className={styles.imageSvg} alt=\"FreeChip\" /> : null;\n  }\n\n  const { src, alt } = getPromoImage(promoGameInfo, isAsia, redEnvelope, isBonusPromo);\n  return <img src={src} className={styles.imageSvg} alt={alt} />;\n};\n\nexport default PromoTag;\n","import type { FC } from 'react';\n\nimport { useConfigSlice } from '@pp/core/src/store/slices/config/selectors';\n\nimport { usePromotionsSlice } from '../../../store/slices/promotions/selectors';\n\nimport { PromoTag } from './PromoTag';\n\nexport interface IPromoTagProps {\n  tableId: string;\n  className?: string;\n}\n\nexport const PromoTagConnected: FC<IPromoTagProps> = ({ tableId }) => {\n  const redEnvelope = false;\n  const isAsia = useConfigSlice.isAsia();\n  const promoGameInfo = usePromotionsSlice.getPromoGameInfo(tableId);\n  const isBonusPromo = usePromotionsSlice.getIsBonus(tableId);\n  if (!promoGameInfo && !isBonusPromo) return null;\n  return (\n    <PromoTag promoGameInfo={promoGameInfo} isAsia={isAsia} redEnvelope={redEnvelope} isBonusPromo={isBonusPromo} />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"playingNowIcon\":\"sW_fw\",\"playingNowIcon__stick\":\"sW_fx\",\"playNow1\":\"sW_fy\",\"playNow2\":\"sW_fz\"};","import type { FC } from 'react';\n\nimport styles from './PlayingNowIcon.module.css';\n\nexport const PlayingNowIcon: FC = () => {\n  return (\n    <div className={styles.playingNowIcon}>\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n      <span className={styles.playingNowIcon__stick} />\n    </div>\n  );\n};\n","import type { FunctionComponent } from 'react';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\n\nimport { PlayingNowIcon } from '../PlayingNowIcon';\n\nimport styles from './IsPlayingLabel.module.css';\n\nexport const IsPlayingLabel: FunctionComponent = () => {\n  return (\n    <div className={styles.isPlayingLabel}>\n      <PlayingNowIcon />\n      <span className={styles.isPlayingLabel__text}>\n        <L12nText tk=\"LOBBY_NOW_PLAYING\" />\n      </span>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"isPlayingLabel\":\"rk_rl\",\"isPlayingLabel__text\":\"rk_rm\"};","import { useState, useEffect, type MouseEventHandler, type FunctionComponent } from 'react';\n\nimport styles from './FavouriteIcon.module.css';\n\nexport interface FavouriteIconProps {\n  checked: boolean;\n  onFavourite: () => void;\n  className?: string;\n}\n\nexport const FavouriteIcon: FunctionComponent<FavouriteIconProps> = ({ checked, onFavourite, className = '' }) => {\n  const [isClicked, setIsClicked] = useState<boolean>();\n  const [animating, setAnimating] = useState(false);\n\n  const handleChange: MouseEventHandler<HTMLLabelElement> = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    if (!animating) {\n      setIsClicked((prev) => !prev);\n      setAnimating(true);\n\n      setTimeout(() => {\n        onFavourite();\n        setAnimating(false);\n      }, 750);\n    }\n  };\n\n  useEffect(() => {\n    setIsClicked(checked);\n  }, [checked]);\n\n  return (\n    <label\n      data-testid=\"favourite-icon\"\n      className={`${className} ${styles.favouriteIcon} ${animating ? styles.animating : ''}`}\n      onClick={handleChange}\n    >\n      <input type=\"checkbox\" checked={isClicked} className={styles.favouriteIcon__input} name=\"favourite\" />\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 220 220\"\n        fill=\"none\"\n        className={`${styles.svgHeart} ${isClicked ? styles.checked : styles.unchecked}`}\n      >\n        <path\n          strokeWidth=\"15\"\n          d=\"M159.97 39c-14 0-28.12 6.7-37.02 17.21L112.5 68.55l-10.45-12.34C93.15 45.7 79.04 39 65.03 39 39.4 39 21 58.4 21 82.29c0 14.97 6.57 29.83 21.39 47.84 14.94 18.18 36.67 37.68 64.35 62.15l5.76 5.72 5.76-5.72c27.68-24.47 49.4-43.97 64.36-62.15C197.42 112.12 204 97.26 204 82.3c0-23.9-18.39-43.3-44.03-43.3Z\"\n        />\n      </svg>\n    </label>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"favouriteIcon\":\"ta_tb\",\"favouriteIcon__input\":\"ta_tc\",\"svgHeart\":\"ta_te\",\"checked\":\"ta_tf\",\"unchecked\":\"ta_tg\",\"animating\":\"ta_th\",\"onChecked\":\"ta_ti\",\"onCheckedSmall\":\"ta_tj\"};","// extracted by mini-css-extract-plugin\nexport default {\"tileContainer\":\"rs_rt\",\"tileContainer_isClickable\":\"rs_ru\",\"tileContainer_isClosed\":\"rs_rv\",\"tileContainer__tag\":\"rs_rw\",\"tileContainer__promoTag\":\"rs_rx\",\"tileContainer__grid\":\"rs_ry\",\"tileContainer__imageContainer\":\"rs_rz\",\"tileContainer_isPlaying\":\"rs_rA\",\"tileContainer__slotsPromoTag\":\"rs_rB\",\"tileContainer__titleRow\":\"rs_rC\",\"tileContainer__title\":\"rs_rE\",\"tileContainer__controls\":\"rs_rF\",\"tileContainer__favourite\":\"rs_rG\",\"tileContainer__image\":\"rs_rH\"};","import {\n  type FunctionComponent,\n  type HTMLAttributes,\n  type MouseEvent,\n  type ReactNode,\n  RefObject,\n  useCallback,\n} from 'react';\n\nimport { useAudioTrigger } from '@pp/core/src/controllers/audioController/hooks';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport { FavouriteIcon } from '../../favouriteIcon/FavouriteIcon';\n\nimport styles from './TileContainer.module.css';\n\nexport interface TileContainerProps extends Omit<HTMLAttributes<HTMLDivElement>, 'title'> {\n  renderImage: (className: string) => ReactNode;\n  footer?: ReactNode;\n  title: ReactNode;\n  isClosed?: boolean;\n  isPlaying?: boolean;\n  tag?: ReactNode;\n  promoTag?: ReactNode;\n  slotsPromoTag?: ReactNode;\n  containerRef?: RefObject<HTMLDivElement>;\n  isIntersecting?: boolean;\n  onFavourite?: () => void;\n  isFavourite?: boolean;\n}\n\nexport const TileContainer: FunctionComponent<TileContainerProps> = ({\n  children,\n  renderImage,\n  isClosed,\n  isPlaying,\n  onClick,\n  title,\n  footer,\n  tag,\n  promoTag,\n  slotsPromoTag,\n  containerRef,\n  isIntersecting = true,\n  onFavourite,\n  isFavourite,\n  ...props\n}) => {\n  const audioTrigger = useAudioTrigger('general');\n\n  const tileWithMods = useModifiers(\n    styles,\n    'tileContainer',\n    {\n      isClickable: !!onClick,\n      isClosed,\n      isPlaying,\n    },\n    { withBaseClass: true }\n  );\n\n  const handleClick = useCallback(\n    (event: MouseEvent<HTMLDivElement>): void => {\n      if (onClick) {\n        audioTrigger.play({ name: 'menuClick' });\n        onClick(event);\n      }\n    },\n    [onClick, audioTrigger]\n  );\n\n  return (\n    <div\n      data-testid=\"tile-container\"\n      {...props}\n      ref={containerRef || undefined}\n      className={tileWithMods}\n      onClick={handleClick}\n      role=\"button\"\n    >\n      <div className={styles.tileContainer__grid}>\n        <div className={styles.tileContainer__imageContainer}>\n          {renderImage(styles.tileContainer__image)}\n          {isIntersecting ? (\n            <>\n              {children}\n              {tag ? <div className={styles.tileContainer__tag}>{tag}</div> : null}\n              {slotsPromoTag ? <div className={styles.tileContainer__slotsPromoTag}>{slotsPromoTag}</div> : null}\n              {promoTag ? <div className={styles.tileContainer__promoTag}>{promoTag}</div> : null}\n            </>\n          ) : null}\n        </div>\n        <div className={styles.tileContainer__titleRow}>\n          <span data-testid=\"tile-container-title\" className={styles.tileContainer__title}>{title}</span>\n          {onFavourite ? (\n            <div className={styles.tileContainer__controls}>\n              <FavouriteIcon\n                checked={Boolean(isFavourite)}\n                className={styles.tileContainer__favourite}\n                onFavourite={onFavourite}\n              />\n            </div>\n          ) : null}\n        </div>\n        {footer}\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tileCurtain\":\"rn_ro\",\"tileCurtain__title\":\"rn_rp\",\"tileCurtain__time\":\"rn_rq\",\"tileCurtain__subtitle\":\"rn_rr\"};","import type { FunctionComponent } from 'react';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\n\nimport styles from './TileCurtain.module.css';\n\ninterface TableCurtainProps {\n  openTime?: number;\n}\n\nexport const TileCurtain: FunctionComponent<TableCurtainProps> = ({ openTime }) => {\n  return (\n    <div className={styles.tileCurtain}>\n      {openTime ? (\n        <>\n          <p className={styles.tileCurtain__title}>\n            <L12nText tk=\"LOBBY_WILL_BE_OPEN_AT\" />\n          </p>\n          <p className={styles.tileCurtain__time}>\n            {new Date(openTime).toLocaleTimeString(undefined, {\n              hour: '2-digit',\n              minute: '2-digit',\n            })}\n          </p>\n          <p className={styles.tileCurtain__subtitle}>{new Date(openTime).toLocaleDateString(undefined, {})}</p>\n        </>\n      ) : (\n        <>\n          <p className={styles.tileCurtain__title}>\n            <L12nText tk=\"LOBBY_UNDER_MAINTENANCE\" />\n          </p>\n          <p className={styles.tileCurtain__subtitle}>\n            <L12nText tk=\"LOBBY_PLEASE_COME_BACK_SHORTLY\" />\n          </p>\n        </>\n      )}\n    </div>\n  );\n};\n","import type { FunctionComponent, PropsWithChildren } from 'react';\n\nimport styles from './TileFooterContainer.module.css';\n\nexport const TileFooterContainer: FunctionComponent<PropsWithChildren> = ({ children }) => {\n  return <div className={styles.tileFooterContainer}>{children}</div>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tileFooterContainer\":\"rZ_r0\"};","// extracted by mini-css-extract-plugin\nexport default {\"tileFooter\":\"rR_rS\",\"tileFooter__playerCount\":\"rR_rT\",\"tileFooter__minBet\":\"rR_rU\",\"tileFooter__languageContainer\":\"rR_rV\",\"tileFooter__language\":\"rR_rW\",\"tileFooter__voiceOver\":\"rR_rX\",\"tileFooter__subtitle\":\"rR_rY\"};","import { type FunctionComponent, type ReactNode, useMemo } from 'react';\n\nimport { Icon, Icons } from '@pp/core/src/components/icons';\nimport { languageCode, LanguageFlags } from '@pp/core/src/components/languageFlag/LanguageFlags';\n\nimport { ID_BLACKJACK } from '../../../constants/navigation';\nimport { IsPlayingLabel } from '../isPlayingLabel/IsPlayingLabel';\nimport type { ITilePropsTable } from '../Tile';\nimport { TileFooterContainer } from '../tileFooterContainer/TileFooterContainer';\n\nimport styles from './TileFooter.module.css';\n\ninterface TileFooterProps\n  extends Pick<\n    ITilePropsTable,\n    | 'isPlaying'\n    | 'isPrive'\n    | 'isVip'\n    | 'locale'\n    | 'supportLangTheme'\n    | 'minBet'\n    | 'seats'\n    | 'id'\n    | 'tableType'\n    | 'tableSubtype'\n    | 'totalSeatedPlayers'\n    | 'voiceOver'\n    | 'subtitle'\n    | 'countryFlag'\n    | 'playerCount'\n    | 'gameType'\n  > {}\n\nexport const TileFooter: FunctionComponent<TileFooterProps> = ({\n  isPlaying,\n  isPrive,\n  isVip,\n  locale,\n  supportLangTheme,\n  minBet,\n  tableType,\n  tableSubtype,\n  totalSeatedPlayers,\n  voiceOver,\n  subtitle,\n  countryFlag,\n  seats,\n  playerCount,\n}) => {\n  const totalSeat = useMemo((): string => {\n    if (tableType === ID_BLACKJACK) {\n      if (tableSubtype && tableSubtype.toLowerCase() === 'betbehindpro') {\n        return `${playerCount || 0}`;\n      }\n\n      if (isVip) {\n        return `${playerCount || 0}/3`;\n      }\n\n      return `${seats?.filter(Boolean).length || 0}/7`;\n    }\n\n    return `${totalSeatedPlayers || 0}`;\n  }, [isVip, playerCount, seats, tableSubtype, tableType, totalSeatedPlayers]);\n\n  const seatPlayers = useMemo(() => {\n    if (isPrive) return null;\n\n    return (\n      <span className={styles.tileFooter__playerCount}>\n        <Icon icon={Icons.Player} />\n        {totalSeat}\n      </span>\n    );\n  }, [isPrive, totalSeat]);\n\n  const getFlagByLocaleSupport = (): ReactNode => {\n    const supportLangThemeArr = supportLangTheme?.split(',') ?? [];\n    if (supportLangThemeArr.indexOf(locale) > -1) {\n      const localeLangCode = languageCode[locale.toUpperCase() as keyof typeof languageCode];\n      if (!localeLangCode || localeLangCode === 'EN') return null;\n      return <LanguageFlags lang={localeLangCode} className={styles.tileFooter__language} />;\n    }\n    return null;\n  };\n\n  return (\n    <TileFooterContainer>\n      {isPlaying ? (\n        <IsPlayingLabel />\n      ) : (\n        <>\n          <span className={styles.tileFooter__minBet}>{minBet}</span>\n\n          {seatPlayers}\n\n          <span className={styles.tileFooter__languageContainer}>\n            {countryFlag && countryFlag in languageCode ? (\n              <LanguageFlags lang={languageCode[countryFlag]} className={styles.tileFooter__language} />\n            ) : (\n              getFlagByLocaleSupport()\n            )}\n            {voiceOver ? (\n              <span className={styles.tileFooter__voiceOver}>\n                <Icon icon={Icons.VoiceOver} />\n              </span>\n            ) : null}\n            {subtitle ? (\n              <span className={styles.tileFooter__subtitle}>\n                <Icon icon={Icons.Subtitles} />\n              </span>\n            ) : null}\n          </span>\n        </>\n      )}\n    </TileFooterContainer>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tileImage\":\"r1_sa\",\"tileImage_skeleton\":\"r1_sb\",\"tileImage_hidden\":\"r1_sc\",\"tileImage_playingNow\":\"r1_se\"};","import { FunctionComponent, ImgHTMLAttributes, type ReactNode, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { Logger } from '@pp/core/src/logger/Logger';\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport type { GameImagePath } from '../../../store/slices/games/types';\nimport { GameImage } from '../../gameImage/GameImage';\nimport { Skeleton } from '../../skeleton/Skeleton';\n\nimport styles from './TileImage.module.css';\n\nexport interface TitleImageProps extends ImgHTMLAttributes<HTMLImageElement> {\n  playingNow?: boolean;\n  isIntersecting?: boolean;\n  id: string;\n  gameImage?: GameImagePath;\n}\n\n// Time in ms that image has to be in view to be considered as noticed\nconst NOTICE_THRESHOLD = 200; // in ms\n\nexport const TileImage: FunctionComponent<TitleImageProps> = ({\n  playingNow,\n  className = '',\n  isIntersecting = true,\n  gameImage,\n  id,\n  ...rest\n}) => {\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageRevealed, setImageRevealed] = useState(false);\n  const noticeTimerRef = useRef<number | undefined>(undefined);\n\n  // Keeps a state of fact that image was in view for long enough to be noticed\n  const [wasNoticed, setWasNoticed] = useState(false);\n\n  useEffect(() => {\n    if (isIntersecting && !wasNoticed) {\n      noticeTimerRef.current = window.setTimeout(() => {\n        setWasNoticed(true);\n      }, NOTICE_THRESHOLD);\n      return (): void => window.clearTimeout(noticeTimerRef.current);\n    } else if (!isIntersecting) {\n      window.clearTimeout(noticeTimerRef.current);\n    }\n  }, [isIntersecting, wasNoticed]);\n\n  const imageMods = useModifiers(\n    styles,\n    'tileImage',\n    {\n      hidden: !imageLoaded,\n      playingNow,\n    },\n    {\n      withBaseClass: true,\n    }\n  );\n\n  const imgProps: ImgHTMLAttributes<HTMLImageElement> = useMemo(\n    () => ({\n      className: `${imageMods} ${className}`,\n      alt: '',\n      onLoad: (): void => {\n        setImageLoaded(true);\n      },\n      onTransitionEnd: (): void => {\n        setImageRevealed(true);\n      },\n      onError: (): void => {\n        Logger.logFailure('image', {\n          place: 'gameTileImage',\n          tableId: id,\n        });\n      },\n      ...rest,\n    }),\n    [imageMods, className, rest, id]\n  );\n\n  const getImage = (): ReactNode => {\n    if (isIntersecting && wasNoticed) {\n      if (gameImage?.urlWithoutExtension || gameImage?.url) {\n        return <GameImage image={gameImage} {...imgProps} />;\n      }\n      Logger.logFailure('image', {\n        place: 'gameTileImage',\n        tableId: id,\n        additional: 'noImage',\n      });\n    } else {\n      return <div className={styles.tileImage} />;\n    }\n  };\n\n  return (\n    <>\n      {!imageRevealed ? <Skeleton className={`${styles.tileImage} ${styles.tileImage_skeleton} ${className}`} /> : null}\n      {getImage()}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tileRecentResults\":\"rg_rh\",\"tileRecentResults_withoutPadding\":\"rg_ri\",\"tileRecentResults__row\":\"rg_rj\"};","import type { FunctionComponent, ReactNode } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './TileRecentResults.module.css';\n\ninterface TileRecentResultsProps {\n  recentResults?: ReactNode;\n  withoutPadding?: boolean;\n}\n\nexport const TileRecentResults: FunctionComponent<TileRecentResultsProps> = ({ recentResults, withoutPadding }) => {\n  const tileRecentResultsWithMods = useModifiers(\n    styles,\n    'tileRecentResults',\n    {\n      withoutPadding,\n    },\n    { withBaseClass: true }\n  );\n\n  if (!recentResults) return null;\n  return (\n    <div className={tileRecentResultsWithMods}>\n      <div className={styles.tileRecentResults__row}>{recentResults}</div>\n    </div>\n  );\n};\n","import type { FC, HTMLAttributes } from 'react';\n\nimport { Skeleton } from '../skeleton/Skeleton';\n\nimport styles from './tileSkeleton.module.css';\n\nexport interface ITileSkeletonProps extends HTMLAttributes<HTMLDivElement> {\n  id: string;\n}\n\nexport const TileSkeleton: FC<ITileSkeletonProps> = ({ id, ...rest }) => {\n  return (\n    <div className={styles.skeletonWrapper} id={id} {...rest}>\n      <Skeleton className={styles.skeletonImg} />\n      <Skeleton className={styles.skeletonTitle} />\n      <Skeleton className={styles.skeletonInfo} />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"skeletonWrapper\":\"eZ_bK\",\"skeletonImg\":\"eZ_e0\",\"skeletonTitle\":\"eZ_e1\",\"skeletonInfo\":\"eZ_fa\"};","// extracted by mini-css-extract-plugin\nexport default {\"tileTag\":\"oF_oG\",\"tileTag_main\":\"oF_oH\",\"tileTag_new\":\"oF_oI\"};","import type { FC, ReactNode } from 'react';\n\nimport { useModifiers } from '@pp/core/src/styles/hooks/useModifiers';\n\nimport styles from './TileTag.module.css';\n\nexport interface ITileTagProps {\n  type: 'main' | 'new' | 'default';\n  text: ReactNode;\n}\n\nexport const TileTag: FC<ITileTagProps> = ({ type, text }) => {\n  const mod = useModifiers(\n    styles,\n    'tileTag',\n    {\n      main: type === 'main',\n      new: type === 'new',\n    },\n    { withBaseClass: true }\n  );\n  return <div className={mod}>{text}</div>;\n};\n","import { type FunctionComponent, type ReactNode, type RefObject, useMemo } from 'react';\n\nimport { L12nText } from '@pp/core/src/components/text/L12nText';\n\nimport type { GameImagePath } from '../../store/slices/games/types';\nimport type { IMultiTable, ISlotGame, ITable } from '../../store/slices/tables/types';\nimport { SlotsPromoTagConnected } from '../promotion/slotsPromoTag/SlotsPromoTagConnected';\nimport { PromoTagConnected } from '../promotion/tag/PromoTagConnected';\n\nimport { IsPlayingLabel } from './isPlayingLabel/IsPlayingLabel';\nimport { TileContainer } from './tileContainer/TileContainer';\nimport { TileCurtain } from './tileCurtain/TileCurtain';\nimport { TileFooter } from './tileFooter/TileFooter';\nimport { TileFooterContainer } from './tileFooterContainer/TileFooterContainer';\nimport { TileImage } from './tileImage/TileImage';\nimport { TileRecentResults } from './tileRecentResults/TileRecentResults';\nimport { TileSkeleton } from './tileSkeleton';\nimport { TileTag } from './TileTag';\n\ninterface ITileBaseProps {\n  onClick?: () => void;\n  containerRef?: RefObject<HTMLDivElement>;\n  isIntersecting?: boolean;\n  gameImage: GameImagePath | undefined;\n  isPlayingNow?: boolean;\n  showPlayingAnimation?: boolean;\n}\n\nexport interface ITilePropsTable extends ITable, ITileBaseProps {\n  recentResults?: ReactNode;\n  withPromo?: boolean;\n  minBet: ReactNode;\n  onClick?: () => void;\n  locale: string;\n  operatorTheme: string;\n  isFavourite: boolean;\n  onFavourite?: () => void;\n}\n\nexport interface ITilePropsMultiTable extends Omit<IMultiTable, 'title'>, ITileBaseProps {\n  title: ReactNode;\n  action?: ReactNode;\n  isFavourite: boolean;\n  onFavourite?: () => void;\n}\n\nexport interface ITilePropsSlot extends ISlotGame, ITileBaseProps {}\n\nexport const Tile: FunctionComponent<ITilePropsTable> = (props) => {\n  const {\n    id,\n    tableId,\n    isActive,\n    newTable,\n    recentResults,\n    onClick,\n    translatedName,\n    tableName,\n    isPrive,\n    isVip,\n    openTime,\n    withPromo,\n    containerRef,\n    onFavourite,\n    isFavourite,\n    isIntersecting = true,\n    isPlayingNow,\n    showPlayingAnimation,\n    gameImage,\n  } = props;\n  const key = `${tableId}-${id}`;\n\n  const tag: ReactNode | undefined = useMemo(() => {\n    if (!isActive) return <L12nText tk=\"LOBBY_CLOSED\" />;\n    if (newTable) return <L12nText tk=\"LOBBY_NEW\" />;\n    if (isPrive) return <L12nText tk=\"PRIVE\" />;\n    if (isVip) return <L12nText tk=\"VIP\" />;\n  }, [isPrive, isVip, newTable, isActive]);\n\n  const isNew = newTable ? 'new' : 'main';\n  const tagType = !isActive ? 'default' : isNew;\n\n  if (translatedName === null) return <TileSkeleton id={key} />;\n\n  return (\n    <TileContainer\n      key={key}\n      id={key}\n      renderImage={(className) => (\n        <TileImage\n          id={id}\n          isIntersecting={props.isIntersecting}\n          gameImage={gameImage}\n          playingNow={isPlayingNow}\n          className={className}\n        />\n      )}\n      title={translatedName || tableName}\n      onFavourite={onFavourite}\n      isFavourite={isFavourite}\n      isClosed={!isActive}\n      isPlaying={isPlayingNow}\n      onClick={isActive ? onClick : undefined}\n      tag={tag ? <TileTag type={tagType} text={tag} /> : undefined}\n      promoTag={withPromo ? <PromoTagConnected tableId={id} /> : undefined}\n      footer={isActive ? <TileFooter isPlaying={showPlayingAnimation} {...props} /> : undefined}\n      containerRef={containerRef}\n      isIntersecting={isIntersecting}\n    >\n      {isActive ? recentResults : <TileCurtain openTime={openTime !== undefined ? +openTime : undefined} />}\n    </TileContainer>\n  );\n};\n\nexport const MultiTableTile: FunctionComponent<ITilePropsMultiTable> = ({\n  id,\n  onClick,\n  title,\n  gameImage,\n  action,\n  isPlayingNow,\n  showPlayingAnimation,\n  isFavourite,\n  onFavourite,\n  isIntersecting,\n}) => {\n  return (\n    <TileContainer\n      key={id}\n      id={id}\n      renderImage={(className) => (\n        <TileImage id={id} isIntersecting={isIntersecting} gameImage={gameImage} className={className} />\n      )}\n      title={title}\n      onFavourite={onFavourite}\n      isFavourite={isFavourite}\n      isPlaying={isPlayingNow}\n      onClick={onClick}\n      footer={\n        showPlayingAnimation ? (\n          <TileFooterContainer>\n            <IsPlayingLabel />\n          </TileFooterContainer>\n        ) : null\n      }\n    >\n      <TileRecentResults recentResults={action} />\n    </TileContainer>\n  );\n};\n\nexport const SlotGameTile: FunctionComponent<ITilePropsSlot> = ({\n  id,\n  onClick,\n  translatedName,\n  gameImage,\n  isDDW,\n  isIntersecting,\n  isNew,\n}) => {\n  return (\n    <TileContainer\n      key={id}\n      id={id}\n      renderImage={(className) => (\n        <TileImage id={id} isIntersecting={isIntersecting} gameImage={gameImage} className={className} />\n      )}\n      slotsPromoTag={isDDW ? <SlotsPromoTagConnected /> : null}\n      tag={isNew && !isDDW ? <TileTag type=\"new\" text={<L12nText tk=\"LOBBY_NEW\" />} /> : undefined}\n      title={translatedName}\n      isPlaying={false}\n      onClick={onClick}\n      isInters